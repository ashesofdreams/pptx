var P4 = Object.defineProperty;
var R4 = (t, e, n) => e in t ? P4(t, e, { enumerable: !0, configurable: !0, writable: !0, value: n }) : t[e] = n;
var Dc = (t, e, n) => R4(t, typeof e != "symbol" ? e + "" : e, n);
import "animate.css";
import { PlayOne as O4, FullScreenPlay as N4, Lock as B4, Unlock as F4, Ppt as z4, Format as V4, Picture as H4, FullScreen as G4, List as U4, OrderedList as W4, FlipVertically as X4, FlipHorizontally as Y4, FontSize as Z4, Code as q4, TextBold as J4, TextItalic as K4, TextUnderline as Q4, Strikethrough as j4, Edit as e3, Quote as t3, BackgroundColor as n3, Group as o3, Ungroup as a3, Back as r3, Next as i3, Fullwidth as s3, AlignTop as l3, AlignLeft as u3, AlignRight as c3, AlignBottom as d3, AlignVertically as f3, AlignHorizontally as v3, BringToFront as p3, SendToBack as h3, AlignTextLeft as m3, AlignTextRight as g3, AlignTextCenter as y3, AlignTextBoth as _3, RowHeight as b3, Write as w3, InsertTable as x3, AddText as S3, Fill as I3, Tailoring as C3, Effects as T3, ColorFilter as L3, Up as k3, Down as E3, Plus as M3, Minus as A3, Connection as D3, BringToFrontOne as $3, SentToBack as P3, Github as R3, ChartProportion as O3, ChartHistogram as N3, ChartHistogramOne as B3, ChartLineArea as F3, ChartRing as z3, ChartScatter as V3, ChartLine as H3, ChartPie as G3, RadarChart as U3, Text as W3, Rotate as X3, LeftTwo as Y3, RightTwo as Z3, Platte as q3, Close as J3, CloseSmall as K3, Undo as Q3, Transform as j3, Click as e8, Theme as t8, ArrowCircleLeft as n8, GraphicDesign as o8, Logout as a8, Erase as r8, Clear as i8, AlignTextTopOne as s8, AlignTextBottomOne as l8, AlignTextMiddleOne as u8, Pause as c8, VolumeMute as d8, VolumeNotice as f8, VolumeSmall as v8, VideoTwo as p8, Formula as h8, LinkOne as m8, FullScreenOne as g8, OffScreenOne as y8, Power as _8, ListView as b8, Magic as w8, HighLight as x8, Download as S8, IndentLeft as I8, IndentRight as C8, VerticalSpacingBetweenItems as T8, Copy as L8, Delete as k8, Square as E8, Round as M8, Needle as A8, TextRotationNone as D8, TextRotationDown as $8, FormatBrush as P8, PreviewOpen as R8, PreviewClose as O8, StopwatchStart as N8, Search as B8, Left as F8, Right as z8, MoveOne as V8, HamburgerButton as H8, Attention as G8, CheckOne as U8, CloseOne as W8, Info as X8, Comment as Y8, User as Z8, Switch as q8, More as J8 } from "@icon-park/vue-next";
import { defineComponent as ce, ref as V, onBeforeMount as K8, onMounted as Qe, openBlock as k, createBlock as ie, Transition as ql, withCtx as F, createElementBlock as R, createElementVNode as C, unref as A, createCommentVNode as me, toDisplayString as Ee, createVNode as T, render as af, computed as ne, onUnmounted as ht, Fragment as pe, renderList as xe, renderSlot as Tt, pushScopeId as Ze, popScopeId as qe, resolveComponent as j, Teleport as eg, withDirectives as ge, normalizeClass as ye, normalizeStyle as re, vShow as Ka, withKeys as na, watch as Re, resolveDirective as it, createTextVNode as fe, nextTick as Kt, toRef as Du, withModifiers as Fe, onBeforeUnmount as Iv, resolveDynamicComponent as Do, watchEffect as ks, provide as Es, vModelText as Q8, inject as us, isRef as th } from "vue";
import { defineStore as Ms, storeToRefs as de } from "pinia";
import { customAlphabet as j8, nanoid as tt } from "nanoid";
import { selectAll as e6, toggleMark as Dt, chainCommands as t6, newlineInCode as n6, createParagraphNear as o6, liftEmptyBlock as a6, splitBlockKeepMarks as r6, joinUp as i6, joinDown as s6, selectParentNode as l6, baseKeymap as u6, lift as c6, wrapIn as d6 } from "prosemirror-commands";
import He from "tinycolor2";
import { omit as nh, padStart as f6, debounce as Qa, throttle as ja, uniq as v6, isEqual as p6, clamp as $c, round as di, startsWith as tg, endsWith as h6, trim as oh } from "lodash";
import rf from "dexie";
import m6 from "clipboard";
import sf from "crypto-js";
import { parse as g6 } from "pptxtojson";
import { SVGPathData as ng } from "svg-pathdata";
import y6 from "svg-arc-to-cubic-bezier";
import Cv from "tippy.js";
import { Plugin as _6, EditorState as b6, TextSelection as w6, AllSelection as x6 } from "prosemirror-state";
import { Decoration as S6, DecorationSet as I6, EditorView as C6 } from "prosemirror-view";
import { Schema as T6, DOMParser as L6 } from "prosemirror-model";
import { keymap as ah } from "prosemirror-keymap";
import { undo as k6, redo as E6, history as M6 } from "prosemirror-history";
import { dropCursor as A6 } from "prosemirror-dropcursor";
import { gapCursor as D6 } from "prosemirror-gapcursor";
import { splitListItem as $6, liftListItem as og, sinkListItem as rh, listItem as P6, wrapInList as R6 } from "prosemirror-schema-list";
import { undoInputRule as O6, smartQuotes as N6, ellipsis as B6, emDash as F6, inputRules as z6, wrappingInputRule as Tv, InputRule as ag } from "prosemirror-inputrules";
import { nodes as V6, marks as H6 } from "prosemirror-schema-basic";
import G6 from "mitt";
import { CONFIG as U6, hfmath as Lv } from "hfmath";
import kv from "vuedraggable";
import W6 from "number-precision";
import { toCanvas as X6, toPng as Y6, toJpeg as Z6 } from "html-to-image";
import { saveAs as Pc } from "file-saver";
import q6 from "pptxgenjs";
const Jl = {
  IconPlayOne: O4,
  IconFullScreenPlay: N4,
  IconLock: B4,
  IconUnlock: F4,
  IconPpt: z4,
  IconFormat: V4,
  IconPicture: H4,
  IconFullScreen: G4,
  IconList: U4,
  IconOrderedList: W4,
  IconFlipVertically: X4,
  IconFlipHorizontally: Y4,
  IconFontSize: Z4,
  IconCode: q4,
  IconTextBold: J4,
  IconTextItalic: K4,
  IconTextUnderline: Q4,
  IconStrikethrough: j4,
  IconEdit: e3,
  IconQuote: t3,
  IconBackgroundColor: n3,
  IconGroup: o3,
  IconUngroup: a3,
  IconBack: r3,
  IconNext: i3,
  IconFullwidth: s3,
  IconAlignTop: l3,
  IconAlignLeft: u3,
  IconAlignRight: c3,
  IconAlignBottom: d3,
  IconAlignVertically: f3,
  IconAlignHorizontally: v3,
  IconBringToFront: p3,
  IconSendToBack: h3,
  IconAlignTextLeft: m3,
  IconAlignTextRight: g3,
  IconAlignTextCenter: y3,
  IconAlignTextBoth: _3,
  IconRowHeight: b3,
  IconWrite: w3,
  IconInsertTable: x3,
  IconAddText: S3,
  IconFill: I3,
  IconTailoring: C3,
  IconEffects: T3,
  IconColorFilter: L3,
  IconUp: k3,
  IconDown: E3,
  IconPlus: M3,
  IconMinus: A3,
  IconConnection: D3,
  IconBringToFrontOne: $3,
  IconSentToBack: P3,
  IconGithub: R3,
  IconChartProportion: O3,
  IconChartHistogram: N3,
  IconChartHistogramOne: B3,
  IconChartLineArea: F3,
  IconChartRing: z3,
  IconChartScatter: V3,
  IconChartLine: H3,
  IconChartPie: G3,
  IconRadarChart: U3,
  IconText: W3,
  IconRotate: X3,
  IconLeftTwo: Y3,
  IconRightTwo: Z3,
  IconPlatte: q3,
  IconClose: J3,
  IconCloseSmall: K3,
  IconUndo: Q3,
  IconTransform: j3,
  IconClick: e8,
  IconTheme: t8,
  IconArrowCircleLeft: n8,
  IconGraphicDesign: o8,
  IconLogout: a8,
  IconErase: r8,
  IconClear: i8,
  IconAlignTextTopOne: s8,
  IconAlignTextBottomOne: l8,
  IconAlignTextMiddleOne: u8,
  IconPause: c8,
  IconVolumeMute: d8,
  IconVolumeNotice: f8,
  IconVolumeSmall: v8,
  IconVideoTwo: p8,
  IconFormula: h8,
  IconLinkOne: m8,
  IconFullScreenOne: g8,
  IconOffScreenOne: y8,
  IconPower: _8,
  IconListView: b8,
  IconMagic: w8,
  IconHighLight: x8,
  IconDownload: S8,
  IconIndentLeft: I8,
  IconIndentRight: C8,
  IconVerticalSpacingBetweenItems: T8,
  IconCopy: L8,
  IconDelete: k8,
  IconSquare: E8,
  IconRound: M8,
  IconNeedle: A8,
  IconTextRotationNone: D8,
  IconTextRotationDown: $8,
  IconFormatBrush: P8,
  IconPreviewOpen: R8,
  IconPreviewClose: O8,
  IconStopwatchStart: N8,
  IconSearch: B8,
  IconLeft: F8,
  IconRight: z8,
  IconMoveOne: V8,
  IconHamburgerButton: H8,
  IconAttention: G8,
  IconCheckOne: U8,
  IconCloseOne: W8,
  IconInfo: X8,
  IconComment: Y8,
  IconUser: Z8,
  IconSwitch: q8,
  IconMore: J8
}, J6 = {
  install(t) {
    for (const e of Object.keys(Jl))
      t.component(e, Jl[e]);
  }
};
var Mt = /* @__PURE__ */ ((t) => (t.SYMBOL = "symbol", t.EL_ANIMATION = "elAnimation", t.EL_STYLE = "elStyle", t.EL_POSITION = "elPosition", t.SLIDE_DESIGN = "slideDesign", t.SLIDE_ANIMATION = "slideAnimation", t.MULTI_POSITION = "multiPosition", t))(Mt || {});
const Kl = (t, e) => t.type === e.nodes.bullet_list || t.type === e.nodes.ordered_list, Ot = (t) => {
  const { empty: e } = t.state.selection;
  e && e6(t.state, t.dispatch);
}, co = (t, e, n) => {
  if (n)
    t.dispatch(t.state.tr.addMark(n.from, n.to, e));
  else {
    const { $from: o, $to: a } = t.state.selection;
    t.dispatch(t.state.tr.addMark(o.pos, a.pos, e));
  }
}, K6 = (t, e, n, o) => {
  let a = e;
  const r = (f) => f.type === o;
  let i = null, s = null, l = null;
  for (; a <= n; ) {
    const f = t.nodeAt(a);
    if (!f || !f.marks) return null;
    const v = f.marks.find(r);
    if (!v || i && v !== i) return null;
    s = s || f, i = i || v, l = f, a++;
  }
  let u = e, c = n, d = 0;
  for (a = e - 1; a > d; ) {
    const f = t.nodeAt(a), v = f && f.marks.find(r);
    if (!v || v !== i) break;
    u = a, s = f, a--;
  }
  for (a = n + 1, d = t.nodeSize - 2; a < d; ) {
    const f = t.nodeAt(a), v = f && f.marks.find(r);
    if (!v || v !== i) break;
    c = a, l = f, a++;
  }
  return {
    mark: i,
    from: {
      node: s,
      pos: u
    },
    to: {
      node: l,
      pos: c
    }
  };
}, Q6 = (t, e) => Array.isArray(t) && t.indexOf(e.type) > -1 || e.type === t, j6 = (t, e) => {
  for (let n = t.depth; n > 0; n--) {
    const o = t.node(n);
    if (e(o))
      return {
        pos: n > 0 ? t.before(n) : 0,
        start: t.start(n),
        depth: n,
        node: o
      };
  }
}, rg = (t) => (e) => j6(e.$from, t), eb = (t) => (e) => rg((n) => Q6(t, n))(e), Ol = (t, e) => {
  const n = e.schema.nodes[t];
  return !!eb(n)(e.selection);
}, ig = (t) => t ? t.type.name === "text" ? t : t.lastChild ? ig(t.lastChild) : null : null, sg = (t) => {
  const { selection: e, doc: n } = t.state, { from: o } = e;
  let a = n.nodeAt(o) || n.nodeAt(o - 1);
  return a = ig(a), (a == null ? void 0 : a.marks) || [];
}, Ir = (t, e, n) => {
  for (const o of t)
    if (o.type.name === e && o.attrs[n]) return o.attrs[n];
  return null;
}, _a = (t, e) => {
  for (const n of t)
    if (n.type.name === e) return !0;
  return !1;
}, tb = (t, e) => {
  const { from: n, $from: o, to: a, empty: r } = t.selection;
  return r ? e.isInSet(t.storedMarks || o.marks()) : t.doc.rangeHasMark(n, a, e);
}, nb = (t, e) => {
  const { selection: n, doc: o } = t.state, { from: a, to: r } = n;
  let i = !0, s = "";
  return o.nodesBetween(a, r, (l) => (i && l.attrs[e] && (i = !1, s = l.attrs[e]), i)), s;
}, lg = {
  color: "#000",
  backcolor: "",
  fontsize: "20px",
  fontname: "微软雅黑",
  align: "left"
}, lf = (t, e = {}) => {
  const n = { ...lg, ...e }, o = sg(t), a = _a(o, "strong"), r = _a(o, "em"), i = _a(o, "underline"), s = _a(o, "strikethrough"), l = _a(o, "superscript"), u = _a(o, "subscript"), c = _a(o, "code"), d = Ir(o, "forecolor", "color") || n.color, f = Ir(o, "backcolor", "backcolor") || n.backcolor, v = Ir(o, "fontsize", "fontsize") || n.fontsize, p = Ir(o, "fontname", "fontname") || n.fontname, h = Ir(o, "link", "href") || "", m = nb(t, "align") || n.align, g = Ol("bullet_list", t.state), y = Ol("ordered_list", t.state), _ = Ol("blockquote", t.state);
  return {
    bold: a,
    em: r,
    underline: i,
    strikethrough: s,
    superscript: l,
    subscript: u,
    code: c,
    color: d,
    backcolor: f,
    fontsize: v,
    fontname: p,
    link: h,
    align: m,
    bulletList: g,
    orderedList: y,
    blockquote: _
  };
}, ih = (t) => {
  const e = sg(t), n = Ir(e, "fontsize", "fontsize") || lg.fontsize;
  return parseInt(n);
}, ob = {
  bold: !1,
  em: !1,
  underline: !1,
  strikethrough: !1,
  superscript: !1,
  subscript: !1,
  code: !1,
  color: "#000",
  backcolor: "",
  fontsize: "20px",
  fontname: "微软雅黑",
  link: "",
  align: "left",
  bulletList: !1,
  orderedList: !1,
  blockquote: !1
}, uf = [
  { label: "Arial", value: "Arial" },
  { label: "微软雅黑", value: "Microsoft Yahei" },
  { label: "宋体", value: "SimSun" },
  { label: "黑体", value: "SimHei" },
  { label: "楷体", value: "KaiTi" },
  { label: "新宋体", value: "NSimSun" },
  { label: "仿宋", value: "FangSong" },
  { label: "苹方", value: "PingFang SC" },
  { label: "华文黑体", value: "STHeiti" },
  { label: "华文楷体", value: "STKaiti" },
  { label: "华文宋体", value: "STSong" },
  { label: "华文仿宋", value: "STFangSong" },
  { label: "华文中宋", value: "STZhongSong" },
  { label: "华文琥珀", value: "STHupo" },
  { label: "华文新魏", value: "STXinwei" },
  { label: "华文隶书", value: "STLiti" },
  { label: "华文行楷", value: "STXingkai" },
  { label: "冬青黑体", value: "Hiragino Sans GB" },
  { label: "兰亭黑", value: "Lantinghei SC" },
  { label: "偏偏体", value: "Hanzipen SC" },
  { label: "手札体", value: "Hannotate SC" },
  { label: "宋体", value: "Songti SC" },
  { label: "娃娃体", value: "Wawati SC" },
  { label: "行楷", value: "Xingkai SC" },
  { label: "圆体", value: "Yuanti SC" },
  { label: "华文细黑", value: "STXihei" },
  { label: "幼圆", value: "YouYuan" },
  { label: "隶书", value: "LiSu" }
], As = [
  { label: "得意黑", value: "得意黑" },
  { label: "仓耳小丸子", value: "仓耳小丸子" },
  { label: "优设标题黑", value: "优设标题黑" },
  { label: "峰广明锐体", value: "峰广明锐体" },
  { label: "摄图摩登小方体", value: "摄图摩登小方体" },
  { label: "站酷快乐体", value: "站酷快乐体" },
  { label: "字制区喜脉体", value: "字制区喜脉体" },
  { label: "素材集市康康体", value: "素材集市康康体" },
  { label: "素材集市酷方体", value: "素材集市酷方体" },
  { label: "途牛类圆体", value: "途牛类圆体" },
  { label: "锐字真言体", value: "锐字真言体" }
], ab = (t) => {
  if (typeof t != "string") return !1;
  const e = "Arial";
  if (t.toLowerCase() === e.toLowerCase()) return !0;
  const n = 100, o = 100, a = 100, r = "a", i = document.createElement("canvas"), s = i.getContext("2d", { willReadFrequently: !0 });
  if (!s) return !1;
  i.width = o, i.height = a, s.textAlign = "center", s.fillStyle = "black", s.textBaseline = "middle";
  const l = (u) => {
    s.clearRect(0, 0, o, a), s.font = `${n}px ${u}, ${e}`, s.fillText(r, o / 2, a / 2);
    const c = s.getImageData(0, 0, o, a).data;
    return [].slice.call(c).filter((d) => d !== 0);
  };
  return l(e).join("") !== l(t).join("");
}, rb = [
  {
    id: "test-slide-1",
    elements: [
      {
        type: "shape",
        id: "4cbRxp",
        left: 0,
        top: 200,
        width: 546,
        height: 362.5,
        viewBox: [200, 200],
        path: "M 0 0 L 0 200 L 200 200 Z",
        fill: "#5b9bd5",
        fixedRatio: !1,
        opacity: 0.7,
        rotate: 0
      },
      {
        type: "shape",
        id: "ookHrf",
        left: 0,
        top: 0,
        width: 300,
        height: 320,
        viewBox: [200, 200],
        path: "M 0 0 L 0 200 L 200 200 Z",
        fill: "#5b9bd5",
        fixedRatio: !1,
        flipV: !0,
        rotate: 0
      },
      {
        type: "text",
        id: "idn7Mx",
        left: 355,
        top: 65.25,
        width: 450,
        height: 188,
        lineHeight: 1.2,
        content: '<p><strong><span style="font-size: 112px;">PPTist</span></strong></p>',
        rotate: 0,
        defaultFontName: "Microsoft Yahei",
        defaultColor: "#333"
      },
      {
        type: "text",
        id: "7stmVP",
        left: 355,
        top: 253.25,
        width: 585,
        height: 56,
        content: '<p><span style="font-size: 24px;">基于 Vue 3.x + TypeScript 的在线演示文稿应用</span></p>',
        rotate: 0,
        defaultFontName: "Microsoft Yahei",
        defaultColor: "#333"
      },
      {
        type: "line",
        id: "FnpZs4",
        left: 361,
        top: 238,
        start: [0, 0],
        end: [549, 0],
        points: ["", ""],
        color: "#5b9bd5",
        style: "solid",
        width: 2
      }
    ],
    background: {
      type: "solid",
      color: "#ffffff"
    }
  },
  {
    id: "test-slide-2",
    elements: [
      {
        type: "text",
        id: "ptNnUJ",
        left: 145,
        top: 148,
        width: 711,
        height: 77,
        lineHeight: 1.2,
        content: '<p style="text-align: center;"><strong><span style="font-size: 48px;">在此处添加标题</span></strong></p>',
        rotate: 0,
        defaultFontName: "Microsoft Yahei",
        defaultColor: "#333"
      },
      {
        type: "text",
        id: "mRHvQN",
        left: 207.50000000000003,
        top: 249.84259259259264,
        width: 585,
        height: 56,
        content: '<p style="text-align: center;"><span style="font-size: 24px;">在此处添加副标题</span></p>',
        rotate: 0,
        defaultFontName: "Microsoft Yahei",
        defaultColor: "#333"
      },
      {
        type: "line",
        id: "7CQDwc",
        left: 323.09259259259267,
        top: 238.33333333333334,
        start: [0, 0],
        end: [354.8148148148148, 0],
        points: ["", ""],
        color: "#5b9bd5",
        style: "solid",
        width: 4
      },
      {
        type: "shape",
        id: "09wqWw",
        left: -27.648148148148138,
        top: 432.73148148148147,
        width: 1056.2962962962963,
        height: 162.96296296296296,
        viewBox: [200, 200],
        path: "M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",
        fill: "#5b9bd5",
        fixedRatio: !1,
        rotate: 0
      }
    ],
    background: {
      type: "solid",
      color: "#fff"
    }
  },
  {
    id: "test-slide-3",
    elements: [
      {
        type: "shape",
        id: "vSheCJ",
        left: 183.5185185185185,
        top: 175.5092592592593,
        width: 605.1851851851851,
        height: 185.18518518518516,
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 200 L 0 200 Z",
        fill: "#5b9bd5",
        fixedRatio: !1,
        rotate: 0
      },
      {
        type: "shape",
        id: "Mpwv7x",
        left: 211.29629629629628,
        top: 201.80555555555557,
        width: 605.1851851851851,
        height: 185.18518518518516,
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 200 L 0 200 Z",
        fill: "#5b9bd5",
        fixedRatio: !1,
        rotate: 0,
        opacity: 0.7
      },
      {
        type: "text",
        id: "WQOTAp",
        left: 304.9074074074074,
        top: 198.10185185185182,
        width: 417.9629629629629,
        height: 140,
        content: '<p style="text-align: center;"><strong><span style="font-size: 80px;"><span style="color: rgb(255, 255, 255);">感谢观看</span></span></strong></p>',
        rotate: 0,
        defaultFontName: "Microsoft Yahei",
        defaultColor: "#333",
        wordSpace: 5
      }
    ],
    background: {
      type: "solid",
      color: "#fff"
    }
  }
], ib = {
  themeColor: "#5b9bd5",
  fontColor: "#333",
  fontName: "Microsoft Yahei",
  backgroundColor: "#fff",
  shadow: {
    h: 3,
    v: 3,
    blur: 2,
    color: "#808080"
  },
  outline: {
    width: 2,
    color: "#525252",
    style: "solid"
  }
}, sb = [
  {
    id: "template",
    elements: [
      {
        type: "shape",
        id: "4cbRxp",
        left: 0,
        top: 200,
        width: 546,
        height: 362.5,
        viewBox: [200, 200],
        path: "M 0 0 L 0 200 L 200 200 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        opacity: 0.7,
        rotate: 0
      },
      {
        type: "shape",
        id: "ookHrf",
        left: 0,
        top: 0,
        width: 300,
        height: 320,
        viewBox: [200, 200],
        path: "M 0 0 L 0 200 L 200 200 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        flipV: !0,
        rotate: 0
      },
      {
        type: "text",
        id: "AkIh3E",
        left: 355,
        top: 95.11111111111111,
        width: 585,
        height: 116,
        lineHeight: 1.2,
        content: "<p style=''><strong><span style='font-size: 80px'>输入标题</span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        wordSpace: 6
      },
      {
        type: "text",
        id: "7stmVP",
        left: 355,
        top: 253.25,
        width: 585,
        height: 56,
        content: "<p><span style='font-size:  24px'>请在此处输入副标题</span></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}"
      },
      {
        type: "line",
        id: "FnpZs4",
        left: 361,
        top: 238,
        start: [0, 0],
        end: [549, 0],
        points: ["", ""],
        color: "{{themeColor}}",
        style: "solid",
        width: 2
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  },
  {
    id: "template",
    elements: [
      {
        type: "text",
        id: "ptNnUJ",
        left: 145,
        top: 148,
        width: 711,
        height: 77,
        lineHeight: 1.2,
        content: "<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}"
      },
      {
        type: "text",
        id: "mRHvQN",
        left: 207.50000000000003,
        top: 249.84259259259264,
        width: 585,
        height: 56,
        content: "<p style='text-align: center;'><span style='font-size: 24px'>在此处添加副标题</span></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}"
      },
      {
        type: "line",
        id: "7CQDwc",
        left: 323.09259259259267,
        top: 238.33333333333334,
        start: [0, 0],
        end: [354.8148148148148, 0],
        points: ["", ""],
        color: "{{themeColor}}",
        style: "solid",
        width: 4
      },
      {
        type: "shape",
        id: "09wqWw",
        left: -27.648148148148138,
        top: 432.73148148148147,
        width: 1056.2962962962963,
        height: 162.96296296296296,
        viewBox: [200, 200],
        path: "M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  },
  {
    id: "template",
    elements: [
      {
        type: "shape",
        id: "vSheCJ",
        left: 183.5185185185185,
        top: 175.5092592592593,
        width: 605.1851851851851,
        height: 185.18518518518516,
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 200 L 0 200 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0
      },
      {
        type: "shape",
        id: "Mpwv7x",
        left: 211.29629629629628,
        top: 201.80555555555557,
        width: 605.1851851851851,
        height: 185.18518518518516,
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 200 L 0 200 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0,
        opacity: 0.7
      },
      {
        type: "text",
        id: "WQOTAp",
        left: 304.9074074074074,
        top: 198.10185185185182,
        width: 417.9629629629629,
        height: 140,
        content: "<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 80px'>感谢观看</span></span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        wordSpace: 5
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  },
  {
    id: "MZVO1kkj",
    elements: [
      {
        type: "shape",
        id: "cql0h8",
        left: 0,
        top: 0,
        width: 352.59259259259255,
        height: 562.5,
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 200 L 0 200 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0
      },
      {
        type: "shape",
        id: "_RTaF4",
        left: 171.4814814814814,
        top: 100.13888888888887,
        width: 362.22222222222223,
        height: 362.22222222222223,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "rgba(255,255,255,0)",
        fixedRatio: !1,
        rotate: 0,
        outline: {
          width: 10,
          color: "{{backgroundColor}}",
          style: "solid"
        }
      },
      {
        type: "shape",
        id: "UZfo8N",
        left: 216.66666666666663,
        top: 145.32407407407408,
        width: 271.85185185185185,
        height: 271.85185185185185,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{backgroundColor}}",
        fixedRatio: !1,
        rotate: 0,
        text: {
          content: "<p style='text-align: center;'><span style='font-size: 80px'>01</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "text",
        id: "ysqtBg",
        left: 561.4814814814814,
        top: 100.1388888888889,
        width: 359.25925925925924,
        height: 80,
        content: "<p style=''><strong><span style='font-size: 40px'>在此处输入标题</span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}"
      },
      {
        type: "text",
        id: "lXsoHa",
        left: 572.5925925925925,
        top: 202.3611111111111,
        width: 257.77777777777777,
        height: 260,
        content: "<ol><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li></ol>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        lineHeight: 2,
        fill: "{{subColor}}"
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  },
  {
    id: "template",
    elements: [
      {
        type: "shape",
        id: "EBBnTr",
        left: 360.5996472663139,
        top: 141.8496472663139,
        width: 278.80070546737215,
        height: 278.80070546737215,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !0,
        rotate: 0,
        outline: {
          width: 0,
          color: "{{backgroundColor}}",
          style: "solid"
        }
      },
      {
        type: "shape",
        id: "gDIWDH",
        left: 456.4373897707231,
        top: 98.287037037037,
        width: 87.12522045855381,
        height: 87.12522045855381,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !0,
        rotate: 0,
        outline: {
          width: 4,
          color: "{{backgroundColor}}",
          style: "solid"
        },
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "shape",
        id: "DUWT7E",
        left: 317.037037037037,
        top: 237.68738977072314,
        width: 87.12522045855381,
        height: 87.12522045855381,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !0,
        rotate: 0,
        outline: {
          width: 4,
          color: "{{backgroundColor}}",
          style: "solid"
        },
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "shape",
        id: "pbhn38",
        left: 456.43738977072303,
        top: 377.08774250440916,
        width: 87.12522045855381,
        height: 87.12522045855381,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !0,
        rotate: 0,
        outline: {
          width: 4,
          color: "{{backgroundColor}}",
          style: "solid"
        },
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "shape",
        id: "CvMKrO",
        left: 595.8377425044091,
        top: 237.6873897707231,
        width: 87.12522045855381,
        height: 87.12522045855381,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !0,
        rotate: 0,
        outline: {
          width: 4,
          color: "{{backgroundColor}}",
          style: "solid"
        },
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "text",
        id: "adudHB",
        left: 402.962962962963,
        top: 39.39814814814815,
        width: 194.07407407407408,
        height: 50,
        content: "<p style='text-align: center;'>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}"
      },
      {
        type: "text",
        id: "9UpDwg",
        left: 402.962962962963,
        top: 473.1018518518518,
        width: 194.07407407407408,
        height: 50,
        content: "<p style='text-align: center;'>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}"
      },
      {
        type: "text",
        id: "GERdpB",
        left: 111.48148148148151,
        top: 256.25,
        width: 194.07407407407408,
        height: 50,
        content: "<p style='text-align: center;'>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}"
      },
      {
        type: "text",
        id: "G5qoho",
        left: 691.1111111111111,
        top: 256.25,
        width: 194.07407407407408,
        height: 50,
        content: "<p style='text-align: center;'>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}"
      },
      {
        type: "shape",
        id: "vdZcI6",
        left: 415.18518518518516,
        top: 196.4351851851852,
        width: 169.62962962962962,
        height: 169.62962962962962,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{backgroundColor}}",
        fixedRatio: !1,
        rotate: 0
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  },
  {
    id: "template",
    elements: [
      {
        type: "shape",
        id: "tYUmrx",
        left: 156.66666666666683,
        top: 149.02777777777771,
        width: 264.4444444444445,
        height: 264.4444444444445,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0,
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'><span style='font-size: 60px'>01</span></span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "shape",
        id: "0GVHf8",
        left: 342.2222222222223,
        top: 217.17592592592587,
        width: 128.14814814814812,
        height: 128.14814814814812,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{backgroundColor}}",
        fixedRatio: !1,
        rotate: 0
      },
      {
        type: "text",
        id: "BO33Sv",
        left: 378.8888888888889,
        top: 235.24999999999994,
        width: 464.4444444444444,
        height: 92,
        content: "<p style=''><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}"
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  },
  {
    id: "template",
    elements: [
      {
        type: "text",
        id: "Hj7ttp",
        left: 69.35185185185185,
        top: 49.21759259259262,
        width: 420,
        height: 63,
        lineHeight: 1.2,
        content: "<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>1.请输入标题</span></span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{themeColor}}"
      },
      {
        type: "text",
        id: "FmKMNB",
        left: 69.35185185185185,
        top: 129.28240740740745,
        width: 420,
        height: 384,
        content: "<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "text",
        id: "rI7ZeO",
        left: 510.64814814814815,
        top: 49.21759259259262,
        width: 420,
        height: 63,
        lineHeight: 1.2,
        content: "<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>2.请输入标题</span></span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{themeColor}}"
      },
      {
        type: "text",
        id: "KspwGc",
        left: 510.64814814814815,
        top: 129.28240740740745,
        width: 420,
        height: 384,
        content: "<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  },
  {
    id: "template",
    elements: [
      {
        type: "text",
        id: "Rx63Jo",
        left: 69.35185185185179,
        top: 51.71759259259262,
        width: 420,
        height: 58,
        lineHeight: 1.2,
        content: "<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>1.请输入标题</span></span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{themeColor}}"
      },
      {
        type: "text",
        id: "ulyuzE",
        left: 69.35185185185179,
        top: 131.78240740740745,
        width: 420,
        height: 129,
        content: "<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "text",
        id: "kr35Ca",
        left: 510.6481481481481,
        top: 51.71759259259262,
        width: 420,
        height: 58,
        lineHeight: 1.2,
        content: "<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>2.请输入标题</span></span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{themeColor}}"
      },
      {
        type: "text",
        id: "BNQSpC",
        left: 510.6481481481481,
        top: 131.78240740740745,
        width: 420,
        height: 129,
        content: "<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "text",
        id: "Vr38Nu",
        left: 69.35185185185185,
        top: 301.71759259259255,
        width: 420,
        height: 58,
        lineHeight: 1.2,
        content: "<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>3.请输入标题</span></span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{themeColor}}"
      },
      {
        type: "text",
        id: "IwKRSu",
        left: 69.35185185185185,
        top: 381.7824074074074,
        width: 420,
        height: 129,
        content: "<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "text",
        id: "0Opr1v",
        left: 510.64814814814815,
        top: 301.71759259259255,
        width: 420,
        height: 58,
        lineHeight: 1.2,
        content: "<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>4.请输入标题</span></span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{themeColor}}"
      },
      {
        type: "text",
        id: "4L9Uzz",
        left: 510.64814814814815,
        top: 381.7824074074074,
        width: 420,
        height: 129,
        content: "<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  },
  {
    id: "template",
    elements: [
      {
        type: "text",
        id: "GdEGxg",
        left: 134.53703703703704,
        top: 127.25,
        width: 152.77777777777777,
        height: 308,
        lineHeight: 1.8,
        content: "<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 40px'>请在此处输入标题</span></span></strong></p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        wordSpace: 8,
        fill: "{{themeColor}}"
      },
      {
        type: "text",
        id: "y5sAfw",
        left: 332.8703703703704,
        top: 127.25,
        width: 532.5925925925926,
        height: 50,
        content: "<blockquote><p style=''>请在此处输入内容1</p></blockquote>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "text",
        id: "VeuocM",
        left: 332.8703703703704,
        top: 212.0648148148148,
        width: 532.5925925925926,
        height: 50,
        content: "<blockquote><p style=''>请在此处输入内容2</p></blockquote>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "text",
        id: "RyFWQe",
        left: 332.8703703703704,
        top: 296.8796296296296,
        width: 532.5925925925926,
        height: 50,
        content: "<blockquote><p style=''>请在此处输入内容3</p></blockquote>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "text",
        id: "Q56viI",
        left: 332.8703703703704,
        top: 381.69444444444446,
        width: 532.5925925925926,
        height: 50,
        content: "<blockquote><p style=''>请在此处输入内容4</p></blockquote>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  },
  {
    id: "template",
    elements: [
      {
        type: "shape",
        id: "SUWirT",
        left: 73.8888888888889,
        top: 64.21296296296302,
        width: 49.629629629629626,
        height: 49.629629629629626,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0,
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "text",
        id: "YjzN1M",
        left: 148.70370370370372,
        top: 64.21296296296302,
        width: 323.7037037037037,
        height: 120,
        content: "<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "shape",
        id: "fS09I7",
        left: 527.5925925925926,
        top: 64.21296296296302,
        width: 49.629629629629626,
        height: 49.629629629629626,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0,
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "text",
        id: "qCnfB1",
        left: 602.4074074074074,
        top: 64.21296296296302,
        width: 323.7037037037037,
        height: 120,
        content: "<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "shape",
        id: "difAAT",
        left: 73.8888888888889,
        top: 221.25000000000003,
        width: 49.629629629629626,
        height: 49.629629629629626,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0,
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "text",
        id: "EUlvMo",
        left: 148.70370370370372,
        top: 221.25000000000003,
        width: 323.7037037037037,
        height: 120,
        content: "<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "shape",
        id: "US_9jB",
        left: 527.5925925925926,
        top: 221.25000000000003,
        width: 49.629629629629626,
        height: 49.629629629629626,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0,
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "text",
        id: "243MnQ",
        left: 602.4074074074074,
        top: 221.25000000000003,
        width: 323.7037037037037,
        height: 120,
        content: "<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "shape",
        id: "Y_KUj0",
        left: 73.8888888888889,
        top: 378.287037037037,
        width: 49.629629629629626,
        height: 49.629629629629626,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0,
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>5</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "text",
        id: "9GglMe",
        left: 148.70370370370372,
        top: 378.287037037037,
        width: 323.7037037037037,
        height: 120,
        content: "<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      },
      {
        type: "shape",
        id: "eSInje",
        left: 527.5925925925926,
        top: 378.287037037037,
        width: 49.629629629629626,
        height: 49.629629629629626,
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        fill: "{{themeColor}}",
        fixedRatio: !1,
        rotate: 0,
        text: {
          content: "<p style='text-align: center;'><span style='color: #ffffff;'>6</span></p>",
          defaultFontName: "{{fontName}}",
          defaultColor: "{{fontColor}}",
          align: "middle"
        }
      },
      {
        type: "text",
        id: "0S3yUg",
        left: 602.4074074074074,
        top: 378.287037037037,
        width: 323.7037037037037,
        height: 120,
        content: "<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",
        rotate: 0,
        defaultFontName: "{{fontName}}",
        defaultColor: "{{fontColor}}",
        fill: "{{subColor}}"
      }
    ],
    background: {
      type: "solid",
      color: "{{backgroundColor}}"
    }
  }
], Ie = Ms("slides", {
  state: () => ({
    title: "未命名演示文稿",
    // 幻灯片标题
    theme: ib,
    // 主题样式
    slides: rb,
    // 幻灯片页面数据
    slideIndex: 0,
    // 当前页面索引
    viewportSize: 1e3,
    // 可视区域宽度基数
    viewportRatio: 0.5625
    // 可视区域比例，默认16:9
  }),
  getters: {
    currentSlide(t) {
      return t.slides[t.slideIndex];
    },
    currentSlideAnimations(t) {
      const e = t.slides[t.slideIndex];
      if (!(e != null && e.animations)) return [];
      const o = e.elements.map((a) => a.id);
      return e.animations.filter((a) => o.includes(a.elId));
    },
    // 格式化的当前页动画
    // 将触发条件为“与上一动画同时”的项目向上合并到序列中的同一位置
    // 为触发条件为“上一动画之后”项目的上一项添加自动向下执行标记
    formatedAnimations(t) {
      const e = t.slides[t.slideIndex];
      if (!(e != null && e.animations)) return [];
      const o = e.elements.map((i) => i.id), a = e.animations.filter((i) => o.includes(i.elId)), r = [];
      for (const i of a)
        if (i.trigger === "click" || !r.length)
          r.push({ animations: [i], autoNext: !1 });
        else if (i.trigger === "meantime") {
          const s = r[r.length - 1];
          s.animations = s.animations.filter((l) => l.elId !== i.elId), s.animations.push(i), r[r.length - 1] = s;
        } else if (i.trigger === "auto") {
          const s = r[r.length - 1];
          s.autoNext = !0, r[r.length - 1] = s, r.push({ animations: [i], autoNext: !1 });
        }
      return r;
    },
    layouts(t) {
      const {
        themeColor: e,
        fontColor: n,
        fontName: o,
        backgroundColor: a
      } = t.theme, r = He(n).isDark() ? "rgba(230, 230, 230, 0.5)" : "rgba(180, 180, 180, 0.5)", i = JSON.stringify(sb).replace(/{{themeColor}}/g, e).replace(/{{fontColor}}/g, n).replace(/{{fontName}}/g, o).replace(/{{backgroundColor}}/g, a).replace(/{{subColor}}/g, r);
      return JSON.parse(i);
    }
  },
  actions: {
    setTitle(t) {
      t ? this.title = t : this.title = "未命名演示文稿";
    },
    setTheme(t) {
      this.theme = { ...this.theme, ...t };
    },
    setViewportSize(t) {
      this.viewportSize = t;
    },
    setViewportRatio(t) {
      this.viewportRatio = t;
    },
    setSlides(t) {
      this.slides = t;
    },
    addSlide(t) {
      const e = Array.isArray(t) ? t : [t];
      for (const o of e)
        o.sectionTag && delete o.sectionTag;
      const n = this.slideIndex + 1;
      this.slides.splice(n, 0, ...e), this.slideIndex = n;
    },
    updateSlide(t, e) {
      const n = e ? this.slides.findIndex((o) => o.id === e) : this.slideIndex;
      this.slides[n] = { ...this.slides[n], ...t };
    },
    removeSlideProps(t) {
      const { id: e, propName: n } = t, o = this.slides.map((a) => a.id === e ? nh(a, n) : a);
      this.slides = o;
    },
    deleteSlide(t) {
      const e = Array.isArray(t) ? t : [t], n = JSON.parse(JSON.stringify(this.slides)), o = [];
      for (const i of e) {
        const s = n.findIndex((u) => u.id === i);
        o.push(s);
        const l = n[s].sectionTag;
        if (l) {
          const u = n[s + 1];
          u && !u.sectionTag && (delete n[s].sectionTag, n[s + 1].sectionTag = l);
        }
        n.splice(s, 1);
      }
      let a = Math.min(...o);
      const r = n.length - 1;
      a > r && (a = r), this.slideIndex = a, this.slides = n;
    },
    updateSlideIndex(t) {
      this.slideIndex = t;
    },
    addElement(t) {
      const e = Array.isArray(t) ? t : [t], o = [...this.slides[this.slideIndex].elements, ...e];
      this.slides[this.slideIndex].elements = o;
    },
    deleteElement(t) {
      const e = Array.isArray(t) ? t : [t], o = this.slides[this.slideIndex].elements.filter((a) => !e.includes(a.id));
      this.slides[this.slideIndex].elements = o;
    },
    updateElement(t) {
      const { id: e, props: n, slideId: o } = t, a = typeof e == "string" ? [e] : e, r = o ? this.slides.findIndex((l) => l.id === o) : this.slideIndex, s = this.slides[r].elements.map((l) => a.includes(l.id) ? { ...l, ...n } : l);
      this.slides[r].elements = s;
    },
    removeElementProps(t) {
      const { id: e, propName: n } = t, o = typeof n == "string" ? [n] : n, a = this.slideIndex, i = this.slides[a].elements.map((s) => s.id === e ? nh(s, o) : s);
      this.slides[a].elements = i;
    }
  }
}), lb = j8("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"), ug = lb(10), Te = Ms("main", {
  state: () => ({
    activeElementIdList: [],
    // 被选中的元素ID集合，包含 handleElementId
    handleElementId: "",
    // 正在操作的元素ID
    activeGroupElementId: "",
    // 组合元素成员中，被选中可独立操作的元素ID
    hiddenElementIdList: [],
    // 被隐藏的元素ID集合
    canvasPercentage: 90,
    // 画布可视区域百分比
    canvasScale: 1,
    // 画布缩放比例（基于宽度{{slidesStore.viewportSize}}像素）
    canvasDragged: !1,
    // 画布被拖拽移动
    thumbnailsFocus: !1,
    // 左侧导航缩略图区域聚焦
    editorAreaFocus: !1,
    //  编辑区域聚焦
    disableHotkeys: !1,
    // 禁用快捷键
    gridLineSize: 0,
    // 网格线尺寸（0表示不显示网格线）
    showRuler: !1,
    // 显示标尺
    creatingElement: null,
    // 正在插入的元素信息，需要通过绘制插入的元素（文字、形状、线条）
    creatingCustomShape: !1,
    // 正在绘制任意多边形
    availableFonts: uf,
    // 当前环境可用字体
    toolbarState: Mt.SLIDE_DESIGN,
    // 右侧工具栏状态
    clipingImageElementId: "",
    // 当前正在裁剪的图片ID  
    richTextAttrs: ob,
    // 富文本状态
    selectedTableCells: [],
    // 选中的表格单元格
    isScaling: !1,
    // 正在进行元素缩放
    selectedSlidesIndex: [],
    // 当前被选中的页面索引集合
    dialogForExport: "",
    // 导出面板
    databaseId: ug,
    // 标识当前应用的indexedDB数据库ID
    textFormatPainter: null,
    // 文字格式刷
    shapeFormatPainter: null,
    // 形状格式刷
    showSelectPanel: !1,
    // 打开选择面板
    showSearchPanel: !1,
    // 打开查找替换面板
    showNotesPanel: !1
    // 打开批注面板
  }),
  getters: {
    activeElementList(t) {
      const n = Ie().currentSlide;
      return !n || !n.elements ? [] : n.elements.filter((o) => t.activeElementIdList.includes(o.id));
    },
    handleElement(t) {
      const n = Ie().currentSlide;
      return !n || !n.elements ? null : n.elements.find((o) => t.handleElementId === o.id) || null;
    }
  },
  actions: {
    setActiveElementIdList(t) {
      t.length === 1 ? this.handleElementId = t[0] : this.handleElementId = "", this.activeElementIdList = t;
    },
    setHandleElementId(t) {
      this.handleElementId = t;
    },
    setActiveGroupElementId(t) {
      this.activeGroupElementId = t;
    },
    setHiddenElementIdList(t) {
      this.hiddenElementIdList = t;
    },
    setCanvasPercentage(t) {
      this.canvasPercentage = t;
    },
    setCanvasScale(t) {
      this.canvasScale = t;
    },
    setCanvasDragged(t) {
      this.canvasDragged = t;
    },
    setThumbnailsFocus(t) {
      this.thumbnailsFocus = t;
    },
    setEditorareaFocus(t) {
      this.editorAreaFocus = t;
    },
    setDisableHotkeysState(t) {
      this.disableHotkeys = t;
    },
    setGridLineSize(t) {
      this.gridLineSize = t;
    },
    setRulerState(t) {
      this.showRuler = t;
    },
    setCreatingElement(t) {
      this.creatingElement = t;
    },
    setCreatingCustomShapeState(t) {
      this.creatingCustomShape = t;
    },
    setAvailableFonts() {
      this.availableFonts = uf.filter((t) => ab(t.value));
    },
    setToolbarState(t) {
      this.toolbarState = t;
    },
    setClipingImageElementId(t) {
      this.clipingImageElementId = t;
    },
    setRichtextAttrs(t) {
      this.richTextAttrs = t;
    },
    setSelectedTableCells(t) {
      this.selectedTableCells = t;
    },
    setScalingState(t) {
      this.isScaling = t;
    },
    updateSelectedSlidesIndex(t) {
      this.selectedSlidesIndex = t;
    },
    setDialogForExport(t) {
      this.dialogForExport = t;
    },
    setTextFormatPainter(t) {
      this.textFormatPainter = t;
    },
    setShapeFormatPainter(t) {
      this.shapeFormatPainter = t;
    },
    setSelectPanelState(t) {
      this.showSelectPanel = t;
    },
    setSearchPanelState(t) {
      this.showSearchPanel = t;
    },
    setNotesPanelState(t) {
      this.showNotesPanel = t;
    }
  }
}), Ql = "PPTIST_DISCARDED_DB", cf = "PPTist", ub = async () => {
  const t = (/* @__PURE__ */ new Date()).getTime(), e = localStorage.getItem(Ql), n = e ? JSON.parse(e) : [], a = (await rf.getDatabaseNames()).filter((r) => {
    if (r.indexOf(cf) === -1) return !1;
    const [i, s, l] = r.split("_");
    return !!(i !== cf || !s || !l || n.includes(s) || t - +l >= 1e3 * 60 * 60 * 12);
  });
  for (const r of a) rf.delete(r);
  localStorage.removeItem(Ql);
};
class cb extends rf {
  constructor() {
    super(`${cf}_${ug}_${(/* @__PURE__ */ new Date()).getTime()}`);
    Dc(this, "snapshots");
    Dc(this, "writingBoardImgs");
    this.version(1).stores({
      snapshots: "++id",
      writingBoardImgs: "++id"
    }), this.snapshots = this.table("snapshots"), this.writingBoardImgs = this.table("writingBoardImgs");
  }
}
const Jn = new cb(), $u = Ms("snapshot", {
  state: () => ({
    snapshotCursor: -1,
    // 历史快照指针
    snapshotLength: 0
    // 历史快照长度
  }),
  getters: {
    canUndo(t) {
      return t.snapshotCursor > 0;
    },
    canRedo(t) {
      return t.snapshotCursor < t.snapshotLength - 1;
    }
  },
  actions: {
    setSnapshotCursor(t) {
      this.snapshotCursor = t;
    },
    setSnapshotLength(t) {
      this.snapshotLength = t;
    },
    async initSnapshotDatabase() {
      const t = Ie(), e = {
        index: t.slideIndex,
        slides: t.slides
      };
      await Jn.snapshots.add(e), this.setSnapshotCursor(0), this.setSnapshotLength(1);
    },
    async addSnapshot() {
      const t = Ie(), e = await Jn.snapshots.orderBy("id").keys();
      let n = [];
      this.snapshotCursor >= 0 && this.snapshotCursor < e.length - 1 && (n = e.slice(this.snapshotCursor + 1));
      const o = {
        index: t.slideIndex,
        slides: t.slides
      };
      await Jn.snapshots.add(o);
      let a = e.length - n.length + 1;
      a > 20 && (n.push(e[0]), a--), a >= 2 && Jn.snapshots.update(e[a - 2], { index: t.slideIndex }), await Jn.snapshots.bulkDelete(n), this.setSnapshotCursor(a - 1), this.setSnapshotLength(a);
    },
    async unDo() {
      if (this.snapshotCursor <= 0) return;
      const t = Ie(), e = Te(), n = this.snapshotCursor - 1, a = (await Jn.snapshots.orderBy("id").toArray())[n], { index: r, slides: i } = a, s = r > i.length - 1 ? i.length - 1 : r;
      t.setSlides(i), t.updateSlideIndex(s), this.setSnapshotCursor(n), e.setActiveElementIdList([]);
    },
    async reDo() {
      if (this.snapshotCursor >= this.snapshotLength - 1) return;
      const t = Ie(), e = Te(), n = this.snapshotCursor + 1, a = (await Jn.snapshots.orderBy("id").toArray())[n], { index: r, slides: i } = a, s = r > i.length - 1 ? i.length - 1 : r;
      t.setSlides(i), t.updateSlideIndex(s), this.setSnapshotCursor(n), e.setActiveElementIdList([]);
    }
  }
}), eo = Ms("keyboard", {
  state: () => ({
    ctrlKeyState: !1,
    // ctrl键按下状态
    shiftKeyState: !1,
    // shift键按下状态
    spaceKeyState: !1
    // space键按下状态
  }),
  getters: {
    ctrlOrShiftKeyActive(t) {
      return t.ctrlKeyState || t.shiftKeyState;
    }
  },
  actions: {
    setCtrlKeyState(t) {
      this.ctrlKeyState = t;
    },
    setShiftKeyState(t) {
      this.shiftKeyState = t;
    },
    setSpaceKeyState(t) {
      this.spaceKeyState = t;
    }
  }
}), cg = Ms("screen", {
  state: () => ({
    screening: !1
    // 是否进入放映状态
  }),
  actions: {
    setScreening(t) {
      this.screening = t;
    }
  }
}), Oi = (t, e) => f6("" + t, e, "0"), db = () => !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|Mobile|BlackBerry|Symbian|Windows Phone)/i), fb = (t) => /^(https?:\/\/)([\w-]+\.)+[\w-]{2,}(\/[\w-./?%&=]*)?$/i.test(t);
var Ct = /* @__PURE__ */ ((t) => (t.UP = "up", t.DOWN = "down", t.TOP = "top", t.BOTTOM = "bottom", t))(Ct || {}), Ke = /* @__PURE__ */ ((t) => (t.TOP = "top", t.BOTTOM = "bottom", t.LEFT = "left", t.RIGHT = "right", t.VERTICAL = "vertical", t.HORIZONTAL = "horizontal", t.CENTER = "center", t))(Ke || {}), Ni = /* @__PURE__ */ ((t) => (t.T = "top", t.B = "bottom", t.L = "left", t.R = "right", t))(Ni || {}), Ae = /* @__PURE__ */ ((t) => (t.LEFT_TOP = "left-top", t.TOP = "top", t.RIGHT_TOP = "right-top", t.LEFT = "left", t.RIGHT = "right", t.LEFT_BOTTOM = "left-bottom", t.BOTTOM = "bottom", t.RIGHT_BOTTOM = "right-bottom", t))(Ae || {}), vn = /* @__PURE__ */ ((t) => (t.START = "start", t.END = "end", t.C = "ctrl", t.C1 = "ctrl1", t.C2 = "ctrl2", t))(vn || {}), Me = /* @__PURE__ */ ((t) => (t.C = "C", t.X = "X", t.Z = "Z", t.Y = "Y", t.A = "A", t.G = "G", t.L = "L", t.F = "F", t.D = "D", t.B = "B", t.P = "P", t.O = "O", t.R = "R", t.T = "T", t.MINUS = "-", t.EQUAL = "=", t.DIGIT_0 = "0", t.DELETE = "DELETE", t.UP = "ARROWUP", t.DOWN = "ARROWDOWN", t.LEFT = "ARROWLEFT", t.RIGHT = "ARROWRIGHT", t.ENTER = "ENTER", t.SPACE = " ", t.TAB = "TAB", t.BACKSPACE = "BACKSPACE", t.ESC = "ESCAPE", t.PAGEUP = "PAGEUP", t.PAGEDOWN = "PAGEDOWN", t.F5 = "F5", t))(Me || {});
const vb = [
  {
    type: "通用",
    children: [
      { label: "剪切", value: "Ctrl + X" },
      { label: "复制", value: "Ctrl + C" },
      { label: "粘贴", value: "Ctrl + V" },
      { label: "粘贴为纯文本", value: "Ctrl + Shift + V" },
      { label: "快速复制粘贴", value: "Ctrl + D" },
      { label: "全选", value: "Ctrl + A" },
      { label: "撤销", value: "Ctrl + Z" },
      { label: "恢复", value: "Ctrl + Y" },
      { label: "删除", value: "Delete / Backspace" },
      { label: "多选", value: "按住 Ctrl 或 Shift" },
      { label: "打开搜索替换", value: "Ctrl + F" },
      { label: "打印", value: "Ctrl + P" },
      { label: "关闭弹窗", value: "ESC" }
    ]
  },
  {
    type: "幻灯片放映",
    children: [
      { label: "从头开始放映幻灯片", value: "F5" },
      { label: "从当前开始放映幻灯片", value: "Shift + F5" },
      { label: "切换上一页", value: "↑ / ← / PgUp" },
      { label: "切换下一页", value: "↓ / → / PgDown" },
      { label: "切换下一页", value: "Enter / Space" },
      { label: "退出放映", value: "ESC" }
    ]
  },
  {
    type: "幻灯片编辑",
    children: [
      { label: "新建幻灯片", value: "Enter" },
      { label: "移动画布", value: "Space + 鼠标拖拽" },
      { label: "缩放画布", value: "Ctrl + 鼠标滚轮" },
      { label: "放大画布", value: "Ctrl + =" },
      { label: "缩小画布", value: "Ctrl + -" },
      { label: "使画布适应当前屏幕", value: "Ctrl + 0" },
      { label: "上一页（未选中元素）", value: "↑" },
      { label: "下一页（未选中元素）", value: "↓" },
      { label: "上一页", value: "鼠标上滚 / PgUp" },
      { label: "下一页", value: "鼠标下滚 / PgDown" },
      { label: "快速创建文本", value: "双击空白处 / T" },
      { label: "快速创建矩形", value: "R" },
      { label: "快速创建圆形", value: "O" },
      { label: "快速创建线条", value: "L" },
      { label: "退出绘制状态", value: "鼠标右键" }
    ]
  },
  {
    type: "元素操作",
    children: [
      { label: "移动", value: "↑ / ← / ↓ / →" },
      { label: "锁定", value: "Ctrl + L" },
      { label: "组合", value: "Ctrl + G" },
      { label: "取消组合", value: "Ctrl + Shift + G" },
      { label: "置顶层", value: "Alt + F" },
      { label: "置底层", value: "Alt + B" },
      { label: "锁定宽高比例", value: "按住 Ctrl 或 Shift" },
      { label: "创建水平 / 垂直线条", value: "按住 Ctrl 或 Shift" },
      { label: "切换焦点元素", value: "Tab" },
      { label: "确认图片裁剪", value: "Enter" },
      { label: "完成自定义形状绘制", value: "Enter" }
    ]
  },
  {
    type: "表格编辑",
    children: [
      { label: "聚焦到下一个单元格", value: "Tab" },
      { label: "移动焦点单元格", value: "↑ / ← / ↓ / →" },
      { label: "在上方插入一行", value: "Ctrl + ↑" },
      { label: "在下方插入一行", value: "Ctrl + ↓" },
      { label: "在左侧插入一列", value: "Ctrl + ←" },
      { label: "在右侧插入一列", value: "Ctrl + →" }
    ]
  },
  {
    type: "图表数据编辑",
    children: [
      { label: "聚焦到下一行", value: "Enter" }
    ]
  },
  {
    type: "文本编辑",
    children: [
      { label: "加粗", value: "Ctrl + B" },
      { label: "斜体", value: "Ctrl + I" },
      { label: "下划线", value: "Ctrl + U" },
      { label: "行内代码", value: "Ctrl + E" },
      { label: "上角标", value: "Ctrl + ;" },
      { label: "下角标", value: "Ctrl + '" },
      { label: "选中段落", value: "ESC" }
    ]
  }
], dg = "pptist", Ev = (t) => sf.AES.encrypt(t, dg).toString(), fg = (t) => sf.AES.decrypt(t, dg).toString(sf.enc.Utf8), vg = (t) => new Promise((e, n) => {
  const o = document.createElement("button"), a = new m6(o, {
    text: () => t,
    action: () => "copy",
    container: document.body
  });
  a.on("success", (r) => {
    a.destroy(), e(r);
  }), a.on("error", (r) => {
    a.destroy(), n(r);
  }), document.body.appendChild(o), o.click(), document.body.removeChild(o);
}), pg = () => new Promise((t, e) => {
  var n;
  (n = navigator.clipboard) != null && n.readText ? navigator.clipboard.readText().then((o) => (o || e("剪贴板为空或者不包含文本"), t(o))) : e("浏览器不支持或禁止访问剪贴板，请使用快捷键 Ctrl + V");
}), Mv = (t) => {
  let e;
  try {
    e = JSON.parse(fg(t));
  } catch {
    e = t;
  }
  return e;
}, hg = (t) => {
  const e = t.split(`\r
`);
  e[e.length - 1] === "" && e.pop();
  let n = -1;
  const o = [];
  for (const a in e) {
    if (o[a] = e[a].split("	"), o[a].length === 1) return null;
    if (n === -1) n = o[a].length;
    else if (n !== o[a].length) return null;
  }
  return o;
}, Pr = (t) => {
  const { left: e, top: n, width: o, height: a, rotate: r = 0 } = t, i = Math.sqrt(Math.pow(o, 2) + Math.pow(a, 2)) / 2, s = Math.atan(a / o) * 180 / Math.PI, l = (180 - r - s) * Math.PI / 180, u = (s - r) * Math.PI / 180, c = e + o / 2, d = n + a / 2, f = [
    c + i * Math.cos(l),
    c + i * Math.cos(u),
    c - i * Math.cos(l),
    c - i * Math.cos(u)
  ], v = [
    d - i * Math.sin(l),
    d - i * Math.sin(u),
    d + i * Math.sin(l),
    d + i * Math.sin(u)
  ];
  return {
    xRange: [Math.min(...f), Math.max(...f)],
    yRange: [Math.min(...v), Math.max(...v)]
  };
}, kr = (t) => {
  const { xRange: e, yRange: n } = Pr({
    left: t.left,
    top: t.top,
    width: t.width,
    height: t.height,
    rotate: 0
  }), { xRange: o, yRange: a } = Pr({
    left: t.left,
    top: t.top,
    width: t.width,
    height: t.height,
    rotate: t.rotate
  });
  return {
    offsetX: o[0] - e[0],
    offsetY: a[0] - n[0]
  };
}, Rn = (t) => {
  let e, n, o, a;
  if (t.type === "line")
    e = t.left, n = t.left + Math.max(t.start[0], t.end[0]), o = t.top, a = t.top + Math.max(t.start[1], t.end[1]);
  else if ("rotate" in t && t.rotate) {
    const { left: r, top: i, width: s, height: l, rotate: u } = t, { xRange: c, yRange: d } = Pr({ left: r, top: i, width: s, height: l, rotate: u });
    e = c[0], n = c[1], o = d[0], a = d[1];
  } else
    e = t.left, n = t.left + t.width, o = t.top, a = t.top + t.height;
  return { minX: e, maxX: n, minY: o, maxY: a };
}, To = (t) => {
  const e = [], n = [], o = [], a = [];
  t.forEach((u) => {
    const { minX: c, maxX: d, minY: f, maxY: v } = Rn(u);
    e.push(c), n.push(f), o.push(d), a.push(v);
  });
  const r = Math.min(...e), i = Math.max(...o), s = Math.min(...n), l = Math.max(...a);
  return { minX: r, maxX: i, minY: s, maxY: l };
}, jl = (t) => {
  const e = [];
  return t.forEach((n) => {
    const o = e.findIndex((a) => a.value === n.value);
    if (o === -1) e.push(n);
    else {
      const a = e[o], r = Math.min(a.range[0], n.range[0]), i = Math.max(a.range[1], n.range[1]), s = [r, i], l = { value: n.value, range: s };
      e[o] = l;
    }
  }), e;
}, pb = (t) => {
  const e = {};
  for (const n of t)
    e[n.id] = tt(10);
  return e;
}, df = (t) => {
  const e = {}, n = {};
  for (const o of t) {
    const a = o.groupId;
    a && !e[a] && (e[a] = tt(10)), n[o.id] = tt(10);
  }
  return {
    groupIdMap: e,
    elIdMap: n
  };
}, mg = (t) => {
  const e = He(t);
  return [
    e.setAlpha(0.3).toRgbString(),
    e.setAlpha(0.1).toRgbString()
  ];
}, Av = (t) => {
  const e = t.start.join(","), n = t.end.join(",");
  if (t.broken) {
    const o = t.broken.join(",");
    return `M${e} L${o} L${n}`;
  } else if (t.broken2) {
    const { minX: o, maxX: a, minY: r, maxY: i } = Rn(t);
    return a - o >= i - r ? `M${e} L${t.broken2[0]},${t.start[1]} L${t.broken2[0]},${t.end[1]} ${n}` : `M${e} L${t.start[0]},${t.broken2[1]} L${t.end[0]},${t.broken2[1]} ${n}`;
  } else if (t.curve) {
    const o = t.curve.join(",");
    return `M${e} Q${o} ${n}`;
  } else if (t.cubic) {
    const [o, a] = t.cubic, r = o.join(","), i = a.join(",");
    return `M${e} C${r} ${i} ${n}`;
  }
  return `M${e} L${n}`;
}, hb = (t, e) => {
  const n = t.getBoundingClientRect(), o = e.getBoundingClientRect();
  return n.top >= o.top && n.bottom <= o.bottom;
}, mb = ["id"], gb = { class: "icons" }, yb = { class: "content" }, _b = {
  key: 0,
  class: "title"
}, bb = { class: "description" }, wb = {
  key: 0,
  class: "control"
}, xb = /* @__PURE__ */ ce({
  __name: "Message",
  props: {
    id: {},
    message: {},
    type: { default: "success" },
    title: { default: "" },
    duration: { default: 3e3 },
    closable: { type: Boolean, default: !1 }
  },
  emits: ["close", "destroy"],
  setup(t, { expose: e, emit: n }) {
    const {
      IconAttention: o,
      IconCheckOne: a,
      IconCloseOne: r,
      IconInfo: i,
      IconCloseSmall: s
    } = Jl, l = t, u = n, c = V(!0), d = V(null), f = () => {
      l.duration <= 0 || (d.value = setTimeout(p, l.duration));
    }, v = () => {
      d.value && clearTimeout(d.value);
    }, p = () => c.value = !1;
    return K8(() => {
      v();
    }), Qe(() => {
      f();
    }), e({
      close: p
    }), (h, m) => (k(), ie(ql, {
      name: "message-fade",
      appear: "",
      mode: "in-out",
      onBeforeLeave: m[3] || (m[3] = (g) => u("close")),
      onAfterLeave: m[4] || (m[4] = (g) => u("destroy"))
    }, {
      default: F(() => [
        c.value ? (k(), R("div", {
          key: 0,
          class: "message",
          id: h.id
        }, [
          C("div", {
            class: "message-container",
            onMouseenter: m[1] || (m[1] = (g) => v()),
            onMouseleave: m[2] || (m[2] = (g) => f())
          }, [
            C("div", gb, [
              h.type === "warning" ? (k(), ie(A(o), {
                key: 0,
                theme: "filled",
                size: "18",
                fill: "#faad14"
              })) : me("", !0),
              h.type === "success" ? (k(), ie(A(a), {
                key: 1,
                theme: "filled",
                size: "18",
                fill: "#52c41a"
              })) : me("", !0),
              h.type === "error" ? (k(), ie(A(r), {
                key: 2,
                theme: "filled",
                size: "18",
                fill: "#ff4d4f"
              })) : me("", !0),
              h.type === "info" ? (k(), ie(A(i), {
                key: 3,
                theme: "filled",
                size: "18",
                fill: "#1677ff"
              })) : me("", !0)
            ]),
            C("div", yb, [
              h.title ? (k(), R("div", _b, Ee(h.title), 1)) : me("", !0),
              C("div", bb, Ee(h.message), 1)
            ]),
            h.closable ? (k(), R("div", wb, [
              C("span", {
                class: "close-btn",
                onClick: m[0] || (m[0] = (g) => p())
              }, [
                T(A(s))
              ])
            ])) : me("", !0)
          ], 32)
        ], 8, mb)) : me("", !0)
      ]),
      _: 1
    }));
  }
}), ve = (t, e) => {
  const n = t.__vccOpts || t;
  for (const [o, a] of e)
    n[o] = a;
  return n;
}, Sb = /* @__PURE__ */ ve(xb, [["__scopeId", "data-v-bfa2994d"]]), ff = [];
let ro = null, Ib = 0;
const Cb = {
  duration: 3e3
}, at = (t) => {
  const e = "message-" + Ib++, n = {
    ...Cb,
    ...t,
    id: e
  };
  ro || (ro = document.createElement("div"), ro.className = "message-wrap", ro.style.cssText = `
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 6000;
      pointer-events: none;
      display: flex;
      flex-direction: column;
      box-sizing: border-box;
      padding: 15px;
      background-color: rgba(255, 255, 255, 0);
      transition: all 1s ease-in-out;
      align-items: center;
    `, document.body.appendChild(ro));
  const o = T(Sb, n, null), a = document.createElement("div");
  o.appContext = t.ctx || at._context || null, o.props.onClose = t.onClose, o.props.onDestroy = () => {
    ro && ro.childNodes.length <= 1 && (ro.remove(), ro = null), af(null, a);
  }, af(o, a), ro.appendChild(a.firstElementChild);
  const r = {
    id: e,
    close: () => {
      var i, s;
      return (s = (i = o == null ? void 0 : o.component) == null ? void 0 : i.exposed) == null ? void 0 : s.close();
    }
  };
  return ff.push(r), r;
};
at.success = (t, e) => at({ ...e, type: "success", message: t });
at.info = (t, e) => at({ ...e, type: "info", message: t });
at.warning = (t, e) => at({ ...e, type: "warning", message: t });
at.error = (t, e) => at({ ...e, type: "error", message: t });
at.closeAll = function() {
  for (let t = ff.length - 1; t >= 0; t--)
    ff[t].close();
};
const eu = (t) => {
  const n = t.replace(/[\n\r]+/g, "<br>").split("<br>");
  let o = "";
  for (const a of n)
    a && (o += `<div>${a}</div>`);
  return o;
}, Tb = (t) => new Promise((e) => {
  const n = document.createElement("img");
  n.src = t, n.style.opacity = "0", document.body.appendChild(n), n.onload = () => {
    const o = n.clientWidth, a = n.clientHeight;
    n.onload = null, n.onerror = null, document.body.removeChild(n), e({ width: o, height: a });
  }, n.onerror = () => {
    n.onload = null, n.onerror = null;
  };
}), fa = (t) => new Promise((e) => {
  const n = new FileReader();
  n.addEventListener("load", () => {
    e(n.result);
  }), n.readAsDataURL(t);
}), Lb = (t) => {
  if (!/<svg[\s\S]*?>[\s\S]*?<\/svg>/i.test(t)) return !1;
  try {
    return new DOMParser().parseFromString(t, "image/svg+xml").documentElement.nodeName === "svg";
  } catch {
    return !1;
  }
}, kb = (t) => {
  const e = new Blob([t], { type: "image/svg+xml" });
  return new File([e], `${Date.now()}.svg`, { type: "image/svg+xml" });
};
var et = /* @__PURE__ */ ((t) => (t.ROUND_RECT = "roundRect", t.ROUND_RECT_DIAGONAL = "roundRectDiagonal", t.ROUND_RECT_SINGLE = "roundRectSingle", t.ROUND_RECT_SAMESIDE = "roundRectSameSide", t.CUT_RECT_DIAGONAL = "cutRectDiagonal", t.CUT_RECT_SINGLE = "cutRectSingle", t.CUT_RECT_SAMESIDE = "cutRectSameSide", t.CUT_ROUND_RECT = "cutRoundRect", t.MESSAGE = "message", t.ROUND_MESSAGE = "roundMessage", t.L = "L", t.RING_RECT = "ringRect", t.PLUS = "plus", t.TRIANGLE = "triangle", t.PARALLELOGRAM_LEFT = "parallelogramLeft", t.PARALLELOGRAM_RIGHT = "parallelogramRight", t.TRAPEZOID = "trapezoid", t.BULLET = "bullet", t.INDICATOR = "indicator", t))(et || {}), Ne = /* @__PURE__ */ ((t) => (t.TEXT = "text", t.IMAGE = "image", t.SHAPE = "shape", t.LINE = "line", t.CHART = "chart", t.TABLE = "table", t.LATEX = "latex", t.VIDEO = "video", t.AUDIO = "audio", t))(Ne || {});
const or = {
  [et.ROUND_RECT]: {
    editable: !0,
    defaultValue: [0.125],
    range: [[0, 0.5]],
    relative: ["left"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M ${o} 0 L ${t - o} 0 Q ${t} 0 ${t} ${o} L ${t} ${e - o} Q ${t} ${e} ${t - o} ${e} L ${o} ${e} Q 0 ${e} 0 ${e - o} L 0 ${o} Q 0 0 ${o} 0 Z`;
    }
  },
  [et.CUT_RECT_DIAGONAL]: {
    editable: !0,
    defaultValue: [0.2],
    range: [[0, 0.9]],
    relative: ["right"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M 0 ${e - o} L 0 0 L ${t - o} 0 L ${t} ${o} L ${t} ${e} L ${o} ${e} Z`;
    }
  },
  [et.CUT_RECT_SINGLE]: {
    editable: !0,
    defaultValue: [0.2],
    range: [[0, 0.9]],
    relative: ["right"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M 0 ${e} L 0 0 L ${t - o} 0 L ${t} ${o} L ${t} ${e} Z`;
    }
  },
  [et.CUT_RECT_SAMESIDE]: {
    editable: !0,
    defaultValue: [0.2],
    range: [[0, 0.5]],
    relative: ["left"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M 0 ${o} L ${o} 0 L ${t - o} 0 L ${t} ${o} L ${t} ${e} L 0 ${e} Z`;
    }
  },
  [et.ROUND_RECT_DIAGONAL]: {
    editable: !0,
    defaultValue: [0.125],
    range: [[0, 1]],
    relative: ["left"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M ${o} 0 L ${t} 0 L ${t} ${e - o} Q ${t} ${e} ${t - o} ${e} L 0 ${e} L 0 ${o} Q 0 0 ${o} 0 Z`;
    }
  },
  [et.ROUND_RECT_SINGLE]: {
    editable: !0,
    defaultValue: [0.125],
    range: [[0, 1]],
    relative: ["right"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M 0 0 L ${t - o} 0 Q ${t} 0 ${t} ${o} L ${t} ${e} L 0 ${e} L 0 0 Z`;
    }
  },
  [et.ROUND_RECT_SAMESIDE]: {
    editable: !0,
    defaultValue: [0.125],
    range: [[0, 0.5]],
    relative: ["left"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M 0 ${o} Q 0 0 ${o} 0 L ${t - o} 0 Q ${t} 0 ${t} ${o} L ${t} ${e} L 0 ${e} Z`;
    }
  },
  [et.CUT_ROUND_RECT]: {
    editable: !0,
    defaultValue: [0.125],
    range: [[0, 0.5]],
    relative: ["left"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M ${o} 0 L ${t - o} 0 L ${t} ${o} L ${t} ${e} L 0 ${e} L 0 ${o} Q 0 0 ${o} 0 Z`;
    }
  },
  [et.MESSAGE]: {
    editable: !0,
    range: [[0, 0.8], [0.1, 0.3]],
    defaultValue: [0.3, 0.2],
    relative: ["left_bottom", "bottom"],
    getBaseSize: [
      (t) => t,
      (t, e) => e
    ],
    formula: (t, e, n) => {
      const o = t * n[0], a = t * 0.2, r = e * n[1];
      return `M 0 0 L ${t} 0 L ${t} ${e - r} L ${o + a} ${e - r} L ${o} ${e} L ${o} ${e - r} L 0 ${e - r} Z`;
    }
  },
  [et.ROUND_MESSAGE]: {
    formula: (t, e) => {
      const n = Math.min(t, e) * 0.125, o = Math.min(t, e) * 0.2, a = Math.min(t, e) * 0.2;
      return `M 0 ${n} Q 0 0 ${n} 0 L ${t - n} 0 Q ${t} 0 ${t} ${n} L ${t} ${e - n - a} Q ${t} ${e - a} ${t - n} ${e - a} L ${t / 2} ${e - a} L ${t / 2 - o} ${e} L ${t / 2 - o} ${e - a} L ${n} ${e - a} Q 0 ${e - a} 0 ${e - n - a} L 0 ${n} Z`;
    }
  },
  [et.L]: {
    editable: !0,
    defaultValue: [0.25],
    range: [[0.1, 0.9]],
    relative: ["left"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M 0 0 L 0 ${e} L ${t} ${e} L ${t} ${e - o} L ${o} ${e - o} L ${o} 0 Z`;
    }
  },
  [et.RING_RECT]: {
    editable: !0,
    defaultValue: [0.25],
    range: [[0.1, 0.45]],
    relative: ["left"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M 0 0 ${t} 0 ${t} ${e} L 0 ${e} L 0 0 Z M ${o} ${o} L ${o} ${e - o} L ${t - o} ${e - o} L ${t - o} ${o} Z`;
    }
  },
  [et.PLUS]: {
    editable: !0,
    defaultValue: [0.25],
    range: [[0.1, 0.9]],
    relative: ["center"],
    getBaseSize: [(t, e) => Math.min(t, e)],
    formula: (t, e, n) => {
      const o = Math.min(t, e) * n[0];
      return `M ${t / 2 - o / 2} 0 L ${t / 2 - o / 2} ${e / 2 - o / 2} L 0 ${e / 2 - o / 2} L 0 ${e / 2 + o / 2} L ${t / 2 - o / 2} ${e / 2 + o / 2} L ${t / 2 - o / 2} ${e} L ${t / 2 + o / 2} ${e} L ${t / 2 + o / 2} ${e / 2 + o / 2} L ${t} ${e / 2 + o / 2} L ${t} ${e / 2 - o / 2} L ${t / 2 + o / 2} ${e / 2 - o / 2} L ${t / 2 + o / 2} 0 Z`;
    }
  },
  [et.TRIANGLE]: {
    editable: !0,
    defaultValue: [0.5],
    range: [[0, 1]],
    relative: ["left"],
    getBaseSize: [(t) => t],
    formula: (t, e, n) => `M ${t * n[0]} 0 L 0 ${e} L ${t} ${e} Z`
  },
  [et.PARALLELOGRAM_LEFT]: {
    editable: !0,
    defaultValue: [0.25],
    range: [[0, 0.9]],
    relative: ["left"],
    getBaseSize: [(t) => t],
    formula: (t, e, n) => {
      const o = t * n[0];
      return `M ${o} 0 L ${t} 0 L ${t - o} ${e} L 0 ${e} Z`;
    }
  },
  [et.PARALLELOGRAM_RIGHT]: {
    editable: !0,
    defaultValue: [0.25],
    range: [[0, 0.9]],
    relative: ["right"],
    getBaseSize: [(t) => t],
    formula: (t, e, n) => {
      const o = t * n[0];
      return `M 0 0 L ${t - o} 0 L ${t} ${e} L ${o} ${e} Z`;
    }
  },
  [et.TRAPEZOID]: {
    editable: !0,
    defaultValue: [0.25],
    range: [[0, 0.5]],
    relative: ["left"],
    getBaseSize: [(t) => t],
    formula: (t, e, n) => {
      const o = t * n[0];
      return `M ${o} 0 L ${t - o} 0 L ${t} ${e} L 0 ${e} Z`;
    }
  },
  [et.BULLET]: {
    editable: !0,
    defaultValue: [0.2],
    range: [[0, 1]],
    relative: ["top"],
    getBaseSize: [(t, e) => e],
    formula: (t, e, n) => {
      const o = e * n[0];
      return `M ${t / 2} 0 L 0 ${o} L 0 ${e} L ${t} ${e} L ${t} ${o} Z`;
    }
  },
  [et.INDICATOR]: {
    editable: !0,
    defaultValue: [0.2],
    range: [[0, 0.9]],
    relative: ["right"],
    getBaseSize: [(t) => t],
    formula: (t, e, n) => {
      const o = t * n[0];
      return `M ${t} ${e / 2} L ${t - o} 0 L 0 0 L ${o} ${e / 2} L 0 ${e} L ${t - o} ${e} Z`;
    }
  }
}, Dv = [
  {
    type: "矩形",
    children: [
      {
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 200 L 0 200 Z",
        pptxShapeType: "rect"
      },
      {
        viewBox: [200, 200],
        path: "M 50 0 L 150 0 Q 200 0 200 50 L 200 150 Q 200 200 150 200 L 50 200 Q 0 200 0 150 L 0 50 Q 0 0 50 0 Z",
        pathFormula: et.ROUND_RECT,
        pptxShapeType: "roundRect"
      },
      {
        viewBox: [200, 200],
        path: "M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 Z",
        pathFormula: et.CUT_RECT_SINGLE,
        pptxShapeType: "snip1Rect"
      },
      {
        viewBox: [200, 200],
        path: "M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 Z",
        pathFormula: et.CUT_RECT_SAMESIDE,
        pptxShapeType: "snip2SameRect"
      },
      {
        viewBox: [200, 200],
        path: "M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 Z",
        pathFormula: et.CUT_RECT_DIAGONAL,
        pptxShapeType: "snip2DiagRect"
      },
      {
        viewBox: [200, 200],
        path: "M 50 0 L 150 0 L 200 50 L 200 200 L 0 200 L 0 50 Q 0 0 50 0 Z",
        pathFormula: et.CUT_ROUND_RECT,
        pptxShapeType: "snipRoundRect"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 0 Z",
        pathFormula: et.ROUND_RECT_SINGLE,
        pptxShapeType: "round1Rect"
      },
      {
        viewBox: [200, 200],
        path: "M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 Z",
        pathFormula: et.ROUND_RECT_SAMESIDE,
        pptxShapeType: "round2SameRect"
      },
      {
        viewBox: [200, 200],
        path: "M 50 0 L 200 0 L 200 150 Q 200 200 150 200 L 0 200 L 0 50 Q 0 0 50 0 Z",
        pathFormula: et.ROUND_RECT_DIAGONAL,
        pptxShapeType: "round2DiagRect"
      }
    ]
  },
  {
    type: "常用形状",
    children: [
      {
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",
        pptxShapeType: "ellipse"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 0 200 L 200 200 L 100 0 Z",
        pathFormula: et.TRIANGLE,
        pptxShapeType: "triangle"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 0 200 L 200 200 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 70 20 L 0 160 Q 0 200 40 200 L 160 200 Q 200 200 200 160 L 130 20 Q 100 -20 70 20 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z",
        pathFormula: et.PARALLELOGRAM_LEFT,
        pptxShapeType: "parallelogram"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z",
        pathFormula: et.PARALLELOGRAM_RIGHT
      },
      {
        viewBox: [200, 200],
        path: "M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z",
        pathFormula: et.TRAPEZOID,
        pptxShapeType: "trapezoid"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z",
        pptxShapeType: "diamond"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z",
        pathFormula: et.BULLET
      },
      {
        viewBox: [200, 200],
        path: "M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z",
        pathFormula: et.INDICATOR
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 C 80 20 120 20 200 0 C 180 80 180 120 200 200 C 80 180 120 180 0 200 C 20 120 20 80 0 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 10 10 C 60 0 140 0 190 10 C 200 60 200 140 190 190 C 140 200 60 200 10 190 C 0 140 0 60 10 10 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 40 20 A 100 100 0 1 0 200 100 L 100 100 L 40 20 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z",
        pptxShapeType: "pie"
      },
      {
        viewBox: [200, 200],
        path: "M 160 20 A 100 100 0 1 0 200 100 L 100 100 L 160 20 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z",
        pptxShapeType: "chord"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z",
        pptxShapeType: "teardrop"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M100,0 L200,76.6 L161.8,200 L38.2,200 L0,76.6 Z",
        pptxShapeType: "pentagon"
      },
      {
        viewBox: [200, 200],
        path: "M 40 0 L 160 0 L 200 100 L 160 200 L 40 200 L 0 100 Z",
        pptxShapeType: "hexagon"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M100,0 L170.71,29.29 L200,100 L170.71,170.71 L100,200 L29.29,170.71 L0,100 L29.29,29.29 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z",
        pptxShapeType: "octagon"
      },
      {
        viewBox: [200, 200],
        path: "M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z",
        pptxShapeType: "dodecagon"
      },
      {
        viewBox: [200, 200],
        path: "M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 50 0 A 25 50 0 1 0 50 200 L 150 200 A 25 50 0 1 0 150 0 L 50 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z",
        pptxShapeType: "flowChartManualInput"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 150 C 110 140 110 240 0 180 Z",
        pptxShapeType: "flowChartDocument"
      },
      {
        viewBox: [200, 200],
        path: "M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z",
        pptxShapeType: "diagStripe"
      },
      {
        viewBox: [200, 200],
        path: "M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z",
        pathFormula: et.L,
        pptxShapeType: "corner"
      },
      {
        viewBox: [200, 200],
        path: "M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z",
        pathFormula: et.RING_RECT,
        pptxShapeType: "frame"
      },
      {
        viewBox: [200, 200],
        path: "M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z",
        pptxShapeType: "donut"
      },
      {
        viewBox: [200, 200],
        path: "M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z",
        pathFormula: et.PLUS,
        pptxShapeType: "mathPlus"
      },
      {
        viewBox: [200, 200],
        path: "M 0 70 L 200 70 L 200 130 L 0 130 Z",
        pptxShapeType: "mathMinus"
      },
      {
        viewBox: [200, 200],
        path: "M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z",
        pptxShapeType: "mathMultiply"
      },
      {
        viewBox: [200, 200],
        path: "M 0 80 L 200 80 L 200 120 L 0 120 Z M 100 0 A 25 25 0 1 1 100 50 A 25 25 0 1 1 100 0 M 100 200 A 25 25 0 1 1 100 150 A 25 25 0 1 1 100 200",
        pptxShapeType: "mathDivide"
      },
      {
        viewBox: [200, 200],
        path: "M 0 30 L 200 30 L 200 80 L 0 80 Z M 0 120 L 200 120 L 200 170 L 0 170 Z",
        pptxShapeType: "mathEqual"
      },
      {
        viewBox: [200, 200],
        path: "M 120 0 L 170 0 L 150 40 L 200 40 L 200 80 L 130 80 L 110 120 L 200 120 L 200 160 L 90 160 L 70 200 L 20 200 L 40 160 L 0 160 L 0 120 L 60 120 L 80 80 L 0 80 L 0 40 L 100 40 Z",
        pptxShapeType: "mathNotEqual"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 Z",
        pathFormula: et.MESSAGE,
        pptxShapeType: "wedgeRectCallout"
      },
      {
        viewBox: [200, 200],
        path: "M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z",
        pathFormula: et.ROUND_MESSAGE,
        pptxShapeType: "wedgeRoundRectCallout"
      },
      {
        viewBox: [200, 200],
        path: "M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z",
        pptxShapeType: "flowChartMagneticTape"
      },
      {
        viewBox: [200, 200],
        path: "M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z",
        pptxShapeType: "flowChartCollate"
      },
      {
        viewBox: [200, 200],
        path: "M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z",
        pptxShapeType: "wave"
      },
      {
        viewBox: [200, 200],
        path: "M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",
        pptxShapeType: "doubleWave"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 Q 0 50 0 175 Q 100 225 200 175 Q 200 50 100 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 0 100 A 50 50 0 1 1 200 100 L 100 200 L 0 100 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 120 80 L 200 100 L 120 120 L 100 200 L 80 120 L 0 100 L 80 80 L 100 0 Z",
        pptxShapeType: "star4"
      },
      {
        viewBox: [1024, 1024],
        path: "M1018.67652554 400.05983681l-382.95318779-5.89158658L512 34.78141155 388.27666225 394.16825023l-382.95318779 5.89158658L311.68602415 629.83174977l-117.83174978 365.27842665 312.25413766-223.88032637 312.25413904 223.88032637-117.83175116-365.27842665 318.14572563-229.77191296z",
        pptxShapeType: "star5",
        special: !0
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 60 60 L 0 100 L 60 140 L 100 200 L 140 140 L 200 100 L 140 60 L 100 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 140 60 L 200 60 L 160 100 L 200 140 L 140 140 L 100 200 L 60 140 L 0 140 L 40 100 L 0 60 L 60 60 L 100 0 Z",
        pptxShapeType: "star6"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 130 30 L 170 30 L 170 70 L 200 100 L 170 130 L 170 170 L 130 170 L 100 200 L 70 170 L 30 170 L 30 130 L 0 100 L 30 70 L 30 30 L 70 30 L 100 0",
        pptxShapeType: "star8"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 0 200 120 A 100 100 0 1 1 100 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 120 0 L 100 80 L 200 80 L 80 200 L 100 120 L 0 120 L 120 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 30 50 Q 40 -20 120 10 Q 180 -10 180 40 Q 210 70 190 100 C 210 140 180 170 160 170 Q 140 210 100 180 C 70 210 20 190 30 150 C -10 140 -10 80 30 50",
        pptxShapeType: "cloud"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z M 200 100 L 0 100",
        withborder: !0,
        pptxShapeType: "flowChartSort"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z M 170 30 L 30 170",
        withborder: !0
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z M 30 30 L 170 170",
        withborder: !0
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z M 170 30 L 30 170 M 30 30 L 170 170",
        withborder: !0,
        pptxShapeType: "flowChartSummingJunction"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z M 200 100 L 0 100 M 100 0 L 100 200",
        withborder: !0,
        pptxShapeType: "flowChartOr"
      },
      {
        viewBox: [200, 200],
        path: "M 160 0 A 40 100 0 1 1 160 200 L 40 200 A 40 100 0 1 1 40 0 L 160 0 Z M 160 200 A 40 100 0 1 1 160 0",
        withborder: !0,
        pptxShapeType: "flowChartMagneticDrum"
      },
      {
        viewBox: [200, 200],
        path: "M 0 40 A 50 20 0 1 1 200 40 L 200 160 A 50 20 0 1 1 0 160 L 0 40 Z M 200 40 A 50 20 0 1 1 0 40",
        withborder: !0,
        pptxShapeType: "can"
      },
      {
        viewBox: [200, 200],
        path: "M 200 0 L 50 0 L 0 50 L 0 200 L 150 200 L 200 150 L 200 0 Z M 200 0 L 150 50 M 150 50 L 0 50 M 150 50 L 150 200",
        withborder: !0,
        pptxShapeType: "cube"
      }
    ]
  },
  {
    type: "箭头",
    children: [
      {
        viewBox: [200, 200],
        path: "M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z",
        pptxShapeType: "upArrow"
      },
      {
        viewBox: [200, 200],
        path: "M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z",
        pptxShapeType: "downArrow"
      },
      {
        viewBox: [200, 200],
        path: "M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z",
        pptxShapeType: "leftArrow"
      },
      {
        viewBox: [200, 200],
        path: "M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z",
        pptxShapeType: "rightArrow"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z",
        pptxShapeType: "upDownArrow"
      },
      {
        viewBox: [200, 200],
        path: "M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z",
        pptxShapeType: "leftRightArrow"
      },
      {
        viewBox: [200, 200],
        path: "M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z",
        pptxShapeType: "quadArrow"
      },
      {
        viewBox: [200, 200],
        path: "M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z",
        pptxShapeType: "notchedRightArrow"
      },
      {
        viewBox: [200, 200],
        path: "M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z",
        pptxShapeType: "leftArrowCallout"
      },
      {
        viewBox: [200, 200],
        path: "M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z",
        pptxShapeType: "rightArrowCallout"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z",
        pptxShapeType: "chevron"
      },
      {
        viewBox: [200, 200],
        path: "M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z",
        pptxShapeType: "homePlate"
      },
      {
        viewBox: [200, 200],
        path: "M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z",
        pptxShapeType: "bentUpArrow"
      },
      {
        viewBox: [200, 200],
        path: "M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z"
      },
      {
        viewBox: [200, 200],
        path: "M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z",
        pptxShapeType: "leftUpArrow"
      },
      {
        viewBox: [1024, 1024],
        path: "M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z",
        special: !0
      }
    ]
  },
  {
    type: "其他形状",
    children: [
      {
        viewBox: [1024, 1024],
        path: "M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M997.8886764 504.17210418L537.2729208 43.89182982c-13.97838539-13.97838539-36.56745619-13.97838539-50.5458416 0L26.1113236 504.17210418c-13.41924998 13.41924998-21.02349164 31.64706454-21.02349163 50.65766867 0 39.47496036 32.09437288 71.56933323 71.56933324 71.56933323h48.53295408V954.83524937c0 19.79339373 15.99127289 35.78466661 35.78466663 35.78466662H440.43066677V740.12724968h125.24633315v250.49266631h297.34821416c19.79339373 0 35.78466661-15.99127289 35.78466663-35.78466662V626.39910608h48.53295408c19.01060414 0 37.23841869-7.49241457 50.65766869-21.02349163 27.84494371-27.95677079 27.84494371-73.24673948-0.11182708-101.20351027z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M1009.13013121 349.27572283L674.72427717 14.86986879c-8.82158299-8.82158299-20.35749924-13.16451618-31.89341544-13.16451618s-23.07183245 4.34293316-31.89341547 13.16451618L392.29790453 233.6451272c-16.5574327-1.90003326-33.25058207-2.71433322-49.94373146-2.71433324-99.34459624 0-198.68919249 32.70771543-280.25490606 98.12314628-20.90036589 16.69314938-22.52896582 48.04369819-3.66434987 67.04403081l246.59717401 246.59717401-292.33368895 292.06225564c-3.52863319 3.52863319-5.83581644 8.27871636-6.24296642 13.30023282l-4.61436649 50.48659809c-1.22144996 12.75736619 8.95729967 23.6146991 21.57894918 23.6146991 0.6785833 0 1.35716662 0 2.03574992-0.13571666l50.48659809-4.61436649c5.02151649-0.40714999 9.77159962-2.71433322 13.30023282-6.24296643l292.33368896-292.33368896 246.59717402 246.59717401c8.82158299 8.82158299 20.35749924 13.16451618 31.89341544 13.16451618 13.16451618 0 26.19331567-5.70009979 35.15061536-16.82886604 76.40848044-95.40881307 108.16617924-214.83947521 95.27309638-330.33435417l218.63954175-218.63954173c17.50744934-17.37173267 17.50744934-45.8722316 0-63.51539759z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M976.62005979 160.47737905c-0.39452595-0.39452595-80.35178503 78.64217259-239.47725131 237.50462156l-111.6508437-111.65084369 237.89914752-237.89914752c-125.19623464-75.35445635-286.03131335-56.02268482-390.31767264 48.26367449-81.92988882 81.92988882-112.57140424 200.15616502-83.37648398 310.09739626l2.36715569 8.81107954-372.82702222 372.69551356c-8.15353628 8.15353628-8.15353628 21.56741857 0 29.72095487l185.95323084 185.95323084c8.15353628 8.15353628 21.56741857 8.15353628 29.72095485 0l372.56400493-372.56400493 8.81107953 2.3671557c110.07273989 29.32642892 228.29901608-1.18357785 310.36041356-83.24497533 104.41786795-104.2863593 123.74963948-265.12143802 49.97328693-390.05465535z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m220.16 343.26755556l-239.616 332.23111111c-14.44977778 20.13866667-44.37333333 20.13866667-58.82311111 0L291.84 481.16622222c-4.32355555-6.03022222 0-14.44977778 7.39555555-14.44977777h53.36177778c11.60533333 0 22.64177778 5.57511111 29.46844445 15.13244444l81.00977777 112.41244444 178.85866667-248.03555555c6.82666667-9.44355555 17.74933333-15.13244445 29.46844445-15.13244445H724.76444445c7.39555555 0 11.71911111 8.41955555 7.39555555 14.44977778z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m218.45333333 537.03111112c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222H302.64888889c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222v-54.61333334c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h418.70222222c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v54.61333334z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m188.18844445 703.37422223l-75.09333334-0.34133333L512 570.48177778l-112.98133333 134.71288889-75.20711112 0.34133333c-5.00622222 0-9.10222222-3.98222222-9.10222222-9.10222222 0-2.16177778 0.79644445-4.20977778 2.16177778-5.91644445l148.02488889-176.35555555L316.87111111 337.92c-1.36533333-1.70666667-2.16177778-3.75466667-2.16177778-5.91644445 0-5.00622222 4.096-9.10222222 9.10222222-9.10222222l75.20711112 0.34133334L512 458.06933333l112.98133333-134.71288888 75.09333334-0.34133334c5.00622222 0 9.10222222 3.98222222 9.10222222 9.10222222 0 2.16177778-0.79644445 4.20977778-2.16177778 5.91644445L559.21777778 514.27555555l147.91111111 176.35555556c1.36533333 1.70666667 2.16177778 3.75466667 2.16177778 5.91644444 0 5.00622222-4.096 9.10222222-9.10222222 9.10222223z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m218.45333333 537.03111112c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222H548.40888889v172.94222222c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222h-54.61333334c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222V548.40888889H302.64888889c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222v-54.61333334c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h172.94222222V302.64888889c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h54.61333334c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v172.94222222h172.94222222c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v54.61333334z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m163.95377778 517.57511112L427.46311111 700.64355555c-1.59288889 1.13777778-3.41333333 1.70666667-5.34755556 1.70666667-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222V331.88977778c0-1.93422222 0.56888889-3.75466667 1.70666667-5.34755556 2.95822222-4.096 8.64711111-5.00622222 12.74311111-2.048L675.95377778 505.17333333c0.79644445 0.56888889 1.47911111 1.25155555 2.048 2.048 2.95822222 3.98222222 2.048 9.67111111-2.048 12.62933334z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m200.81777778 666.39644445l-32.54044445 44.37333333c-2.95822222 4.096-8.64711111 4.89244445-12.74311111 1.93422222L479.34577778 577.76355555c-2.38933333-1.70666667-3.75466667-4.43733333-3.75466667-7.39555555V257.13777778c0-5.00622222 4.096-9.10222222 9.10222222-9.10222223h54.72711112c5.00622222 0 9.10222222 4.096 9.10222222 9.10222223v281.6l162.24711111 117.30488889c4.096 2.84444445 5.00622222 8.53333333 2.048 12.62933333z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M981.10577778 314.48177778c-25.6-61.09866667-62.464-115.93955555-109.34044445-163.04355556-46.87644445-46.99022222-101.60355555-83.968-162.70222222-109.568C646.59911111 15.58755555 580.38044445 2.27555555 512 2.27555555h-2.27555555c-68.83555555 0.34133333-135.39555555 13.99466667-198.08711112 40.84622223-60.52977778 25.94133333-114.80177778 62.80533333-161.22311111 109.79555555-46.42133333 46.99022222-82.83022222 101.60355555-108.08888889 162.47466667C16.27022222 378.42488889 3.072 445.44 3.41333333 514.38933333c0.34133333 78.96177778 19.22844445 157.35466667 54.49955556 227.44177778v172.94222222c0 28.89955555 23.43822222 52.33777778 52.224 52.33777778h172.71466666c69.97333333 35.38488889 148.13866667 54.272 226.98666667 54.61333334h2.38933333c68.03911111 0 133.91644445-13.19822222 196.03911112-39.02577778 60.75733333-25.37244445 115.37066667-61.78133333 162.13333333-108.31644445 46.87644445-46.53511111 83.74044445-100.92088889 109.568-161.56444444 26.73777778-62.80533333 40.39111111-129.59288889 40.73244445-198.54222223 0.22755555-69.29066667-13.19822222-136.53333333-39.59466667-199.79377777zM284.89955555 566.61333333c-30.03733333 0-54.49955555-24.46222222-54.49955555-54.61333333s24.46222222-54.61333333 54.49955555-54.61333333 54.49955555 24.46222222 54.49955556 54.61333333-24.34844445 54.61333333-54.49955556 54.61333333z m227.10044445 0c-30.03733333 0-54.49955555-24.46222222-54.49955555-54.61333333s24.46222222-54.61333333 54.49955555-54.61333333 54.49955555 24.46222222 54.49955555 54.61333333-24.46222222 54.61333333-54.49955555 54.61333333z m227.10044445 0c-30.03733333 0-54.49955555-24.46222222-54.49955556-54.61333333s24.46222222-54.61333333 54.49955556-54.61333333 54.49955555 24.46222222 54.49955555 54.61333333-24.46222222 54.61333333-54.49955555 54.61333333z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM745.4750693 325.8561164l-267.95558363 371.52436096c-16.15876501 22.52048353-49.62140436 22.52048353-65.78016939 0L253.07805667 477.51948567c-4.83490607-6.74342161 0-16.15876501 8.27023406-16.15876499h59.67291961c12.97790576 0 25.31963967 6.23448413 32.95370188 16.92217123l90.59087157 125.70755774 200.01242995-277.37092701c7.63406221-10.56045272 19.84856175-16.92217125 32.95370189-16.92217124H737.20483524c8.27023407 0 13.10514012 9.41534338 8.27023406 16.158765z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM756.28999077 542.53624885c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962H277.88875885c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962v-61.0724977c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h468.2224823c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v61.0724977z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM720.79160148 697.63494611c5.59831228 6.61618726 0.8906406 16.6677025-7.76129658 16.66770249h-74.94104404c-5.98001539 0-11.70556205-2.67192177-15.64982754-7.25235911L512 575.36271635l-110.43943332 131.68757314c-3.81703111 4.58043732-9.54257777 7.25235911-15.64982754 7.25235911H310.9696951c-8.65193717 0-13.35960887-10.05151525-7.76129658-16.66770249L458.81603326 512 303.20839852 326.36505389c-5.59831228-6.61618726-0.8906406-16.6677025 7.76129658-16.66770249h74.94104404c5.98001539 0 11.70556205 2.67192177 15.64982754 7.25235911L512 448.63728365l110.43943332-131.68757314c3.81703111-4.58043732 9.54257777-7.25235911 15.64982754-7.25235911H713.0303049c8.65193717 0 13.35960887 10.05151525 7.76129658 16.66770249L565.18396674 512l155.60763474 185.63494611z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM677.02297814 523.19662459L423.31764398 722.70011704c-9.41534338 7.37959347-23.28388974 0.76340622-23.28388975-11.19662459V312.62374191c0-11.9600308 13.86854636-18.70345241 23.28388975-11.19662457l253.70533416 199.37625807c7.25235911 5.72554666 7.25235911 16.6677025 0 22.39324918z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM756.28999077 542.53624885c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962H552.71499847v193.39624268c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962h-61.0724977c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962V552.71499847H277.88875885c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962v-61.0724977c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h193.39624268V277.88875885c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h61.0724977c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v193.39624268h193.39624268c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v61.0724977z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M902.67315697 135.41705551L528.62204754 7.94466448C524.10877635 6.40354749 518.05438818 5.63298899 512 5.63298899s-12.10877635 0.7705585-16.62204754 2.31167549L121.32684303 135.41705551c-9.13662215 3.08223399-16.62204754 13.64989334-16.62204753 23.33691443v531.02488283c0 9.68702108 6.27454775 22.45627614 13.87005291 28.51066431L498.0198673 1013.9638196c3.85279247 2.9721542 8.8063828 4.51327118 13.87005291 4.51327118s10.12734022-1.54111698 13.87005291-4.51327118l379.4450189-295.67430252c7.59550517-5.94430839 13.87005291-18.71356345 13.87005291-28.51066431V158.75396994c0.22015956-9.68702108-7.26526581-20.14460066-16.40188796-23.33691443zM712.89560763 323.43332829L478.86598471 645.63685899c-7.04510625 9.68702108-21.57563786 9.68702108-28.6207441 0l-139.14084824-191.5388259c-4.18303182-5.8342286 0-13.9801327 7.15518603-13.9801327h60.76404132c5.61406904 0 11.0079785 2.75199463 14.31037204 7.26526582l71.22162091 97.97100864 166.11039557-228.74579323c3.30239355-4.51327118 8.58622323-7.26526581 14.31037204-7.26526581H705.7404216c7.15518602 0.11007979 11.33821785 8.25598388 7.15518603 14.09021248z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M959.86498307 186.28001231H797.00498922v-101.78749614c0-44.91373267-36.51626425-81.42999692-81.42999691-81.42999693H308.42500769c-44.91373267 0-81.42999692 36.51626425-81.42999691 81.42999693v101.78749614H64.13501693c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499847v40.71499845c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874962h76.8495596l31.42688945 665.43575611c2.03574992 43.38692024 37.91584233 77.61296581 81.30276254 77.6129658h577.64404066c43.5141546 0 79.26701262-34.09881122 81.30276254-77.6129658l31.42688945-665.43575611H990.40123192c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874962v-40.71499845c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499847z m-254.46874039 0H318.60375732v-91.60874653h386.79248536v91.60874653z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M980.2224823 248.62485371H654.50249462V104.85001539c0-22.52048353-18.19451494-40.71499847-40.71499847-40.71499846H94.67126578v-50.89374808c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961h-71.25124732c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v997.5174623c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h71.25124732c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961V674.85999383h315.54123807v143.77483833c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h529.29497999c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V289.33985217c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M804.63905145 265.16532183V94.67126578h109.42155836c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-71.25124732c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961H109.93939019c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v71.25124732c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h109.42155836v170.49405605c0 103.6960117 53.94737296 194.92305513 135.3773699 246.83467817-81.42999692 51.91162303-135.37736988 143.13866646-135.3773699 246.83467817v170.49405605h-109.42155836c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v71.25124732c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h804.12121962c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-71.25124732c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961h-109.42155836V758.83467817c0-103.6960117-53.94737296-194.92305513-135.3773699-246.83467817 81.42999692-51.91162303 135.37736988-143.13866646 135.3773699-246.83467817z",
        special: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M1020.928 448.44373333l-35.36213334-373.4528c-1.79200001-19.3536-17.2032-34.64533332-36.55679999-36.55679999L575.55626667 3.072h-0.47786666c-3.82293334 0-6.8096 1.19466667-9.07946669 3.46453333L6.53653333 565.99893332c-4.65919999 4.65919999-4.65919999 12.1856 0 16.84480001l434.61973334 434.61973334c2.26986667 2.26986667 5.25653333 3.46453333 8.48213333 3.46453333s6.21226667-1.19466667 8.48213333-3.46453333l559.46239999-559.46239999c2.38933332-2.5088 3.584-5.97333334 3.34506668-9.55733335zM735.40266668 362.66666667c-42.17173333 0-76.45866667-34.28693333-76.45866667-76.45866667s34.28693333-76.45866667 76.45866667-76.45866667 76.45866667 34.28693333 76.45866665 76.45866667-34.28693333 76.45866667-76.45866665 76.45866667z",
        special: !0
      }
    ]
  },
  {
    type: "线性",
    children: [
      {
        viewBox: [1024, 1024],
        path: "M1009.55537674 75.96950982l-61.38012212-61.38012214c-4.48769762-4.48769762-11.870684-4.48769762-16.3583816 0L14.44462326 931.67210859c-4.48769762 4.48769762-4.48769762 11.870684 0 16.35838159l61.38012212 61.38012214c4.48769762 4.48769762 11.870684 4.48769762 16.3583816 0L1009.41061232 92.18312698c4.63246205-4.34293316 4.63246205-11.72591956 0.14476442-16.21361716zM210.88996692 419.35075905c114.94296453 0 208.46079213-93.51782759 208.46079213-208.46079213s-93.51782759-208.46079213-208.46079213-208.4607921-208.46079213 93.51782759-208.4607921 208.4607921 93.51782759 208.46079213 208.4607921 208.46079213z m0-312.69118816c57.47148228 0 104.23039605 46.75891379 104.23039607 104.23039603s-46.75891379 104.23039605-104.23039607 104.23039607-104.23039605-46.75891379-104.23039603-104.23039607 46.75891379-104.23039605 104.23039603-104.23039603zM813.11003308 604.64924095c-114.94296453 0-208.46079213 93.51782759-208.46079213 208.46079213s93.51782759 208.46079213 208.46079213 208.4607921 208.46079213-93.51782759 208.4607921-208.4607921-93.51782759-208.46079213-208.4607921-208.46079213z m0 312.69118816c-57.47148228 0-104.23039605-46.75891379-104.23039607-104.23039603s46.75891379-104.23039605 104.23039607-104.23039607 104.23039605 46.75891379 104.23039603 104.23039607-46.75891379 104.23039605-104.23039603 104.23039603z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M1004.96017383 478.58365209L483.27851088 25.80594621c-4.00443838-3.45210207-9.11354943-5.3852792-14.49882864-5.38527921h-122.20441284c-10.21822208 0-14.91308089 12.70373557-7.18037228 19.33177152l483.57045622 419.77561022H14.8973037c-6.07569962 0-11.04672658 4.97102697-11.04672658 11.04672657v82.85044938c0 6.07569962 4.97102697 11.04672658 11.04672658 11.04672657h807.92996557L339.25681303 984.24756148c-7.7327086 6.76612003-3.0378498 19.33177153 7.18037229 19.33177152h126.34693531c2.62359757 0 5.24719513-0.96658859 7.18037228-2.76168164L1004.96017383 545.41634791c20.2983601-17.67476253 20.2983601-49.1579333 0-66.83269582z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M1011.38217956 558.9924242L545.80649025 22.43713295c-17.81503843-20.62055629-49.79794206-20.62055629-67.75325638 0L12.61782044 558.9924242c-6.31241519 7.29434645-1.12220714 18.51641789 8.41655359 18.51641789h113.62347344c6.45269109 0 12.62483038-2.80551785 16.97338308-7.71517411L458.69516062 215.87758959V1005.77114384c0 6.1721393 5.04993216 11.22207145 11.22207144 11.22207145h84.16553588c6.1721393 0 11.22207145-5.04993216 11.22207144-11.22207145V215.87758959l307.06393007 353.91607839c4.20827679 4.90965626 10.38041608 7.71517413 16.97338308 7.71517411h113.62347344c9.53876074 0 14.72896878-11.22207145 8.41655359-18.51641789z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M1009.1026963 459.52804874H201.17273073l483.57045624-419.77561022c7.7327086-6.76612003 3.0378498-19.33177153-7.18037229-19.33177152h-122.20441283c-5.3852792 0-10.49439025 1.93317715-14.49882866 5.38527921L19.03982617 478.58365209c-20.2983601 17.67476253-20.2983601 49.1579333 0 66.69461175L543.89742302 1000.81765136c2.07126124 1.79509307 4.55677472 2.76168163 7.18037228 2.76168164h126.3469353c10.21822208 0 14.91308089-12.70373557 7.18037228-19.33177152L201.17273073 564.47195126H1009.1026963c6.07569962 0 11.04672658-4.97102697 11.04672658-11.04672657v-82.85044938c0-6.07569962-4.97102697-11.04672658-11.04672658-11.04672657z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M1002.96562597 446.49115791h-113.62347344c-6.45269109 0-12.62483038 2.80551785-16.97338308 7.71517411L565.30483938 808.12241041V18.22885616c0-6.1721393-5.04993216-11.22207145-11.22207144-11.22207145h-84.16553588c-6.1721393 0-11.22207145 5.04993216-11.22207144 11.22207145v789.89355425L151.63123055 454.20633202c-4.20827679-4.90965626-10.38041608-7.71517413-16.97338308-7.71517411h-113.62347344c-9.53876074 0-14.72896878 11.36234735-8.41655359 18.51641789L478.19350975 1001.56286705c17.81503843 20.62055629 49.79794206 20.62055629 67.75325638 0L1011.38217956 465.0075758c6.31241519-7.29434645 1.12220714-18.51641789-8.41655359-18.51641789z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M975.82443246 622.46726585H14.8973037c-6.07569962 0-11.04672658 4.97102697-11.04672658 11.04672658v82.85044937c0 6.07569962 4.97102697 11.04672658 11.04672658 11.04672659h835.6848661L651.32683905 980.10503902c-5.66144737 7.18037229-0.55233633 17.9509307 8.69929718 17.9509307h100.11095967c6.76612003 0 13.11798782-3.0378498 17.39859437-8.42312903l233.08593092-295.63802022c22.78387358-28.99765728 2.20934532-71.52755463-34.79718873-71.52755462zM1009.1026963 296.58883161H173.4178302l199.25533075-252.69387063c5.66144737-7.18037229 0.55233633-17.9509307-8.69929718-17.9509307h-100.11095967c-6.76612003 0-13.11798782 3.0378498-17.39859437 8.42312903L13.37837881 330.00517953c-22.78387358 28.99765728-2.20934532 71.52755463 34.65910466 71.52755462h961.06521283c6.07569962 0 11.04672658-4.97102697 11.04672658-11.04672658v-82.85044937c0-6.07569962-4.97102697-11.04672658-11.04672658-11.04672659z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M1010.75873115 64.13501693H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v81.42999691c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874964h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874964v-81.42999691c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961zM1010.75873115 858.07748691H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874964v81.42999691c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-81.42999691c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874964zM1010.75873115 461.10625194H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874959v81.42999694c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874959h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874959v-81.42999694c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874959z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M591.98717801 512l405.34042913-483.16579151c6.79427767-8.02960089 1.08090782-20.22841761-9.41933951-20.2284176h-123.22349044c-7.25752386 0-14.20621693 3.24272343-18.99309439 8.80167789L511.38233839 415.95362022 177.07299399 17.40746878c-4.63246205-5.55895447-11.58115512-8.80167789-18.99309439-8.80167789H34.85640916c-10.50024731 0-16.21361717 12.19881672-9.41933952 20.2284176L430.77749876 512 25.43706964 995.16579151c-6.79427767 8.02960089-1.08090782 20.22841761 9.41933952 20.2284176h123.22349044c7.25752386 0 14.20621693-3.24272343 18.99309439-8.80167789l334.3093444-398.54615144 334.30934441 398.54615144c4.63246205 5.55895447 11.58115512 8.80167789 18.99309439 8.80167789h123.22349044c10.50024731 0 16.21361717-12.19881672 9.41933951-20.2284176L591.98717801 512z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M953.5488 832.61667556c-24.08448-57.08913778-58.74574221-108.31644445-102.70947556-152.28017777-43.96373333-43.96373333-95.19104-78.49756444-152.28017777-102.70947558-0.50972445-0.25486222-1.01944888-0.38229333-1.52917334-0.63715555C776.41955556 519.64586667 828.02915556 426.23886221 828.02915556 320.85333332c0-174.58062221-141.44853334-316.02915556-316.02915556-316.02915554S195.97084444 146.27271111 195.97084444 320.85333332c0 105.38552889 51.6096 198.79253333 130.99918223 256.26396447-0.50972445 0.25486222-1.01944888 0.38229333-1.52917334 0.63715555-57.08913778 24.08448-108.31644445 58.61831112-152.28017777 102.70947554-43.96373333 43.96373333-78.49756444 95.19104-102.70947556 152.28017779C46.74901333 888.55893332 34.13333334 947.8144 32.85902222 1008.72647111c-0.12743111 5.7344 4.46008889 10.44935111 10.19448889 10.44935111h76.45866667c5.60696888 0 10.06705778-4.46008889 10.19448889-9.93962666 2.54862221-98.37681778 42.05226667-190.50951112 111.88451555-260.34176001 72.25344-72.25344 168.20906666-112.01194667 270.40881778-112.01194667s198.15537778 39.75850667 270.40881778 112.01194667C852.24106667 818.72668444 891.74471111 910.85937779 894.29333333 1009.23619556c0.12743111 5.60696888 4.58752 9.93962667 10.19448889 9.93962666h76.45866667c5.7344 0 10.32192-4.71495112 10.19448889-10.44935111-1.27431111-60.91207112-13.88999112-120.16753779-37.59217778-176.10979555zM512 540.03484444c-58.49088 0-113.54112-22.81016889-154.95623111-64.22527999S292.81848888 379.34421333 292.81848888 320.85333332c0-58.49088 22.81016889-113.54112 64.22528001-154.9562311S453.50912 101.67182221 512 101.67182221s113.54112 22.81016889 154.95623111 64.22528001S731.18151112 262.36245333 731.18151112 320.85333332c0 58.49088-22.81016889 113.54112-64.22528001 154.95623113S570.49088 540.03484444 512 540.03484444z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M985.31555555 111.50222222H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888889v728.17777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h946.6311111c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V147.91111111c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888889z m-45.5111111 126.06577778V830.57777778H84.19555555V237.568l-31.40266666-24.46222222 44.71466666-57.45777778 48.6968889 37.888h731.70488888l48.69688889-37.888 44.71466667 57.45777778-31.51644444 24.46222222z M877.90933333 193.42222222L512 477.86666667 146.09066667 193.42222222l-48.69688889-37.888-44.71466667 57.45777778 31.40266667 24.46222222 388.66488889 302.19377778c22.98311111 17.86311111 55.18222222 17.86311111 78.16533333 0L939.80444445 237.568l31.40266666-24.46222222-44.71466666-57.45777778-48.58311112 37.77422222z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M985.31555555 88.74666667H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888888v564.33777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h432.35555555v127.43111111H275.34222222c-10.01244445 0-18.20444445 8.192-18.20444444 18.20444445v54.61333333c0 5.00622222 4.096 9.10222222 9.10222222 9.10222222h491.52c5.00622222 0 9.10222222-4.096 9.10222222-9.10222222v-54.61333333c0-10.01244445-8.192-18.20444445-18.20444444-18.20444445H552.96V725.90222222h432.35555555c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V125.15555555c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888888z m-45.5111111 555.23555555H84.19555555V170.66666667h855.6088889v473.31555555z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m0 932.97777778c-233.69955555 0-423.25333333-189.55377778-423.25333333-423.25333333 0-101.26222222 35.61244445-194.33244445 95.00444444-267.15022222l595.39911111 595.39911111C706.33244445 899.64088889 613.26222222 935.25333333 512 935.25333333z m328.24888889-156.10311111L244.84977778 183.75111111C317.66755555 124.35911111 410.73777778 88.74666667 512 88.74666667c233.69955555 0 423.25333333 189.55377778 423.25333333 423.25333333 0 101.26222222-35.61244445 194.33244445-95.00444444 267.15022222z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M901.80266667 257.82044445L656.95288889 12.97066667c-6.82666667-6.82666667-16.04266667-10.69511111-25.71377778-10.69511112H147.91111111c-20.13866667 0-36.40888889 16.27022222-36.40888889 36.4088889v946.6311111c0 20.13866667 16.27022222 36.40888889 36.40888889 36.4088889h728.17777778c20.13866667 0 36.40888889-16.27022222 36.40888889-36.4088889V283.648c0-9.67111111-3.86844445-19.00088889-10.69511111-25.82755555zM828.52977778 300.37333333H614.4V86.24355555L828.52977778 300.37333333z m2.048 639.43111112H193.42222222V84.19555555h343.60888889v245.76c0 26.39644445 21.39022222 47.78666667 47.78666667 47.78666667h245.76v562.06222223z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M981.07392 55.79662222H42.92608c-31.22062222 0-50.71758221 34.02410666-35.04355556 61.16693334L304.28728889 620.82616888V927.42542221c0 22.55530667 18.09521779 40.77795555 40.52309333 40.77795557h334.37923556c22.42787556 0 40.52309333-18.22264888 40.52309333-40.77795557V620.82616888L1016.24490667 116.96355556c15.54659555-27.14282666-3.95036444-61.16693333-35.17098667-61.16693334zM628.47203556 876.45297779H395.52796444V677.66044445h233.07150222v198.79253334z m12.23338666-301.50200891l-12.10595556 21.15356445h-233.19893332l-12.10595556-21.15356445L130.59868445 147.54702221h762.8026311L640.70542222 574.95096888z",
        special: !0,
        outlined: !0
      },
      {
        viewBox: [1024, 1024],
        path: "M980.62285431 4.54099753H654.39920987c-4.2719763 0-7.76722963 3.49525333-7.76722962 7.76722964v72.4941432c0 4.2719763 3.49525333 7.76722963 7.76722962 7.76722963h207.64393877L604.04167111 350.57107753c-64.72691358-49.83972347-143.69374815-76.7661195-226.67365136-76.7661195-99.54999309 0-193.27456395 38.83614815-263.5679921 109.25903012S4.54099753 547.08198717 4.54099753 646.63198025s38.83614815 193.27456395 109.25903012 263.5679921C184.09345581 980.62285431 277.81802667 1019.45900247 377.36801975 1019.45900247s193.27456395-38.83614815 263.5679921-109.25903012C711.35889383 839.90654419 750.19504197 746.18197333 750.19504197 646.63198025c0-82.9799032-26.92639605-161.68783013-76.63666567-226.41474372L931.4304 162.34521283V369.60079013c0 4.2719763 3.49525333 7.76722963 7.76722963 7.76722962h72.4941432c4.2719763 0 7.76722963-3.49525333 7.76722964-7.76722962V43.37714569c0-21.35988148-17.47626667-38.83614815-38.83614816-38.83614816zM377.36801975 921.07409383c-151.33152395 0-274.44211358-123.11058963-274.44211358-274.44211358s123.11058963-274.44211358 274.44211358-274.44211358 274.44211358 123.11058963 274.44211358 274.44211358-123.11058963 274.44211358-274.44211358 274.44211358z",
        special: !0,
        outlined: !0
      }
    ]
  }
], vf = {
  bar: "柱状图",
  column: "条形图",
  line: "折线图",
  area: "面积图",
  scatter: "散点图",
  pie: "饼图",
  ring: "环形图",
  radar: "雷达图"
}, Eb = {
  bar: {
    labels: ["类别1", "类别2", "类别3", "类别4", "类别5"],
    legends: ["系列1", "系列2"],
    series: [[12, 19, 5, 2, 18], [7, 11, 13, 21, 9]]
  },
  column: {
    labels: ["类别1", "类别2", "类别3", "类别4", "类别5"],
    legends: ["系列1", "系列2"],
    series: [[12, 19, 5, 2, 18], [7, 11, 13, 21, 9]]
  },
  line: {
    labels: ["类别1", "类别2", "类别3", "类别4", "类别5"],
    legends: ["系列1", "系列2"],
    series: [[12, 19, 5, 2, 18], [7, 11, 13, 21, 9]]
  },
  pie: {
    labels: ["类别1", "类别2", "类别3", "类别4", "类别5"],
    legends: ["值"],
    series: [[12, 19, 5, 2, 18]]
  },
  ring: {
    labels: ["类别1", "类别2", "类别3", "类别4", "类别5"],
    legends: ["值"],
    series: [[12, 19, 5, 2, 18]]
  },
  area: {
    labels: ["类别1", "类别2", "类别3", "类别4", "类别5"],
    legends: ["系列1", "系列2"],
    series: [[12, 19, 5, 2, 18], [7, 11, 13, 21, 9]]
  },
  radar: {
    labels: ["类别1", "类别2", "类别3", "类别4", "类别5"],
    legends: ["系列1", "系列2"],
    series: [[12, 19, 5, 2, 18], [7, 11, 13, 21, 9]]
  },
  scatter: {
    labels: ["坐标1", "坐标2", "坐标3", "坐标4", "坐标5"],
    legends: ["X", "Y"],
    series: [[12, 19, 5, 2, 18], [7, 11, 13, 21, 9]]
  }
}, Mb = [
  ["#d87c7c", "#919e8b", "#d7ab82", "#6e7074", "#61a0a8", "#efa18d"],
  ["#dd6b66", "#759aa0", "#e69d87", "#8dc1a9", "#ea7e53", "#eedd78"],
  ["#516b91", "#59c4e6", "#edafda", "#93b7e3", "#a5e7f0", "#cbb0e3"],
  ["#893448", "#d95850", "#eb8146", "#ffb248", "#f2d643", "#ebdba4"],
  ["#4ea397", "#22c3aa", "#7bd9a5", "#d0648a", "#f58db2", "#f2b3c9"],
  ["#3fb1e3", "#6be6c1", "#626c91", "#a0a7e6", "#c4ebad", "#96dee8"],
  ["#fc97af", "#87f7cf", "#f7f494", "#72ccff", "#f7c5a0", "#d4a4eb"],
  ["#c1232b", "#27727b", "#fcce10", "#e87c25", "#b5c334", "#fe8463"],
  ["#2ec7c9", "#b6a2de", "#5ab1ef", "#ffb980", "#d87a80", "#8d98b3"],
  ["#e01f54", "#001852", "#f5e8c8", "#b8d2c7", "#c6b38e", "#a4d8c2"],
  ["#c12e34", "#e6b600", "#0098d9", "#2b821d", "#005eaa", "#339ca8"],
  ["#8a7ca8", "#e098c7", "#8fd3e8", "#71669e", "#cc70af", "#7cb4cc"]
], Xe = () => {
  const t = $u(), e = Qa(function() {
    t.addSnapshot();
  }, 300, { trailing: !0 }), n = ja(function() {
    t.reDo();
  }, 100, { leading: !0, trailing: !1 }), o = ja(function() {
    t.unDo();
  }, 100, { leading: !0, trailing: !1 });
  return {
    addHistorySnapshot: e,
    redo: n,
    undo: o
  };
}, ar = () => {
  const t = Te(), e = Ie(), { creatingElement: n } = de(t), { theme: o, viewportRatio: a, viewportSize: r } = de(e), { addHistorySnapshot: i } = Xe(), s = (g, y) => {
    e.addElement(g), t.setActiveElementIdList([g.id]), n.value && t.setCreatingElement(null), setTimeout(() => {
      t.setEditorareaFocus(!0);
    }, 0), y && y(), i();
  };
  return {
    createImageElement: (g) => {
      Tb(g).then(({ width: y, height: _ }) => {
        const w = _ / y;
        w < a.value && y > r.value ? (y = r.value, _ = y * w) : _ > r.value * a.value && (_ = r.value * a.value, y = _ / w), s({
          type: "image",
          id: tt(10),
          src: g,
          width: y,
          height: _,
          left: (r.value - y) / 2,
          top: (r.value * a.value - _) / 2,
          fixedRatio: !0,
          rotate: 0
        });
      });
    },
    createChartElement: (g) => {
      s({
        type: "chart",
        id: tt(10),
        chartType: g,
        left: 300,
        top: 81.25,
        width: 400,
        height: 400,
        rotate: 0,
        themeColors: [o.value.themeColor],
        textColor: o.value.fontColor,
        data: Eb[g]
      });
    },
    createTableElement: (g, y) => {
      const _ = {
        fontname: o.value.fontName,
        color: o.value.fontColor
      }, w = [];
      for (let M = 0; M < g; M++) {
        const E = [];
        for (let D = 0; D < y; D++)
          E.push({ id: tt(10), colspan: 1, rowspan: 1, text: "", style: _ });
        w.push(E);
      }
      const x = 100, S = 36, L = new Array(y).fill(1 / y), b = y * x, I = g * S;
      s({
        type: "table",
        id: tt(10),
        width: b,
        height: I,
        colWidths: L,
        rotate: 0,
        data: w,
        left: (r.value - b) / 2,
        top: (r.value * a.value - I) / 2,
        outline: {
          width: 2,
          style: "solid",
          color: "#eeece1"
        },
        theme: {
          color: o.value.themeColor,
          rowHeader: !0,
          rowFooter: !1,
          colHeader: !1,
          colFooter: !1
        },
        cellMinHeight: 36
      });
    },
    createTextElement: (g, y) => {
      const { left: _, top: w, width: x, height: S } = g, L = (y == null ? void 0 : y.content) || "", b = (y == null ? void 0 : y.vertical) || !1, I = tt(10);
      s({
        type: "text",
        id: I,
        left: _,
        top: w,
        width: x,
        height: S,
        content: L,
        rotate: 0,
        defaultFontName: o.value.fontName,
        defaultColor: o.value.fontColor,
        vertical: b
      }, () => {
        setTimeout(() => {
          const M = document.querySelector(`#editable-element-${I} .ProseMirror`);
          M && M.focus();
        }, 0);
      });
    },
    createShapeElement: (g, y, _ = {}) => {
      const { left: w, top: x, width: S, height: L } = g, b = {
        type: "shape",
        id: tt(10),
        left: w,
        top: x,
        width: S,
        height: L,
        viewBox: y.viewBox,
        path: y.path,
        fill: o.value.themeColor,
        fixedRatio: !1,
        rotate: 0,
        ..._
      };
      if (y.withborder && (b.outline = o.value.outline), y.special && (b.special = !0), y.pathFormula) {
        b.pathFormula = y.pathFormula, b.viewBox = [S, L];
        const I = or[y.pathFormula];
        "editable" in I && I.editable ? (b.path = I.formula(S, L, I.defaultValue), b.keypoints = I.defaultValue) : b.path = I.formula(S, L);
      }
      s(b);
    },
    createLineElement: (g, y) => {
      const { left: _, top: w, start: x, end: S } = g, L = {
        type: "line",
        id: tt(10),
        left: _,
        top: w,
        start: x,
        end: S,
        points: y.points,
        color: o.value.themeColor,
        style: y.style,
        width: 2
      };
      y.isBroken && (L.broken = [(x[0] + S[0]) / 2, (x[1] + S[1]) / 2]), y.isBroken2 && (L.broken2 = [(x[0] + S[0]) / 2, (x[1] + S[1]) / 2]), y.isCurve && (L.curve = [(x[0] + S[0]) / 2, (x[1] + S[1]) / 2]), y.isCubic && (L.cubic = [[(x[0] + S[0]) / 2, (x[1] + S[1]) / 2], [(x[0] + S[0]) / 2, (x[1] + S[1]) / 2]]), s(L);
    },
    createLatexElement: (g) => {
      s({
        type: "latex",
        id: tt(10),
        width: g.w,
        height: g.h,
        rotate: 0,
        left: (r.value - g.w) / 2,
        top: (r.value * a.value - g.h) / 2,
        path: g.path,
        latex: g.latex,
        color: o.value.fontColor,
        strokeWidth: 2,
        viewBox: [g.w, g.h],
        fixedRatio: !0
      });
    },
    createVideoElement: (g) => {
      s({
        type: "video",
        id: tt(10),
        width: 500,
        height: 300,
        rotate: 0,
        left: (r.value - 500) / 2,
        top: (r.value * a.value - 300) / 2,
        src: g,
        autoplay: !1
      });
    },
    createAudioElement: (g) => {
      s({
        type: "audio",
        id: tt(10),
        width: 50,
        height: 50,
        rotate: 0,
        left: (r.value - 50) / 2,
        top: (r.value * a.value - 50) / 2,
        loop: !1,
        autoplay: !1,
        fixedRatio: !0,
        color: o.value.themeColor,
        src: g
      });
    }
  };
}, Pu = () => {
  const t = Te(), e = Ie(), { currentSlide: n } = de(e), { addHistorySnapshot: o } = Xe();
  return {
    addElementsFromData: (i) => {
      const { groupIdMap: s, elIdMap: l } = df(i), u = i[0];
      let c = 0, d;
      do
        d = n.value.elements.find((f) => {
          if (f.type !== u.type) return !1;
          const { minX: v, maxX: p, minY: h, maxY: m } = Rn(f), { minX: g, maxX: y, minY: _, maxY: w } = Rn({
            ...u,
            left: u.left + c,
            top: u.top + c
          });
          return v === g && p === y && h === _ && m === w;
        }), d && (c += 10);
      while (d);
      for (const f of i)
        f.id = l[f.id], f.left = f.left + c, f.top = f.top + c, f.groupId && (f.groupId = s[f.groupId]);
      e.addElement(i), t.setActiveElementIdList(Object.values(l)), o();
    },
    addSlidesFromData: (i) => {
      const s = pb(i), l = i.map((u) => {
        const { groupIdMap: c, elIdMap: d } = df(u.elements);
        for (const f of u.elements)
          f.id = d[f.id], f.groupId && (f.groupId = c[f.groupId]), f.link && f.link.type === "slide" && (s[f.link.target] ? f.link.target = s[f.link.target] : delete f.link);
        if (u.animations)
          for (const f of u.animations)
            f.id = tt(10), f.elId = d[f.elId];
        return {
          ...u,
          id: s[u.id]
        };
      });
      e.addSlide(l), o();
    }
  };
}, Ab = (t) => /^https:\/\/pptist.cn(\/[\w-./?%&=]*)?\.(jpg|jpeg|png|svg|webp)(\?.*)?$/i.test(t), $v = () => {
  const { shiftKeyState: t } = de(eo()), { createTextElement: e, createImageElement: n } = ar(), { addElementsFromData: o, addSlidesFromData: a } = Pu(), r = (s) => {
    e({
      left: 0,
      top: 0,
      width: 600,
      height: 50
    }, { content: s });
  };
  return {
    pasteTextClipboardData: (s, l) => {
      const u = (l == null ? void 0 : l.onlySlide) || !1, c = (l == null ? void 0 : l.onlyElements) || !1, d = Mv(s);
      if (typeof d == "object") {
        const { type: f, data: v } = d;
        f === "elements" && !u ? o(v) : f === "slides" && !c && a(v);
      } else if (!c && !u)
        if (t.value) {
          const f = eu(d);
          r(f);
        } else if (Ab(d))
          n(d);
        else if (fb(d))
          r(`<a href="${d}" title="${d}" target="_blank">${d}</a>`);
        else if (Lb(d)) {
          const f = kb(d);
          fa(f).then((v) => n(v));
        } else {
          const f = eu(d);
          r(f);
        }
    }
  };
}, va = () => {
  const t = Te(), e = Ie(), { selectedSlidesIndex: n, activeElementIdList: o } = de(t), { currentSlide: a, slides: r, theme: i, slideIndex: s } = de(e), l = ne(() => [...n.value, s.value]), u = ne(() => r.value.filter((M, E) => l.value.includes(E))), c = ne(() => u.value.map((M) => M.id)), { pasteTextClipboardData: d } = $v(), { addSlidesFromData: f } = Pu(), { addHistorySnapshot: v } = Xe(), p = () => {
    const M = {
      id: tt(10),
      elements: [],
      background: {
        type: "solid",
        color: i.value.backgroundColor
      }
    };
    e.updateSlideIndex(0), t.setActiveElementIdList([]), e.setSlides([M]);
  }, h = (M) => {
    M === Me.UP && s.value > 0 ? (o.value.length && t.setActiveElementIdList([]), e.updateSlideIndex(s.value - 1)) : M === Me.DOWN && s.value < r.value.length - 1 && (o.value.length && t.setActiveElementIdList([]), e.updateSlideIndex(s.value + 1));
  }, m = () => {
    const M = Ev(JSON.stringify({
      type: "slides",
      data: u.value
    }));
    vg(M).then(() => {
      t.setThumbnailsFocus(!0);
    });
  }, g = () => {
    pg().then((M) => {
      d(M, { onlySlide: !0 });
    }).catch((M) => at.warning(M));
  }, y = () => {
    const M = {
      id: tt(10),
      elements: [],
      background: {
        type: "solid",
        color: i.value.backgroundColor
      }
    };
    t.setActiveElementIdList([]), e.addSlide(M), v();
  }, _ = (M) => {
    const { groupIdMap: E, elIdMap: D } = df(M.elements);
    for (const N of M.elements)
      N.id = D[N.id], N.groupId && (N.groupId = E[N.groupId]);
    const O = {
      ...M,
      id: tt(10)
    };
    t.setActiveElementIdList([]), e.addSlide(O), v();
  }, w = () => {
    const M = JSON.parse(JSON.stringify(a.value));
    f([M]);
  }, x = (M = c.value) => {
    r.value.length === M.length ? p() : e.deleteSlide(M), t.updateSelectedSlidesIndex([]), v();
  }, S = () => {
    const M = [...c.value];
    m(), x(M);
  }, L = () => {
    const M = Array.from(Array(r.value.length), (E, D) => D);
    t.setActiveElementIdList([]), t.updateSelectedSlidesIndex(M);
  }, b = (M, E) => {
    if (E === M) return;
    const D = JSON.parse(JSON.stringify(r.value)), O = D[E], N = O.sectionTag;
    if (N) {
      const $ = D[E + 1];
      delete O.sectionTag, $ && !$.sectionTag && ($.sectionTag = N);
    }
    if (M === 0) {
      const $ = D[0].sectionTag;
      $ && (delete D[0].sectionTag, O.sectionTag = $);
    }
    const P = D[E];
    D.splice(E, 1), D.splice(M, 0, P), e.setSlides(D), e.updateSlideIndex(M);
  }, I = ne(() => !(r.value.length > 1 || r.value[0].elements.length > 0));
  return {
    resetSlides: p,
    updateSlideIndex: h,
    copySlide: m,
    pasteSlide: g,
    createSlide: y,
    createSlideByTemplate: _,
    copyAndPasteSlide: w,
    deleteSlide: x,
    cutSlide: S,
    selectAllSlide: L,
    sortSlides: b,
    isEmptySlide: I
  };
}, gg = () => {
  const t = Te(), e = Ie(), { activeElementIdList: n } = de(t), { currentSlide: o } = de(e), { addHistorySnapshot: a } = Xe();
  return {
    lockElement: () => {
      const s = JSON.parse(JSON.stringify(o.value.elements));
      for (const l of s)
        n.value.includes(l.id) && (l.lock = !0);
      e.updateSlide({ elements: s }), t.setActiveElementIdList([]), a();
    },
    unlockElement: (s) => {
      const l = JSON.parse(JSON.stringify(o.value.elements));
      if (s.groupId) {
        const u = [];
        for (const c of l)
          c.groupId === s.groupId && (c.lock = !1, u.push(c.id));
        e.updateSlide({ elements: l }), t.setActiveElementIdList(u);
      } else {
        for (const u of l)
          if (u.id === s.id) {
            u.lock = !1;
            break;
          }
        e.updateSlide({ elements: l }), t.setActiveElementIdList([s.id]);
      }
      a();
    }
  };
}, Ds = () => {
  const t = Te(), e = Ie(), { activeElementIdList: n, activeGroupElementId: o } = de(t), { currentSlide: a } = de(e), { addHistorySnapshot: r } = Xe();
  return {
    deleteElement: () => {
      if (!n.value.length) return;
      let l = [];
      o.value ? l = a.value.elements.filter((u) => u.id !== o.value) : l = a.value.elements.filter((u) => !n.value.includes(u.id)), t.setActiveElementIdList([]), e.updateSlide({ elements: l }), r();
    },
    deleteAllElements: () => {
      a.value.elements.length && (t.setActiveElementIdList([]), e.updateSlide({ elements: [] }), r());
    }
  };
}, Pv = () => {
  const t = Te(), e = Ie(), { activeElementIdList: n, activeElementList: o, handleElementId: a } = de(t), { currentSlide: r } = de(e), { addHistorySnapshot: i } = Xe();
  return {
    canCombine: ne(() => {
      if (o.value.length < 2) return !1;
      const c = o.value[0].groupId;
      return c ? !o.value.every((f) => (f.groupId && f.groupId) === c) : !0;
    }),
    combineElements: () => {
      if (!o.value.length) return;
      let c = JSON.parse(JSON.stringify(r.value.elements));
      const d = tt(10), f = [];
      for (const m of c)
        n.value.includes(m.id) && (m.groupId = d, f.push(m));
      const v = c.findIndex((m) => m.id === f[f.length - 1].id), p = f.map((m) => m.id);
      c = c.filter((m) => !p.includes(m.id));
      const h = v - f.length + 1;
      c.splice(h, 0, ...f), e.updateSlide({ elements: c }), i();
    },
    uncombineElements: () => {
      if (!o.value.length || !o.value.some((v) => v.groupId)) return;
      const d = JSON.parse(JSON.stringify(r.value.elements));
      for (const v of d)
        n.value.includes(v.id) && v.groupId && delete v.groupId;
      e.updateSlide({ elements: d });
      const f = a.value ? [a.value] : [];
      t.setActiveElementIdList(f), i();
    }
  };
}, Rv = () => {
  const t = Te(), { activeElementIdList: e, activeElementList: n } = de(t), { pasteTextClipboardData: o } = $v(), { deleteElement: a } = Ds(), r = () => {
    if (!e.value.length) return;
    const u = Ev(JSON.stringify({
      type: "elements",
      data: n.value
    }));
    vg(u).then(() => {
      t.setEditorareaFocus(!0);
    });
  }, i = () => {
    r(), a();
  }, s = () => {
    pg().then((u) => {
      o(u);
    }).catch((u) => at.warning(u));
  };
  return {
    copyElement: r,
    cutElement: i,
    pasteElement: s,
    quickCopyElement: () => {
      r(), s();
    }
  };
}, Ru = () => {
  const t = Te(), { currentSlide: e } = de(Ie()), { hiddenElementIdList: n, handleElementId: o } = de(t);
  return {
    selectAllElements: () => {
      const s = e.value.elements.filter((l) => !l.lock && !n.value.includes(l.id)).map((l) => l.id);
      t.setActiveElementIdList(s);
    },
    selectElement: (i) => {
      o.value === i || n.value.includes(i) || e.value.elements.filter((l) => l.lock).some((l) => l.id === i) || t.setActiveElementIdList([i]);
    }
  };
}, Db = () => {
  const t = Ie(), { activeElementIdList: e, activeGroupElementId: n } = de(Te()), { currentSlide: o } = de(t), { addHistorySnapshot: a } = Xe();
  return {
    moveElement: (i, s = 1) => {
      let l = [];
      const u = (c) => {
        let { left: d, top: f } = c;
        switch (i) {
          case Me.LEFT:
            d = d - s;
            break;
          case Me.RIGHT:
            d = d + s;
            break;
          case Me.UP:
            f = f - s;
            break;
          case Me.DOWN:
            f = f + s;
            break;
        }
        return { ...c, left: d, top: f };
      };
      n.value ? l = o.value.elements.map((c) => n.value === c.id ? u(c) : c) : l = o.value.elements.map((c) => e.value.includes(c.id) ? u(c) : c), t.updateSlide({ elements: l }), a();
    }
  };
}, $s = () => {
  const t = Ie(), { currentSlide: e } = de(t), { addHistorySnapshot: n } = Xe(), o = (u, c) => ({
    minLevel: u.findIndex((d) => d.id === c[0].id),
    maxLevel: u.findIndex((d) => d.id === c[c.length - 1].id)
  }), a = (u, c) => {
    const d = JSON.parse(JSON.stringify(u));
    if (c.groupId) {
      const f = d.filter((g) => g.groupId === c.groupId), { minLevel: v, maxLevel: p } = o(u, f);
      if (p === u.length - 1) return;
      const h = d[p + 1], m = d.splice(v, f.length);
      if (h.groupId) {
        const g = d.filter((y) => y.groupId === h.groupId);
        d.splice(v + g.length, 0, ...m);
      } else d.splice(v + 1, 0, ...m);
    } else {
      const f = u.findIndex((h) => h.id === c.id);
      if (f === u.length - 1) return;
      const v = d[f + 1], p = d.splice(f, 1)[0];
      if (v.groupId) {
        const h = d.filter((m) => m.groupId === v.groupId);
        d.splice(f + h.length, 0, p);
      } else d.splice(f + 1, 0, p);
    }
    return d;
  }, r = (u, c) => {
    const d = JSON.parse(JSON.stringify(u));
    if (c.groupId) {
      const f = d.filter((m) => m.groupId === c.groupId), { minLevel: v } = o(u, f);
      if (v === 0) return;
      const p = d[v - 1], h = d.splice(v, f.length);
      if (p.groupId) {
        const m = d.filter((g) => g.groupId === p.groupId);
        d.splice(v - m.length, 0, ...h);
      } else d.splice(v - 1, 0, ...h);
    } else {
      const f = u.findIndex((h) => h.id === c.id);
      if (f === 0) return;
      const v = d[f - 1], p = d.splice(f, 1)[0];
      if (v.groupId) {
        const h = d.filter((m) => m.groupId === v.groupId);
        d.splice(f - h.length, 0, p);
      } else d.splice(f - 1, 0, p);
    }
    return d;
  }, i = (u, c) => {
    const d = JSON.parse(JSON.stringify(u));
    if (c.groupId) {
      const f = d.filter((m) => m.groupId === c.groupId), { minLevel: v, maxLevel: p } = o(u, f);
      if (p === u.length - 1) return null;
      const h = d.splice(v, f.length);
      d.push(...h);
    } else {
      const f = u.findIndex((v) => v.id === c.id);
      if (f === u.length - 1) return null;
      d.splice(f, 1), d.push(c);
    }
    return d;
  }, s = (u, c) => {
    const d = JSON.parse(JSON.stringify(u));
    if (c.groupId) {
      const f = d.filter((h) => h.groupId === c.groupId), { minLevel: v } = o(u, f);
      if (v === 0) return;
      const p = d.splice(v, f.length);
      d.unshift(...p);
    } else {
      const f = u.findIndex((v) => v.id === c.id);
      if (f === 0) return;
      d.splice(f, 1), d.unshift(c);
    }
    return d;
  };
  return {
    orderElement: (u, c) => {
      let d;
      c === Ct.UP ? d = a(e.value.elements, u) : c === Ct.DOWN ? d = r(e.value.elements, u) : c === Ct.TOP ? d = i(e.value.elements, u) : c === Ct.BOTTOM && (d = s(e.value.elements, u)), d && (t.updateSlide({ elements: d }), n());
    }
  };
}, Ov = () => {
  const t = document.documentElement;
  t.requestFullscreen ? t.requestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.webkitRequestFullScreen ? t.webkitRequestFullScreen() : t.msRequestFullscreen && t.msRequestFullscreen();
}, yg = () => {
  document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.msExitFullscreen && document.msExitFullscreen();
}, pf = () => !!(document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement || document.webkitCurrentFullScreenElement), pa = () => {
  const t = cg(), e = Ie(), n = () => {
    Ov(), t.setScreening(!0);
  };
  return {
    enterScreening: n,
    enterScreeningFromStart: () => {
      e.updateSlideIndex(0), n();
    },
    exitScreening: () => {
      t.setScreening(!1), pf() && yg();
    }
  };
}, Nv = () => {
  const t = Te(), { canvasPercentage: e, canvasScale: n, canvasDragged: o } = de(t);
  return {
    canvasScalePercentage: ne(() => Math.round(n.value * 100) + "%"),
    setCanvasScalePercentage: (l) => {
      const u = Math.round(l / n.value * e.value) / 100;
      t.setCanvasPercentage(u);
    },
    scaleCanvas: (l) => {
      let u = e.value;
      const c = 5, d = 200, f = 30;
      l === "+" && u <= d && (u += c), l === "-" && u >= f && (u -= c), t.setCanvasPercentage(u);
    },
    resetCanvas: () => {
      t.setCanvasPercentage(90), o && t.setCanvasDragged(!1);
    }
  };
}, $b = () => {
  const t = Te(), e = eo(), {
    activeElementIdList: n,
    disableHotkeys: o,
    handleElement: a,
    handleElementId: r,
    editorAreaFocus: i,
    thumbnailsFocus: s,
    showSearchPanel: l
  } = de(t), { currentSlide: u } = de(Ie()), { ctrlKeyState: c, shiftKeyState: d, spaceKeyState: f } = de(e), {
    updateSlideIndex: v,
    copySlide: p,
    createSlide: h,
    deleteSlide: m,
    cutSlide: g,
    copyAndPasteSlide: y,
    selectAllSlide: _
  } = va(), { combineElements: w, uncombineElements: x } = Pv(), { deleteElement: S } = Ds(), { lockElement: L } = gg(), { copyElement: b, cutElement: I, quickCopyElement: M } = Rv(), { selectAllElements: E } = Ru(), { moveElement: D } = Db(), { orderElement: O } = $s(), { redo: N, undo: P } = Xe(), { enterScreening: $, enterScreeningFromStart: z } = pa(), { scaleCanvas: H, resetCanvas: W } = Nv(), oe = () => {
    n.value.length ? b() : s.value && p();
  }, te = () => {
    n.value.length ? I() : s.value && g();
  }, le = () => {
    n.value.length ? M() : s.value && y();
  }, J = () => {
    i.value && E(), s.value && _();
  }, Q = () => {
    i.value && L();
  }, q = () => {
    i.value && w();
  }, G = () => {
    i.value && x();
  }, B = () => {
    n.value.length ? S() : s.value && m();
  }, ee = (ae) => {
    n.value.length ? D(ae) : (ae === Me.UP || ae === Me.DOWN) && v(ae);
  }, ue = (ae) => {
    ae === Me.PAGEUP ? v(Me.UP) : ae === Me.PAGEDOWN && v(Me.DOWN);
  }, X = (ae) => {
    a.value && O(a.value, ae);
  }, Y = () => {
    s.value && h();
  }, U = () => {
    if (!u.value.elements.length) return;
    if (!r.value) {
      const ke = u.value.elements[0];
      t.setActiveElementIdList([ke.id]);
      return;
    }
    const ae = u.value.elements.findIndex((ke) => ke.id === r.value), he = ae >= u.value.elements.length - 1 ? 0 : ae + 1, Ce = u.value.elements[he].id;
    t.setActiveElementIdList([Ce]);
  }, K = (ae) => {
    const { ctrlKey: he, shiftKey: Ce, altKey: ke, metaKey: Se } = ae, be = he || Se, we = ae.key.toUpperCase();
    if (be && !c.value && e.setCtrlKeyState(!0), Ce && !d.value && e.setShiftKeyState(!0), !o.value && we === Me.SPACE && e.setSpaceKeyState(!0), be && we === Me.P) {
      ae.preventDefault(), t.setDialogForExport("pdf");
      return;
    }
    if (Ce && we === Me.F5) {
      ae.preventDefault(), $(), e.setShiftKeyState(!1);
      return;
    }
    if (we === Me.F5) {
      ae.preventDefault(), z();
      return;
    }
    if (he && we === Me.F) {
      ae.preventDefault(), t.setSearchPanelState(!l.value);
      return;
    }
    if (!(!i.value && !s.value)) {
      if (be && we === Me.C) {
        if (o.value) return;
        ae.preventDefault(), oe();
      }
      if (be && we === Me.X) {
        if (o.value) return;
        ae.preventDefault(), te();
      }
      if (be && we === Me.D) {
        if (o.value) return;
        ae.preventDefault(), le();
      }
      if (be && we === Me.Z) {
        if (o.value) return;
        ae.preventDefault(), P();
      }
      if (be && we === Me.Y) {
        if (o.value) return;
        ae.preventDefault(), N();
      }
      if (be && we === Me.A) {
        if (o.value) return;
        ae.preventDefault(), J();
      }
      if (be && we === Me.L) {
        if (o.value) return;
        ae.preventDefault(), Q();
      }
      if (!Ce && be && we === Me.G) {
        if (o.value) return;
        ae.preventDefault(), q();
      }
      if (Ce && be && we === Me.G) {
        if (o.value) return;
        ae.preventDefault(), G();
      }
      if (ke && we === Me.F) {
        if (o.value) return;
        ae.preventDefault(), X(Ct.TOP);
      }
      if (ke && we === Me.B) {
        if (o.value) return;
        ae.preventDefault(), X(Ct.BOTTOM);
      }
      if (we === Me.DELETE || we === Me.BACKSPACE) {
        if (o.value) return;
        ae.preventDefault(), B();
      }
      if (we === Me.UP) {
        if (o.value) return;
        ae.preventDefault(), ee(Me.UP);
      }
      if (we === Me.DOWN) {
        if (o.value) return;
        ae.preventDefault(), ee(Me.DOWN);
      }
      if (we === Me.LEFT) {
        if (o.value) return;
        ae.preventDefault(), ee(Me.LEFT);
      }
      if (we === Me.RIGHT) {
        if (o.value) return;
        ae.preventDefault(), ee(Me.RIGHT);
      }
      if (we === Me.PAGEUP) {
        if (o.value) return;
        ae.preventDefault(), ue(Me.PAGEUP);
      }
      if (we === Me.PAGEDOWN) {
        if (o.value) return;
        ae.preventDefault(), ue(Me.PAGEDOWN);
      }
      if (we === Me.ENTER) {
        if (o.value) return;
        ae.preventDefault(), Y();
      }
      if (we === Me.MINUS) {
        if (o.value) return;
        ae.preventDefault(), H("-");
      }
      if (we === Me.EQUAL) {
        if (o.value) return;
        ae.preventDefault(), H("+");
      }
      if (we === Me.DIGIT_0) {
        if (o.value) return;
        ae.preventDefault(), W();
      }
      if (we === Me.TAB) {
        if (o.value) return;
        ae.preventDefault(), U();
      }
      i.value && !Ce && !be && !o.value && (we === Me.T ? t.setCreatingElement({ type: "text" }) : we === Me.R ? t.setCreatingElement({ type: "shape", data: {
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 200 L 0 200 Z"
      } }) : we === Me.O ? t.setCreatingElement({ type: "shape", data: {
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"
      } }) : we === Me.L && t.setCreatingElement({ type: "line", data: {
        path: "M 0 0 L 20 20",
        style: "solid",
        points: ["", ""]
      } }));
    }
  }, Z = () => {
    c.value && e.setCtrlKeyState(!1), d.value && e.setShiftKeyState(!1), f.value && e.setSpaceKeyState(!1);
  };
  Qe(() => {
    document.addEventListener("keydown", K), document.addEventListener("keyup", Z), window.addEventListener("blur", Z);
  }), ht(() => {
    document.removeEventListener("keydown", K), document.removeEventListener("keyup", Z), window.removeEventListener("blur", Z);
  });
}, Pb = () => {
  const { editorAreaFocus: t, thumbnailsFocus: e, disableHotkeys: n } = de(Te()), { pasteTextClipboardData: o } = $v(), { createImageElement: a } = ar(), r = (s) => {
    fa(s).then((l) => a(l));
  }, i = (s) => {
    if (!t.value && !e.value || n.value || !s.clipboardData) return;
    const l = s.clipboardData.items, u = l[0];
    if (u) {
      for (const c of l)
        if (c.kind === "file" && c.type.indexOf("image") !== -1) {
          const d = c.getAsFile();
          d && r(d);
          return;
        }
      u.kind === "string" && u.type === "text/plain" && u.getAsString((c) => o(c));
    }
  };
  Qe(() => {
    document.addEventListener("paste", i);
  }), ht(() => {
    document.removeEventListener("paste", i);
  });
}, Rb = {
  1: "Z",
  2: "M",
  4: "H",
  8: "V",
  16: "L",
  32: "C",
  64: "S",
  128: "Q",
  256: "T",
  512: "A"
}, sh = (t) => {
  const e = new ng(t), n = [];
  for (const o of e.commands) {
    const a = Rb[o.type];
    if ((o.type === 2 || o.type === 16) && n.push({
      x: o.x,
      y: o.y,
      relative: o.relative,
      type: a
    }), o.type === 32)
      n.push({
        x: o.x,
        y: o.y,
        curve: {
          type: "cubic",
          x1: o.x1,
          y1: o.y1,
          x2: o.x2,
          y2: o.y2
        },
        relative: o.relative,
        type: a
      });
    else if (o.type === 128)
      n.push({
        x: o.x,
        y: o.y,
        curve: {
          type: "quadratic",
          x1: o.x1,
          y1: o.y1
        },
        relative: o.relative,
        type: a
      });
    else if (o.type === 512) {
      const r = n[n.length - 1];
      if (!["M", "L", "Q", "C"].includes(r.type)) continue;
      const i = y6({
        px: r.x,
        py: r.y,
        cx: o.x,
        cy: o.y,
        rx: o.rX,
        ry: o.rY,
        xAxisRotation: o.xRot,
        largeArcFlag: o.lArcFlag,
        sweepFlag: o.sweepFlag
      });
      for (const s of i)
        n.push({
          x: s.x,
          y: s.y,
          curve: {
            type: "cubic",
            x1: s.x1,
            y1: s.y1,
            x2: s.x2,
            y2: s.y2
          },
          relative: !1,
          type: "C"
        });
    } else if (o.type === 1)
      n.push({ close: !0, type: a });
    else continue;
  }
  return n;
}, Ob = (t) => {
  try {
    const e = new ng(t), n = [], o = [];
    for (const a of e.commands) {
      const r = "x" in a ? a.x : 0, i = "y" in a ? a.y : 0;
      n.push(r), o.push(i);
    }
    return {
      minX: Math.min(...n),
      minY: Math.min(...o),
      maxX: Math.max(...n),
      maxY: Math.max(...o)
    };
  } catch {
    return {
      minX: 0,
      minY: 0,
      maxX: 0,
      maxY: 0
    };
  }
}, lh = (t, e) => t.replace(/font-size:\s*([\d.]+)pt/g, (n, o) => `font-size: ${(parseFloat(o) * e).toFixed(1)}px`), Nb = () => {
  const t = Ie(), { theme: e } = de(Ie()), { addSlidesFromData: n } = Pu(), { isEmptySlide: o } = va(), a = V(!1), r = (l, u = !1) => {
    const c = l[0], d = new FileReader();
    d.addEventListener("load", () => {
      try {
        const f = JSON.parse(fg(d.result));
        u ? (t.updateSlideIndex(0), t.setSlides(f)) : o.value ? t.setSlides(f) : n(f);
      } catch {
        at.error("无法正确读取 / 解析该文件");
      }
    }), d.readAsText(c);
  }, i = (l) => {
    let u = [0, 0], c = [0, 0];
    !l.isFlipV && !l.isFlipH ? (u = [0, 0], c = [l.width, l.height]) : l.isFlipV && l.isFlipH ? (u = [l.width, l.height], c = [0, 0]) : l.isFlipV && !l.isFlipH ? (u = [0, l.height], c = [l.width, 0]) : (u = [l.width, 0], c = [0, l.height]);
    const d = {
      type: "line",
      id: tt(10),
      width: l.borderWidth || 1,
      left: l.left,
      top: l.top,
      start: u,
      end: c,
      style: l.borderType,
      color: l.borderColor,
      points: ["", /straightConnector/.test(l.shapType) ? "arrow" : ""]
    };
    return /bentConnector/.test(l.shapType) && (d.broken2 = [
      Math.abs(u[0] - c[0]) / 2,
      Math.abs(u[1] - c[1]) / 2
    ]), d;
  };
  return {
    importSpecificFile: r,
    importPPTXFile: (l) => {
      const u = l[0];
      if (!u) return;
      a.value = !0;
      const c = [];
      for (const f of Dv)
        c.push(...f.children);
      const d = new FileReader();
      d.onload = async (f) => {
        const v = await g6(f.target.result), p = 96 / 72, h = v.size.width;
        t.setViewportSize(h * p);
        const m = [];
        for (const g of v.slides) {
          const { type: y, value: _ } = g.fill;
          let w;
          y === "image" ? w = {
            type: "image",
            image: {
              src: _.picBase64,
              size: "cover"
            }
          } : y === "gradient" ? w = {
            type: "gradient",
            gradient: {
              type: "linear",
              colors: _.colors.map((L) => ({
                ...L,
                pos: parseInt(L.pos)
              })),
              rotate: _.rot
            }
          } : w = {
            type: "solid",
            color: _
          };
          const x = {
            id: tt(10),
            elements: [],
            background: w
          }, S = (L) => {
            for (const b of L) {
              const I = b.width || 1, M = b.height || 1, E = b.left, D = b.top;
              if (b.width = b.width * p, b.height = b.height * p, b.left = b.left * p, b.top = b.top * p, b.type === "text") {
                const O = {
                  type: "text",
                  id: tt(10),
                  width: b.width,
                  height: b.height,
                  left: b.left,
                  top: b.top,
                  rotate: b.rotate,
                  defaultFontName: e.value.fontName,
                  defaultColor: e.value.fontColor,
                  content: lh(b.content, p),
                  lineHeight: 1,
                  outline: {
                    color: b.borderColor,
                    width: b.borderWidth,
                    style: b.borderType
                  },
                  fill: b.fillColor,
                  vertical: b.isVertical
                };
                b.shadow && (O.shadow = {
                  h: b.shadow.h * p,
                  v: b.shadow.v * p,
                  blur: b.shadow.blur * p,
                  color: b.shadow.color
                }), x.elements.push(O);
              } else if (b.type === "image")
                x.elements.push({
                  type: "image",
                  id: tt(10),
                  src: b.src,
                  width: b.width,
                  height: b.height,
                  left: b.left,
                  top: b.top,
                  fixedRatio: !0,
                  rotate: b.rotate,
                  flipH: b.isFlipH,
                  flipV: b.isFlipV
                });
              else if (b.type === "audio")
                x.elements.push({
                  type: "audio",
                  id: tt(10),
                  src: b.blob,
                  width: b.width,
                  height: b.height,
                  left: b.left,
                  top: b.top,
                  rotate: 0,
                  fixedRatio: !1,
                  color: e.value.themeColor,
                  loop: !1,
                  autoplay: !1
                });
              else if (b.type === "video")
                x.elements.push({
                  type: "video",
                  id: tt(10),
                  src: b.blob || b.src,
                  width: b.width,
                  height: b.height,
                  left: b.left,
                  top: b.top,
                  rotate: 0,
                  autoplay: !1
                });
              else if (b.type === "shape")
                if (b.shapType === "line" || /Connector/.test(b.shapType)) {
                  const O = i(b);
                  x.elements.push(O);
                } else {
                  const O = c.find(($) => $.pptxShapeType === b.shapType), N = {
                    mid: "middle",
                    down: "bottom",
                    up: "top"
                  }, P = {
                    type: "shape",
                    id: tt(10),
                    width: b.width,
                    height: b.height,
                    left: b.left,
                    top: b.top,
                    viewBox: [200, 200],
                    path: "M 0 0 L 200 0 L 200 200 L 0 200 Z",
                    fill: b.fillColor || "none",
                    fixedRatio: !1,
                    rotate: b.rotate,
                    outline: {
                      color: b.borderColor,
                      width: b.borderWidth,
                      style: b.borderType
                    },
                    text: {
                      content: lh(b.content, p),
                      defaultFontName: e.value.fontName,
                      defaultColor: e.value.fontColor,
                      align: N[b.vAlign] || "middle"
                    },
                    flipH: b.isFlipH,
                    flipV: b.isFlipV
                  };
                  if (b.shadow && (P.shadow = {
                    h: b.shadow.h * p,
                    v: b.shadow.v * p,
                    blur: b.shadow.blur * p,
                    color: b.shadow.color
                  }), O && (P.path = O.path, P.viewBox = O.viewBox, O.pathFormula)) {
                    P.pathFormula = O.pathFormula, P.viewBox = [b.width, b.height];
                    const $ = or[O.pathFormula];
                    "editable" in $ && $.editable ? (P.path = $.formula(b.width, b.height, $.defaultValue), P.keypoints = $.defaultValue) : P.path = $.formula(b.width, b.height);
                  }
                  if (b.shapType === "custom")
                    if (b.path.indexOf("NaN") !== -1) P.path = "";
                    else {
                      P.special = !0, P.path = b.path;
                      const { maxX: $, maxY: z } = Ob(P.path);
                      P.viewBox = [$ || I, z || M];
                    }
                  P.path && x.elements.push(P);
                }
              else if (b.type === "table") {
                const O = b.data.length, N = b.data[0].length, P = {
                  fontname: e.value.fontName,
                  color: e.value.fontColor
                }, $ = [];
                for (let H = 0; H < O; H++) {
                  const W = [];
                  for (let oe = 0; oe < N; oe++) {
                    const te = b.data[H][oe];
                    let le = document.createElement("div");
                    le.innerHTML = te.text;
                    const J = le.querySelector("p"), Q = (J == null ? void 0 : J.style.textAlign) || "left", q = le.querySelector("span"), G = q != null && q.style.fontSize ? (parseInt(q == null ? void 0 : q.style.fontSize) * p).toFixed(1) + "px" : "", B = (q == null ? void 0 : q.style.fontFamily) || "", ee = (q == null ? void 0 : q.style.color) || te.fontColor;
                    W.push({
                      id: tt(10),
                      colspan: te.colSpan || 1,
                      rowspan: te.rowSpan || 1,
                      text: le.innerText,
                      style: {
                        ...P,
                        align: ["left", "right", "center"].includes(Q) ? Q : "left",
                        fontsize: G,
                        fontname: B,
                        color: ee,
                        bold: te.fontBold,
                        backcolor: te.fillColor
                      }
                    }), le = null;
                  }
                  $.push(W);
                }
                const z = new Array(N).fill(1 / N);
                x.elements.push({
                  type: "table",
                  id: tt(10),
                  width: b.width,
                  height: b.height,
                  left: b.left,
                  top: b.top,
                  colWidths: z,
                  rotate: 0,
                  data: $,
                  outline: {
                    width: b.borderWidth || 2,
                    style: b.borderType,
                    color: b.borderColor || "#eeece1"
                  },
                  cellMinHeight: 36
                });
              } else if (b.type === "chart") {
                let O, N, P;
                if (b.chartType === "scatterChart" || b.chartType === "bubbleChart")
                  O = b.data[0].map((H, W) => `坐标${W + 1}`), N = ["X", "Y"], P = b.data;
                else {
                  const H = b.data;
                  O = Object.values(H[0].xlabels), N = H.map((W) => W.key), P = H.map((W) => W.values.map((oe) => oe.y));
                }
                const $ = {};
                let z = "bar";
                switch (b.chartType) {
                  case "barChart":
                  case "bar3DChart":
                    z = "bar", b.barDir === "bar" && (z = "column"), (b.grouping === "stacked" || b.grouping === "percentStacked") && ($.stack = !0);
                    break;
                  case "lineChart":
                  case "line3DChart":
                    (b.grouping === "stacked" || b.grouping === "percentStacked") && ($.stack = !0), z = "line";
                    break;
                  case "areaChart":
                  case "area3DChart":
                    (b.grouping === "stacked" || b.grouping === "percentStacked") && ($.stack = !0), z = "area";
                    break;
                  case "scatterChart":
                  case "bubbleChart":
                    z = "scatter";
                    break;
                  case "pieChart":
                  case "pie3DChart":
                    z = "pie";
                    break;
                  case "radarChart":
                    z = "radar";
                    break;
                  case "doughnutChart":
                    z = "ring";
                    break;
                }
                x.elements.push({
                  type: "chart",
                  id: tt(10),
                  chartType: z,
                  width: b.width,
                  height: b.height,
                  left: b.left,
                  top: b.top,
                  rotate: 0,
                  themeColors: [e.value.themeColor],
                  textColor: e.value.fontColor,
                  data: {
                    labels: O,
                    legends: N,
                    series: P
                  },
                  options: $
                });
              } else if (b.type === "group" || b.type === "diagram") {
                const O = b.elements.map((N) => ({
                  ...N,
                  left: N.left + E,
                  top: N.top + D
                }));
                S(O);
              }
            }
          };
          S(g.elements), m.push(x);
        }
        t.updateSlideIndex(0), t.setSlides(m), a.value = !1;
      }, d.readAsArrayBuffer(u);
    },
    exporting: a
  };
}, Bb = { class: "hotkey-doc" }, Fb = { class: "title" }, zb = { class: "label" }, Vb = { class: "value" }, Hb = /* @__PURE__ */ ce({
  __name: "HotkeyDoc",
  setup(t) {
    return (e, n) => (k(), R("div", Bb, [
      (k(!0), R(pe, null, xe(A(vb), (o) => (k(), R(pe, {
        key: o.type
      }, [
        C("div", Fb, Ee(o.type), 1),
        (k(!0), R(pe, null, xe(o.children, (a) => (k(), R("div", {
          class: "hotkey-item",
          key: a.label
        }, [
          C("div", zb, Ee(a.label), 1),
          C("div", Vb, Ee(a.value), 1)
        ]))), 128))
      ], 64))), 128))
    ]));
  }
}), Gb = /* @__PURE__ */ ve(Hb, [["__scopeId", "data-v-2498929a"]]), Ub = ["accept"], Wb = /* @__PURE__ */ ce({
  __name: "FileInput",
  props: {
    accept: { default: "image/*" }
  },
  emits: ["change"],
  setup(t, { emit: e }) {
    const n = e, o = V(), a = () => {
      o.value && (o.value.value = "", o.value.click());
    }, r = (i) => {
      const s = i.target.files;
      s && n("change", s);
    };
    return (i, s) => (k(), R("div", {
      class: "file-input",
      onClick: s[1] || (s[1] = (l) => a())
    }, [
      Tt(i.$slots, "default", {}, void 0, !0),
      C("input", {
        class: "input",
        type: "file",
        name: "upload",
        ref_key: "inputRef",
        ref: o,
        accept: i.accept,
        onChange: s[0] || (s[0] = (l) => r(l))
      }, null, 40, Ub)
    ]));
  }
}), er = /* @__PURE__ */ ve(Wb, [["__scopeId", "data-v-058d398f"]]), Xb = (t) => (Ze("data-v-d7026f15"), t = t(), qe(), t), Yb = {
  key: 0,
  class: "fullscreen-spin"
}, Zb = { class: "spin" }, qb = /* @__PURE__ */ Xb(() => /* @__PURE__ */ C("div", { class: "spinner" }, null, -1)), Jb = { class: "text" }, Kb = /* @__PURE__ */ ce({
  __name: "FullscreenSpin",
  props: {
    loading: { type: Boolean, default: !1 },
    tip: { default: "" }
  },
  setup(t) {
    return (e, n) => e.loading ? (k(), R("div", Yb, [
      C("div", Zb, [
        qb,
        C("div", Jb, Ee(e.tip), 1)
      ])
    ])) : me("", !0);
  }
}), Bv = /* @__PURE__ */ ve(Kb, [["__scopeId", "data-v-d7026f15"]]), Qb = { class: "header" }, jb = /* @__PURE__ */ ce({
  __name: "Drawer",
  props: {
    visible: { type: Boolean },
    width: { default: 320 },
    contentStyle: {},
    placement: { default: "right" }
  },
  emits: ["update:visible"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = V(!1), r = ne(() => ({
      width: n.width + "px",
      ...n.contentStyle || {}
    }));
    return (i, s) => {
      const l = j("IconClose");
      return k(), ie(eg, { to: "body" }, [
        T(ql, {
          name: `drawer-slide-${i.placement}`,
          onAfterLeave: s[1] || (s[1] = (u) => a.value = !1),
          onBeforeEnter: s[2] || (s[2] = (u) => a.value = !0)
        }, {
          default: F(() => [
            ge(C("div", {
              class: ye(["drawer", i.placement]),
              style: re({ width: n.width + "px" })
            }, [
              C("div", Qb, [
                Tt(i.$slots, "title", {}, void 0, !0),
                C("span", {
                  class: "close-btn",
                  onClick: s[0] || (s[0] = (u) => o("update:visible", !1))
                }, [
                  T(l)
                ])
              ]),
              a.value ? (k(), R("div", {
                key: 0,
                class: "content",
                style: re(r.value)
              }, [
                Tt(i.$slots, "default", {}, void 0, !0)
              ], 4)) : me("", !0)
            ], 6), [
              [Ka, i.visible]
            ])
          ]),
          _: 3
        }, 8, ["name"])
      ]);
    };
  }
}), e7 = /* @__PURE__ */ ve(jb, [["__scopeId", "data-v-fa9c5fff"]]), t7 = { class: "prefix" }, n7 = ["disabled", "value", "placeholder"], o7 = { class: "suffix" }, a7 = /* @__PURE__ */ ce({
  __name: "Input",
  props: {
    value: {},
    disabled: { type: Boolean, default: !1 },
    placeholder: { default: "" },
    simple: { type: Boolean, default: !1 }
  },
  emits: ["update:value", "input", "change", "blur", "focus", "enter"],
  setup(t, { expose: e, emit: n }) {
    const o = n, a = V(!1), r = (c) => {
      o("update:value", c.target.value);
    }, i = (c) => {
      a.value = !1, o("blur", c);
    }, s = (c) => {
      a.value = !0, o("focus", c);
    }, l = V();
    return e({
      focus: () => {
        l.value && l.value.focus();
      }
    }), (c, d) => (k(), R("div", {
      class: ye(["input", {
        disabled: c.disabled,
        focused: a.value,
        simple: c.simple
      }])
    }, [
      C("span", t7, [
        Tt(c.$slots, "prefix", {}, void 0, !0)
      ]),
      C("input", {
        type: "text",
        ref_key: "inputRef",
        ref: l,
        disabled: c.disabled,
        value: c.value,
        placeholder: c.placeholder,
        onInput: d[0] || (d[0] = (f) => r(f)),
        onFocus: d[1] || (d[1] = (f) => s(f)),
        onBlur: d[2] || (d[2] = (f) => i(f)),
        onChange: d[3] || (d[3] = (f) => o("change", f)),
        onKeydown: d[4] || (d[4] = na((f) => o("enter", f), ["enter"]))
      }, null, 40, n7),
      C("span", o7, [
        Tt(c.$slots, "suffix", {}, void 0, !0)
      ])
    ], 2));
  }
}), oa = /* @__PURE__ */ ve(a7, [["__scopeId", "data-v-7a17350e"]]), r7 = /* @__PURE__ */ ce({
  __name: "Popover",
  props: {
    value: { type: Boolean, default: !1 },
    trigger: { default: "click" },
    placement: { default: "bottom" },
    appendTo: {},
    contentStyle: {},
    center: { type: Boolean, default: !1 },
    offset: { default: 8 }
  },
  emits: ["update:value"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = V(), r = V(), i = V(), s = V(!1), l = ne(() => n.contentStyle || {});
    return Re(() => n.value, () => {
      a.value && (n.value ? a.value.show() : a.value.hide());
    }), ht(() => {
      a.value && a.value.destroy();
    }), Qe(() => {
      a.value = Cv(r.value, {
        content: i.value,
        allowHTML: !0,
        trigger: n.trigger,
        placement: n.placement,
        interactive: !0,
        appendTo: n.appendTo || document.body,
        maxWidth: "none",
        offset: [0, n.offset],
        duration: 200,
        animation: "scale",
        theme: "popover",
        onShow() {
          s.value = !0;
        },
        onShown() {
          n.value || o("update:value", !0);
        },
        onHidden() {
          n.value && o("update:value", !1), s.value = !1;
        }
      });
    }), (u, c) => (k(), R("div", {
      class: ye(["popover", { center: u.center }]),
      ref_key: "triggerRef",
      ref: r
    }, [
      C("div", {
        class: "popover-content",
        style: re(l.value),
        ref_key: "contentRef",
        ref: i
      }, [
        s.value ? Tt(u.$slots, "content", { key: 0 }, void 0, !0) : me("", !0)
      ], 4),
      Tt(u.$slots, "default", {}, void 0, !0)
    ], 2));
  }
}), Be = /* @__PURE__ */ ve(r7, [["__scopeId", "data-v-a3d5de43"]]), i7 = /* @__PURE__ */ ce({
  __name: "PopoverMenuItem",
  props: {
    center: { type: Boolean, default: !1 }
  },
  emits: ["click"],
  setup(t, { emit: e }) {
    const n = e;
    return (o, a) => (k(), R("div", {
      class: ye(["popover-menu-item", { center: o.center }]),
      onClick: a[0] || (a[0] = (r) => n("click"))
    }, [
      Tt(o.$slots, "default", {}, void 0, !0)
    ], 2));
  }
}), $t = /* @__PURE__ */ ve(i7, [["__scopeId", "data-v-3500cf99"]]), s7 = { class: "editor-header" }, l7 = { class: "left" }, u7 = { class: "menu-item" }, c7 = { class: "title" }, d7 = ["title"], f7 = { class: "right" }, v7 = { class: "group-menu-item" }, p7 = { class: "arrow-btn" }, h7 = {
  class: "github-link",
  href: "https://github.com/pipipi-pikachu/PPTist",
  target: "_blank"
}, m7 = { class: "menu-item" }, g7 = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = Te(), n = Ie(), { title: o } = de(n), { enterScreening: a, enterScreeningFromStart: r } = pa(), { importSpecificFile: i, importPPTXFile: s, exporting: l } = Nb(), { resetSlides: u } = va(), c = V(!1), d = V(!1), f = V(!1), v = V(), p = V(""), h = () => {
      p.value = o.value, f.value = !0, Kt(() => {
        var _;
        return (_ = v.value) == null ? void 0 : _.focus();
      });
    }, m = () => {
      n.setTitle(p.value), f.value = !1;
    }, g = (_) => {
      window.open(_), c.value = !1;
    }, y = (_) => {
      e.setDialogForExport(_), c.value = !1;
    };
    return (_, w) => {
      const x = j("IconHamburgerButton"), S = j("IconPpt"), L = j("IconDown"), b = j("IconDownload"), I = j("IconGithub"), M = it("tooltip");
      return k(), R("div", s7, [
        C("div", l7, [
          T(Be, {
            trigger: "click",
            placement: "bottom-start",
            value: c.value,
            "onUpdate:value": w[7] || (w[7] = (E) => c.value = E)
          }, {
            content: F(() => [
              T(er, {
                accept: ".pptist",
                onChange: w[0] || (w[0] = (E) => {
                  A(i)(E), c.value = !1;
                })
              }, {
                default: F(() => [
                  T($t, null, {
                    default: F(() => [
                      fe("导入 pptist 文件")
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }),
              T(er, {
                accept: "application/vnd.openxmlformats-officedocument.presentationml.presentation",
                onChange: w[1] || (w[1] = (E) => {
                  A(s)(E), c.value = !1;
                })
              }, {
                default: F(() => [
                  T($t, null, {
                    default: F(() => [
                      fe("导入 pptx 文件（测试版）")
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }),
              T($t, {
                onClick: w[2] || (w[2] = (E) => y("pptx"))
              }, {
                default: F(() => [
                  fe("导出文件")
                ]),
                _: 1
              }),
              T($t, {
                onClick: w[3] || (w[3] = (E) => {
                  A(u)(), c.value = !1;
                })
              }, {
                default: F(() => [
                  fe("重置幻灯片")
                ]),
                _: 1
              }),
              T($t, {
                onClick: w[4] || (w[4] = (E) => g("https://github.com/pipipi-pikachu/PPTist/issues"))
              }, {
                default: F(() => [
                  fe("意见反馈")
                ]),
                _: 1
              }),
              T($t, {
                onClick: w[5] || (w[5] = (E) => g("https://github.com/pipipi-pikachu/PPTist/blob/master/doc/Q&A.md"))
              }, {
                default: F(() => [
                  fe("常见问题")
                ]),
                _: 1
              }),
              T($t, {
                onClick: w[6] || (w[6] = (E) => {
                  c.value = !1, d.value = !0;
                })
              }, {
                default: F(() => [
                  fe("快捷操作")
                ]),
                _: 1
              })
            ]),
            default: F(() => [
              C("div", u7, [
                T(x, { class: "icon" })
              ])
            ]),
            _: 1
          }, 8, ["value"]),
          C("div", c7, [
            f.value ? (k(), ie(oa, {
              key: 0,
              class: "title-input",
              ref_key: "titleInputRef",
              ref: v,
              value: p.value,
              "onUpdate:value": w[8] || (w[8] = (E) => p.value = E),
              onBlur: w[9] || (w[9] = (E) => m())
            }, null, 8, ["value"])) : (k(), R("div", {
              key: 1,
              class: "title-text",
              onClick: w[10] || (w[10] = (E) => h()),
              title: A(o)
            }, Ee(A(o)), 9, d7))
          ])
        ]),
        C("div", f7, [
          C("div", v7, [
            ge((k(), R("div", {
              class: "menu-item",
              onClick: w[11] || (w[11] = (E) => A(a)())
            }, [
              T(S, { class: "icon" })
            ])), [
              [M, "幻灯片放映（F5）"]
            ]),
            T(Be, {
              trigger: "click",
              center: ""
            }, {
              content: F(() => [
                T($t, {
                  onClick: w[12] || (w[12] = (E) => A(r)())
                }, {
                  default: F(() => [
                    fe("从头开始")
                  ]),
                  _: 1
                }),
                T($t, {
                  onClick: w[13] || (w[13] = (E) => A(a)())
                }, {
                  default: F(() => [
                    fe("从当前页开始")
                  ]),
                  _: 1
                })
              ]),
              default: F(() => [
                C("div", p7, [
                  T(L, { class: "arrow" })
                ])
              ]),
              _: 1
            })
          ]),
          ge((k(), R("div", {
            class: "menu-item",
            onClick: w[14] || (w[14] = (E) => y("pptx"))
          }, [
            T(b, { class: "icon" })
          ])), [
            [M, "导出"]
          ]),
          ge((k(), R("a", h7, [
            C("div", m7, [
              T(I, { class: "icon" })
            ])
          ])), [
            [M, "Copyright © 2020-PRESENT pipipi-pikachu"]
          ])
        ]),
        T(e7, {
          width: 320,
          visible: d.value,
          "onUpdate:visible": w[15] || (w[15] = (E) => d.value = E),
          placement: "right"
        }, {
          title: F(() => [
            fe("快捷操作")
          ]),
          default: F(() => [
            T(Gb)
          ]),
          _: 1
        }, 8, ["visible"]),
        T(Bv, {
          loading: A(l),
          tip: "正在导入..."
        }, null, 8, ["loading"])
      ]);
    };
  }
}), y7 = /* @__PURE__ */ ve(g7, [["__scopeId", "data-v-bee92de4"]]), Ps = Symbol(), Fv = Symbol(), _g = Symbol(), _7 = () => {
  const t = window.getSelection();
  t && t.removeAllRanges();
}, b7 = (t) => {
  const e = V(0), n = V(0), o = Te(), { canvasPercentage: a, canvasDragged: r } = de(o), { viewportRatio: i, viewportSize: s } = de(Ie()), l = () => {
    if (!t.value) return;
    const v = t.value.clientWidth, p = t.value.clientHeight;
    if (p / v > i.value) {
      const h = v * (a.value / 100);
      o.setCanvasScale(h / s.value), e.value = (v - h) / 2, n.value = (p - h * i.value) / 2;
    } else {
      const h = p * (a.value / 100);
      o.setCanvasScale(h / (s.value * i.value)), e.value = (v - h / i.value) / 2, n.value = (p - h) / 2;
    }
  };
  Re(a, (v, p) => {
    if (!t.value) return;
    const h = t.value.clientWidth, m = t.value.clientHeight;
    if (m / h > i.value) {
      const g = h * (v / 100), y = h * (p / 100), _ = g * i.value, w = y * i.value;
      o.setCanvasScale(g / s.value), e.value = e.value - (g - y) / 2, n.value = n.value - (_ - w) / 2;
    } else {
      const g = m * (v / 100), y = m * (p / 100), _ = g / i.value, w = y / i.value;
      o.setCanvasScale(g / (s.value * i.value)), e.value = e.value - (_ - w) / 2, n.value = n.value - (g - y) / 2;
    }
  }), Re(i, l), Re(s, l), Re(r, () => {
    r.value || l();
  });
  const c = ne(() => ({
    width: s.value,
    height: s.value * i.value,
    left: e.value,
    top: n.value
  })), d = new ResizeObserver(l);
  return Qe(() => {
    t.value && d.observe(t.value);
  }), ht(() => {
    t.value && d.unobserve(t.value);
  }), {
    viewportStyles: c,
    dragViewport: (v) => {
      let p = !0;
      const h = v.pageX, m = v.pageY, g = e.value, y = n.value;
      document.onmousemove = (_) => {
        if (!p) return;
        const w = _.pageX, x = _.pageY;
        e.value = g + (w - h), n.value = y + (x - m);
      }, document.onmouseup = () => {
        p = !1, document.onmousemove = null, document.onmouseup = null, o.setCanvasDragged(!0);
      };
    }
  };
}, w7 = (t, e) => {
  const n = Te(), { canvasScale: o, hiddenElementIdList: a } = de(n), r = V(!1), i = V(1), s = V({
    top: 0,
    left: 0,
    width: 0,
    height: 0
  });
  return {
    mouseSelection: s,
    mouseSelectionVisible: r,
    mouseSelectionQuadrant: i,
    updateMouseSelection: (u) => {
      if (!e.value) return;
      let c = !0;
      const d = e.value.getBoundingClientRect(), f = 5, v = u.pageX, p = u.pageY, h = (v - d.x) / o.value, m = (p - d.y) / o.value;
      s.value = {
        top: m,
        left: h,
        width: 0,
        height: 0
      }, r.value = !1, i.value = 4, document.onmousemove = (g) => {
        if (!c) return;
        const y = g.pageX, _ = g.pageY, w = (y - v) / o.value, x = (_ - p) / o.value, S = Math.abs(w), L = Math.abs(x);
        if (S < f || L < f) return;
        let b = 0;
        w > 0 && x > 0 ? b = 4 : w < 0 && x < 0 ? b = 2 : w > 0 && x < 0 ? b = 1 : w < 0 && x > 0 && (b = 3), s.value = {
          ...s.value,
          width: S,
          height: L
        }, r.value = !0, i.value = b;
      }, document.onmouseup = () => {
        document.onmousemove = null, document.onmouseup = null, c = !1;
        let g = [];
        for (let _ = 0; _ < t.value.length; _++) {
          const w = t.value[_], x = s.value.left, S = s.value.top, L = s.value.width, b = s.value.height, { minX: I, maxX: M, minY: E, maxY: D } = Rn(w);
          let O = !1;
          i.value === 4 ? O = I > x && M < x + L && E > S && D < S + b : i.value === 2 ? O = I > x - L && M < x - L + L && E > S - b && D < S - b + b : i.value === 1 ? O = I > x && M < x + L && E > S - b && D < S - b + b : i.value === 3 && (O = I > x - L && M < x - L + L && E > S && D < S + b), O && !w.lock && !a.value.includes(w.id) && g.push(w);
        }
        g = g.filter((_) => {
          if (_.groupId) {
            const w = g.map((S) => S.id);
            return t.value.filter((S) => S.groupId === _.groupId).every((S) => w.includes(S.id));
          }
          return !0;
        });
        const y = g.map((_) => _.id);
        n.setActiveElementIdList(y), r.value = !1;
      };
    }
  };
}, x7 = (t) => {
  const { disableHotkeys: e } = de(Te()), { createImageElement: n, createTextElement: o } = ar(), a = (r) => {
    if (!r.dataTransfer || r.dataTransfer.items.length === 0) return;
    const i = r.dataTransfer.items[0];
    if (i.kind === "file" && i.type.indexOf("image") !== -1) {
      const s = i.getAsFile();
      s && fa(s).then((l) => n(l));
    } else i.kind === "string" && i.type === "text/plain" && i.getAsString((s) => {
      if (e.value) return;
      const l = eu(s);
      o({
        left: 0,
        top: 0,
        width: 600,
        height: 50
      }, { content: l });
    });
  };
  Qe(() => {
    t.value && t.value.addEventListener("drop", a), document.ondragleave = (r) => r.preventDefault(), document.ondrop = (r) => r.preventDefault(), document.ondragenter = (r) => r.preventDefault(), document.ondragover = (r) => r.preventDefault();
  }), ht(() => {
    t.value && t.value.removeEventListener("drop", a), document.ondragleave = null, document.ondrop = null, document.ondragenter = null, document.ondragover = null;
  });
}, S7 = (t, e) => {
  const n = Math.atan2(t, e);
  return 180 / Math.PI * n;
}, bg = (t, e, n) => {
  const o = Ie(), { addHistorySnapshot: a } = Xe();
  return {
    rotateElement: (i, s) => {
      const l = !(i instanceof MouseEvent);
      if (l && (!i.changedTouches || !i.changedTouches[0])) return;
      let u = !0, c = 0;
      const d = s.rotate || 0, f = s.left, v = s.top, p = s.width, h = s.height, m = f + p / 2, g = v + h / 2;
      if (!e.value) return;
      const y = e.value.getBoundingClientRect(), _ = (x) => {
        if (!u) return;
        const S = x instanceof MouseEvent ? x.pageX : x.changedTouches[0].pageX, L = x instanceof MouseEvent ? x.pageY : x.changedTouches[0].pageY, b = (S - y.left) / n.value, I = (L - y.top) / n.value, M = b - m, E = g - I;
        c = S7(M, E);
        const D = 5;
        Math.abs(c) <= D ? c = 0 : c > 0 && Math.abs(c - 45) <= D ? c -= c - 45 : c < 0 && Math.abs(c + 45) <= D ? c -= c + 45 : c > 0 && Math.abs(c - 90) <= D ? c -= c - 90 : c < 0 && Math.abs(c + 90) <= D ? c -= c + 90 : c > 0 && Math.abs(c - 135) <= D ? c -= c - 135 : c < 0 && Math.abs(c + 135) <= D ? c -= c + 135 : c > 0 && Math.abs(c - 180) <= D ? c -= c - 180 : c < 0 && Math.abs(c + 180) <= D && (c -= c + 180), t.value = t.value.map((O) => s.id === O.id ? { ...O, rotate: c } : O);
      }, w = () => {
        u = !1, document.onmousemove = null, document.onmouseup = null, d !== c && (o.updateSlide({ elements: t.value }), a());
      };
      l ? (document.ontouchmove = _, document.ontouchend = w) : (document.onmousemove = _, document.onmouseup = w);
    }
  };
}, Bi = {
  text: "文本",
  image: "图片",
  shape: "形状",
  line: "线条",
  chart: "图表",
  table: "表格",
  video: "视频",
  audio: "音频",
  latex: "公式"
}, wg = {
  text: 20,
  image: 20,
  shape: 20,
  chart: 200,
  table: 20,
  video: 250,
  audio: 20,
  latex: 20
}, uh = (t, e) => {
  const { left: n, top: o, width: a, height: r } = t, i = Math.sqrt(Math.pow(a, 2) + Math.pow(r, 2)) / 2, s = Math.atan(r / a) * 180 / Math.PI, l = (180 - e - s) * Math.PI / 180, u = (s - e) * Math.PI / 180, c = (90 - e) * Math.PI / 180, d = e * Math.PI / 180, f = a / 2, v = r / 2, p = n + f, h = o + v, m = {
    left: p + i * Math.cos(l),
    top: h - i * Math.sin(l)
  }, g = {
    left: p + v * Math.cos(c),
    top: h - v * Math.sin(c)
  }, y = {
    left: p + i * Math.cos(u),
    top: h - i * Math.sin(u)
  }, _ = {
    left: p + f * Math.cos(d),
    top: h + f * Math.sin(d)
  }, w = {
    left: p - i * Math.cos(l),
    top: h + i * Math.sin(l)
  }, x = {
    left: p - v * Math.sin(d),
    top: h + v * Math.cos(d)
  }, S = {
    left: p - i * Math.cos(u),
    top: h + i * Math.sin(u)
  }, L = {
    left: p - f * Math.cos(d),
    top: h - f * Math.sin(d)
  };
  return { leftTopPoint: m, topPoint: g, rightTopPoint: y, rightPoint: _, rightBottomPoint: w, bottomPoint: x, leftBottomPoint: S, leftPoint: L };
}, ch = (t, e) => ({
  [Ae.RIGHT_BOTTOM]: e.leftTopPoint,
  [Ae.LEFT_BOTTOM]: e.rightTopPoint,
  [Ae.LEFT_TOP]: e.rightBottomPoint,
  [Ae.RIGHT_TOP]: e.leftBottomPoint,
  [Ae.TOP]: e.bottomPoint,
  [Ae.BOTTOM]: e.topPoint,
  [Ae.LEFT]: e.rightPoint,
  [Ae.RIGHT]: e.leftPoint
})[t], xg = (t, e, n) => {
  const o = Te(), a = Ie(), { activeElementIdList: r, activeGroupElementId: i } = de(o), { viewportRatio: s, viewportSize: l } = de(a), { ctrlOrShiftKeyActive: u } = de(eo()), { addHistorySnapshot: c } = Xe();
  return {
    scaleElement: (v, p, h) => {
      const m = !(v instanceof MouseEvent);
      if (m && (!v.changedTouches || !v.changedTouches[0])) return;
      let g = !0;
      o.setScalingState(!0);
      const y = p.left, _ = p.top, w = p.width, x = p.height, S = p.type === "table" ? p.cellMinHeight : 0, L = "rotate" in p && p.rotate ? p.rotate : 0, b = Math.PI * L / 180, I = u.value || "fixedRatio" in p && p.fixedRatio, M = w / x, E = m ? v.changedTouches[0].pageX : v.pageX, D = m ? v.changedTouches[0].pageY : v.pageY, O = wg[p.type] || 20, N = (J) => J < O ? O : J;
      let P, $ = 0, z = 0, H = [], W = [];
      if ("rotate" in p && p.rotate) {
        const { left: J, top: Q, width: q, height: G } = p;
        P = uh({ left: J, top: Q, width: q, height: G }, L);
        const B = ch(h, P);
        $ = B.left, z = B.top;
      } else {
        const J = l.value, Q = l.value * s.value, q = p.id === i.value;
        for (const U of t.value) {
          if ("rotate" in U && U.rotate || U.type === "line" || q && U.id === p.id || !q && r.value.includes(U.id)) continue;
          const K = U.left, Z = U.top, ae = U.width, he = U.height, Ce = K + ae, ke = Z + he, Se = { value: Z, range: [K, Ce] }, be = { value: ke, range: [K, Ce] }, we = { value: K, range: [Z, ke] }, je = { value: Ce, range: [Z, ke] };
          H.push(Se, be), W.push(we, je);
        }
        const G = { value: 0, range: [0, J] }, B = { value: Q, range: [0, J] }, ee = { value: Q / 2, range: [0, J] }, ue = { value: 0, range: [0, Q] }, X = { value: J, range: [0, Q] }, Y = { value: J / 2, range: [0, Q] };
        H.push(G, B, ee), W.push(ue, X, Y), H = jl(H), W = jl(W);
      }
      const oe = (J, Q) => {
        const G = [];
        let B = !1, ee = !1;
        const ue = { offsetX: 0, offsetY: 0 };
        if (Q || Q === 0)
          for (let X = 0; X < H.length; X++) {
            const { value: Y, range: U } = H[X], K = Math.min(...U, J || 0), Z = Math.max(...U, J || 0);
            Math.abs(Q - Y) < 5 && !ee && (ue.offsetY = Q - Y, ee = !0, G.push({ type: "horizontal", axis: { x: K - 50, y: Y }, length: Z - K + 100 }));
          }
        if (J || J === 0)
          for (let X = 0; X < W.length; X++) {
            const { value: Y, range: U } = W[X], K = Math.min(...U, Q || 0), Z = Math.max(...U, Q || 0);
            Math.abs(J - Y) < 5 && !B && (ue.offsetX = J - Y, B = !0, G.push({ type: "vertical", axis: { x: Y, y: K - 50 }, length: Z - K + 100 }));
          }
        return e.value = G, ue;
      }, te = (J) => {
        if (!g) return;
        const Q = J instanceof MouseEvent ? J.pageX : J.changedTouches[0].pageX, q = J instanceof MouseEvent ? J.pageY : J.changedTouches[0].pageY, G = Q - E, B = q - D;
        let ee = w, ue = x, X = y, Y = _;
        if (L) {
          const U = (Math.cos(b) * G + Math.sin(b) * B) / n.value;
          let K = (Math.cos(b) * B - Math.sin(b) * G) / n.value;
          I && ((h === Ae.RIGHT_BOTTOM || h === Ae.LEFT_TOP) && (K = U / M), (h === Ae.LEFT_BOTTOM || h === Ae.RIGHT_TOP) && (K = -U / M)), h === Ae.RIGHT_BOTTOM ? (ee = N(w + U), ue = N(x + K)) : h === Ae.LEFT_BOTTOM ? (ee = N(w - U), ue = N(x + K), X = y - (ee - w)) : h === Ae.LEFT_TOP ? (ee = N(w - U), ue = N(x - K), X = y - (ee - w), Y = _ - (ue - x)) : h === Ae.RIGHT_TOP ? (ee = N(w + U), ue = N(x - K), Y = _ - (ue - x)) : h === Ae.TOP ? (ue = N(x - K), Y = _ - (ue - x)) : h === Ae.BOTTOM ? ue = N(x + K) : h === Ae.LEFT ? (ee = N(w - U), X = y - (ee - w)) : h === Ae.RIGHT && (ee = N(w + U));
          const Z = uh({ width: ee, height: ue, left: X, top: Y }, L), ae = ch(h, Z), he = ae.left, Ce = ae.top, ke = he - $, Se = Ce - z;
          X = X - ke, Y = Y - Se;
        } else {
          let U = G / n.value, K = B / n.value;
          if (I && ((h === Ae.RIGHT_BOTTOM || h === Ae.LEFT_TOP) && (K = U / M), (h === Ae.LEFT_BOTTOM || h === Ae.RIGHT_TOP) && (K = -U / M)), h === Ae.RIGHT_BOTTOM) {
            const { offsetX: Z, offsetY: ae } = oe(y + w + U, _ + x + K);
            U = U - Z, K = K - ae, I && (ae ? U = K * M : K = U / M), ee = N(w + U), ue = N(x + K);
          } else if (h === Ae.LEFT_BOTTOM) {
            const { offsetX: Z, offsetY: ae } = oe(y + U, _ + x + K);
            U = U - Z, K = K - ae, I && (ae ? U = -K * M : K = -U / M), ee = N(w - U), ue = N(x + K), X = y - (ee - w);
          } else if (h === Ae.LEFT_TOP) {
            const { offsetX: Z, offsetY: ae } = oe(y + U, _ + K);
            U = U - Z, K = K - ae, I && (ae ? U = K * M : K = U / M), ee = N(w - U), ue = N(x - K), X = y - (ee - w), Y = _ - (ue - x);
          } else if (h === Ae.RIGHT_TOP) {
            const { offsetX: Z, offsetY: ae } = oe(y + w + U, _ + K);
            U = U - Z, K = K - ae, I && (ae ? U = -K * M : K = -U / M), ee = N(w + U), ue = N(x - K), Y = _ - (ue - x);
          } else if (h === Ae.LEFT) {
            const { offsetX: Z } = oe(y + U, null);
            U = U - Z, ee = N(w - U), X = y - (ee - w);
          } else if (h === Ae.RIGHT) {
            const { offsetX: Z } = oe(y + w + U, null);
            U = U - Z, ee = N(w + U);
          } else if (h === Ae.TOP) {
            const { offsetY: Z } = oe(null, _ + K);
            K = K - Z, ue = N(x - K), Y = _ - (ue - x);
          } else if (h === Ae.BOTTOM) {
            const { offsetY: Z } = oe(null, _ + x + K);
            K = K - Z, ue = N(x + K);
          }
        }
        t.value = t.value.map((U) => {
          if (p.id !== U.id) return U;
          if (U.type === "shape" && "pathFormula" in U && U.pathFormula) {
            const K = or[U.pathFormula];
            let Z = "";
            return "editable" in K ? Z = K.formula(ee, ue, U.keypoints) : Z = K.formula(ee, ue), {
              ...U,
              left: X,
              top: Y,
              width: ee,
              height: ue,
              viewBox: [ee, ue],
              path: Z
            };
          }
          if (U.type === "table") {
            let K = S + (ue - x) / U.data.length;
            return K = K < 36 ? 36 : K, K === S ? { ...U, left: X, width: ee } : {
              ...U,
              left: X,
              top: Y,
              width: ee,
              height: ue,
              cellMinHeight: K < 36 ? 36 : K
            };
          }
          return { ...U, left: X, top: Y, width: ee, height: ue };
        });
      }, le = (J) => {
        g = !1, document.ontouchmove = null, document.ontouchend = null, document.onmousemove = null, document.onmouseup = null, e.value = [];
        const Q = J instanceof MouseEvent ? J.pageX : J.changedTouches[0].pageX, q = J instanceof MouseEvent ? J.pageY : J.changedTouches[0].pageY;
        E === Q && D === q || (a.updateSlide({ elements: t.value }), o.setScalingState(!1), c());
      };
      m ? (document.ontouchmove = te, document.ontouchend = le) : (document.onmousemove = te, document.onmouseup = le);
    },
    scaleMultiElement: (v, p, h) => {
      let m = !0;
      const { minX: g, maxX: y, minY: _, maxY: w } = p, x = y - g, S = w - _, L = x / S, b = v.pageX, I = v.pageY, M = JSON.parse(JSON.stringify(t.value));
      document.onmousemove = (E) => {
        if (!m) return;
        const D = E.pageX, O = E.pageY, N = (D - b) / n.value;
        let P = (O - I) / n.value;
        u.value && ((h === Ae.RIGHT_BOTTOM || h === Ae.LEFT_TOP) && (P = N / L), (h === Ae.LEFT_BOTTOM || h === Ae.RIGHT_TOP) && (P = -N / L));
        let $ = g, z = y, H = _, W = w;
        h === Ae.RIGHT_BOTTOM ? (z = y + N, W = w + P) : h === Ae.LEFT_BOTTOM ? ($ = g + N, W = w + P) : h === Ae.LEFT_TOP ? ($ = g + N, H = _ + P) : h === Ae.RIGHT_TOP ? (z = y + N, H = _ + P) : h === Ae.TOP ? H = _ + P : h === Ae.BOTTOM ? W = w + P : h === Ae.LEFT ? $ = g + N : h === Ae.RIGHT && (z = y + N);
        const oe = z - $, te = W - H;
        let le = oe / x, J = te / S;
        le <= 0 && (le = 0), J <= 0 && (J = 0), t.value = t.value.map((Q) => {
          if ((Q.type === "image" || Q.type === "shape") && r.value.includes(Q.id)) {
            const q = M.find((G) => G.id === Q.id);
            return {
              ...Q,
              width: q.width * le,
              height: q.height * J,
              left: $ + (q.left - g) * le,
              top: H + (q.top - _) * J
            };
          }
          return Q;
        });
      }, document.onmouseup = (E) => {
        m = !1, document.onmousemove = null, document.onmouseup = null, !(b === E.pageX && I === E.pageY) && (a.updateSlide({ elements: t.value }), c());
      };
    }
  };
}, I7 = (t, e) => {
  const n = Te(), { activeElementIdList: o, activeGroupElementId: a, handleElementId: r, editorAreaFocus: i } = de(n), { ctrlOrShiftKeyActive: s } = de(eo());
  return {
    selectElement: (u, c, d = !0) => {
      if (i.value || n.setEditorareaFocus(!0), o.value.includes(c.id)) {
        if (s.value) {
          let f = [];
          if (c.groupId) {
            const v = [];
            t.value.forEach((p) => {
              p.groupId === c.groupId && v.push(p.id);
            }), f = o.value.filter((p) => !v.includes(p));
          } else
            f = o.value.filter((v) => v !== c.id);
          f.length > 0 && n.setActiveElementIdList(f);
        } else if (r.value !== c.id)
          n.setHandleElementId(c.id);
        else if (a.value !== c.id) {
          const f = u instanceof MouseEvent ? u.pageX : u.changedTouches[0].pageX, v = u instanceof MouseEvent ? u.pageY : u.changedTouches[0].pageY;
          u.target.onmouseup = (p) => {
            const h = p.pageX, m = p.pageY;
            f === h && v === m && (n.setActiveGroupElementId(c.id), p.target.onmouseup = null);
          };
        }
      } else {
        let f = [];
        if (s.value ? f = [...o.value, c.id] : f = [c.id], c.groupId) {
          const v = [];
          t.value.forEach((p) => {
            p.groupId === c.groupId && v.push(p.id);
          }), f = [...f, ...v];
        }
        n.setActiveElementIdList(v6(f)), n.setHandleElementId(c.id);
      }
      d && e(u, c);
    }
  };
}, Sg = (t, e, n) => {
  const o = Ie(), { activeElementIdList: a, activeGroupElementId: r } = de(Te()), { shiftKeyState: i } = de(eo()), { viewportRatio: s, viewportSize: l } = de(o), { addHistorySnapshot: u } = Xe();
  return {
    dragElement: (d, f) => {
      const v = !(d instanceof MouseEvent);
      if (v && (!d.changedTouches || !d.changedTouches[0]) || !a.value.includes(f.id)) return;
      let p = !0;
      const h = l.value, m = l.value * s.value, g = 5, _ = JSON.parse(JSON.stringify(t.value)).filter((J) => a.value.includes(J.id)), w = f.left, x = f.top, S = f.width, L = "height" in f && f.height ? f.height : 0, b = "rotate" in f && f.rotate ? f.rotate : 0, I = v ? d.changedTouches[0].pageX : d.pageX, M = v ? d.changedTouches[0].pageY : d.pageY;
      let E = null;
      const D = f.id === r.value;
      let O = [], N = [];
      for (const J of t.value) {
        if (J.type === "line" || D && J.id === f.id || !D && a.value.includes(J.id)) continue;
        let Q, q, G, B;
        if ("rotate" in J && J.rotate) {
          const { xRange: ke, yRange: Se } = Pr({
            left: J.left,
            top: J.top,
            width: J.width,
            height: J.height,
            rotate: J.rotate
          });
          Q = ke[0], q = Se[0], G = ke[1] - ke[0], B = Se[1] - Se[0];
        } else
          Q = J.left, q = J.top, G = J.width, B = J.height;
        const ee = Q + G, ue = q + B, X = q + B / 2, Y = Q + G / 2, U = { value: q, range: [Q, ee] }, K = { value: ue, range: [Q, ee] }, Z = { value: X, range: [Q, ee] }, ae = { value: Q, range: [q, ue] }, he = { value: ee, range: [q, ue] }, Ce = { value: Y, range: [q, ue] };
        O.push(U, K, Z), N.push(ae, he, Ce);
      }
      const P = { value: 0, range: [0, h] }, $ = { value: m, range: [0, h] }, z = { value: m / 2, range: [0, h] }, H = { value: 0, range: [0, m] }, W = { value: h, range: [0, m] }, oe = { value: h / 2, range: [0, m] };
      O.push(P, $, z), N.push(H, W, oe), O = jl(O), N = jl(N);
      const te = (J) => {
        const Q = J instanceof MouseEvent ? J.pageX : J.changedTouches[0].pageX, q = J instanceof MouseEvent ? J.pageY : J.changedTouches[0].pageY;
        if (E !== !1 && (E = Math.abs(I - Q) < g && Math.abs(M - q) < g), !p || E) return;
        let G = (Q - I) / n.value, B = (q - M) / n.value;
        i.value && (Math.abs(G) > Math.abs(B) && (B = 0), Math.abs(G) < Math.abs(B) && (G = 0));
        let ee = w + G, ue = x + B, X, Y, U, K;
        if (a.value.length === 1 || D)
          if (b) {
            const { xRange: Se, yRange: be } = Pr({
              left: ee,
              top: ue,
              width: S,
              height: L,
              rotate: b
            });
            X = Se[0], Y = Se[1], U = be[0], K = be[1];
          } else f.type === "line" ? (X = ee, Y = ee + Math.max(f.start[0], f.end[0]), U = ue, K = ue + Math.max(f.start[1], f.end[1])) : (X = ee, Y = ee + S, U = ue, K = ue + L);
        else {
          const Se = [], be = [], we = [], je = [];
          for (let We = 0; We < _.length; We++) {
            const wt = _[We], Un = wt.left + G, ya = wt.top + B, Rt = wt.width, ui = "height" in wt && wt.height ? wt.height : 0, Pe = "rotate" in wt && wt.rotate ? wt.rotate : 0;
            if ("rotate" in wt && wt.rotate) {
              const { xRange: ci, yRange: eh } = Pr({ left: Un, top: ya, width: Rt, height: ui, rotate: Pe });
              Se.push(ci[0]), be.push(eh[0]), we.push(ci[1]), je.push(eh[1]);
            } else wt.type === "line" ? (Se.push(Un), be.push(ya), we.push(Un + Math.max(wt.start[0], wt.end[0])), je.push(ya + Math.max(wt.start[1], wt.end[1]))) : (Se.push(Un), be.push(ya), we.push(Un + Rt), je.push(ya + ui));
          }
          X = Math.min(...Se), Y = Math.max(...we), U = Math.min(...be), K = Math.max(...je);
        }
        const Z = X + (Y - X) / 2, ae = U + (K - U) / 2, he = [];
        let Ce = !1, ke = !1;
        for (let Se = 0; Se < O.length; Se++) {
          const { value: be, range: we } = O[Se], je = Math.min(...we, X, Y), We = Math.max(...we, X, Y);
          Math.abs(U - be) < g && !ke && (ue = ue - (U - be), ke = !0, he.push({ type: "horizontal", axis: { x: je - 50, y: be }, length: We - je + 100 })), Math.abs(K - be) < g && !ke && (ue = ue - (K - be), ke = !0, he.push({ type: "horizontal", axis: { x: je - 50, y: be }, length: We - je + 100 })), Math.abs(ae - be) < g && !ke && (ue = ue - (ae - be), ke = !0, he.push({ type: "horizontal", axis: { x: je - 50, y: be }, length: We - je + 100 }));
        }
        for (let Se = 0; Se < N.length; Se++) {
          const { value: be, range: we } = N[Se], je = Math.min(...we, U, K), We = Math.max(...we, U, K);
          Math.abs(X - be) < g && !Ce && (ee = ee - (X - be), Ce = !0, he.push({ type: "vertical", axis: { x: be, y: je - 50 }, length: We - je + 100 })), Math.abs(Y - be) < g && !Ce && (ee = ee - (Y - be), Ce = !0, he.push({ type: "vertical", axis: { x: be, y: je - 50 }, length: We - je + 100 })), Math.abs(Z - be) < g && !Ce && (ee = ee - (Z - be), Ce = !0, he.push({ type: "vertical", axis: { x: be, y: je - 50 }, length: We - je + 100 }));
        }
        if (e.value = he, a.value.length === 1 || D)
          t.value = t.value.map((Se) => Se.id === f.id ? { ...Se, left: ee, top: ue } : Se);
        else {
          const Se = t.value.find((be) => be.id === f.id);
          if (!Se) return;
          t.value = t.value.map((be) => a.value.includes(be.id) ? be.id === f.id ? {
            ...be,
            left: ee,
            top: ue
          } : {
            ...be,
            left: be.left + (ee - Se.left),
            top: be.top + (ue - Se.top)
          } : be);
        }
      }, le = (J) => {
        p = !1, document.ontouchmove = null, document.ontouchend = null, document.onmousemove = null, document.onmouseup = null, e.value = [];
        const Q = J instanceof MouseEvent ? J.pageX : J.changedTouches[0].pageX, q = J instanceof MouseEvent ? J.pageY : J.changedTouches[0].pageY;
        I === Q && M === q || (o.updateSlide({ elements: t.value }), u());
      };
      v ? (document.ontouchmove = te, document.ontouchend = le) : (document.onmousemove = te, document.onmouseup = le);
    }
  };
}, C7 = (t) => {
  const e = Ie(), { canvasScale: n } = de(Te()), { ctrlOrShiftKeyActive: o } = de(eo()), { addHistorySnapshot: a } = Xe();
  return {
    dragLineElement: (i, s, l) => {
      let u = !0;
      const c = 8, d = i.pageX, f = i.pageY, v = [];
      for (let p = 0; p < t.value.length; p++) {
        const h = t.value[p];
        if (h.type === "line" || h.rotate) continue;
        const m = h.left, g = h.top, y = h.width, _ = h.height, w = m + y, x = g + _, S = g + _ / 2, L = m + y / 2, b = { x: L, y: g }, I = { x: L, y: x }, M = { x: m, y: S }, E = { x: w, y: S }, D = { x: m, y: g }, O = { x: w, y: g }, N = { x: m, y: x }, P = { x: w, y: x };
        v.push(
          b,
          I,
          M,
          E,
          D,
          O,
          N,
          P
        );
      }
      document.onmousemove = (p) => {
        if (!u) return;
        const h = p.pageX, m = p.pageY, g = (h - d) / n.value, y = (m - f) / n.value;
        let _ = s.left + s.start[0], w = s.top + s.start[1], x = s.left + s.end[0], S = s.top + s.end[1];
        const L = s.broken || s.broken2 || s.curve || [0, 0];
        let b = s.left + L[0], I = s.top + L[1];
        const [M, E] = s.cubic || [[0, 0], [0, 0]];
        let D = s.left + M[0], O = s.top + M[1], N = s.left + E[0], P = s.top + E[1];
        if (l === vn.START) {
          _ = _ + g, w = w + y, Math.abs(_ - x) < c && (_ = x), Math.abs(w - S) < c && (w = S);
          for (const le of v) {
            const { x: J, y: Q } = le;
            if (Math.abs(J - _) < c && Math.abs(Q - w) < c) {
              _ = J, w = Q;
              break;
            }
          }
        } else if (l === vn.END) {
          x = x + g, S = S + y, Math.abs(_ - x) < c && (x = _), Math.abs(w - S) < c && (S = w);
          for (const le of v) {
            const { x: J, y: Q } = le;
            if (Math.abs(J - x) < c && Math.abs(Q - S) < c) {
              x = J, S = Q;
              break;
            }
          }
        } else l === vn.C ? (b = b + g, I = I + y, Math.abs(b - _) < c && (b = _), Math.abs(I - w) < c && (I = w), Math.abs(b - x) < c && (b = x), Math.abs(I - S) < c && (I = S), Math.abs(b - (_ + x) / 2) < c && Math.abs(I - (w + S) / 2) < c && (b = (_ + x) / 2, I = (w + S) / 2)) : l === vn.C1 ? (D = D + g, O = O + y, Math.abs(D - _) < c && (D = _), Math.abs(O - w) < c && (O = w), Math.abs(D - x) < c && (D = x), Math.abs(O - S) < c && (O = S)) : l === vn.C2 && (N = N + g, P = P + y, Math.abs(N - _) < c && (N = _), Math.abs(P - w) < c && (P = w), Math.abs(N - x) < c && (N = x), Math.abs(P - S) < c && (P = S));
        const $ = Math.min(_, x), z = Math.min(w, S), H = Math.max(_, x), W = Math.max(w, S), oe = [0, 0], te = [H - $, W - z];
        _ > x && (oe[0] = H - $, te[0] = 0), w > S && (oe[1] = W - z, te[1] = 0), t.value = t.value.map((le) => {
          if (le.id === s.id) {
            const J = {
              ...le,
              left: $,
              top: z,
              start: oe,
              end: te
            };
            return l === vn.START || l === vn.END ? (o.value ? (s.broken && (J.broken = [b - $, I - z]), s.curve && (J.curve = [b - $, I - z]), s.cubic && (J.cubic = [[D - $, O - z], [N - $, P - z]])) : (s.broken && (J.broken = [(oe[0] + te[0]) / 2, (oe[1] + te[1]) / 2]), s.curve && (J.curve = [(oe[0] + te[0]) / 2, (oe[1] + te[1]) / 2]), s.cubic && (J.cubic = [[(oe[0] + te[0]) / 2, (oe[1] + te[1]) / 2], [(oe[0] + te[0]) / 2, (oe[1] + te[1]) / 2]])), s.broken2 && (J.broken2 = [(oe[0] + te[0]) / 2, (oe[1] + te[1]) / 2])) : l === vn.C ? (s.broken && (J.broken = [b - $, I - z]), s.curve && (J.curve = [b - $, I - z]), s.broken2 && (H - $ >= W - z ? J.broken2 = [b - $, J.broken2[1]] : J.broken2 = [J.broken2[0], I - z])) : s.cubic && (J.cubic = [[D - $, O - z], [N - $, P - z]]), J;
          }
          return le;
        });
      }, document.onmouseup = (p) => {
        u = !1, document.onmousemove = null, document.onmouseup = null;
        const h = p.pageX, m = p.pageY;
        d === h && f === m || (e.updateSlide({ elements: t.value }), a());
      };
    }
  };
}, T7 = (t, e) => {
  const n = Ie(), { addHistorySnapshot: o } = Xe();
  return {
    moveShapeKeypoint: (r, i, s = 0) => {
      const l = !(r instanceof MouseEvent);
      if (l && (!r.changedTouches || !r.changedTouches[0])) return;
      let u = !0;
      const c = l ? r.changedTouches[0].pageX : r.pageX, d = l ? r.changedTouches[0].pageY : r.pageY, f = i.keypoints, v = or[i.pathFormula];
      let p = null;
      if ("editable" in v && v.editable) {
        const g = v.getBaseSize[s], y = v.range[s], _ = v.relative[s], w = f[s], x = g(i.width, i.height), S = x * w, [L, b] = y;
        p = { baseSize: x, originPos: S, min: L, max: b, relative: _ };
      }
      const h = (g) => {
        if (!u) return;
        const y = g instanceof MouseEvent ? g.pageX : g.changedTouches[0].pageX, _ = g instanceof MouseEvent ? g.pageY : g.changedTouches[0].pageY, w = (y - c) / e.value, x = (_ - d) / e.value;
        t.value = t.value.map((S) => {
          if (S.id === i.id && p) {
            const { baseSize: L, originPos: b, min: I, max: M, relative: E } = p, D = S;
            let O = 0;
            E === "center" ? O = (b - w * 2) / L : E === "left" ? O = (b + w) / L : E === "right" ? O = (b - w) / L : E === "top" ? O = (b + x) / L : E === "bottom" ? O = (b - x) / L : E === "left_bottom" ? O = (b + w) / L : E === "right_bottom" ? O = (b - w) / L : E === "top_right" ? O = (b + x) / L : E === "bottom_right" && (O = (b - x) / L), O < I && (O = I), O > M && (O = M);
            let N = [];
            return Array.isArray(f) ? (N = [...f], N[s] = O) : N = [O], {
              ...S,
              keypoints: N,
              path: v.formula(D.width, D.height, N)
            };
          }
          return S;
        });
      }, m = (g) => {
        u = !1, document.ontouchmove = null, document.ontouchend = null, document.onmousemove = null, document.onmouseup = null;
        const y = g instanceof MouseEvent ? g.pageX : g.changedTouches[0].pageX, _ = g instanceof MouseEvent ? g.pageY : g.changedTouches[0].pageY;
        c === y && d === _ || (n.updateSlide({ elements: t.value }), o());
      };
      l ? (document.ontouchmove = h, document.ontouchend = m) : (document.onmousemove = h, document.onmouseup = m);
    }
  };
}, L7 = (t) => {
  const e = Te(), { canvasScale: n, creatingElement: o } = de(e), a = (c) => {
    const { start: d, end: f } = c;
    if (!t.value) return;
    const v = t.value.getBoundingClientRect(), [p, h] = d, [m, g] = f, y = Math.min(p, m), _ = Math.max(p, m), w = Math.min(h, g), x = Math.max(h, g), S = (y - v.x) / n.value, L = (w - v.y) / n.value, b = (_ - y) / n.value, I = (x - w) / n.value;
    return { left: S, top: L, width: b, height: I };
  }, r = (c) => {
    const { start: d, end: f } = c;
    if (!t.value) return;
    const v = t.value.getBoundingClientRect(), [p, h] = d, [m, g] = f, y = Math.min(p, m), _ = Math.max(p, m), w = Math.min(h, g), x = Math.max(h, g), S = (y - v.x) / n.value, L = (w - v.y) / n.value, b = (_ - y) / n.value, I = (x - w) / n.value;
    return {
      left: S,
      top: L,
      start: [
        p === y ? 0 : b,
        h === w ? 0 : I
      ],
      end: [
        m === y ? 0 : b,
        g === w ? 0 : I
      ]
    };
  }, { createTextElement: i, createShapeElement: s, createLineElement: l } = ar();
  return {
    formatCreateSelection: a,
    insertElementFromCreateSelection: (c) => {
      if (!o.value) return;
      const d = o.value.type;
      if (d === "text") {
        const f = a(c);
        f && i(f, { vertical: o.value.vertical });
      } else if (d === "shape") {
        const f = a(c);
        f && s(f, o.value.data);
      } else if (d === "line") {
        const f = r(c);
        f && l(f, o.value.data);
      }
      e.setCreatingElement(null);
    }
  };
}, Ou = () => {
  const t = Ie(), { activeElementIdList: e, activeElementList: n } = de(Te()), { currentSlide: o, viewportRatio: a, viewportSize: r } = de(t), { addHistorySnapshot: i } = Xe();
  return {
    alignElementToCanvas: (l) => {
      const u = r.value, c = r.value * a.value, { minX: d, maxX: f, minY: v, maxY: p } = To(n.value), h = JSON.parse(JSON.stringify(o.value.elements));
      for (const m of h)
        if (e.value.includes(m.id)) {
          if (l === Ke.CENTER) {
            const g = v + (p - v) / 2 - c / 2, y = d + (f - d) / 2 - u / 2;
            m.top = m.top - g, m.left = m.left - y;
          }
          if (l === Ke.TOP) {
            const g = v - 0;
            m.top = m.top - g;
          } else if (l === Ke.VERTICAL) {
            const g = v + (p - v) / 2 - c / 2;
            m.top = m.top - g;
          } else if (l === Ke.BOTTOM) {
            const g = p - c;
            m.top = m.top - g;
          } else if (l === Ke.LEFT) {
            const g = d - 0;
            m.left = m.left - g;
          } else if (l === Ke.HORIZONTAL) {
            const g = d + (f - d) / 2 - u / 2;
            m.left = m.left - g;
          } else if (l === Ke.RIGHT) {
            const g = f - u;
            m.left = m.left - g;
          }
        }
      t.updateSlide({ elements: h }), i();
    }
  };
}, ha = (t) => ({
  shadowStyle: ne(() => {
    if (t.value) {
      const { h: n, v: o, blur: a, color: r } = t.value;
      return `${n}px ${o}px ${a}px ${r}`;
    }
    return "";
  })
}), Nu = (t, e) => ({
  flipStyle: ne(() => {
    let o = "";
    return t.value && e.value ? o = "rotateX(180deg) rotateY(180deg)" : e.value ? o = "rotateX(180deg)" : t.value && (o = "rotateY(180deg)"), o;
  })
});
var Ig = /* @__PURE__ */ ((t) => (t.RECT = "rect", t.ELLIPSE = "ellipse", t.POLYGON = "polygon", t))(Ig || {});
const hf = {
  rect: {
    name: "矩形",
    type: "rect",
    radius: "0",
    style: ""
  },
  rect2: {
    name: "矩形2",
    type: "polygon",
    style: "polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 0 100%)",
    createPath: (t, e) => `M 0 0 L ${t * 0.8} 0 L ${t} ${e * 0.2} L ${t} ${e} L 0 ${e} Z`
  },
  rect3: {
    name: "矩形3",
    type: "polygon",
    style: "polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 20% 100%, 0% 80%)",
    createPath: (t, e) => `M 0 0 L ${t * 0.8} 0 L ${t} ${e * 0.2} L ${t} ${e} L ${t * 0.2} ${e} L 0 ${e * 0.8} Z`
  },
  roundRect: {
    name: "圆角矩形",
    type: "rect",
    radius: "10px",
    style: "inset(0 round 10px)"
  },
  ellipse: {
    name: "圆形",
    type: "ellipse",
    style: "ellipse(50% 50% at 50% 50%)"
  },
  triangle: {
    name: "三角形",
    type: "polygon",
    style: "polygon(50% 0%, 0% 100%, 100% 100%)",
    createPath: (t, e) => `M ${t * 0.5} 0 L 0 ${e} L ${t} ${e} Z`
  },
  triangle2: {
    name: "三角形2",
    type: "polygon",
    style: "polygon(50% 100%, 0% 0%, 100% 0%)",
    createPath: (t, e) => `M ${t * 0.5} ${e} L 0 0 L ${t} 0 Z`
  },
  triangle3: {
    name: "三角形3",
    type: "polygon",
    style: "polygon(0% 0%, 0% 100%, 100% 100%)",
    createPath: (t, e) => `M 0 0 L 0 ${e} L ${t} ${e} Z`
  },
  rhombus: {
    name: "菱形",
    type: "polygon",
    style: "polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",
    createPath: (t, e) => `M ${t * 0.5} 0 L ${t} ${e * 0.5} L ${t * 0.5} ${e} L 0 ${e * 0.5} Z`
  },
  pentagon: {
    name: "五边形",
    type: "polygon",
    style: "polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)",
    createPath: (t, e) => `M ${t * 0.5} 0 L ${t} ${0.38 * e} L ${0.82 * t} ${e} L ${0.18 * t} ${e} L 0 ${0.38 * e} Z`
  },
  hexagon: {
    name: "六边形",
    type: "polygon",
    style: "polygon(20% 0%, 80% 0%, 100% 50%, 80% 100%, 20% 100%, 0% 50%)",
    createPath: (t, e) => `M ${t * 0.2} 0 L ${t * 0.8} 0 L ${t} ${e * 0.5} L ${t * 0.8} ${e} L ${t * 0.2} ${e} L 0 ${e * 0.5} Z`
  },
  heptagon: {
    name: "七边形",
    type: "polygon",
    style: "polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%)",
    createPath: (t, e) => `M ${t * 0.5} 0 L ${t * 0.9} ${e * 0.2} L ${t} ${e * 0.6} L ${t * 0.75} ${e} L ${t * 0.25} ${e} L 0 ${e * 0.6} L ${t * 0.1} ${e * 0.2} Z`
  },
  octagon: {
    name: "八边形",
    type: "polygon",
    style: "polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",
    createPath: (t, e) => `M ${t * 0.3} 0 L ${t * 0.7} 0 L ${t} ${e * 0.3} L ${t} ${e * 0.7} L ${t * 0.7} ${e} L ${t * 0.3} ${e} L 0 ${e * 0.7} L 0 ${e * 0.3} Z`
  },
  chevron: {
    name: "V形",
    type: "polygon",
    style: "polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%)",
    createPath: (t, e) => `M ${t * 0.75} 0 L ${t} ${e * 0.5} L ${t * 0.75} ${e} L 0 ${e} L ${t * 0.25} ${e * 0.5} L 0 0 Z`
  },
  point: {
    name: "点",
    type: "polygon",
    style: "polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)",
    createPath: (t, e) => `M 0 0 L ${t * 0.75} 0 L ${t} ${e * 0.5} L ${t * 0.75} ${e} L 0 ${e} Z`
  },
  arrow: {
    name: "箭头",
    type: "polygon",
    style: "polygon(0% 20%, 60% 20%, 60% 0%, 100% 50%, 60% 100%, 60% 80%, 0% 80%)",
    createPath: (t, e) => `M 0 ${e * 0.2} L ${t * 0.6} ${e * 0.2} L ${t * 0.6} 0 L ${t} ${e * 0.5} L ${t * 0.6} ${e} L ${t * 0.6} ${e * 0.8} L 0 ${e * 0.8} Z`
  },
  parallelogram: {
    name: "平行四边形",
    type: "polygon",
    style: "polygon(30% 0%, 100% 0%, 70% 100%, 0% 100%)",
    createPath: (t, e) => `M ${t * 0.3} 0 L ${t} 0 L ${t * 0.7} ${e} L 0 ${e} Z`
  },
  parallelogram2: {
    name: "平行四边形2",
    type: "polygon",
    style: "polygon(30% 100%, 100% 100%, 70% 0%, 0% 0%)",
    createPath: (t, e) => `M ${t * 0.3} ${e} L ${t} ${e} L ${t * 0.7} 0 L 0 0 Z`
  },
  trapezoid: {
    name: "梯形",
    type: "polygon",
    style: "polygon(25% 0%, 75% 0%, 100% 100%, 0% 100%)",
    createPath: (t, e) => `M ${t * 0.25} 0 L ${t * 0.75} 0 L ${t} ${e} L 0 ${e} Z`
  },
  trapezoid2: {
    name: "梯形2",
    type: "polygon",
    style: "polygon(0% 0%, 100% 0%, 75% 100%, 25% 100%)",
    createPath: (t, e) => `M 0 0 L ${t} 0 L ${t * 0.75} ${e} L ${t * 0.25} ${e} Z`
  }
}, zv = (t) => {
  const e = ne(() => {
    let o = hf.rect;
    if (t.value.clip) {
      const a = t.value.clip.shape || Ig.RECT;
      o = hf[a];
    }
    return o.radius !== void 0 && t.value.radius && (o = {
      ...o,
      radius: `${t.value.radius}px`,
      style: `inset(0 round ${t.value.radius}px)`
    }), o;
  }), n = ne(() => {
    if (!t.value.clip)
      return {
        top: "0",
        left: "0",
        width: "100%",
        height: "100%"
      };
    const [o, a] = t.value.clip.range, r = (a[0] - o[0]) / 100, i = (a[1] - o[1]) / 100, s = o[0] / r, l = o[1] / i;
    return {
      left: -s + "%",
      top: -l + "%",
      width: 100 / r + "%",
      height: 100 / i + "%"
    };
  });
  return {
    clipShape: e,
    imgPosition: n
  };
}, Cg = (t) => ({
  filter: ne(() => {
    if (!t.value) return "";
    let n = "";
    const o = Object.keys(t.value);
    for (const a of o)
      n += `${a}(${t.value[a]}) `;
    return n;
  })
}), Qr = (t) => {
  const e = ne(() => {
    var r;
    return ((r = t.value) == null ? void 0 : r.width) ?? 0;
  }), n = ne(() => {
    var r;
    return ((r = t.value) == null ? void 0 : r.style) || "solid";
  }), o = ne(() => {
    var r;
    return ((r = t.value) == null ? void 0 : r.color) || "#d14424";
  }), a = ne(() => {
    const r = e.value;
    return n.value === "dashed" ? r <= 6 ? `${r * 4.5} ${r * 2}` : `${r * 4} ${r * 1.5}` : n.value === "dotted" ? r <= 6 ? `${r * 1.8} ${r * 1.6}` : `${r * 1.5} ${r * 1.2}` : "0 0";
  });
  return {
    outlineWidth: e,
    outlineStyle: n,
    outlineColor: o,
    strokeDashArray: a
  };
}, k7 = ["width", "height"], E7 = ["rx", "ry", "width", "height", "stroke", "stroke-width", "stroke-dasharray"], M7 = /* @__PURE__ */ ce({
  __name: "ImageRectOutline",
  props: {
    width: {},
    height: {},
    outline: {},
    radius: { default: "0" }
  },
  setup(t) {
    const e = t, {
      outlineWidth: n,
      outlineColor: o,
      strokeDashArray: a
    } = Qr(Du(e, "outline"));
    return (r, i) => r.outline ? (k(), R("svg", {
      key: 0,
      class: "image-rect-outline",
      overflow: "visible",
      width: r.width,
      height: r.height
    }, [
      C("rect", {
        "vector-effect": "non-scaling-stroke",
        "stroke-linecap": "butt",
        "stroke-miterlimit": "8",
        fill: "transparent",
        rx: r.radius,
        ry: r.radius,
        width: r.width,
        height: r.height,
        stroke: A(o),
        "stroke-width": A(n),
        "stroke-dasharray": A(a)
      }, null, 8, E7)
    ], 8, k7)) : me("", !0);
  }
}), A7 = /* @__PURE__ */ ve(M7, [["__scopeId", "data-v-801a8465"]]), D7 = ["width", "height"], $7 = ["cx", "cy", "rx", "ry", "stroke", "stroke-width", "stroke-dasharray"], P7 = /* @__PURE__ */ ce({
  __name: "ImageEllipseOutline",
  props: {
    width: {},
    height: {},
    outline: {}
  },
  setup(t) {
    const e = t, {
      outlineWidth: n,
      outlineColor: o,
      strokeDashArray: a
    } = Qr(Du(e, "outline"));
    return (r, i) => r.outline ? (k(), R("svg", {
      key: 0,
      class: "image-ellipse-outline",
      overflow: "visible",
      width: r.width,
      height: r.height
    }, [
      C("ellipse", {
        "vector-effect": "non-scaling-stroke",
        "stroke-linecap": "butt",
        "stroke-miterlimit": "8",
        fill: "transparent",
        cx: r.width / 2,
        cy: r.height / 2,
        rx: r.width / 2,
        ry: r.height / 2,
        stroke: A(o),
        "stroke-width": A(n),
        "stroke-dasharray": A(a)
      }, null, 8, $7)
    ], 8, D7)) : me("", !0);
  }
}), R7 = /* @__PURE__ */ ve(P7, [["__scopeId", "data-v-2528d7e2"]]), O7 = ["width", "height"], N7 = ["d", "stroke", "stroke-width", "stroke-dasharray"], B7 = /* @__PURE__ */ ce({
  __name: "ImagePolygonOutline",
  props: {
    width: {},
    height: {},
    createPath: { type: Function },
    outline: {}
  },
  setup(t) {
    const e = t, {
      outlineWidth: n,
      outlineColor: o,
      strokeDashArray: a
    } = Qr(Du(e, "outline"));
    return (r, i) => r.outline ? (k(), R("svg", {
      key: 0,
      class: "image-polygon-outline",
      overflow: "visible",
      width: r.width,
      height: r.height
    }, [
      C("path", {
        "vector-effect": "non-scaling-stroke",
        "stroke-linecap": "butt",
        "stroke-miterlimit": "8",
        fill: "transparent",
        d: r.createPath(r.width, r.height),
        stroke: A(o),
        "stroke-width": A(n),
        "stroke-dasharray": A(a)
      }, null, 8, N7)
    ], 8, O7)) : me("", !0);
  }
}), F7 = /* @__PURE__ */ ve(B7, [["__scopeId", "data-v-04ee0d7b"]]), z7 = { class: "image-outline" }, Tg = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {}
  },
  setup(t) {
    const e = t, n = ne(() => e.elementInfo), { clipShape: o } = zv(n);
    return (a, r) => (k(), R("div", z7, [
      A(o).type === "rect" ? (k(), ie(A7, {
        key: 0,
        width: a.elementInfo.width,
        height: a.elementInfo.height,
        radius: A(o).radius,
        outline: a.elementInfo.outline
      }, null, 8, ["width", "height", "radius", "outline"])) : A(o).type === "ellipse" ? (k(), ie(R7, {
        key: 1,
        width: a.elementInfo.width,
        height: a.elementInfo.height,
        outline: a.elementInfo.outline
      }, null, 8, ["width", "height", "outline"])) : A(o).type === "polygon" ? (k(), ie(F7, {
        key: 2,
        width: a.elementInfo.width,
        height: a.elementInfo.height,
        outline: a.elementInfo.outline,
        createPath: A(o).createPath
      }, null, 8, ["width", "height", "outline", "createPath"])) : me("", !0)
    ]));
  }
}), Lg = (t) => (Ze("data-v-f5a86b3f"), t = t(), qe(), t), V7 = ["src"], H7 = ["src"], G7 = ["onMousedown"], U7 = /* @__PURE__ */ Lg(() => /* @__PURE__ */ C("svg", {
  width: "16",
  height: "16",
  fill: "#fff",
  stroke: "#333"
}, [
  /* @__PURE__ */ C("path", {
    "stroke-width": "0.3",
    "shape-rendering": "crispEdges",
    d: "M 16 0 L 0 0 L 0 16 L 4 16 L 4 4 L 16 4 L 16 0 Z"
  })
], -1)), W7 = [
  U7
], X7 = ["onMousedown"], Y7 = /* @__PURE__ */ Lg(() => /* @__PURE__ */ C("svg", {
  width: "16",
  height: "16",
  fill: "#fff",
  stroke: "#333"
}, [
  /* @__PURE__ */ C("path", {
    "stroke-width": "0.3",
    "shape-rendering": "crispEdges",
    d: "M 16 0 L 0 0 L 0 4 L 16 4 Z"
  })
], -1)), Z7 = [
  Y7
], q7 = /* @__PURE__ */ ce({
  __name: "ImageClipHandler",
  props: {
    src: {},
    clipPath: {},
    width: {},
    height: {},
    top: {},
    left: {},
    rotate: {},
    clipData: {}
  },
  emits: ["clip"],
  setup(t, { emit: e }) {
    const n = t, o = e, { canvasScale: a } = de(Te()), { ctrlOrShiftKeyActive: r } = de(eo()), i = V({
      top: "0",
      left: "0"
    }), s = V(!1), l = V(null), u = () => {
      const [b, I] = n.clipData ? n.clipData.range : [[0, 0], [100, 100]], M = (I[0] - b[0]) / 100, E = (I[1] - b[1]) / 100, D = b[0] / M, O = b[1] / E;
      return { widthScale: M, heightScale: E, left: D, top: O };
    }, c = ne(() => {
      const { widthScale: b, heightScale: I, left: M, top: E } = u();
      return {
        left: -M,
        top: -E,
        width: 100 / b,
        height: 100 / I
      };
    }), d = ne(() => ({
      top: c.value.top + "%",
      left: c.value.left + "%",
      width: c.value.width + "%",
      height: c.value.height + "%"
    })), f = V({
      top: 0,
      left: 0,
      width: 0,
      height: 0
    }), v = ne(() => {
      const { top: b, left: I, width: M, height: E } = f.value;
      return {
        top: b + "%",
        left: I + "%",
        width: M + "%",
        height: E + "%"
      };
    }), p = ne(() => {
      const b = c.value.width, I = c.value.height, { top: M, left: E, width: D, height: O } = f.value;
      return {
        left: -E * (100 / D) + "%",
        top: -M * (100 / O) + "%",
        width: b / D * 100 + "%",
        height: I / O * 100 + "%"
      };
    }), h = () => {
      const { left: b, top: I } = u();
      f.value = {
        left: b,
        top: I,
        width: 100,
        height: 100
      }, i.value = {
        top: -I + "%",
        left: -b + "%"
      };
    }, m = () => {
      if (s.value) return;
      if (!l.value) {
        o("clip", null);
        return;
      }
      const { left: b, top: I } = u(), M = {
        left: (f.value.left - b) / 100 * n.width,
        top: (f.value.top - I) / 100 * n.height,
        width: (f.value.width - 100) / 100 * n.width,
        height: (f.value.height - 100) / 100 * n.height
      }, E = {
        range: l.value,
        position: M
      };
      o("clip", E);
    }, g = (b) => {
      b.key.toUpperCase() === Me.ENTER && m();
    };
    Qe(() => {
      h(), document.addEventListener("keydown", g);
    }), ht(() => {
      document.removeEventListener("keydown", g);
    });
    const y = () => {
      const b = {
        left: parseInt(p.value.left),
        top: parseInt(p.value.top),
        width: parseInt(p.value.width),
        height: parseInt(p.value.height)
      }, I = 100 / b.width, M = 100 / b.height, E = [
        -b.left * I,
        -b.top * M
      ], D = [
        I * 100 + E[0],
        M * 100 + E[1]
      ];
      l.value = [E, D];
    }, _ = (b) => {
      s.value = !0;
      let I = !0;
      const M = b.pageX, E = b.pageY, D = c.value, O = { ...f.value };
      document.onmousemove = (N) => {
        if (!I) return;
        const P = N.pageX, $ = N.pageY, z = (P - M) / a.value, H = ($ - E) / a.value, W = Math.sqrt(z * z + H * H), te = Math.atan2(H, z) - n.rotate / 180 * Math.PI, le = W * Math.cos(te) / n.width * 100, J = W * Math.sin(te) / n.height * 100;
        let Q = O.left + le, q = O.top + J;
        Q < 0 ? Q = 0 : Q + O.width > D.width && (Q = D.width - O.width), q < 0 ? q = 0 : q + O.height > D.height && (q = D.height - O.height), f.value = {
          ...f.value,
          left: Q,
          top: q
        };
      }, document.onmouseup = () => {
        I = !1, document.onmousemove = null, document.onmouseup = null, y(), setTimeout(() => {
          s.value = !1;
        }, 0);
      };
    }, w = (b, I) => {
      s.value = !0;
      let M = !0;
      const E = 50 / n.width * 100, D = 50 / n.height * 100, O = b.pageX, N = b.pageY, P = c.value, $ = { ...f.value }, z = f.value.width / f.value.height;
      document.onmousemove = (H) => {
        if (!M) return;
        const W = H.pageX, oe = H.pageY, te = (W - O) / a.value, le = (oe - N) / a.value, J = Math.sqrt(te * te + le * le), q = Math.atan2(le, te) - n.rotate / 180 * Math.PI;
        let G = J * Math.cos(q) / n.width * 100, B = J * Math.sin(q) / n.height * 100;
        r.value && ((I === Ae.RIGHT_BOTTOM || I === Ae.LEFT_TOP) && (B = G / z), (I === Ae.LEFT_BOTTOM || I === Ae.RIGHT_TOP) && (B = -G / z));
        let ee, ue, X, Y;
        I === Ae.LEFT_TOP ? ($.left + G < 0 && (G = -$.left), $.top + B < 0 && (B = -$.top), $.width - G < E && (G = $.width - E), $.height - B < D && (B = $.height - D), X = $.width - G, Y = $.height - B, ee = $.left + G, ue = $.top + B) : I === Ae.RIGHT_TOP ? ($.left + $.width + G > P.width && (G = P.width - ($.left + $.width)), $.top + B < 0 && (B = -$.top), $.width + G < E && (G = E - $.width), $.height - B < D && (B = $.height - D), X = $.width + G, Y = $.height - B, ee = $.left, ue = $.top + B) : I === Ae.LEFT_BOTTOM ? ($.left + G < 0 && (G = -$.left), $.top + $.height + B > P.height && (B = P.height - ($.top + $.height)), $.width - G < E && (G = $.width - E), $.height + B < D && (B = D - $.height), X = $.width - G, Y = $.height + B, ee = $.left + G, ue = $.top) : I === Ae.RIGHT_BOTTOM ? ($.left + $.width + G > P.width && (G = P.width - ($.left + $.width)), $.top + $.height + B > P.height && (B = P.height - ($.top + $.height)), $.width + G < E && (G = E - $.width), $.height + B < D && (B = D - $.height), X = $.width + G, Y = $.height + B, ee = $.left, ue = $.top) : I === Ae.TOP ? ($.top + B < 0 && (B = -$.top), $.height - B < D && (B = $.height - D), X = $.width, Y = $.height - B, ee = $.left, ue = $.top + B) : I === Ae.BOTTOM ? ($.top + $.height + B > P.height && (B = P.height - ($.top + $.height)), $.height + B < D && (B = D - $.height), X = $.width, Y = $.height + B, ee = $.left, ue = $.top) : I === Ae.LEFT ? ($.left + G < 0 && (G = -$.left), $.width - G < E && (G = $.width - E), X = $.width - G, Y = $.height, ee = $.left + G, ue = $.top) : ($.left + $.width + G > P.width && (G = P.width - ($.left + $.width)), $.width + G < E && (G = E - $.width), Y = $.height, X = $.width + G, ee = $.left, ue = $.top), f.value = {
          left: ee,
          top: ue,
          width: X,
          height: Y
        };
      }, document.onmouseup = () => {
        M = !1, document.onmousemove = null, document.onmouseup = null, y(), setTimeout(() => s.value = !1, 0);
      };
    }, x = ne(() => {
      const b = "rotate-", I = n.rotate;
      return I > -22.5 && I <= 22.5 ? b + 0 : I > 22.5 && I <= 67.5 ? b + 45 : I > 67.5 && I <= 112.5 ? b + 90 : I > 112.5 && I <= 157.5 ? b + 135 : I > 157.5 || I <= -157.5 ? b + 0 : I > -157.5 && I <= -112.5 ? b + 45 : I > -112.5 && I <= -67.5 ? b + 90 : I > -67.5 && I <= -22.5 ? b + 135 : b + 0;
    }), S = [
      Ae.LEFT_TOP,
      Ae.RIGHT_TOP,
      Ae.LEFT_BOTTOM,
      Ae.RIGHT_BOTTOM
    ], L = [
      Ae.TOP,
      Ae.BOTTOM,
      Ae.LEFT,
      Ae.RIGHT
    ];
    return (b, I) => {
      const M = it("click-outside");
      return ge((k(), R("div", {
        class: "image-clip-handler",
        style: re(i.value)
      }, [
        C("img", {
          class: "bottom-img",
          src: b.src,
          draggable: !1,
          alt: "",
          style: re(d.value)
        }, null, 12, V7),
        C("div", {
          class: "top-image-content",
          style: re({
            ...v.value,
            clipPath: b.clipPath
          })
        }, [
          C("img", {
            class: "top-img",
            src: b.src,
            draggable: !1,
            alt: "",
            style: re(p.value)
          }, null, 12, H7)
        ], 4),
        C("div", {
          class: "operate",
          style: re(v.value),
          onMousedown: I[0] || (I[0] = Fe((E) => _(E), ["stop"]))
        }, [
          (k(), R(pe, null, xe(S, (E) => C("div", {
            class: ye(["clip-point", E, x.value]),
            key: E,
            onMousedown: Fe((D) => w(D, E), ["stop"])
          }, W7, 42, G7)), 64)),
          (k(), R(pe, null, xe(L, (E) => C("div", {
            class: ye(["clip-point", E, x.value]),
            key: E,
            onMousedown: Fe((D) => w(D, E), ["stop"])
          }, Z7, 42, X7)), 64))
        ], 36)
      ], 4)), [
        [M, m]
      ]);
    };
  }
}), J7 = /* @__PURE__ */ ve(q7, [["__scopeId", "data-v-f5a86b3f"]]), K7 = ["src"], Q7 = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    selectElement: { type: Function },
    contextmenus: { type: Function }
  },
  setup(t) {
    const e = t, n = Te(), o = Ie(), { clipingImageElementId: a } = de(n), r = ne(() => a.value === e.elementInfo.id), { addHistorySnapshot: i } = Xe(), s = ne(() => e.elementInfo.shadow), { shadowStyle: l } = ha(s), u = ne(() => e.elementInfo.flipH), c = ne(() => e.elementInfo.flipV), { flipStyle: d } = Nu(u, c), f = ne(() => e.elementInfo), { clipShape: v, imgPosition: p } = zv(f), h = ne(() => e.elementInfo.filters), { filter: m } = Cg(h), g = (_) => {
      e.elementInfo.lock || (_.stopPropagation(), e.selectElement(_, e.elementInfo));
    }, y = (_) => {
      if (n.setClipingImageElementId(""), !_) return;
      const { range: w, position: x } = _, S = e.elementInfo.clip || { shape: "rect", range: [[0, 0], [100, 100]] }, L = e.elementInfo.left + x.left, b = e.elementInfo.top + x.top, I = e.elementInfo.width + x.width, M = e.elementInfo.height + x.height;
      let E = 0, D = 0;
      if (e.elementInfo.rotate) {
        const N = L + I / 2 - (e.elementInfo.left + e.elementInfo.width / 2), P = -(b + M / 2 - (e.elementInfo.top + e.elementInfo.height / 2)), $ = -e.elementInfo.rotate * Math.PI / 180, z = N * Math.cos($) - P * Math.sin($), H = N * Math.sin($) + P * Math.cos($);
        E = z - N, D = -(H - P);
      }
      const O = {
        clip: { ...S, range: w },
        left: L + E,
        top: b + D,
        width: I,
        height: M
      };
      o.updateElement({ id: e.elementInfo.id, props: O }), i();
    };
    return (_, w) => {
      const x = it("contextmenu");
      return k(), R("div", {
        class: ye(["editable-element-image", { lock: _.elementInfo.lock }]),
        style: re({
          top: _.elementInfo.top + "px",
          left: _.elementInfo.left + "px",
          width: _.elementInfo.width + "px",
          height: _.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${_.elementInfo.rotate}deg)` })
        }, [
          r.value ? (k(), ie(J7, {
            key: 0,
            src: _.elementInfo.src,
            clipData: _.elementInfo.clip,
            width: _.elementInfo.width,
            height: _.elementInfo.height,
            top: _.elementInfo.top,
            left: _.elementInfo.left,
            rotate: _.elementInfo.rotate,
            clipPath: A(v).style,
            onClip: w[0] || (w[0] = (S) => y(S))
          }, null, 8, ["src", "clipData", "width", "height", "top", "left", "rotate", "clipPath"])) : ge((k(), R("div", {
            key: 1,
            class: "element-content",
            style: re({
              filter: A(l) ? `drop-shadow(${A(l)})` : "",
              transform: A(d)
            }),
            onMousedown: w[2] || (w[2] = (S) => g(S)),
            onTouchstart: w[3] || (w[3] = (S) => g(S))
          }, [
            T(Tg, { elementInfo: _.elementInfo }, null, 8, ["elementInfo"]),
            C("div", {
              class: "image-content",
              style: re({ clipPath: A(v).style })
            }, [
              C("img", {
                src: _.elementInfo.src,
                draggable: !1,
                style: re({
                  top: A(p).top,
                  left: A(p).left,
                  width: A(p).width,
                  height: A(p).height,
                  filter: A(m)
                }),
                onDragstart: w[1] || (w[1] = Fe(() => {
                }, ["prevent"])),
                alt: ""
              }, null, 44, K7),
              _.elementInfo.colorMask ? (k(), R("div", {
                key: 0,
                class: "color-mask",
                style: re({
                  backgroundColor: _.elementInfo.colorMask
                })
              }, null, 4)) : me("", !0)
            ], 4)
          ], 36)), [
            [x, _.contextmenus]
          ])
        ], 4)
      ], 6);
    };
  }
}), kg = /* @__PURE__ */ ve(Q7, [["__scopeId", "data-v-fa7e0876"]]), j7 = ["width", "height"], ew = ["d", "stroke", "stroke-width", "stroke-dasharray"], tw = /* @__PURE__ */ ce({
  __name: "ElementOutline",
  props: {
    width: {},
    height: {},
    outline: {}
  },
  setup(t) {
    const e = t, {
      outlineWidth: n,
      outlineColor: o,
      strokeDashArray: a
    } = Qr(Du(e, "outline"));
    return (r, i) => r.outline ? (k(), R("svg", {
      key: 0,
      class: "element-outline",
      overflow: "visible",
      width: r.width,
      height: r.height
    }, [
      C("path", {
        "vector-effect": "non-scaling-stroke",
        "stroke-linecap": "butt",
        "stroke-miterlimit": "8",
        fill: "transparent",
        d: `M0,0 L${r.width},0 L${r.width},${r.height} L0,${r.height} Z`,
        stroke: A(o),
        "stroke-width": A(n),
        "stroke-dasharray": A(a)
      }, null, 8, ew)
    ], 8, j7)) : me("", !0);
  }
}), Bu = /* @__PURE__ */ ve(tw, [["__scopeId", "data-v-813f8c74"]]), nw = (t) => {
  const e = {}, n = (o, a) => e[o] = a;
  return n("Alt-ArrowUp", i6), n("Alt-ArrowDown", s6), n("Mod-z", k6), n("Mod-y", E6), n("Backspace", O6), n("Escape", l6), n("Mod-b", Dt(t.marks.strong)), n("Mod-i", Dt(t.marks.em)), n("Mod-u", Dt(t.marks.underline)), n("Mod-d", Dt(t.marks.strikethrough)), n("Mod-e", Dt(t.marks.code)), n("Mod-;", Dt(t.marks.superscript)), n("Mod-'", Dt(t.marks.subscript)), n("Enter", t6(
    $6(t.nodes.list_item),
    n6,
    o6,
    a6,
    r6
  )), n("Mod-[", og(t.nodes.list_item)), n("Mod-]", rh(t.nodes.list_item)), n("Tab", rh(t.nodes.list_item)), e;
}, ow = (t) => Tv(/^\s*>\s$/, t), aw = (t) => Tv(
  /^(\d+)\.\s$/,
  t,
  (e) => ({ order: +e[1] }),
  (e, n) => n.childCount + n.attrs.order === +e[1]
), rw = (t) => Tv(/^\s*([-+*])\s$/, t), iw = () => {
  const t = /(?:^|\s)((?:`)((?:[^`]+))(?:`))$/;
  return new ag(t, (e, n, o, a) => {
    const { schema: r } = e, i = e.tr.insertText(`${n[2]} `, o, a), s = r.marks.code.create();
    return i.addMark(o, o + n[2].length, s);
  });
}, sw = () => {
  const t = /(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/;
  return new ag(t, (e, n, o, a) => {
    const { schema: r } = e, i = e.tr.insertText(n[0], o, a), s = r.marks.link.create({ href: n[0], title: n[0] });
    return i.addMark(o, o + n[0].length, s);
  });
}, lw = (t) => {
  const e = [
    ...N6,
    B6,
    F6
  ];
  return e.push(ow(t.nodes.blockquote)), e.push(aw(t.nodes.ordered_list)), e.push(rw(t.nodes.bullet_list)), e.push(iw()), e.push(sw()), z6({ rules: e });
}, uw = (t) => t.type.name === "paragraph" && t.nodeSize === 2, cw = (t) => new _6({
  props: {
    decorations(e) {
      const { $from: n } = e.selection;
      if (uw(n.parent)) {
        const o = S6.node(n.before(), n.after(), {
          "data-placeholder": t
        });
        return I6.create(e.doc, [o]);
      }
    }
  }
}), dw = (t, e) => {
  const n = e == null ? void 0 : e.placeholder, o = [
    lw(t),
    ah(nw(t)),
    ah(u6),
    A6(),
    D6(),
    M6()
  ];
  return n && o.push(cw(n)), o;
}, fw = {
  attrs: {
    order: {
      default: 1
    },
    listStyleType: {
      default: ""
    },
    fontsize: {
      default: ""
    },
    color: {
      default: ""
    }
  },
  content: "list_item+",
  group: "block",
  parseDOM: [
    {
      tag: "ol",
      getAttrs: (t) => {
        const n = { order: +((t.hasAttribute("start") ? t.getAttribute("start") : 1) || 1) }, { listStyleType: o, fontSize: a, color: r } = t.style;
        return o && (n.listStyleType = o), a && (n.fontsize = a), r && (n.color = r), n;
      }
    }
  ],
  toDOM: (t) => {
    const { order: e, listStyleType: n, fontsize: o, color: a } = t.attrs;
    let r = "";
    n && (r += `list-style-type: ${n};`), o && (r += `font-size: ${o};`), a && (r += `color: ${a};`);
    const i = { style: r };
    return e !== 1 && (i.start = e), ["ol", i, 0];
  }
}, vw = {
  attrs: {
    listStyleType: {
      default: ""
    },
    fontsize: {
      default: ""
    },
    color: {
      default: ""
    }
  },
  content: "list_item+",
  group: "block",
  parseDOM: [
    {
      tag: "ul",
      getAttrs: (t) => {
        const e = {}, { listStyleType: n, fontSize: o, color: a } = t.style;
        return n && (e.listStyleType = n), o && (e.fontsize = o), a && (e.color = a), e;
      }
    }
  ],
  toDOM: (t) => {
    const { listStyleType: e, fontsize: n, color: o } = t.attrs;
    let a = "";
    return e && (a += `list-style-type: ${e};`), n && (a += `font-size: ${n};`), o && (a += `color: ${o};`), ["ul", { style: a }, 0];
  }
}, pw = {
  ...P6,
  content: "paragraph block*",
  group: "block"
}, hw = {
  attrs: {
    align: {
      default: ""
    },
    indent: {
      default: 0
    },
    textIndent: {
      default: 0
    }
  },
  content: "inline*",
  group: "block",
  parseDOM: [
    {
      tag: "p",
      getAttrs: (t) => {
        const { textAlign: e, textIndent: n } = t.style;
        let o = t.getAttribute("align") || e || "";
        o = /(left|right|center|justify)/.test(o) ? o : "";
        let a = 0;
        n && (/em/.test(n) ? a = parseInt(n) : /px/.test(n) && (a = Math.floor(parseInt(n) / 20), a || (a = 1)));
        const r = +(t.getAttribute("data-indent") || 0);
        return { align: o, indent: r, textIndent: a };
      }
    },
    {
      tag: "img",
      ignore: !0
    },
    {
      tag: "pre",
      skip: !0
    }
  ],
  toDOM: (t) => {
    const { align: e, indent: n, textIndent: o } = t.attrs;
    let a = "";
    e && e !== "left" && (a += `text-align: ${e};`), o && (a += `text-indent: ${o * 20}px;`);
    const r = { style: a };
    return n && (r["data-indent"] = n), ["p", r, 0];
  }
}, {
  doc: mw,
  blockquote: gw,
  text: yw
} = V6, _w = {
  doc: mw,
  paragraph: hw,
  blockquote: gw,
  text: yw,
  ordered_list: fw,
  bullet_list: vw,
  list_item: pw
}, bw = {
  excludes: "subscript",
  parseDOM: [
    { tag: "sub" },
    {
      style: "vertical-align",
      getAttrs: (t) => t === "sub" && null
    }
  ],
  toDOM: () => ["sub", 0]
}, ww = {
  excludes: "superscript",
  parseDOM: [
    { tag: "sup" },
    {
      style: "vertical-align",
      getAttrs: (t) => t === "super" && null
    }
  ],
  toDOM: () => ["sup", 0]
}, xw = {
  parseDOM: [
    { tag: "strike" },
    {
      style: "text-decoration",
      getAttrs: (t) => t === "line-through" && null
    },
    {
      style: "text-decoration-line",
      getAttrs: (t) => t === "line-through" && null
    }
  ],
  toDOM: () => ["span", { style: "text-decoration-line: line-through;" }, 0]
}, Sw = {
  parseDOM: [
    { tag: "u" },
    {
      style: "text-decoration",
      getAttrs: (t) => t === "underline" && null
    },
    {
      style: "text-decoration-line",
      getAttrs: (t) => t === "underline" && null
    }
  ],
  toDOM: () => ["span", { style: "text-decoration: underline;" }, 0]
}, Iw = {
  attrs: {
    color: {}
  },
  inline: !0,
  group: "inline",
  parseDOM: [
    {
      style: "color",
      getAttrs: (t) => t ? { color: t } : {}
    }
  ],
  toDOM: (t) => {
    const { color: e } = t.attrs;
    let n = "";
    return e && (n += `color: ${e};`), ["span", { style: n }, 0];
  }
}, Cw = {
  attrs: {
    backcolor: {}
  },
  inline: !0,
  group: "inline",
  parseDOM: [
    {
      style: "background-color",
      getAttrs: (t) => t ? { backcolor: t } : {}
    }
  ],
  toDOM: (t) => {
    const { backcolor: e } = t.attrs;
    let n = "";
    return e && (n += `background-color: ${e};`), ["span", { style: n }, 0];
  }
}, Tw = {
  attrs: {
    fontsize: {}
  },
  inline: !0,
  group: "inline",
  parseDOM: [
    {
      style: "font-size",
      getAttrs: (t) => t ? { fontsize: t } : {}
    }
  ],
  toDOM: (t) => {
    const { fontsize: e } = t.attrs;
    let n = "";
    return e && (n += `font-size: ${e};`), ["span", { style: n }, 0];
  }
}, Lw = {
  attrs: {
    fontname: {}
  },
  inline: !0,
  group: "inline",
  parseDOM: [
    {
      style: "font-family",
      getAttrs: (t) => ({ fontname: t && typeof t == "string" ? t.replace(/[\"\']/g, "") : "" })
    }
  ],
  toDOM: (t) => {
    const { fontname: e } = t.attrs;
    let n = "";
    return e && (n += `font-family: ${e};`), ["span", { style: n }, 0];
  }
}, kw = {
  attrs: {
    href: {},
    title: { default: null },
    target: { default: "_blank" }
  },
  inclusive: !1,
  parseDOM: [
    {
      tag: "a[href]",
      getAttrs: (t) => {
        const e = t.getAttribute("href"), n = t.getAttribute("title");
        return { href: e, title: n };
      }
    }
  ],
  toDOM: (t) => ["a", t.attrs, 0]
}, Ew = {
  attrs: {
    index: { default: null }
  },
  parseDOM: [
    {
      tag: "mark",
      getAttrs: (t) => ({ index: t.dataset.index })
    }
  ],
  toDOM: (t) => ["mark", { "data-index": t.attrs.index }, 0]
}, { em: Mw, strong: Aw, code: Dw } = H6, $w = {
  em: Mw,
  strong: Aw,
  fontsize: Tw,
  fontname: Lw,
  code: Dw,
  forecolor: Iw,
  backcolor: Cw,
  subscript: bw,
  superscript: ww,
  strikethrough: xw,
  underline: Sw,
  link: kw,
  mark: Ew
}, Pw = _w, Rw = $w, Eg = new T6({
  nodes: Pw,
  marks: Rw
}), Vv = (t) => {
  const e = `<div>${t}</div>`, o = new window.DOMParser().parseFromString(e, "text/html").body.firstElementChild;
  return L6.fromSchema(Eg).parse(o);
}, Mg = (t, e, n, o) => new C6(t, {
  state: b6.create({
    doc: Vv(e),
    plugins: dw(Eg, o)
  }),
  ...n
});
var Ht = /* @__PURE__ */ ((t) => (t.RICH_TEXT_COMMAND = "RICH_TEXT_COMMAND", t.SYNC_RICH_TEXT_ATTRS_TO_STORE = "SYNC_RICH_TEXT_ATTRS_TO_STORE", t.OPEN_CHART_DATA_EDITOR = "OPEN_CHART_DATA_EDITOR", t.OPEN_LATEX_EDITOR = "OPEN_LATEX_EDITOR", t))(Ht || {});
const qt = G6(), Ow = (t, e, n) => {
  const { selection: o, doc: a } = t;
  if (!o || !a) return t;
  const { from: r, to: i } = o, { nodes: s } = e, l = s.blockquote, u = s.list_item, c = s.paragraph, d = [];
  n = n || "";
  const f = /* @__PURE__ */ new Set([l, u, c]);
  return a.nodesBetween(r, i, (v, p) => {
    const h = v.type;
    return (v.attrs.align || "") !== n && f.has(h) && d.push({
      node: v,
      pos: p,
      nodeType: h
    }), !0;
  }), d.length && d.forEach((v) => {
    const { node: p, pos: h, nodeType: m } = v;
    let { attrs: g } = p;
    n ? g = { ...g, align: n } : g = { ...g, align: null }, t = t.setNodeMarkup(h, m, g, p.marks);
  }), t;
}, Nw = (t, e) => {
  const { state: n } = t, { schema: o, selection: a } = n, r = Ow(
    n.tr.setSelection(a),
    o,
    e
  );
  t.dispatch(r);
};
function Bw(t, e, n, o) {
  if (!t.doc) return t;
  const a = t.doc.nodeAt(e);
  if (!a) return t;
  const r = 0, i = 8;
  let s = (a.attrs[o] || 0) + n;
  if (s < r && (s = r), s > i && (s = i), s === a.attrs[o]) return t;
  const l = {
    ...a.attrs,
    [o]: s
  };
  return t.setNodeMarkup(e, a.type, l, a.marks);
}
const Ag = (t, e, n, o) => {
  const { selection: a, doc: r } = t;
  if (!a || !r || !(a instanceof w6 || a instanceof x6)) return t;
  const { from: i, to: s } = a;
  return r.nodesBetween(i, s, (l, u) => {
    const c = l.type;
    return c.name === "paragraph" || c.name === "blockquote" ? (t = Bw(t, u, n, o), !1) : !Kl(l, e);
  }), t;
}, Fw = (t, e) => {
  const { state: n } = t, { schema: o, selection: a } = n, r = Ag(
    n.tr.setSelection(a),
    o,
    e,
    "indent"
  );
  return r.docChanged ? (t.dispatch(r), !0) : !1;
}, zw = (t, e) => {
  const { state: n } = t, { schema: o, selection: a } = n, r = Ag(
    n.tr.setSelection(a),
    o,
    e,
    "textIndent"
  );
  return r.docChanged ? (t.dispatch(r), !0) : !1;
}, tu = (t, e, n, o = {}) => (a, r) => {
  const { schema: i, selection: s } = a, { $from: l, $to: u } = s, c = l.blockRange(u);
  if (!c) return !1;
  const d = rg((v) => Kl(v, i))(s);
  if (c.depth >= 1 && d && c.depth - d.depth <= 1) {
    if (d.node.type === t && !n)
      return og(e)(a, r);
    if (Kl(d.node, i) && t.validContent(d.node.content)) {
      const { tr: v } = a, p = {
        ...d.node.attrs,
        ...o
      };
      return n && (p.listStyleType = n), v.setNodeMarkup(d.pos, t, p), r && r(v), !1;
    }
  }
  const f = {
    ...o
  };
  return n && (f.listStyleType = n), R6(t, f)(a, r);
}, fi = (t, e) => {
  const { state: n } = t, { schema: o, selection: a } = n, r = n.tr.setSelection(a), { doc: i } = r;
  if (!i) return r;
  const { from: s, to: l } = a;
  i.nodesBetween(s, l, (u, c) => {
    if (Kl(u, o) && s - 3 <= c && l + 3 >= c + u.nodeSize) {
      const d = Array.isArray(e) ? e : [e];
      for (const f of d)
        r.setNodeAttribute(c, f.key, f.value);
    }
    return !1;
  }), t.dispatch(r);
}, Vw = /* @__PURE__ */ ce({
  __name: "ProsemirrorEditor",
  props: {
    elementId: {},
    defaultColor: {},
    defaultFontName: {},
    value: {},
    editable: { type: Boolean, default: !1 },
    autoFocus: { type: Boolean, default: !1 }
  },
  emits: ["update", "focus", "blur", "mousedown"],
  setup(t, { expose: e, emit: n }) {
    const o = t, a = n, r = Te(), { handleElementId: i, textFormatPainter: s, richTextAttrs: l } = de(r), u = V();
    let c;
    const d = Qa(function(x = !1) {
      o.value.replace(/ style=\"\"/g, "") !== c.dom.innerHTML.replace(/ style=\"\"/g, "") && a("update", {
        value: c.dom.innerHTML,
        ignore: x
      });
    }, 300, { trailing: !0 }), f = () => {
      r.setDisableHotkeysState(!0), a("focus");
    }, v = () => {
      r.setDisableHotkeysState(!1), a("blur");
    }, p = Qa(function() {
      const x = lf(c, {
        color: o.defaultColor,
        fontname: o.defaultFontName
      });
      r.setRichtextAttrs(x);
    }, 30, { trailing: !0 }), h = (x, S) => {
      const { ctrlKey: L, shiftKey: b, metaKey: I } = S, M = L || b || I, E = S.key.toUpperCase(), D = M && (E === Me.Z || E === Me.Y);
      d(D), p();
    }, m = ne(() => o.value);
    Re(m, () => {
      if (!c || c.hasFocus()) return;
      const { doc: x, tr: S } = c.state;
      c.dispatch(S.replaceRangeWith(0, x.content.size, Vv(m.value)));
    }), Re(() => o.editable, () => {
      c.setProps({ editable: () => o.editable });
    }), e({ focus: () => c.focus() });
    const y = ({ target: x, action: S }) => {
      if (!x && i.value !== o.elementId || x && x !== o.elementId) return;
      const L = "command" in S ? [S] : S;
      for (const b of L)
        if (b.command === "fontname" && b.value) {
          const I = c.state.schema.marks.fontname.create({ fontname: b.value });
          Ot(c), co(c, I);
        } else if (b.command === "fontsize" && b.value) {
          const I = c.state.schema.marks.fontsize.create({ fontsize: b.value });
          Ot(c), co(c, I), fi(c, { key: "fontsize", value: b.value });
        } else if (b.command === "fontsize-add") {
          const I = b.value ? +b.value : 2;
          Ot(c);
          const M = ih(c) + I + "px", E = c.state.schema.marks.fontsize.create({ fontsize: M });
          co(c, E), fi(c, { key: "fontsize", value: M });
        } else if (b.command === "fontsize-reduce") {
          const I = b.value ? +b.value : 2;
          Ot(c);
          let M = ih(c) - I;
          M < 12 && (M = 12);
          const E = c.state.schema.marks.fontsize.create({ fontsize: M + "px" });
          co(c, E), fi(c, { key: "fontsize", value: M + "px" });
        } else if (b.command === "color" && b.value) {
          const I = c.state.schema.marks.forecolor.create({ color: b.value });
          Ot(c), co(c, I), fi(c, { key: "color", value: b.value });
        } else if (b.command === "backcolor" && b.value) {
          const I = c.state.schema.marks.backcolor.create({ backcolor: b.value });
          Ot(c), co(c, I);
        } else if (b.command === "bold")
          Ot(c), Dt(c.state.schema.marks.strong)(c.state, c.dispatch);
        else if (b.command === "em")
          Ot(c), Dt(c.state.schema.marks.em)(c.state, c.dispatch);
        else if (b.command === "underline")
          Ot(c), Dt(c.state.schema.marks.underline)(c.state, c.dispatch);
        else if (b.command === "strikethrough")
          Ot(c), Dt(c.state.schema.marks.strikethrough)(c.state, c.dispatch);
        else if (b.command === "subscript")
          Dt(c.state.schema.marks.subscript)(c.state, c.dispatch);
        else if (b.command === "superscript")
          Dt(c.state.schema.marks.superscript)(c.state, c.dispatch);
        else if (b.command === "blockquote")
          Ol("blockquote", c.state) ? c6(c.state, c.dispatch) : d6(c.state.schema.nodes.blockquote)(c.state, c.dispatch);
        else if (b.command === "code")
          Dt(c.state.schema.marks.code)(c.state, c.dispatch);
        else if (b.command === "align" && b.value)
          Nw(c, b.value);
        else if (b.command === "indent" && b.value)
          Fw(c, +b.value);
        else if (b.command === "textIndent" && b.value)
          zw(c, +b.value);
        else if (b.command === "bulletList") {
          const I = b.value || "", { bullet_list: M, list_item: E } = c.state.schema.nodes, D = {
            color: l.value.color,
            fontsize: l.value.fontsize
          };
          tu(M, E, I, D)(c.state, c.dispatch);
        } else if (b.command === "orderedList") {
          const I = b.value || "", { ordered_list: M, list_item: E } = c.state.schema.nodes, D = {
            color: l.value.color,
            fontsize: l.value.fontsize
          };
          tu(M, E, I, D)(c.state, c.dispatch);
        } else if (b.command === "clear") {
          Ot(c);
          const { $from: I, $to: M } = c.state.selection;
          c.dispatch(c.state.tr.removeMark(I.pos, M.pos)), fi(c, [
            { key: "fontsize", value: "" },
            { key: "color", value: "" }
          ]);
        } else if (b.command === "link") {
          const I = c.state.schema.marks.link, { from: M, to: E } = c.state.selection, D = K6(c.state.doc, M, E, I);
          if (D)
            if (b.value) {
              const O = c.state.schema.marks.link.create({ href: b.value, title: b.value });
              co(c, O, { from: D.from.pos, to: D.to.pos + 1 });
            } else c.dispatch(c.state.tr.removeMark(D.from.pos, D.to.pos + 1, I));
          else if (tb(c.state, I))
            if (b.value) {
              const O = c.state.schema.marks.link.create({ href: b.value, title: b.value });
              co(c, O);
            } else Dt(I)(c.state, c.dispatch);
          else b.value && (Ot(c), Dt(I, { href: b.value, title: b.value })(c.state, c.dispatch));
        } else b.command === "insert" && b.value && c.dispatch(c.state.tr.insertText(b.value));
      c.focus(), d(), p();
    }, _ = () => {
      if (!s.value) return;
      const { keep: x, ...S } = s.value, L = [{ command: "clear" }];
      for (const b of Object.keys(S)) {
        const I = b, M = s.value[b];
        M === !0 ? L.push({ command: I }) : M && L.push({ command: I, value: M });
      }
      y({ action: L }), x || r.setTextFormatPainter(null);
    };
    Qe(() => {
      c = Mg(u.value, m.value, {
        handleDOMEvents: {
          focus: f,
          blur: v,
          keydown: h,
          click: p,
          mouseup: _
        },
        editable: () => o.editable
      }), o.autoFocus && c.focus();
    }), ht(() => {
      c && c.destroy();
    });
    const w = () => {
      i.value === o.elementId && p();
    };
    return qt.on(Ht.RICH_TEXT_COMMAND, y), qt.on(Ht.SYNC_RICH_TEXT_ATTRS_TO_STORE, w), ht(() => {
      qt.off(Ht.RICH_TEXT_COMMAND, y), qt.off(Ht.SYNC_RICH_TEXT_ATTRS_TO_STORE, w);
    }), (x, S) => (k(), R("div", {
      class: ye(["prosemirror-editor", { "format-painter": A(s) }]),
      ref_key: "editorViewRef",
      ref: u,
      onMousedown: S[0] || (S[0] = (L) => a("mousedown", L))
    }, null, 34));
  }
}), Dg = /* @__PURE__ */ ve(Vw, [["__scopeId", "data-v-69f4a3a5"]]), $g = (t) => (Ze("data-v-50e519ce"), t = t(), qe(), t), Hw = /* @__PURE__ */ $g(() => /* @__PURE__ */ C("div", { class: "drag-handler top" }, null, -1)), Gw = /* @__PURE__ */ $g(() => /* @__PURE__ */ C("div", { class: "drag-handler bottom" }, null, -1)), Uw = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    selectElement: { type: Function },
    contextmenus: { type: Function }
  },
  setup(t) {
    const e = t, n = Te(), o = Ie(), { handleElementId: a, isScaling: r } = de(n), { addHistorySnapshot: i } = Xe(), s = V(), l = ne(() => e.elementInfo.shadow), { shadowStyle: u } = ha(l), c = (y, _ = !0) => {
      e.elementInfo.lock || (y.stopPropagation(), e.selectElement(y, e.elementInfo, _));
    }, d = V(-1), f = V(-1);
    Re(r, () => {
      a.value === e.elementInfo.id && (r.value || (!e.elementInfo.vertical && d.value !== -1 && (o.updateElement({
        id: e.elementInfo.id,
        props: { height: d.value }
      }), d.value = -1), e.elementInfo.vertical && f.value !== -1 && (o.updateElement({
        id: e.elementInfo.id,
        props: { width: f.value }
      }), f.value = -1)));
    });
    const v = (y) => {
      const _ = y[0].contentRect;
      if (!s.value) return;
      const w = _.height + 20, x = _.width + 20;
      !e.elementInfo.vertical && e.elementInfo.height !== w && (r.value ? d.value = w : o.updateElement({
        id: e.elementInfo.id,
        props: { height: w }
      })), e.elementInfo.vertical && e.elementInfo.width !== x && (r.value ? f.value = x : o.updateElement({
        id: e.elementInfo.id,
        props: { width: x }
      }));
    }, p = new ResizeObserver(v);
    Qe(() => {
      s.value && p.observe(s.value);
    }), ht(() => {
      s.value && p.unobserve(s.value);
    });
    const h = (y, _ = !1) => {
      o.updateElement({
        id: e.elementInfo.id,
        props: { content: y }
      }), _ || i();
    }, m = Qa(function() {
      e.elementInfo.content.replace(/<[^>]+>/g, "") || o.deleteElement(e.elementInfo.id);
    }, 300, { trailing: !0 }), g = ne(() => a.value === e.elementInfo.id);
    return Re(g, () => {
      g.value || m();
    }), (y, _) => {
      const w = it("contextmenu");
      return k(), R("div", {
        class: ye(["editable-element-text", { lock: y.elementInfo.lock }]),
        style: re({
          top: y.elementInfo.top + "px",
          left: y.elementInfo.left + "px",
          width: y.elementInfo.width + "px",
          height: y.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${y.elementInfo.rotate}deg)` })
        }, [
          ge((k(), R("div", {
            class: "element-content",
            ref_key: "elementRef",
            ref: s,
            style: re({
              width: y.elementInfo.vertical ? "auto" : y.elementInfo.width + "px",
              height: y.elementInfo.vertical ? y.elementInfo.height + "px" : "auto",
              backgroundColor: y.elementInfo.fill,
              opacity: y.elementInfo.opacity,
              textShadow: A(u),
              lineHeight: y.elementInfo.lineHeight,
              letterSpacing: (y.elementInfo.wordSpace || 0) + "px",
              color: y.elementInfo.defaultColor,
              fontFamily: y.elementInfo.defaultFontName,
              writingMode: y.elementInfo.vertical ? "vertical-rl" : "horizontal-tb"
            }),
            onMousedown: _[2] || (_[2] = (x) => c(x)),
            onTouchstart: _[3] || (_[3] = (x) => c(x))
          }, [
            T(Bu, {
              width: y.elementInfo.width,
              height: y.elementInfo.height,
              outline: y.elementInfo.outline
            }, null, 8, ["width", "height", "outline"]),
            T(Dg, {
              class: "text",
              elementId: y.elementInfo.id,
              defaultColor: y.elementInfo.defaultColor,
              defaultFontName: y.elementInfo.defaultFontName,
              editable: !y.elementInfo.lock,
              value: y.elementInfo.content,
              style: re({
                "--paragraphSpace": `${y.elementInfo.paragraphSpace === void 0 ? 5 : y.elementInfo.paragraphSpace}px`
              }),
              onUpdate: _[0] || (_[0] = ({ value: x, ignore: S }) => h(x, S)),
              onMousedown: _[1] || (_[1] = (x) => c(x, !1))
            }, null, 8, ["elementId", "defaultColor", "defaultFontName", "editable", "value", "style"]),
            Hw,
            Gw
          ], 36)), [
            [w, y.contextmenus]
          ])
        ], 4)
      ], 6);
    };
  }
}), Pg = /* @__PURE__ */ ve(Uw, [["__scopeId", "data-v-50e519ce"]]), Ww = ["id", "gradientTransform"], Xw = ["offset", "stop-color"], Yw = ["id"], Zw = ["offset", "stop-color"], Rg = /* @__PURE__ */ ce({
  __name: "GradientDefs",
  props: {
    id: {},
    type: {},
    colors: {},
    rotate: { default: 0 }
  },
  setup(t) {
    return (e, n) => e.type === "linear" ? (k(), R("linearGradient", {
      key: 0,
      id: e.id,
      x1: "0%",
      y1: "0%",
      x2: "100%",
      y2: "0%",
      gradientTransform: `rotate(${e.rotate},0.5,0.5)`
    }, [
      (k(!0), R(pe, null, xe(e.colors, (o, a) => (k(), R("stop", {
        key: a,
        offset: `${o.pos}%`,
        "stop-color": o.color
      }, null, 8, Xw))), 128))
    ], 8, Ww)) : (k(), R("radialGradient", {
      key: 1,
      id: e.id
    }, [
      (k(!0), R(pe, null, xe(e.colors, (o, a) => (k(), R("stop", {
        key: a,
        offset: `${o.pos}%`,
        "stop-color": o.color
      }, null, 8, Zw))), 128))
    ], 8, Yw));
  }
}), qw = ["width", "height"], Jw = { key: 0 }, Kw = ["transform"], Qw = ["d", "fill", "stroke", "stroke-width", "stroke-dasharray"], jw = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    selectElement: { type: Function },
    contextmenus: { type: Function }
  },
  setup(t) {
    const e = t, n = Te(), o = Ie(), { handleElementId: a, shapeFormatPainter: r } = de(n), { addHistorySnapshot: i } = Xe(), s = (b, I = !0) => {
      e.elementInfo.lock || (b.stopPropagation(), e.selectElement(b, e.elementInfo, I));
    }, l = () => {
      if (!r.value) return;
      const { keep: b, ...I } = r.value;
      o.updateElement({
        id: e.elementInfo.id,
        props: I
      }), i(), b || n.setShapeFormatPainter(null);
    }, u = ne(() => e.elementInfo.outline), { outlineWidth: c, outlineColor: d, strokeDashArray: f } = Qr(u), v = ne(() => e.elementInfo.shadow), { shadowStyle: p } = ha(v), h = ne(() => e.elementInfo.flipH), m = ne(() => e.elementInfo.flipV), { flipStyle: g } = Nu(h, m), y = V(!1);
    Re(a, () => {
      a.value !== e.elementInfo.id && y.value && (y.value = !1);
    });
    const _ = ne(() => {
      const b = {
        content: "",
        defaultFontName: "微软雅黑",
        defaultColor: "#000",
        align: "middle"
      };
      return e.elementInfo.text ? e.elementInfo.text : b;
    }), w = (b, I = !1) => {
      const M = { ..._.value, content: b };
      o.updateElement({
        id: e.elementInfo.id,
        props: { text: M }
      }), I || i();
    }, x = () => {
      if (!e.elementInfo.text) return;
      e.elementInfo.text.content.replace(/<[^>]+>/g, "") || (o.removeElementProps({ id: e.elementInfo.id, propName: "text" }), i());
    }, S = V(), L = () => {
      y.value = !0, Kt(() => S.value && S.value.focus());
    };
    return (b, I) => {
      const M = it("contextmenu");
      return k(), R("div", {
        class: ye(["editable-element-shape", {
          lock: b.elementInfo.lock,
          "format-painter": A(r)
        }]),
        style: re({
          top: b.elementInfo.top + "px",
          left: b.elementInfo.left + "px",
          width: b.elementInfo.width + "px",
          height: b.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${b.elementInfo.rotate}deg)` })
        }, [
          ge((k(), R("div", {
            class: "element-content",
            style: re({
              opacity: b.elementInfo.opacity,
              filter: A(p) ? `drop-shadow(${A(p)})` : "",
              transform: A(g),
              color: _.value.defaultColor,
              fontFamily: _.value.defaultFontName
            }),
            onMousedown: I[3] || (I[3] = (E) => s(E)),
            onMouseup: I[4] || (I[4] = (E) => l()),
            onTouchstart: I[5] || (I[5] = (E) => s(E)),
            onDblclick: I[6] || (I[6] = (E) => L())
          }, [
            (k(), R("svg", {
              overflow: "visible",
              width: b.elementInfo.width,
              height: b.elementInfo.height
            }, [
              b.elementInfo.gradient ? (k(), R("defs", Jw, [
                T(Rg, {
                  id: `editabel-gradient-${b.elementInfo.id}`,
                  type: b.elementInfo.gradient.type,
                  colors: b.elementInfo.gradient.colors,
                  rotate: b.elementInfo.gradient.rotate
                }, null, 8, ["id", "type", "colors", "rotate"])
              ])) : me("", !0),
              C("g", {
                transform: `scale(${b.elementInfo.width / b.elementInfo.viewBox[0]}, ${b.elementInfo.height / b.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`
              }, [
                C("path", {
                  class: "shape-path",
                  "vector-effect": "non-scaling-stroke",
                  "stroke-linecap": "butt",
                  "stroke-miterlimit": "8",
                  d: b.elementInfo.path,
                  fill: b.elementInfo.gradient ? `url(#editabel-gradient-${b.elementInfo.id})` : b.elementInfo.fill,
                  stroke: A(d),
                  "stroke-width": A(c),
                  "stroke-dasharray": A(f)
                }, null, 8, Qw)
              ], 8, Kw)
            ], 8, qw)),
            C("div", {
              class: ye(["shape-text", [_.value.align, { editable: y.value || _.value.content }]])
            }, [
              y.value || _.value.content ? (k(), ie(Dg, {
                key: 0,
                ref_key: "prosemirrorEditorRef",
                ref: S,
                elementId: b.elementInfo.id,
                defaultColor: _.value.defaultColor,
                defaultFontName: _.value.defaultFontName,
                editable: !b.elementInfo.lock,
                value: _.value.content,
                onUpdate: I[0] || (I[0] = ({ value: E, ignore: D }) => w(E, D)),
                onBlur: I[1] || (I[1] = (E) => x()),
                onMousedown: I[2] || (I[2] = (E) => s(E, !1))
              }, null, 8, ["elementId", "defaultColor", "defaultFontName", "editable", "value"])) : me("", !0)
            ], 2)
          ], 36)), [
            [M, b.contextmenus]
          ])
        ], 4)
      ], 6);
    };
  }
}), Og = /* @__PURE__ */ ve(jw, [["__scopeId", "data-v-7ae233c8"]]), ex = ["id", "markerWidth", "markerHeight", "refX", "refY"], tx = ["d", "fill", "transform"], Vr = /* @__PURE__ */ ce({
  __name: "LinePointMarker",
  props: {
    id: {},
    position: {},
    type: {},
    baseSize: {},
    color: {}
  },
  setup(t) {
    const e = t, n = {
      dot: "m0 5a5 5 0 1 0 10 0a5 5 0 1 0 -10 0z",
      arrow: "M0,0 L10,5 0,10 Z"
    }, o = {
      "arrow-start": 180,
      "arrow-end": 0
    }, a = ne(() => n[e.type]), r = ne(() => o[`${e.type}-${e.position}`] || 0), i = ne(() => e.baseSize < 2 ? 2 : e.baseSize);
    return (s, l) => (k(), R("marker", {
      id: `${s.id}-${s.type}-${s.position}`,
      markerUnits: "userSpaceOnUse",
      orient: "auto",
      markerWidth: i.value * 3,
      markerHeight: i.value * 3,
      refX: i.value * 1.5,
      refY: i.value * 1.5
    }, [
      C("path", {
        d: a.value,
        fill: s.color,
        transform: `scale(${i.value * 0.3}, ${i.value * 0.3}) rotate(${r.value}, 5, 5)`
      }, null, 8, tx)
    ], 8, ex));
  }
}), nx = ["width", "height"], ox = ["d", "stroke", "stroke-width", "stroke-dasharray", "marker-start", "marker-end"], ax = ["d"], rx = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    selectElement: { type: Function },
    contextmenus: { type: Function }
  },
  setup(t) {
    const e = t, n = (u) => {
      e.elementInfo.lock || (u.stopPropagation(), e.selectElement(u, e.elementInfo));
    }, o = ne(() => e.elementInfo.shadow), { shadowStyle: a } = ha(o), r = ne(() => {
      const u = Math.abs(e.elementInfo.start[0] - e.elementInfo.end[0]);
      return u < 24 ? 24 : u;
    }), i = ne(() => {
      const u = Math.abs(e.elementInfo.start[1] - e.elementInfo.end[1]);
      return u < 24 ? 24 : u;
    }), s = ne(() => {
      const u = e.elementInfo.width;
      return e.elementInfo.style === "dashed" ? u <= 8 ? `${u * 5} ${u * 2.5}` : `${u * 5} ${u * 1.5}` : e.elementInfo.style === "dotted" ? u <= 8 ? `${u * 1.8} ${u * 1.6}` : `${u * 1.5} ${u * 1.2}` : "0 0";
    }), l = ne(() => Av(e.elementInfo));
    return (u, c) => {
      const d = it("contextmenu");
      return k(), R("div", {
        class: ye(["editable-element-shape", { lock: u.elementInfo.lock }]),
        style: re({
          top: u.elementInfo.top + "px",
          left: u.elementInfo.left + "px"
        })
      }, [
        C("div", {
          class: "element-content",
          style: re({ filter: A(a) ? `drop-shadow(${A(a)})` : "" }),
          onMousedown: c[0] || (c[0] = (f) => n(f)),
          onTouchstart: c[1] || (c[1] = (f) => n(f))
        }, [
          (k(), R("svg", {
            overflow: "visible",
            width: r.value,
            height: i.value
          }, [
            C("defs", null, [
              u.elementInfo.points[0] ? (k(), ie(Vr, {
                key: 0,
                id: u.elementInfo.id,
                position: "start",
                type: u.elementInfo.points[0],
                color: u.elementInfo.color,
                baseSize: u.elementInfo.width
              }, null, 8, ["id", "type", "color", "baseSize"])) : me("", !0),
              u.elementInfo.points[1] ? (k(), ie(Vr, {
                key: 1,
                id: u.elementInfo.id,
                position: "end",
                type: u.elementInfo.points[1],
                color: u.elementInfo.color,
                baseSize: u.elementInfo.width
              }, null, 8, ["id", "type", "color", "baseSize"])) : me("", !0)
            ]),
            C("path", {
              class: "line-point",
              d: l.value,
              stroke: u.elementInfo.color,
              "stroke-width": u.elementInfo.width,
              "stroke-dasharray": s.value,
              fill: "none",
              "marker-start": u.elementInfo.points[0] ? `url(#${u.elementInfo.id}-${u.elementInfo.points[0]}-start)` : "",
              "marker-end": u.elementInfo.points[1] ? `url(#${u.elementInfo.id}-${u.elementInfo.points[1]}-end)` : ""
            }, null, 8, ox),
            ge(C("path", {
              class: "line-path",
              d: l.value,
              stroke: "transparent",
              "stroke-width": "20",
              fill: "none"
            }, null, 8, ax), [
              [d, u.contextmenus]
            ])
          ], 8, nx))
        ], 36)
      ], 6);
    };
  }
}), Ng = /* @__PURE__ */ ve(rx, [["__scopeId", "data-v-4bb147a5"]]), ix = ({
  type: t,
  data: e,
  themeColors: n,
  textColor: o,
  lineSmooth: a,
  stack: r
}) => {
  if (t === "bar")
    return {
      color: n,
      textStyle: o ? {
        color: o
      } : {},
      legend: e.series.length > 1 ? {
        top: "bottom",
        textStyle: o ? {
          color: o
        } : {}
      } : void 0,
      xAxis: {
        type: "category",
        data: e.labels
      },
      yAxis: {
        type: "value"
      },
      series: e.series.map((i, s) => {
        const l = {
          data: i,
          name: e.legends[s],
          type: "bar",
          label: {
            show: !0
          }
        };
        return r && (l.stack = "A"), l;
      })
    };
  if (t === "column")
    return {
      color: n,
      textStyle: o ? {
        color: o
      } : {},
      legend: e.series.length > 1 ? {
        top: "bottom",
        textStyle: o ? {
          color: o
        } : {}
      } : void 0,
      yAxis: {
        type: "category",
        data: e.labels
      },
      xAxis: {
        type: "value"
      },
      series: e.series.map((i, s) => {
        const l = {
          data: i,
          name: e.legends[s],
          type: "bar",
          label: {
            show: !0
          }
        };
        return r && (l.stack = "A"), l;
      })
    };
  if (t === "line")
    return {
      color: n,
      textStyle: o ? {
        color: o
      } : {},
      legend: e.series.length > 1 ? {
        top: "bottom",
        textStyle: o ? {
          color: o
        } : {}
      } : void 0,
      xAxis: {
        type: "category",
        data: e.labels
      },
      yAxis: {
        type: "value"
      },
      series: e.series.map((i, s) => {
        const l = {
          data: i,
          name: e.legends[s],
          type: "line",
          smooth: a,
          label: {
            show: !0
          }
        };
        return r && (l.stack = "A"), l;
      })
    };
  if (t === "pie")
    return {
      color: n,
      textStyle: o ? {
        color: o
      } : {},
      legend: {
        top: "bottom",
        textStyle: o ? {
          color: o
        } : {}
      },
      series: [
        {
          data: e.series[0].map((i, s) => ({ value: i, name: e.labels[s] })),
          label: o ? {
            color: o
          } : {},
          type: "pie",
          radius: "70%",
          emphasis: {
            itemStyle: {
              shadowBlur: 10,
              shadowOffsetX: 0,
              shadowColor: "rgba(0, 0, 0, 0.5)"
            },
            label: {
              show: !0,
              fontSize: 14,
              fontWeight: "bold"
            }
          }
        }
      ]
    };
  if (t === "ring")
    return {
      color: n,
      textStyle: o ? {
        color: o
      } : {},
      legend: {
        top: "bottom",
        textStyle: o ? {
          color: o
        } : {}
      },
      series: [
        {
          data: e.series[0].map((i, s) => ({ value: i, name: e.labels[s] })),
          label: o ? {
            color: o
          } : {},
          type: "pie",
          radius: ["40%", "70%"],
          padAngle: 1,
          avoidLabelOverlap: !1,
          itemStyle: {
            borderRadius: 4
          },
          emphasis: {
            label: {
              show: !0,
              fontSize: 14,
              fontWeight: "bold"
            }
          }
        }
      ]
    };
  if (t === "area")
    return {
      color: n,
      textStyle: o ? {
        color: o
      } : {},
      legend: e.series.length > 1 ? {
        top: "bottom",
        textStyle: o ? {
          color: o
        } : {}
      } : void 0,
      xAxis: {
        type: "category",
        boundaryGap: !1,
        data: e.labels
      },
      yAxis: {
        type: "value"
      },
      series: e.series.map((i, s) => {
        const l = {
          data: i,
          name: e.legends[s],
          type: "line",
          areaStyle: {},
          label: {
            show: !0
          }
        };
        return r && (l.stack = "A"), l;
      })
    };
  if (t === "radar")
    return {
      color: n,
      textStyle: o ? {
        color: o
      } : {},
      legend: e.series.length > 1 ? {
        top: "bottom",
        textStyle: o ? {
          color: o
        } : {}
      } : void 0,
      radar: {
        indicator: e.labels.map((i) => ({ name: i }))
      },
      series: [
        {
          data: e.series.map((i, s) => ({ value: i, name: e.legends[s] })),
          type: "radar"
        }
      ]
    };
  if (t === "scatter") {
    const i = [];
    for (let s = 0; s < e.series[0].length; s++) {
      const l = e.series[0][s], u = e.series[1] ? e.series[1][s] : l;
      i.push([l, u]);
    }
    return {
      color: n,
      textStyle: o ? {
        color: o
      } : {},
      xAxis: {},
      yAxis: {},
      series: [
        {
          symbolSize: 12,
          data: i,
          type: "scatter"
        }
      ]
    };
  }
  return null;
};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var mf = function(t, e) {
  return mf = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, o) {
    n.__proto__ = o;
  } || function(n, o) {
    for (var a in o) Object.prototype.hasOwnProperty.call(o, a) && (n[a] = o[a]);
  }, mf(t, e);
};
function De(t, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
  mf(t, e);
  function n() {
    this.constructor = t;
  }
  t.prototype = e === null ? Object.create(e) : (n.prototype = e.prototype, new n());
}
var sx = /* @__PURE__ */ function() {
  function t() {
    this.firefox = !1, this.ie = !1, this.edge = !1, this.newEdge = !1, this.weChat = !1;
  }
  return t;
}(), lx = /* @__PURE__ */ function() {
  function t() {
    this.browser = new sx(), this.node = !1, this.wxa = !1, this.worker = !1, this.svgSupported = !1, this.touchEventsSupported = !1, this.pointerEventsSupported = !1, this.domSupported = !1, this.transformSupported = !1, this.transform3dSupported = !1, this.hasGlobalWindow = typeof window < "u";
  }
  return t;
}(), pt = new lx();
typeof wx == "object" && typeof wx.getSystemInfoSync == "function" ? (pt.wxa = !0, pt.touchEventsSupported = !0) : typeof document > "u" && typeof self < "u" ? pt.worker = !0 : typeof navigator > "u" || navigator.userAgent.indexOf("Node.js") === 0 ? (pt.node = !0, pt.svgSupported = !0) : ux(navigator.userAgent, pt);
function ux(t, e) {
  var n = e.browser, o = t.match(/Firefox\/([\d.]+)/), a = t.match(/MSIE\s([\d.]+)/) || t.match(/Trident\/.+?rv:(([\d.]+))/), r = t.match(/Edge?\/([\d.]+)/), i = /micromessenger/i.test(t);
  o && (n.firefox = !0, n.version = o[1]), a && (n.ie = !0, n.version = a[1]), r && (n.edge = !0, n.version = r[1], n.newEdge = +r[1].split(".")[0] > 18), i && (n.weChat = !0), e.svgSupported = typeof SVGRect < "u", e.touchEventsSupported = "ontouchstart" in window && !n.ie && !n.edge, e.pointerEventsSupported = "onpointerdown" in window && (n.edge || n.ie && +n.version >= 11), e.domSupported = typeof document < "u";
  var s = document.documentElement.style;
  e.transform3dSupported = (n.ie && "transition" in s || n.edge || "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix() || "MozPerspective" in s) && !("OTransition" in s), e.transformSupported = e.transform3dSupported || n.ie && +n.version >= 9;
}
var Hv = 12, Bg = "sans-serif", aa = Hv + "px " + Bg, cx = 20, dx = 100, fx = "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";
function vx(t) {
  var e = {};
  if (typeof JSON > "u")
    return e;
  for (var n = 0; n < t.length; n++) {
    var o = String.fromCharCode(n + 32), a = (t.charCodeAt(n) - cx) / dx;
    e[o] = a;
  }
  return e;
}
var px = vx(fx), Rs = {
  createCanvas: function() {
    return typeof document < "u" && document.createElement("canvas");
  },
  measureText: /* @__PURE__ */ function() {
    var t, e;
    return function(n, o) {
      if (!t) {
        var a = Rs.createCanvas();
        t = a && a.getContext("2d");
      }
      if (t)
        return e !== o && (e = t.font = o || aa), t.measureText(n);
      n = n || "", o = o || aa;
      var r = /((?:\d+)?\.?\d*)px/.exec(o), i = r && +r[1] || Hv, s = 0;
      if (o.indexOf("mono") >= 0)
        s = i * n.length;
      else
        for (var l = 0; l < n.length; l++) {
          var u = px[n[l]];
          s += u == null ? i : u * i;
        }
      return { width: s };
    };
  }(),
  loadImage: function(t, e, n) {
    var o = new Image();
    return o.onload = e, o.onerror = n, o.src = t, o;
  }
}, Fg = ra([
  "Function",
  "RegExp",
  "Date",
  "Error",
  "CanvasGradient",
  "CanvasPattern",
  "Image",
  "Canvas"
], function(t, e) {
  return t["[object " + e + "]"] = !0, t;
}, {}), zg = ra([
  "Int8",
  "Uint8",
  "Uint8Clamped",
  "Int16",
  "Uint16",
  "Int32",
  "Uint32",
  "Float32",
  "Float64"
], function(t, e) {
  return t["[object " + e + "Array]"] = !0, t;
}, {}), jr = Object.prototype.toString, Fu = Array.prototype, hx = Fu.forEach, mx = Fu.filter, Gv = Fu.slice, gx = Fu.map, dh = (function() {
}).constructor, Xs = dh ? dh.prototype : null, Uv = "__proto__", yx = 2311;
function Vg() {
  return yx++;
}
function Hr() {
  for (var t = [], e = 0; e < arguments.length; e++)
    t[e] = arguments[e];
  typeof console < "u" && console.error.apply(console, t);
}
function st(t) {
  if (t == null || typeof t != "object")
    return t;
  var e = t, n = jr.call(t);
  if (n === "[object Array]") {
    if (!Zi(t)) {
      e = [];
      for (var o = 0, a = t.length; o < a; o++)
        e[o] = st(t[o]);
    }
  } else if (zg[n]) {
    if (!Zi(t)) {
      var r = t.constructor;
      if (r.from)
        e = r.from(t);
      else {
        e = new r(t.length);
        for (var o = 0, a = t.length; o < a; o++)
          e[o] = t[o];
      }
    }
  } else if (!Fg[n] && !Zi(t) && !nu(t)) {
    e = {};
    for (var i in t)
      t.hasOwnProperty(i) && i !== Uv && (e[i] = st(t[i]));
  }
  return e;
}
function gt(t, e, n) {
  if (!Ue(e) || !Ue(t))
    return n ? st(e) : t;
  for (var o in e)
    if (e.hasOwnProperty(o) && o !== Uv) {
      var a = t[o], r = e[o];
      Ue(r) && Ue(a) && !Oe(r) && !Oe(a) && !nu(r) && !nu(a) && !fh(r) && !fh(a) && !Zi(r) && !Zi(a) ? gt(a, r, n) : (n || !(o in t)) && (t[o] = st(e[o]));
    }
  return t;
}
function Le(t, e) {
  if (Object.assign)
    Object.assign(t, e);
  else
    for (var n in e)
      e.hasOwnProperty(n) && n !== Uv && (t[n] = e[n]);
  return t;
}
function rt(t, e, n) {
  for (var o = lt(e), a = 0; a < o.length; a++) {
    var r = o[a];
    t[r] == null && (t[r] = e[r]);
  }
  return t;
}
function St(t, e) {
  if (t) {
    if (t.indexOf)
      return t.indexOf(e);
    for (var n = 0, o = t.length; n < o; n++)
      if (t[n] === e)
        return n;
  }
  return -1;
}
function _x(t, e) {
  var n = t.prototype;
  function o() {
  }
  o.prototype = e.prototype, t.prototype = new o();
  for (var a in n)
    n.hasOwnProperty(a) && (t.prototype[a] = n[a]);
  t.prototype.constructor = t, t.superClass = e;
}
function to(t, e, n) {
  if (t = "prototype" in t ? t.prototype : t, e = "prototype" in e ? e.prototype : e, Object.getOwnPropertyNames)
    for (var o = Object.getOwnPropertyNames(e), a = 0; a < o.length; a++) {
      var r = o[a];
      r !== "constructor" && t[r] == null && (t[r] = e[r]);
    }
  else
    rt(t, e);
}
function _n(t) {
  return !t || typeof t == "string" ? !1 : typeof t.length == "number";
}
function se(t, e, n) {
  if (t && e)
    if (t.forEach && t.forEach === hx)
      t.forEach(e, n);
    else if (t.length === +t.length)
      for (var o = 0, a = t.length; o < a; o++)
        e.call(n, t[o], o, t);
    else
      for (var r in t)
        t.hasOwnProperty(r) && e.call(n, t[r], r, t);
}
function $e(t, e, n) {
  if (!t)
    return [];
  if (!e)
    return Xv(t);
  if (t.map && t.map === gx)
    return t.map(e, n);
  for (var o = [], a = 0, r = t.length; a < r; a++)
    o.push(e.call(n, t[a], a, t));
  return o;
}
function ra(t, e, n, o) {
  if (t && e) {
    for (var a = 0, r = t.length; a < r; a++)
      n = e.call(o, n, t[a], a, t);
    return n;
  }
}
function tn(t, e, n) {
  if (!t)
    return [];
  if (!e)
    return Xv(t);
  if (t.filter && t.filter === mx)
    return t.filter(e, n);
  for (var o = [], a = 0, r = t.length; a < r; a++)
    e.call(n, t[a], a, t) && o.push(t[a]);
  return o;
}
function bx(t, e, n) {
  if (t && e) {
    for (var o = 0, a = t.length; o < a; o++)
      if (e.call(n, t[o], o, t))
        return t[o];
  }
}
function lt(t) {
  if (!t)
    return [];
  if (Object.keys)
    return Object.keys(t);
  var e = [];
  for (var n in t)
    t.hasOwnProperty(n) && e.push(n);
  return e;
}
function xx(t, e) {
  for (var n = [], o = 2; o < arguments.length; o++)
    n[o - 2] = arguments[o];
  return function() {
    return t.apply(e, n.concat(Gv.call(arguments)));
  };
}
var Bt = Xs && Je(Xs.bind) ? Xs.call.bind(Xs.bind) : xx;
function In(t) {
  for (var e = [], n = 1; n < arguments.length; n++)
    e[n - 1] = arguments[n];
  return function() {
    return t.apply(this, e.concat(Gv.call(arguments)));
  };
}
function Oe(t) {
  return Array.isArray ? Array.isArray(t) : jr.call(t) === "[object Array]";
}
function Je(t) {
  return typeof t == "function";
}
function ze(t) {
  return typeof t == "string";
}
function Hg(t) {
  return jr.call(t) === "[object String]";
}
function bt(t) {
  return typeof t == "number";
}
function Ue(t) {
  var e = typeof t;
  return e === "function" || !!t && e === "object";
}
function fh(t) {
  return !!Fg[jr.call(t)];
}
function cn(t) {
  return !!zg[jr.call(t)];
}
function nu(t) {
  return typeof t == "object" && typeof t.nodeType == "number" && typeof t.ownerDocument == "object";
}
function Wv(t) {
  return t.colorStops != null;
}
function Sx(t) {
  return jr.call(t) === "[object RegExp]";
}
function cs(t) {
  return t !== t;
}
function tr() {
  for (var t = [], e = 0; e < arguments.length; e++)
    t[e] = arguments[e];
  for (var n = 0, o = t.length; n < o; n++)
    if (t[n] != null)
      return t[n];
}
function Ge(t, e) {
  return t ?? e;
}
function Xa(t, e, n) {
  return t ?? e ?? n;
}
function Xv(t) {
  for (var e = [], n = 1; n < arguments.length; n++)
    e[n - 1] = arguments[n];
  return Gv.apply(t, e);
}
function Gg(t) {
  if (typeof t == "number")
    return [t, t, t, t];
  var e = t.length;
  return e === 2 ? [t[0], t[1], t[0], t[1]] : e === 3 ? [t[0], t[1], t[2], t[1]] : t;
}
function ot(t, e) {
  if (!t)
    throw new Error(e);
}
function Yo(t) {
  return t == null ? null : typeof t.trim == "function" ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
}
var Ug = "__ec_primitive__";
function gf(t) {
  t[Ug] = !0;
}
function Zi(t) {
  return t[Ug];
}
var Ix = function() {
  function t() {
    this.data = {};
  }
  return t.prototype.delete = function(e) {
    var n = this.has(e);
    return n && delete this.data[e], n;
  }, t.prototype.has = function(e) {
    return this.data.hasOwnProperty(e);
  }, t.prototype.get = function(e) {
    return this.data[e];
  }, t.prototype.set = function(e, n) {
    return this.data[e] = n, this;
  }, t.prototype.keys = function() {
    return lt(this.data);
  }, t.prototype.forEach = function(e) {
    var n = this.data;
    for (var o in n)
      n.hasOwnProperty(o) && e(n[o], o);
  }, t;
}(), Wg = typeof Map == "function";
function Cx() {
  return Wg ? /* @__PURE__ */ new Map() : new Ix();
}
var Tx = function() {
  function t(e) {
    var n = Oe(e);
    this.data = Cx();
    var o = this;
    e instanceof t ? e.each(a) : e && se(e, a);
    function a(r, i) {
      n ? o.set(r, i) : o.set(i, r);
    }
  }
  return t.prototype.hasKey = function(e) {
    return this.data.has(e);
  }, t.prototype.get = function(e) {
    return this.data.get(e);
  }, t.prototype.set = function(e, n) {
    return this.data.set(e, n), n;
  }, t.prototype.each = function(e, n) {
    this.data.forEach(function(o, a) {
      e.call(n, o, a);
    });
  }, t.prototype.keys = function() {
    var e = this.data.keys();
    return Wg ? Array.from(e) : e;
  }, t.prototype.removeKey = function(e) {
    this.data.delete(e);
  }, t;
}();
function nt(t) {
  return new Tx(t);
}
function Lx(t, e) {
  for (var n = new t.constructor(t.length + e.length), o = 0; o < t.length; o++)
    n[o] = t[o];
  for (var a = t.length, o = 0; o < e.length; o++)
    n[o + a] = e[o];
  return n;
}
function zu(t, e) {
  var n;
  if (Object.create)
    n = Object.create(t);
  else {
    var o = function() {
    };
    o.prototype = t, n = new o();
  }
  return e && Le(n, e), n;
}
function ds(t, e) {
  return t.hasOwnProperty(e);
}
function Cn() {
}
var Nl = 180 / Math.PI;
function ei(t, e) {
  return t == null && (t = 0), e == null && (e = 0), [t, e];
}
function kx(t) {
  return [t[0], t[1]];
}
function vh(t, e, n) {
  return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t;
}
function Ex(t, e, n) {
  return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t;
}
function Mx(t) {
  return Math.sqrt(Ax(t));
}
function Ax(t) {
  return t[0] * t[0] + t[1] * t[1];
}
function Rc(t, e, n) {
  return t[0] = e[0] * n, t[1] = e[1] * n, t;
}
function Dx(t, e) {
  var n = Mx(e);
  return n === 0 ? (t[0] = 0, t[1] = 0) : (t[0] = e[0] / n, t[1] = e[1] / n), t;
}
function yf(t, e) {
  return Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]));
}
var _f = yf;
function $x(t, e) {
  return (t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]);
}
var Rr = $x;
function Oc(t, e, n, o) {
  return t[0] = e[0] + o * (n[0] - e[0]), t[1] = e[1] + o * (n[1] - e[1]), t;
}
function zn(t, e, n) {
  var o = e[0], a = e[1];
  return t[0] = n[0] * o + n[2] * a + n[4], t[1] = n[1] * o + n[3] * a + n[5], t;
}
function Er(t, e, n) {
  return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t;
}
function Mr(t, e, n) {
  return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t;
}
var ur = /* @__PURE__ */ function() {
  function t(e, n) {
    this.target = e, this.topTarget = n && n.topTarget;
  }
  return t;
}(), Px = function() {
  function t(e) {
    this.handler = e, e.on("mousedown", this._dragStart, this), e.on("mousemove", this._drag, this), e.on("mouseup", this._dragEnd, this);
  }
  return t.prototype._dragStart = function(e) {
    for (var n = e.target; n && !n.draggable; )
      n = n.parent || n.__hostTarget;
    n && (this._draggingTarget = n, n.dragging = !0, this._x = e.offsetX, this._y = e.offsetY, this.handler.dispatchToElement(new ur(n, e), "dragstart", e.event));
  }, t.prototype._drag = function(e) {
    var n = this._draggingTarget;
    if (n) {
      var o = e.offsetX, a = e.offsetY, r = o - this._x, i = a - this._y;
      this._x = o, this._y = a, n.drift(r, i, e), this.handler.dispatchToElement(new ur(n, e), "drag", e.event);
      var s = this.handler.findHover(o, a, n).target, l = this._dropTarget;
      this._dropTarget = s, n !== s && (l && s !== l && this.handler.dispatchToElement(new ur(l, e), "dragleave", e.event), s && s !== l && this.handler.dispatchToElement(new ur(s, e), "dragenter", e.event));
    }
  }, t.prototype._dragEnd = function(e) {
    var n = this._draggingTarget;
    n && (n.dragging = !1), this.handler.dispatchToElement(new ur(n, e), "dragend", e.event), this._dropTarget && this.handler.dispatchToElement(new ur(this._dropTarget, e), "drop", e.event), this._draggingTarget = null, this._dropTarget = null;
  }, t;
}(), $o = function() {
  function t(e) {
    e && (this._$eventProcessor = e);
  }
  return t.prototype.on = function(e, n, o, a) {
    this._$handlers || (this._$handlers = {});
    var r = this._$handlers;
    if (typeof n == "function" && (a = o, o = n, n = null), !o || !e)
      return this;
    var i = this._$eventProcessor;
    n != null && i && i.normalizeQuery && (n = i.normalizeQuery(n)), r[e] || (r[e] = []);
    for (var s = 0; s < r[e].length; s++)
      if (r[e][s].h === o)
        return this;
    var l = {
      h: o,
      query: n,
      ctx: a || this,
      callAtLast: o.zrEventfulCallAtLast
    }, u = r[e].length - 1, c = r[e][u];
    return c && c.callAtLast ? r[e].splice(u, 0, l) : r[e].push(l), this;
  }, t.prototype.isSilent = function(e) {
    var n = this._$handlers;
    return !n || !n[e] || !n[e].length;
  }, t.prototype.off = function(e, n) {
    var o = this._$handlers;
    if (!o)
      return this;
    if (!e)
      return this._$handlers = {}, this;
    if (n) {
      if (o[e]) {
        for (var a = [], r = 0, i = o[e].length; r < i; r++)
          o[e][r].h !== n && a.push(o[e][r]);
        o[e] = a;
      }
      o[e] && o[e].length === 0 && delete o[e];
    } else
      delete o[e];
    return this;
  }, t.prototype.trigger = function(e) {
    for (var n = [], o = 1; o < arguments.length; o++)
      n[o - 1] = arguments[o];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[e], r = this._$eventProcessor;
    if (a)
      for (var i = n.length, s = a.length, l = 0; l < s; l++) {
        var u = a[l];
        if (!(r && r.filter && u.query != null && !r.filter(e, u.query)))
          switch (i) {
            case 0:
              u.h.call(u.ctx);
              break;
            case 1:
              u.h.call(u.ctx, n[0]);
              break;
            case 2:
              u.h.call(u.ctx, n[0], n[1]);
              break;
            default:
              u.h.apply(u.ctx, n);
              break;
          }
      }
    return r && r.afterTrigger && r.afterTrigger(e), this;
  }, t.prototype.triggerWithContext = function(e) {
    for (var n = [], o = 1; o < arguments.length; o++)
      n[o - 1] = arguments[o];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[e], r = this._$eventProcessor;
    if (a)
      for (var i = n.length, s = n[i - 1], l = a.length, u = 0; u < l; u++) {
        var c = a[u];
        if (!(r && r.filter && c.query != null && !r.filter(e, c.query)))
          switch (i) {
            case 0:
              c.h.call(s);
              break;
            case 1:
              c.h.call(s, n[0]);
              break;
            case 2:
              c.h.call(s, n[0], n[1]);
              break;
            default:
              c.h.apply(s, n.slice(1, i - 1));
              break;
          }
      }
    return r && r.afterTrigger && r.afterTrigger(e), this;
  }, t;
}(), Rx = Math.log(2);
function bf(t, e, n, o, a, r) {
  var i = o + "-" + a, s = t.length;
  if (r.hasOwnProperty(i))
    return r[i];
  if (e === 1) {
    var l = Math.round(Math.log((1 << s) - 1 & ~a) / Rx);
    return t[n][l];
  }
  for (var u = o | 1 << n, c = n + 1; o & 1 << c; )
    c++;
  for (var d = 0, f = 0, v = 0; f < s; f++) {
    var p = 1 << f;
    p & a || (d += (v % 2 ? -1 : 1) * t[n][f] * bf(t, e - 1, c, u, a | p, r), v++);
  }
  return r[i] = d, d;
}
function Ox(t, e) {
  var n = [
    [t[0], t[1], 1, 0, 0, 0, -e[0] * t[0], -e[0] * t[1]],
    [0, 0, 0, t[0], t[1], 1, -e[1] * t[0], -e[1] * t[1]],
    [t[2], t[3], 1, 0, 0, 0, -e[2] * t[2], -e[2] * t[3]],
    [0, 0, 0, t[2], t[3], 1, -e[3] * t[2], -e[3] * t[3]],
    [t[4], t[5], 1, 0, 0, 0, -e[4] * t[4], -e[4] * t[5]],
    [0, 0, 0, t[4], t[5], 1, -e[5] * t[4], -e[5] * t[5]],
    [t[6], t[7], 1, 0, 0, 0, -e[6] * t[6], -e[6] * t[7]],
    [0, 0, 0, t[6], t[7], 1, -e[7] * t[6], -e[7] * t[7]]
  ], o = {}, a = bf(n, 8, 0, 0, 0, o);
  if (a !== 0) {
    for (var r = [], i = 0; i < 8; i++)
      for (var s = 0; s < 8; s++)
        r[s] == null && (r[s] = 0), r[s] += ((i + s) % 2 ? -1 : 1) * bf(n, 7, i === 0 ? 1 : 0, 1 << i, 1 << s, o) / a * e[i];
    return function(l, u, c) {
      var d = u * r[6] + c * r[7] + 1;
      l[0] = (u * r[0] + c * r[1] + r[2]) / d, l[1] = (u * r[3] + c * r[4] + r[5]) / d;
    };
  }
}
var ph = "___zrEVENTSAVED";
function Nx(t, e, n, o, a) {
  if (e.getBoundingClientRect && pt.domSupported && !Xg(e)) {
    var r = e[ph] || (e[ph] = {}), i = Bx(e, r), s = Fx(i, r);
    if (s)
      return s(t, n, o), !0;
  }
  return !1;
}
function Bx(t, e) {
  var n = e.markers;
  if (n)
    return n;
  n = e.markers = [];
  for (var o = ["left", "right"], a = ["top", "bottom"], r = 0; r < 4; r++) {
    var i = document.createElement("div"), s = i.style, l = r % 2, u = (r >> 1) % 2;
    s.cssText = [
      "position: absolute",
      "visibility: hidden",
      "padding: 0",
      "margin: 0",
      "border-width: 0",
      "user-select: none",
      "width:0",
      "height:0",
      o[l] + ":0",
      a[u] + ":0",
      o[1 - l] + ":auto",
      a[1 - u] + ":auto",
      ""
    ].join("!important;"), t.appendChild(i), n.push(i);
  }
  return n;
}
function Fx(t, e, n) {
  for (var o = "trans", a = e[o], r = e.srcCoords, i = [], s = [], l = !0, u = 0; u < 4; u++) {
    var c = t[u].getBoundingClientRect(), d = 2 * u, f = c.left, v = c.top;
    i.push(f, v), l = l && r && f === r[d] && v === r[d + 1], s.push(t[u].offsetLeft, t[u].offsetTop);
  }
  return l && a ? a : (e.srcCoords = i, e[o] = Ox(i, s));
}
function Xg(t) {
  return t.nodeName.toUpperCase() === "CANVAS";
}
var zx = /([&<>"'])/g, Vx = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
function Hx(t) {
  return t == null ? "" : (t + "").replace(zx, function(e, n) {
    return Vx[n];
  });
}
var Gx = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, Nc = [], Ux = pt.browser.firefox && +pt.browser.version.split(".")[0] < 39;
function wf(t, e, n, o) {
  return n = n || {}, o ? hh(t, e, n) : Ux && e.layerX != null && e.layerX !== e.offsetX ? (n.zrX = e.layerX, n.zrY = e.layerY) : e.offsetX != null ? (n.zrX = e.offsetX, n.zrY = e.offsetY) : hh(t, e, n), n;
}
function hh(t, e, n) {
  if (pt.domSupported && t.getBoundingClientRect) {
    var o = e.clientX, a = e.clientY;
    if (Xg(t)) {
      var r = t.getBoundingClientRect();
      n.zrX = o - r.left, n.zrY = a - r.top;
      return;
    } else if (Nx(Nc, t, o, a)) {
      n.zrX = Nc[0], n.zrY = Nc[1];
      return;
    }
  }
  n.zrX = n.zrY = 0;
}
function Yv(t) {
  return t || window.event;
}
function Yn(t, e, n) {
  if (e = Yv(e), e.zrX != null)
    return e;
  var o = e.type, a = o && o.indexOf("touch") >= 0;
  if (a) {
    var i = o !== "touchend" ? e.targetTouches[0] : e.changedTouches[0];
    i && wf(t, i, e, n);
  } else {
    wf(t, e, e, n);
    var r = Wx(e);
    e.zrDelta = r ? r / 120 : -(e.detail || 0) / 3;
  }
  var s = e.button;
  return e.which == null && s !== void 0 && Gx.test(e.type) && (e.which = s & 1 ? 1 : s & 2 ? 3 : s & 4 ? 2 : 0), e;
}
function Wx(t) {
  var e = t.wheelDelta;
  if (e)
    return e;
  var n = t.deltaX, o = t.deltaY;
  if (n == null || o == null)
    return e;
  var a = Math.abs(o !== 0 ? o : n), r = o > 0 ? -1 : o < 0 ? 1 : n > 0 ? -1 : 1;
  return 3 * a * r;
}
function Xx(t, e, n, o) {
  t.addEventListener(e, n, o);
}
function Yx(t, e, n, o) {
  t.removeEventListener(e, n, o);
}
var Zx = function(t) {
  t.preventDefault(), t.stopPropagation(), t.cancelBubble = !0;
}, qx = function() {
  function t() {
    this._track = [];
  }
  return t.prototype.recognize = function(e, n, o) {
    return this._doTrack(e, n, o), this._recognize(e);
  }, t.prototype.clear = function() {
    return this._track.length = 0, this;
  }, t.prototype._doTrack = function(e, n, o) {
    var a = e.touches;
    if (a) {
      for (var r = {
        points: [],
        touches: [],
        target: n,
        event: e
      }, i = 0, s = a.length; i < s; i++) {
        var l = a[i], u = wf(o, l, {});
        r.points.push([u.zrX, u.zrY]), r.touches.push(l);
      }
      this._track.push(r);
    }
  }, t.prototype._recognize = function(e) {
    for (var n in Bc)
      if (Bc.hasOwnProperty(n)) {
        var o = Bc[n](this._track, e);
        if (o)
          return o;
      }
  }, t;
}();
function mh(t) {
  var e = t[1][0] - t[0][0], n = t[1][1] - t[0][1];
  return Math.sqrt(e * e + n * n);
}
function Jx(t) {
  return [
    (t[0][0] + t[1][0]) / 2,
    (t[0][1] + t[1][1]) / 2
  ];
}
var Bc = {
  pinch: function(t, e) {
    var n = t.length;
    if (n) {
      var o = (t[n - 1] || {}).points, a = (t[n - 2] || {}).points || o;
      if (a && a.length > 1 && o && o.length > 1) {
        var r = mh(o) / mh(a);
        !isFinite(r) && (r = 1), e.pinchScale = r;
        var i = Jx(o);
        return e.pinchX = i[0], e.pinchY = i[1], {
          type: "pinch",
          target: t[0].target,
          event: e
        };
      }
    }
  }
};
function qi() {
  return [1, 0, 0, 1, 0, 0];
}
function Zv(t) {
  return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, t;
}
function Kx(t, e) {
  return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5], t;
}
function Or(t, e, n) {
  var o = e[0] * n[0] + e[2] * n[1], a = e[1] * n[0] + e[3] * n[1], r = e[0] * n[2] + e[2] * n[3], i = e[1] * n[2] + e[3] * n[3], s = e[0] * n[4] + e[2] * n[5] + e[4], l = e[1] * n[4] + e[3] * n[5] + e[5];
  return t[0] = o, t[1] = a, t[2] = r, t[3] = i, t[4] = s, t[5] = l, t;
}
function gh(t, e, n) {
  return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4] + n[0], t[5] = e[5] + n[1], t;
}
function Yg(t, e, n, o) {
  o === void 0 && (o = [0, 0]);
  var a = e[0], r = e[2], i = e[4], s = e[1], l = e[3], u = e[5], c = Math.sin(n), d = Math.cos(n);
  return t[0] = a * d + s * c, t[1] = -a * c + s * d, t[2] = r * d + l * c, t[3] = -r * c + d * l, t[4] = d * (i - o[0]) + c * (u - o[1]) + o[0], t[5] = d * (u - o[1]) - c * (i - o[0]) + o[1], t;
}
function Qx(t, e, n) {
  var o = n[0], a = n[1];
  return t[0] = e[0] * o, t[1] = e[1] * a, t[2] = e[2] * o, t[3] = e[3] * a, t[4] = e[4] * o, t[5] = e[5] * a, t;
}
function qv(t, e) {
  var n = e[0], o = e[2], a = e[4], r = e[1], i = e[3], s = e[5], l = n * i - r * o;
  return l ? (l = 1 / l, t[0] = i * l, t[1] = -r * l, t[2] = -o * l, t[3] = n * l, t[4] = (o * s - i * a) * l, t[5] = (r * a - n * s) * l, t) : null;
}
var Ye = function() {
  function t(e, n) {
    this.x = e || 0, this.y = n || 0;
  }
  return t.prototype.copy = function(e) {
    return this.x = e.x, this.y = e.y, this;
  }, t.prototype.clone = function() {
    return new t(this.x, this.y);
  }, t.prototype.set = function(e, n) {
    return this.x = e, this.y = n, this;
  }, t.prototype.equal = function(e) {
    return e.x === this.x && e.y === this.y;
  }, t.prototype.add = function(e) {
    return this.x += e.x, this.y += e.y, this;
  }, t.prototype.scale = function(e) {
    this.x *= e, this.y *= e;
  }, t.prototype.scaleAndAdd = function(e, n) {
    this.x += e.x * n, this.y += e.y * n;
  }, t.prototype.sub = function(e) {
    return this.x -= e.x, this.y -= e.y, this;
  }, t.prototype.dot = function(e) {
    return this.x * e.x + this.y * e.y;
  }, t.prototype.len = function() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }, t.prototype.lenSquare = function() {
    return this.x * this.x + this.y * this.y;
  }, t.prototype.normalize = function() {
    var e = this.len();
    return this.x /= e, this.y /= e, this;
  }, t.prototype.distance = function(e) {
    var n = this.x - e.x, o = this.y - e.y;
    return Math.sqrt(n * n + o * o);
  }, t.prototype.distanceSquare = function(e) {
    var n = this.x - e.x, o = this.y - e.y;
    return n * n + o * o;
  }, t.prototype.negate = function() {
    return this.x = -this.x, this.y = -this.y, this;
  }, t.prototype.transform = function(e) {
    if (e) {
      var n = this.x, o = this.y;
      return this.x = e[0] * n + e[2] * o + e[4], this.y = e[1] * n + e[3] * o + e[5], this;
    }
  }, t.prototype.toArray = function(e) {
    return e[0] = this.x, e[1] = this.y, e;
  }, t.prototype.fromArray = function(e) {
    this.x = e[0], this.y = e[1];
  }, t.set = function(e, n, o) {
    e.x = n, e.y = o;
  }, t.copy = function(e, n) {
    e.x = n.x, e.y = n.y;
  }, t.len = function(e) {
    return Math.sqrt(e.x * e.x + e.y * e.y);
  }, t.lenSquare = function(e) {
    return e.x * e.x + e.y * e.y;
  }, t.dot = function(e, n) {
    return e.x * n.x + e.y * n.y;
  }, t.add = function(e, n, o) {
    e.x = n.x + o.x, e.y = n.y + o.y;
  }, t.sub = function(e, n, o) {
    e.x = n.x - o.x, e.y = n.y - o.y;
  }, t.scale = function(e, n, o) {
    e.x = n.x * o, e.y = n.y * o;
  }, t.scaleAndAdd = function(e, n, o, a) {
    e.x = n.x + o.x * a, e.y = n.y + o.y * a;
  }, t.lerp = function(e, n, o, a) {
    var r = 1 - a;
    e.x = r * n.x + a * o.x, e.y = r * n.y + a * o.y;
  }, t;
}(), Ys = Math.min, Zs = Math.max, ba = new Ye(), wa = new Ye(), xa = new Ye(), Sa = new Ye(), vi = new Ye(), pi = new Ye(), yt = function() {
  function t(e, n, o, a) {
    o < 0 && (e = e + o, o = -o), a < 0 && (n = n + a, a = -a), this.x = e, this.y = n, this.width = o, this.height = a;
  }
  return t.prototype.union = function(e) {
    var n = Ys(e.x, this.x), o = Ys(e.y, this.y);
    isFinite(this.x) && isFinite(this.width) ? this.width = Zs(e.x + e.width, this.x + this.width) - n : this.width = e.width, isFinite(this.y) && isFinite(this.height) ? this.height = Zs(e.y + e.height, this.y + this.height) - o : this.height = e.height, this.x = n, this.y = o;
  }, t.prototype.applyTransform = function(e) {
    t.applyTransform(this, this, e);
  }, t.prototype.calculateTransform = function(e) {
    var n = this, o = e.width / n.width, a = e.height / n.height, r = qi();
    return gh(r, r, [-n.x, -n.y]), Qx(r, r, [o, a]), gh(r, r, [e.x, e.y]), r;
  }, t.prototype.intersect = function(e, n) {
    if (!e)
      return !1;
    e instanceof t || (e = t.create(e));
    var o = this, a = o.x, r = o.x + o.width, i = o.y, s = o.y + o.height, l = e.x, u = e.x + e.width, c = e.y, d = e.y + e.height, f = !(r < l || u < a || s < c || d < i);
    if (n) {
      var v = 1 / 0, p = 0, h = Math.abs(r - l), m = Math.abs(u - a), g = Math.abs(s - c), y = Math.abs(d - i), _ = Math.min(h, m), w = Math.min(g, y);
      r < l || u < a ? _ > p && (p = _, h < m ? Ye.set(pi, -h, 0) : Ye.set(pi, m, 0)) : _ < v && (v = _, h < m ? Ye.set(vi, h, 0) : Ye.set(vi, -m, 0)), s < c || d < i ? w > p && (p = w, g < y ? Ye.set(pi, 0, -g) : Ye.set(pi, 0, y)) : _ < v && (v = _, g < y ? Ye.set(vi, 0, g) : Ye.set(vi, 0, -y));
    }
    return n && Ye.copy(n, f ? vi : pi), f;
  }, t.prototype.contain = function(e, n) {
    var o = this;
    return e >= o.x && e <= o.x + o.width && n >= o.y && n <= o.y + o.height;
  }, t.prototype.clone = function() {
    return new t(this.x, this.y, this.width, this.height);
  }, t.prototype.copy = function(e) {
    t.copy(this, e);
  }, t.prototype.plain = function() {
    return {
      x: this.x,
      y: this.y,
      width: this.width,
      height: this.height
    };
  }, t.prototype.isFinite = function() {
    return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);
  }, t.prototype.isZero = function() {
    return this.width === 0 || this.height === 0;
  }, t.create = function(e) {
    return new t(e.x, e.y, e.width, e.height);
  }, t.copy = function(e, n) {
    e.x = n.x, e.y = n.y, e.width = n.width, e.height = n.height;
  }, t.applyTransform = function(e, n, o) {
    if (!o) {
      e !== n && t.copy(e, n);
      return;
    }
    if (o[1] < 1e-5 && o[1] > -1e-5 && o[2] < 1e-5 && o[2] > -1e-5) {
      var a = o[0], r = o[3], i = o[4], s = o[5];
      e.x = n.x * a + i, e.y = n.y * r + s, e.width = n.width * a, e.height = n.height * r, e.width < 0 && (e.x += e.width, e.width = -e.width), e.height < 0 && (e.y += e.height, e.height = -e.height);
      return;
    }
    ba.x = xa.x = n.x, ba.y = Sa.y = n.y, wa.x = Sa.x = n.x + n.width, wa.y = xa.y = n.y + n.height, ba.transform(o), Sa.transform(o), wa.transform(o), xa.transform(o), e.x = Ys(ba.x, wa.x, xa.x, Sa.x), e.y = Ys(ba.y, wa.y, xa.y, Sa.y);
    var l = Zs(ba.x, wa.x, xa.x, Sa.x), u = Zs(ba.y, wa.y, xa.y, Sa.y);
    e.width = l - e.x, e.height = u - e.y;
  }, t;
}(), Zg = "silent";
function jx(t, e, n) {
  return {
    type: t,
    event: n,
    target: e.target,
    topTarget: e.topTarget,
    cancelBubble: !1,
    offsetX: n.zrX,
    offsetY: n.zrY,
    gestureEvent: n.gestureEvent,
    pinchX: n.pinchX,
    pinchY: n.pinchY,
    pinchScale: n.pinchScale,
    wheelDelta: n.zrDelta,
    zrByTouch: n.zrByTouch,
    which: n.which,
    stop: eS
  };
}
function eS() {
  Zx(this.event);
}
var tS = function(t) {
  De(e, t);
  function e() {
    var n = t !== null && t.apply(this, arguments) || this;
    return n.handler = null, n;
  }
  return e.prototype.dispose = function() {
  }, e.prototype.setCursor = function() {
  }, e;
}($o), hi = /* @__PURE__ */ function() {
  function t(e, n) {
    this.x = e, this.y = n;
  }
  return t;
}(), nS = [
  "click",
  "dblclick",
  "mousewheel",
  "mouseout",
  "mouseup",
  "mousedown",
  "mousemove",
  "contextmenu"
], Fc = new yt(0, 0, 0, 0), qg = function(t) {
  De(e, t);
  function e(n, o, a, r, i) {
    var s = t.call(this) || this;
    return s._hovered = new hi(0, 0), s.storage = n, s.painter = o, s.painterRoot = r, s._pointerSize = i, a = a || new tS(), s.proxy = null, s.setHandlerProxy(a), s._draggingMgr = new Px(s), s;
  }
  return e.prototype.setHandlerProxy = function(n) {
    this.proxy && this.proxy.dispose(), n && (se(nS, function(o) {
      n.on && n.on(o, this[o], this);
    }, this), n.handler = this), this.proxy = n;
  }, e.prototype.mousemove = function(n) {
    var o = n.zrX, a = n.zrY, r = Jg(this, o, a), i = this._hovered, s = i.target;
    s && !s.__zr && (i = this.findHover(i.x, i.y), s = i.target);
    var l = this._hovered = r ? new hi(o, a) : this.findHover(o, a), u = l.target, c = this.proxy;
    c.setCursor && c.setCursor(u ? u.cursor : "default"), s && u !== s && this.dispatchToElement(i, "mouseout", n), this.dispatchToElement(l, "mousemove", n), u && u !== s && this.dispatchToElement(l, "mouseover", n);
  }, e.prototype.mouseout = function(n) {
    var o = n.zrEventControl;
    o !== "only_globalout" && this.dispatchToElement(this._hovered, "mouseout", n), o !== "no_globalout" && this.trigger("globalout", { type: "globalout", event: n });
  }, e.prototype.resize = function() {
    this._hovered = new hi(0, 0);
  }, e.prototype.dispatch = function(n, o) {
    var a = this[n];
    a && a.call(this, o);
  }, e.prototype.dispose = function() {
    this.proxy.dispose(), this.storage = null, this.proxy = null, this.painter = null;
  }, e.prototype.setCursorStyle = function(n) {
    var o = this.proxy;
    o.setCursor && o.setCursor(n);
  }, e.prototype.dispatchToElement = function(n, o, a) {
    n = n || {};
    var r = n.target;
    if (!(r && r.silent)) {
      for (var i = "on" + o, s = jx(o, n, a); r && (r[i] && (s.cancelBubble = !!r[i].call(r, s)), r.trigger(o, s), r = r.__hostTarget ? r.__hostTarget : r.parent, !s.cancelBubble); )
        ;
      s.cancelBubble || (this.trigger(o, s), this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer(function(l) {
        typeof l[i] == "function" && l[i].call(l, s), l.trigger && l.trigger(o, s);
      }));
    }
  }, e.prototype.findHover = function(n, o, a) {
    var r = this.storage.getDisplayList(), i = new hi(n, o);
    if (yh(r, i, n, o, a), this._pointerSize && !i.target) {
      for (var s = [], l = this._pointerSize, u = l / 2, c = new yt(n - u, o - u, l, l), d = r.length - 1; d >= 0; d--) {
        var f = r[d];
        f !== a && !f.ignore && !f.ignoreCoarsePointer && (!f.parent || !f.parent.ignoreCoarsePointer) && (Fc.copy(f.getBoundingRect()), f.transform && Fc.applyTransform(f.transform), Fc.intersect(c) && s.push(f));
      }
      if (s.length)
        for (var v = 4, p = Math.PI / 12, h = Math.PI * 2, m = 0; m < u; m += v)
          for (var g = 0; g < h; g += p) {
            var y = n + m * Math.cos(g), _ = o + m * Math.sin(g);
            if (yh(s, i, y, _, a), i.target)
              return i;
          }
    }
    return i;
  }, e.prototype.processGesture = function(n, o) {
    this._gestureMgr || (this._gestureMgr = new qx());
    var a = this._gestureMgr;
    o === "start" && a.clear();
    var r = a.recognize(n, this.findHover(n.zrX, n.zrY, null).target, this.proxy.dom);
    if (o === "end" && a.clear(), r) {
      var i = r.type;
      n.gestureEvent = i;
      var s = new hi();
      s.target = r.target, this.dispatchToElement(s, i, r.event);
    }
  }, e;
}($o);
se(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(t) {
  qg.prototype[t] = function(e) {
    var n = e.zrX, o = e.zrY, a = Jg(this, n, o), r, i;
    if ((t !== "mouseup" || !a) && (r = this.findHover(n, o), i = r.target), t === "mousedown")
      this._downEl = i, this._downPoint = [e.zrX, e.zrY], this._upEl = i;
    else if (t === "mouseup")
      this._upEl = i;
    else if (t === "click") {
      if (this._downEl !== this._upEl || !this._downPoint || _f(this._downPoint, [e.zrX, e.zrY]) > 4)
        return;
      this._downPoint = null;
    }
    this.dispatchToElement(r, t, e);
  };
});
function oS(t, e, n) {
  if (t[t.rectHover ? "rectContain" : "contain"](e, n)) {
    for (var o = t, a = void 0, r = !1; o; ) {
      if (o.ignoreClip && (r = !0), !r) {
        var i = o.getClipPath();
        if (i && !i.contain(e, n))
          return !1;
      }
      o.silent && (a = !0);
      var s = o.__hostTarget;
      o = s || o.parent;
    }
    return a ? Zg : !0;
  }
  return !1;
}
function yh(t, e, n, o, a) {
  for (var r = t.length - 1; r >= 0; r--) {
    var i = t[r], s = void 0;
    if (i !== a && !i.ignore && (s = oS(i, n, o)) && (!e.topTarget && (e.topTarget = i), s !== Zg)) {
      e.target = i;
      break;
    }
  }
}
function Jg(t, e, n) {
  var o = t.painter;
  return e < 0 || e > o.getWidth() || n < 0 || n > o.getHeight();
}
var Kg = 32, mi = 7;
function aS(t) {
  for (var e = 0; t >= Kg; )
    e |= t & 1, t >>= 1;
  return t + e;
}
function _h(t, e, n, o) {
  var a = e + 1;
  if (a === n)
    return 1;
  if (o(t[a++], t[e]) < 0) {
    for (; a < n && o(t[a], t[a - 1]) < 0; )
      a++;
    rS(t, e, a);
  } else
    for (; a < n && o(t[a], t[a - 1]) >= 0; )
      a++;
  return a - e;
}
function rS(t, e, n) {
  for (n--; e < n; ) {
    var o = t[e];
    t[e++] = t[n], t[n--] = o;
  }
}
function bh(t, e, n, o, a) {
  for (o === e && o++; o < n; o++) {
    for (var r = t[o], i = e, s = o, l; i < s; )
      l = i + s >>> 1, a(r, t[l]) < 0 ? s = l : i = l + 1;
    var u = o - i;
    switch (u) {
      case 3:
        t[i + 3] = t[i + 2];
      case 2:
        t[i + 2] = t[i + 1];
      case 1:
        t[i + 1] = t[i];
        break;
      default:
        for (; u > 0; )
          t[i + u] = t[i + u - 1], u--;
    }
    t[i] = r;
  }
}
function zc(t, e, n, o, a, r) {
  var i = 0, s = 0, l = 1;
  if (r(t, e[n + a]) > 0) {
    for (s = o - a; l < s && r(t, e[n + a + l]) > 0; )
      i = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s), i += a, l += a;
  } else {
    for (s = a + 1; l < s && r(t, e[n + a - l]) <= 0; )
      i = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s);
    var u = i;
    i = a - l, l = a - u;
  }
  for (i++; i < l; ) {
    var c = i + (l - i >>> 1);
    r(t, e[n + c]) > 0 ? i = c + 1 : l = c;
  }
  return l;
}
function Vc(t, e, n, o, a, r) {
  var i = 0, s = 0, l = 1;
  if (r(t, e[n + a]) < 0) {
    for (s = a + 1; l < s && r(t, e[n + a - l]) < 0; )
      i = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s);
    var u = i;
    i = a - l, l = a - u;
  } else {
    for (s = o - a; l < s && r(t, e[n + a + l]) >= 0; )
      i = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s), i += a, l += a;
  }
  for (i++; i < l; ) {
    var c = i + (l - i >>> 1);
    r(t, e[n + c]) < 0 ? l = c : i = c + 1;
  }
  return l;
}
function iS(t, e) {
  var n = mi, o, a, r = 0, i = [];
  o = [], a = [];
  function s(v, p) {
    o[r] = v, a[r] = p, r += 1;
  }
  function l() {
    for (; r > 1; ) {
      var v = r - 2;
      if (v >= 1 && a[v - 1] <= a[v] + a[v + 1] || v >= 2 && a[v - 2] <= a[v] + a[v - 1])
        a[v - 1] < a[v + 1] && v--;
      else if (a[v] > a[v + 1])
        break;
      c(v);
    }
  }
  function u() {
    for (; r > 1; ) {
      var v = r - 2;
      v > 0 && a[v - 1] < a[v + 1] && v--, c(v);
    }
  }
  function c(v) {
    var p = o[v], h = a[v], m = o[v + 1], g = a[v + 1];
    a[v] = h + g, v === r - 3 && (o[v + 1] = o[v + 2], a[v + 1] = a[v + 2]), r--;
    var y = Vc(t[m], t, p, h, 0, e);
    p += y, h -= y, h !== 0 && (g = zc(t[p + h - 1], t, m, g, g - 1, e), g !== 0 && (h <= g ? d(p, h, m, g) : f(p, h, m, g)));
  }
  function d(v, p, h, m) {
    var g = 0;
    for (g = 0; g < p; g++)
      i[g] = t[v + g];
    var y = 0, _ = h, w = v;
    if (t[w++] = t[_++], --m === 0) {
      for (g = 0; g < p; g++)
        t[w + g] = i[y + g];
      return;
    }
    if (p === 1) {
      for (g = 0; g < m; g++)
        t[w + g] = t[_ + g];
      t[w + m] = i[y];
      return;
    }
    for (var x = n, S, L, b; ; ) {
      S = 0, L = 0, b = !1;
      do
        if (e(t[_], i[y]) < 0) {
          if (t[w++] = t[_++], L++, S = 0, --m === 0) {
            b = !0;
            break;
          }
        } else if (t[w++] = i[y++], S++, L = 0, --p === 1) {
          b = !0;
          break;
        }
      while ((S | L) < x);
      if (b)
        break;
      do {
        if (S = Vc(t[_], i, y, p, 0, e), S !== 0) {
          for (g = 0; g < S; g++)
            t[w + g] = i[y + g];
          if (w += S, y += S, p -= S, p <= 1) {
            b = !0;
            break;
          }
        }
        if (t[w++] = t[_++], --m === 0) {
          b = !0;
          break;
        }
        if (L = zc(i[y], t, _, m, 0, e), L !== 0) {
          for (g = 0; g < L; g++)
            t[w + g] = t[_ + g];
          if (w += L, _ += L, m -= L, m === 0) {
            b = !0;
            break;
          }
        }
        if (t[w++] = i[y++], --p === 1) {
          b = !0;
          break;
        }
        x--;
      } while (S >= mi || L >= mi);
      if (b)
        break;
      x < 0 && (x = 0), x += 2;
    }
    if (n = x, n < 1 && (n = 1), p === 1) {
      for (g = 0; g < m; g++)
        t[w + g] = t[_ + g];
      t[w + m] = i[y];
    } else {
      if (p === 0)
        throw new Error();
      for (g = 0; g < p; g++)
        t[w + g] = i[y + g];
    }
  }
  function f(v, p, h, m) {
    var g = 0;
    for (g = 0; g < m; g++)
      i[g] = t[h + g];
    var y = v + p - 1, _ = m - 1, w = h + m - 1, x = 0, S = 0;
    if (t[w--] = t[y--], --p === 0) {
      for (x = w - (m - 1), g = 0; g < m; g++)
        t[x + g] = i[g];
      return;
    }
    if (m === 1) {
      for (w -= p, y -= p, S = w + 1, x = y + 1, g = p - 1; g >= 0; g--)
        t[S + g] = t[x + g];
      t[w] = i[_];
      return;
    }
    for (var L = n; ; ) {
      var b = 0, I = 0, M = !1;
      do
        if (e(i[_], t[y]) < 0) {
          if (t[w--] = t[y--], b++, I = 0, --p === 0) {
            M = !0;
            break;
          }
        } else if (t[w--] = i[_--], I++, b = 0, --m === 1) {
          M = !0;
          break;
        }
      while ((b | I) < L);
      if (M)
        break;
      do {
        if (b = p - Vc(i[_], t, v, p, p - 1, e), b !== 0) {
          for (w -= b, y -= b, p -= b, S = w + 1, x = y + 1, g = b - 1; g >= 0; g--)
            t[S + g] = t[x + g];
          if (p === 0) {
            M = !0;
            break;
          }
        }
        if (t[w--] = i[_--], --m === 1) {
          M = !0;
          break;
        }
        if (I = m - zc(t[y], i, 0, m, m - 1, e), I !== 0) {
          for (w -= I, _ -= I, m -= I, S = w + 1, x = _ + 1, g = 0; g < I; g++)
            t[S + g] = i[x + g];
          if (m <= 1) {
            M = !0;
            break;
          }
        }
        if (t[w--] = t[y--], --p === 0) {
          M = !0;
          break;
        }
        L--;
      } while (b >= mi || I >= mi);
      if (M)
        break;
      L < 0 && (L = 0), L += 2;
    }
    if (n = L, n < 1 && (n = 1), m === 1) {
      for (w -= p, y -= p, S = w + 1, x = y + 1, g = p - 1; g >= 0; g--)
        t[S + g] = t[x + g];
      t[w] = i[_];
    } else {
      if (m === 0)
        throw new Error();
      for (x = w - (m - 1), g = 0; g < m; g++)
        t[x + g] = i[g];
    }
  }
  return {
    mergeRuns: l,
    forceMergeRuns: u,
    pushRun: s
  };
}
function Bl(t, e, n, o) {
  n || (n = 0), o || (o = t.length);
  var a = o - n;
  if (!(a < 2)) {
    var r = 0;
    if (a < Kg) {
      r = _h(t, n, o, e), bh(t, n, o, n + r, e);
      return;
    }
    var i = iS(t, e), s = aS(a);
    do {
      if (r = _h(t, n, o, e), r < s) {
        var l = a;
        l > s && (l = s), bh(t, n, n + l, n + r, e), r = l;
      }
      i.pushRun(n, r), i.mergeRuns(), a -= r, n += r;
    } while (a !== 0);
    i.forceMergeRuns();
  }
}
var vo = 1, Fi = 2, Cr = 4, wh = !1;
function Hc() {
  wh || (wh = !0, console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"));
}
function xh(t, e) {
  return t.zlevel === e.zlevel ? t.z === e.z ? t.z2 - e.z2 : t.z - e.z : t.zlevel - e.zlevel;
}
var sS = function() {
  function t() {
    this._roots = [], this._displayList = [], this._displayListLen = 0, this.displayableSortFunc = xh;
  }
  return t.prototype.traverse = function(e, n) {
    for (var o = 0; o < this._roots.length; o++)
      this._roots[o].traverse(e, n);
  }, t.prototype.getDisplayList = function(e, n) {
    n = n || !1;
    var o = this._displayList;
    return (e || !o.length) && this.updateDisplayList(n), o;
  }, t.prototype.updateDisplayList = function(e) {
    this._displayListLen = 0;
    for (var n = this._roots, o = this._displayList, a = 0, r = n.length; a < r; a++)
      this._updateAndAddDisplayable(n[a], null, e);
    o.length = this._displayListLen, Bl(o, xh);
  }, t.prototype._updateAndAddDisplayable = function(e, n, o) {
    if (!(e.ignore && !o)) {
      e.beforeUpdate(), e.update(), e.afterUpdate();
      var a = e.getClipPath();
      if (e.ignoreClip)
        n = null;
      else if (a) {
        n ? n = n.slice() : n = [];
        for (var r = a, i = e; r; )
          r.parent = i, r.updateTransform(), n.push(r), i = r, r = r.getClipPath();
      }
      if (e.childrenRef) {
        for (var s = e.childrenRef(), l = 0; l < s.length; l++) {
          var u = s[l];
          e.__dirty && (u.__dirty |= vo), this._updateAndAddDisplayable(u, n, o);
        }
        e.__dirty = 0;
      } else {
        var c = e;
        n && n.length ? c.__clipPaths = n : c.__clipPaths && c.__clipPaths.length > 0 && (c.__clipPaths = []), isNaN(c.z) && (Hc(), c.z = 0), isNaN(c.z2) && (Hc(), c.z2 = 0), isNaN(c.zlevel) && (Hc(), c.zlevel = 0), this._displayList[this._displayListLen++] = c;
      }
      var d = e.getDecalElement && e.getDecalElement();
      d && this._updateAndAddDisplayable(d, n, o);
      var f = e.getTextGuideLine();
      f && this._updateAndAddDisplayable(f, n, o);
      var v = e.getTextContent();
      v && this._updateAndAddDisplayable(v, n, o);
    }
  }, t.prototype.addRoot = function(e) {
    e.__zr && e.__zr.storage === this || this._roots.push(e);
  }, t.prototype.delRoot = function(e) {
    if (e instanceof Array) {
      for (var n = 0, o = e.length; n < o; n++)
        this.delRoot(e[n]);
      return;
    }
    var a = St(this._roots, e);
    a >= 0 && this._roots.splice(a, 1);
  }, t.prototype.delAllRoots = function() {
    this._roots = [], this._displayList = [], this._displayListLen = 0;
  }, t.prototype.getRoots = function() {
    return this._roots;
  }, t.prototype.dispose = function() {
    this._displayList = null, this._roots = null;
  }, t;
}(), xf;
xf = pt.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(t) {
  return setTimeout(t, 16);
};
var Ji = {
  linear: function(t) {
    return t;
  },
  quadraticIn: function(t) {
    return t * t;
  },
  quadraticOut: function(t) {
    return t * (2 - t);
  },
  quadraticInOut: function(t) {
    return (t *= 2) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1);
  },
  cubicIn: function(t) {
    return t * t * t;
  },
  cubicOut: function(t) {
    return --t * t * t + 1;
  },
  cubicInOut: function(t) {
    return (t *= 2) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2);
  },
  quarticIn: function(t) {
    return t * t * t * t;
  },
  quarticOut: function(t) {
    return 1 - --t * t * t * t;
  },
  quarticInOut: function(t) {
    return (t *= 2) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2);
  },
  quinticIn: function(t) {
    return t * t * t * t * t;
  },
  quinticOut: function(t) {
    return --t * t * t * t * t + 1;
  },
  quinticInOut: function(t) {
    return (t *= 2) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2);
  },
  sinusoidalIn: function(t) {
    return 1 - Math.cos(t * Math.PI / 2);
  },
  sinusoidalOut: function(t) {
    return Math.sin(t * Math.PI / 2);
  },
  sinusoidalInOut: function(t) {
    return 0.5 * (1 - Math.cos(Math.PI * t));
  },
  exponentialIn: function(t) {
    return t === 0 ? 0 : Math.pow(1024, t - 1);
  },
  exponentialOut: function(t) {
    return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);
  },
  exponentialInOut: function(t) {
    return t === 0 ? 0 : t === 1 ? 1 : (t *= 2) < 1 ? 0.5 * Math.pow(1024, t - 1) : 0.5 * (-Math.pow(2, -10 * (t - 1)) + 2);
  },
  circularIn: function(t) {
    return 1 - Math.sqrt(1 - t * t);
  },
  circularOut: function(t) {
    return Math.sqrt(1 - --t * t);
  },
  circularInOut: function(t) {
    return (t *= 2) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);
  },
  elasticIn: function(t) {
    var e, n = 0.1, o = 0.4;
    return t === 0 ? 0 : t === 1 ? 1 : (!n || n < 1 ? (n = 1, e = o / 4) : e = o * Math.asin(1 / n) / (2 * Math.PI), -(n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / o)));
  },
  elasticOut: function(t) {
    var e, n = 0.1, o = 0.4;
    return t === 0 ? 0 : t === 1 ? 1 : (!n || n < 1 ? (n = 1, e = o / 4) : e = o * Math.asin(1 / n) / (2 * Math.PI), n * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / o) + 1);
  },
  elasticInOut: function(t) {
    var e, n = 0.1, o = 0.4;
    return t === 0 ? 0 : t === 1 ? 1 : (!n || n < 1 ? (n = 1, e = o / 4) : e = o * Math.asin(1 / n) / (2 * Math.PI), (t *= 2) < 1 ? -0.5 * (n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / o)) : n * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / o) * 0.5 + 1);
  },
  backIn: function(t) {
    var e = 1.70158;
    return t * t * ((e + 1) * t - e);
  },
  backOut: function(t) {
    var e = 1.70158;
    return --t * t * ((e + 1) * t + e) + 1;
  },
  backInOut: function(t) {
    var e = 2.5949095;
    return (t *= 2) < 1 ? 0.5 * (t * t * ((e + 1) * t - e)) : 0.5 * ((t -= 2) * t * ((e + 1) * t + e) + 2);
  },
  bounceIn: function(t) {
    return 1 - Ji.bounceOut(1 - t);
  },
  bounceOut: function(t) {
    return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375 : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;
  },
  bounceInOut: function(t) {
    return t < 0.5 ? Ji.bounceIn(t * 2) * 0.5 : Ji.bounceOut(t * 2 - 1) * 0.5 + 0.5;
  }
}, qs = Math.pow, jo = Math.sqrt, ou = 1e-8, Qg = 1e-4, Sh = jo(3), Js = 1 / 3, po = ei(), On = ei(), Nr = ei();
function Zo(t) {
  return t > -ou && t < ou;
}
function jg(t) {
  return t > ou || t < -ou;
}
function Zt(t, e, n, o, a) {
  var r = 1 - a;
  return r * r * (r * t + 3 * a * e) + a * a * (a * o + 3 * r * n);
}
function Ih(t, e, n, o, a) {
  var r = 1 - a;
  return 3 * (((e - t) * r + 2 * (n - e) * a) * r + (o - n) * a * a);
}
function au(t, e, n, o, a, r) {
  var i = o + 3 * (e - n) - t, s = 3 * (n - e * 2 + t), l = 3 * (e - t), u = t - a, c = s * s - 3 * i * l, d = s * l - 9 * i * u, f = l * l - 3 * s * u, v = 0;
  if (Zo(c) && Zo(d))
    if (Zo(s))
      r[0] = 0;
    else {
      var p = -l / s;
      p >= 0 && p <= 1 && (r[v++] = p);
    }
  else {
    var h = d * d - 4 * c * f;
    if (Zo(h)) {
      var m = d / c, p = -s / i + m, g = -m / 2;
      p >= 0 && p <= 1 && (r[v++] = p), g >= 0 && g <= 1 && (r[v++] = g);
    } else if (h > 0) {
      var y = jo(h), _ = c * s + 1.5 * i * (-d + y), w = c * s + 1.5 * i * (-d - y);
      _ < 0 ? _ = -qs(-_, Js) : _ = qs(_, Js), w < 0 ? w = -qs(-w, Js) : w = qs(w, Js);
      var p = (-s - (_ + w)) / (3 * i);
      p >= 0 && p <= 1 && (r[v++] = p);
    } else {
      var x = (2 * c * s - 3 * i * d) / (2 * jo(c * c * c)), S = Math.acos(x) / 3, L = jo(c), b = Math.cos(S), p = (-s - 2 * L * b) / (3 * i), g = (-s + L * (b + Sh * Math.sin(S))) / (3 * i), I = (-s + L * (b - Sh * Math.sin(S))) / (3 * i);
      p >= 0 && p <= 1 && (r[v++] = p), g >= 0 && g <= 1 && (r[v++] = g), I >= 0 && I <= 1 && (r[v++] = I);
    }
  }
  return v;
}
function e2(t, e, n, o, a) {
  var r = 6 * n - 12 * e + 6 * t, i = 9 * e + 3 * o - 3 * t - 9 * n, s = 3 * e - 3 * t, l = 0;
  if (Zo(i)) {
    if (jg(r)) {
      var u = -s / r;
      u >= 0 && u <= 1 && (a[l++] = u);
    }
  } else {
    var c = r * r - 4 * i * s;
    if (Zo(c))
      a[0] = -r / (2 * i);
    else if (c > 0) {
      var d = jo(c), u = (-r + d) / (2 * i), f = (-r - d) / (2 * i);
      u >= 0 && u <= 1 && (a[l++] = u), f >= 0 && f <= 1 && (a[l++] = f);
    }
  }
  return l;
}
function ru(t, e, n, o, a, r) {
  var i = (e - t) * a + t, s = (n - e) * a + e, l = (o - n) * a + n, u = (s - i) * a + i, c = (l - s) * a + s, d = (c - u) * a + u;
  r[0] = t, r[1] = i, r[2] = u, r[3] = d, r[4] = d, r[5] = c, r[6] = l, r[7] = o;
}
function lS(t, e, n, o, a, r, i, s, l, u, c) {
  var d, f = 5e-3, v = 1 / 0, p, h, m, g;
  po[0] = l, po[1] = u;
  for (var y = 0; y < 1; y += 0.05)
    On[0] = Zt(t, n, a, i, y), On[1] = Zt(e, o, r, s, y), m = Rr(po, On), m < v && (d = y, v = m);
  v = 1 / 0;
  for (var _ = 0; _ < 32 && !(f < Qg); _++)
    p = d - f, h = d + f, On[0] = Zt(t, n, a, i, p), On[1] = Zt(e, o, r, s, p), m = Rr(On, po), p >= 0 && m < v ? (d = p, v = m) : (Nr[0] = Zt(t, n, a, i, h), Nr[1] = Zt(e, o, r, s, h), g = Rr(Nr, po), h <= 1 && g < v ? (d = h, v = g) : f *= 0.5);
  return jo(v);
}
function uS(t, e, n, o, a, r, i, s, l) {
  for (var u = t, c = e, d = 0, f = 1 / l, v = 1; v <= l; v++) {
    var p = v * f, h = Zt(t, n, a, i, p), m = Zt(e, o, r, s, p), g = h - u, y = m - c;
    d += Math.sqrt(g * g + y * y), u = h, c = m;
  }
  return d;
}
function pn(t, e, n, o) {
  var a = 1 - o;
  return a * (a * t + 2 * o * e) + o * o * n;
}
function Ch(t, e, n, o) {
  return 2 * ((1 - o) * (e - t) + o * (n - e));
}
function cS(t, e, n, o, a) {
  var r = t - 2 * e + n, i = 2 * (e - t), s = t - o, l = 0;
  if (Zo(r)) {
    if (jg(i)) {
      var u = -s / i;
      u >= 0 && u <= 1 && (a[l++] = u);
    }
  } else {
    var c = i * i - 4 * r * s;
    if (Zo(c)) {
      var u = -i / (2 * r);
      u >= 0 && u <= 1 && (a[l++] = u);
    } else if (c > 0) {
      var d = jo(c), u = (-i + d) / (2 * r), f = (-i - d) / (2 * r);
      u >= 0 && u <= 1 && (a[l++] = u), f >= 0 && f <= 1 && (a[l++] = f);
    }
  }
  return l;
}
function t2(t, e, n) {
  var o = t + n - 2 * e;
  return o === 0 ? 0.5 : (t - e) / o;
}
function iu(t, e, n, o, a) {
  var r = (e - t) * o + t, i = (n - e) * o + e, s = (i - r) * o + r;
  a[0] = t, a[1] = r, a[2] = s, a[3] = s, a[4] = i, a[5] = n;
}
function dS(t, e, n, o, a, r, i, s, l) {
  var u, c = 5e-3, d = 1 / 0;
  po[0] = i, po[1] = s;
  for (var f = 0; f < 1; f += 0.05) {
    On[0] = pn(t, n, a, f), On[1] = pn(e, o, r, f);
    var v = Rr(po, On);
    v < d && (u = f, d = v);
  }
  d = 1 / 0;
  for (var p = 0; p < 32 && !(c < Qg); p++) {
    var h = u - c, m = u + c;
    On[0] = pn(t, n, a, h), On[1] = pn(e, o, r, h);
    var v = Rr(On, po);
    if (h >= 0 && v < d)
      u = h, d = v;
    else {
      Nr[0] = pn(t, n, a, m), Nr[1] = pn(e, o, r, m);
      var g = Rr(Nr, po);
      m <= 1 && g < d ? (u = m, d = g) : c *= 0.5;
    }
  }
  return jo(d);
}
function fS(t, e, n, o, a, r, i) {
  for (var s = t, l = e, u = 0, c = 1 / i, d = 1; d <= i; d++) {
    var f = d * c, v = pn(t, n, a, f), p = pn(e, o, r, f), h = v - s, m = p - l;
    u += Math.sqrt(h * h + m * m), s = v, l = p;
  }
  return u;
}
var vS = /cubic-bezier\(([0-9,\.e ]+)\)/;
function Jv(t) {
  var e = t && vS.exec(t);
  if (e) {
    var n = e[1].split(","), o = +Yo(n[0]), a = +Yo(n[1]), r = +Yo(n[2]), i = +Yo(n[3]);
    if (isNaN(o + a + r + i))
      return;
    var s = [];
    return function(l) {
      return l <= 0 ? 0 : l >= 1 ? 1 : au(0, o, r, 1, l, s) && Zt(0, a, i, 1, s[0]);
    };
  }
}
var pS = function() {
  function t(e) {
    this._inited = !1, this._startTime = 0, this._pausedTime = 0, this._paused = !1, this._life = e.life || 1e3, this._delay = e.delay || 0, this.loop = e.loop || !1, this.onframe = e.onframe || Cn, this.ondestroy = e.ondestroy || Cn, this.onrestart = e.onrestart || Cn, e.easing && this.setEasing(e.easing);
  }
  return t.prototype.step = function(e, n) {
    if (this._inited || (this._startTime = e + this._delay, this._inited = !0), this._paused) {
      this._pausedTime += n;
      return;
    }
    var o = this._life, a = e - this._startTime - this._pausedTime, r = a / o;
    r < 0 && (r = 0), r = Math.min(r, 1);
    var i = this.easingFunc, s = i ? i(r) : r;
    if (this.onframe(s), r === 1)
      if (this.loop) {
        var l = a % o;
        this._startTime = e - l, this._pausedTime = 0, this.onrestart();
      } else
        return !0;
    return !1;
  }, t.prototype.pause = function() {
    this._paused = !0;
  }, t.prototype.resume = function() {
    this._paused = !1;
  }, t.prototype.setEasing = function(e) {
    this.easing = e, this.easingFunc = Je(e) ? e : Ji[e] || Jv(e);
  }, t;
}(), n2 = /* @__PURE__ */ function() {
  function t(e) {
    this.value = e;
  }
  return t;
}(), hS = function() {
  function t() {
    this._len = 0;
  }
  return t.prototype.insert = function(e) {
    var n = new n2(e);
    return this.insertEntry(n), n;
  }, t.prototype.insertEntry = function(e) {
    this.head ? (this.tail.next = e, e.prev = this.tail, e.next = null, this.tail = e) : this.head = this.tail = e, this._len++;
  }, t.prototype.remove = function(e) {
    var n = e.prev, o = e.next;
    n ? n.next = o : this.head = o, o ? o.prev = n : this.tail = n, e.next = e.prev = null, this._len--;
  }, t.prototype.len = function() {
    return this._len;
  }, t.prototype.clear = function() {
    this.head = this.tail = null, this._len = 0;
  }, t;
}(), Os = function() {
  function t(e) {
    this._list = new hS(), this._maxSize = 10, this._map = {}, this._maxSize = e;
  }
  return t.prototype.put = function(e, n) {
    var o = this._list, a = this._map, r = null;
    if (a[e] == null) {
      var i = o.len(), s = this._lastRemovedEntry;
      if (i >= this._maxSize && i > 0) {
        var l = o.head;
        o.remove(l), delete a[l.key], r = l.value, this._lastRemovedEntry = l;
      }
      s ? s.value = n : s = new n2(n), s.key = e, o.insertEntry(s), a[e] = s;
    }
    return r;
  }, t.prototype.get = function(e) {
    var n = this._map[e], o = this._list;
    if (n != null)
      return n !== o.tail && (o.remove(n), o.insertEntry(n)), n.value;
  }, t.prototype.clear = function() {
    this._list.clear(), this._map = {};
  }, t.prototype.len = function() {
    return this._list.len();
  }, t;
}(), Th = {
  transparent: [0, 0, 0, 0],
  aliceblue: [240, 248, 255, 1],
  antiquewhite: [250, 235, 215, 1],
  aqua: [0, 255, 255, 1],
  aquamarine: [127, 255, 212, 1],
  azure: [240, 255, 255, 1],
  beige: [245, 245, 220, 1],
  bisque: [255, 228, 196, 1],
  black: [0, 0, 0, 1],
  blanchedalmond: [255, 235, 205, 1],
  blue: [0, 0, 255, 1],
  blueviolet: [138, 43, 226, 1],
  brown: [165, 42, 42, 1],
  burlywood: [222, 184, 135, 1],
  cadetblue: [95, 158, 160, 1],
  chartreuse: [127, 255, 0, 1],
  chocolate: [210, 105, 30, 1],
  coral: [255, 127, 80, 1],
  cornflowerblue: [100, 149, 237, 1],
  cornsilk: [255, 248, 220, 1],
  crimson: [220, 20, 60, 1],
  cyan: [0, 255, 255, 1],
  darkblue: [0, 0, 139, 1],
  darkcyan: [0, 139, 139, 1],
  darkgoldenrod: [184, 134, 11, 1],
  darkgray: [169, 169, 169, 1],
  darkgreen: [0, 100, 0, 1],
  darkgrey: [169, 169, 169, 1],
  darkkhaki: [189, 183, 107, 1],
  darkmagenta: [139, 0, 139, 1],
  darkolivegreen: [85, 107, 47, 1],
  darkorange: [255, 140, 0, 1],
  darkorchid: [153, 50, 204, 1],
  darkred: [139, 0, 0, 1],
  darksalmon: [233, 150, 122, 1],
  darkseagreen: [143, 188, 143, 1],
  darkslateblue: [72, 61, 139, 1],
  darkslategray: [47, 79, 79, 1],
  darkslategrey: [47, 79, 79, 1],
  darkturquoise: [0, 206, 209, 1],
  darkviolet: [148, 0, 211, 1],
  deeppink: [255, 20, 147, 1],
  deepskyblue: [0, 191, 255, 1],
  dimgray: [105, 105, 105, 1],
  dimgrey: [105, 105, 105, 1],
  dodgerblue: [30, 144, 255, 1],
  firebrick: [178, 34, 34, 1],
  floralwhite: [255, 250, 240, 1],
  forestgreen: [34, 139, 34, 1],
  fuchsia: [255, 0, 255, 1],
  gainsboro: [220, 220, 220, 1],
  ghostwhite: [248, 248, 255, 1],
  gold: [255, 215, 0, 1],
  goldenrod: [218, 165, 32, 1],
  gray: [128, 128, 128, 1],
  green: [0, 128, 0, 1],
  greenyellow: [173, 255, 47, 1],
  grey: [128, 128, 128, 1],
  honeydew: [240, 255, 240, 1],
  hotpink: [255, 105, 180, 1],
  indianred: [205, 92, 92, 1],
  indigo: [75, 0, 130, 1],
  ivory: [255, 255, 240, 1],
  khaki: [240, 230, 140, 1],
  lavender: [230, 230, 250, 1],
  lavenderblush: [255, 240, 245, 1],
  lawngreen: [124, 252, 0, 1],
  lemonchiffon: [255, 250, 205, 1],
  lightblue: [173, 216, 230, 1],
  lightcoral: [240, 128, 128, 1],
  lightcyan: [224, 255, 255, 1],
  lightgoldenrodyellow: [250, 250, 210, 1],
  lightgray: [211, 211, 211, 1],
  lightgreen: [144, 238, 144, 1],
  lightgrey: [211, 211, 211, 1],
  lightpink: [255, 182, 193, 1],
  lightsalmon: [255, 160, 122, 1],
  lightseagreen: [32, 178, 170, 1],
  lightskyblue: [135, 206, 250, 1],
  lightslategray: [119, 136, 153, 1],
  lightslategrey: [119, 136, 153, 1],
  lightsteelblue: [176, 196, 222, 1],
  lightyellow: [255, 255, 224, 1],
  lime: [0, 255, 0, 1],
  limegreen: [50, 205, 50, 1],
  linen: [250, 240, 230, 1],
  magenta: [255, 0, 255, 1],
  maroon: [128, 0, 0, 1],
  mediumaquamarine: [102, 205, 170, 1],
  mediumblue: [0, 0, 205, 1],
  mediumorchid: [186, 85, 211, 1],
  mediumpurple: [147, 112, 219, 1],
  mediumseagreen: [60, 179, 113, 1],
  mediumslateblue: [123, 104, 238, 1],
  mediumspringgreen: [0, 250, 154, 1],
  mediumturquoise: [72, 209, 204, 1],
  mediumvioletred: [199, 21, 133, 1],
  midnightblue: [25, 25, 112, 1],
  mintcream: [245, 255, 250, 1],
  mistyrose: [255, 228, 225, 1],
  moccasin: [255, 228, 181, 1],
  navajowhite: [255, 222, 173, 1],
  navy: [0, 0, 128, 1],
  oldlace: [253, 245, 230, 1],
  olive: [128, 128, 0, 1],
  olivedrab: [107, 142, 35, 1],
  orange: [255, 165, 0, 1],
  orangered: [255, 69, 0, 1],
  orchid: [218, 112, 214, 1],
  palegoldenrod: [238, 232, 170, 1],
  palegreen: [152, 251, 152, 1],
  paleturquoise: [175, 238, 238, 1],
  palevioletred: [219, 112, 147, 1],
  papayawhip: [255, 239, 213, 1],
  peachpuff: [255, 218, 185, 1],
  peru: [205, 133, 63, 1],
  pink: [255, 192, 203, 1],
  plum: [221, 160, 221, 1],
  powderblue: [176, 224, 230, 1],
  purple: [128, 0, 128, 1],
  red: [255, 0, 0, 1],
  rosybrown: [188, 143, 143, 1],
  royalblue: [65, 105, 225, 1],
  saddlebrown: [139, 69, 19, 1],
  salmon: [250, 128, 114, 1],
  sandybrown: [244, 164, 96, 1],
  seagreen: [46, 139, 87, 1],
  seashell: [255, 245, 238, 1],
  sienna: [160, 82, 45, 1],
  silver: [192, 192, 192, 1],
  skyblue: [135, 206, 235, 1],
  slateblue: [106, 90, 205, 1],
  slategray: [112, 128, 144, 1],
  slategrey: [112, 128, 144, 1],
  snow: [255, 250, 250, 1],
  springgreen: [0, 255, 127, 1],
  steelblue: [70, 130, 180, 1],
  tan: [210, 180, 140, 1],
  teal: [0, 128, 128, 1],
  thistle: [216, 191, 216, 1],
  tomato: [255, 99, 71, 1],
  turquoise: [64, 224, 208, 1],
  violet: [238, 130, 238, 1],
  wheat: [245, 222, 179, 1],
  white: [255, 255, 255, 1],
  whitesmoke: [245, 245, 245, 1],
  yellow: [255, 255, 0, 1],
  yellowgreen: [154, 205, 50, 1]
};
function ea(t) {
  return t = Math.round(t), t < 0 ? 0 : t > 255 ? 255 : t;
}
function Sf(t) {
  return t < 0 ? 0 : t > 1 ? 1 : t;
}
function Gc(t) {
  var e = t;
  return e.length && e.charAt(e.length - 1) === "%" ? ea(parseFloat(e) / 100 * 255) : ea(parseInt(e, 10));
}
function Ki(t) {
  var e = t;
  return e.length && e.charAt(e.length - 1) === "%" ? Sf(parseFloat(e) / 100) : Sf(parseFloat(e));
}
function Uc(t, e, n) {
  return n < 0 ? n += 1 : n > 1 && (n -= 1), n * 6 < 1 ? t + (e - t) * n * 6 : n * 2 < 1 ? e : n * 3 < 2 ? t + (e - t) * (2 / 3 - n) * 6 : t;
}
function Ks(t, e, n) {
  return t + (e - t) * n;
}
function Dn(t, e, n, o, a) {
  return t[0] = e, t[1] = n, t[2] = o, t[3] = a, t;
}
function If(t, e) {
  return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t;
}
var o2 = new Os(20), Qs = null;
function cr(t, e) {
  Qs && If(Qs, e), Qs = o2.put(t, Qs || e.slice());
}
function go(t, e) {
  if (t) {
    e = e || [];
    var n = o2.get(t);
    if (n)
      return If(e, n);
    t = t + "";
    var o = t.replace(/ /g, "").toLowerCase();
    if (o in Th)
      return If(e, Th[o]), cr(t, e), e;
    var a = o.length;
    if (o.charAt(0) === "#") {
      if (a === 4 || a === 5) {
        var r = parseInt(o.slice(1, 4), 16);
        if (!(r >= 0 && r <= 4095)) {
          Dn(e, 0, 0, 0, 1);
          return;
        }
        return Dn(e, (r & 3840) >> 4 | (r & 3840) >> 8, r & 240 | (r & 240) >> 4, r & 15 | (r & 15) << 4, a === 5 ? parseInt(o.slice(4), 16) / 15 : 1), cr(t, e), e;
      } else if (a === 7 || a === 9) {
        var r = parseInt(o.slice(1, 7), 16);
        if (!(r >= 0 && r <= 16777215)) {
          Dn(e, 0, 0, 0, 1);
          return;
        }
        return Dn(e, (r & 16711680) >> 16, (r & 65280) >> 8, r & 255, a === 9 ? parseInt(o.slice(7), 16) / 255 : 1), cr(t, e), e;
      }
      return;
    }
    var i = o.indexOf("("), s = o.indexOf(")");
    if (i !== -1 && s + 1 === a) {
      var l = o.substr(0, i), u = o.substr(i + 1, s - (i + 1)).split(","), c = 1;
      switch (l) {
        case "rgba":
          if (u.length !== 4)
            return u.length === 3 ? Dn(e, +u[0], +u[1], +u[2], 1) : Dn(e, 0, 0, 0, 1);
          c = Ki(u.pop());
        case "rgb":
          if (u.length >= 3)
            return Dn(e, Gc(u[0]), Gc(u[1]), Gc(u[2]), u.length === 3 ? c : Ki(u[3])), cr(t, e), e;
          Dn(e, 0, 0, 0, 1);
          return;
        case "hsla":
          if (u.length !== 4) {
            Dn(e, 0, 0, 0, 1);
            return;
          }
          return u[3] = Ki(u[3]), Lh(u, e), cr(t, e), e;
        case "hsl":
          if (u.length !== 3) {
            Dn(e, 0, 0, 0, 1);
            return;
          }
          return Lh(u, e), cr(t, e), e;
        default:
          return;
      }
    }
    Dn(e, 0, 0, 0, 1);
  }
}
function Lh(t, e) {
  var n = (parseFloat(t[0]) % 360 + 360) % 360 / 360, o = Ki(t[1]), a = Ki(t[2]), r = a <= 0.5 ? a * (o + 1) : a + o - a * o, i = a * 2 - r;
  return e = e || [], Dn(e, ea(Uc(i, r, n + 1 / 3) * 255), ea(Uc(i, r, n) * 255), ea(Uc(i, r, n - 1 / 3) * 255), 1), t.length === 4 && (e[3] = t[3]), e;
}
function kh(t, e) {
  var n = go(t);
  if (n) {
    for (var o = 0; o < 3; o++)
      n[o] = n[o] * (1 - e) | 0, n[o] > 255 ? n[o] = 255 : n[o] < 0 && (n[o] = 0);
    return Vu(n, n.length === 4 ? "rgba" : "rgb");
  }
}
function mS(t, e, n) {
  if (!(!(e && e.length) || !(t >= 0 && t <= 1))) {
    var o = t * (e.length - 1), a = Math.floor(o), r = Math.ceil(o), i = go(e[a]), s = go(e[r]), l = o - a, u = Vu([
      ea(Ks(i[0], s[0], l)),
      ea(Ks(i[1], s[1], l)),
      ea(Ks(i[2], s[2], l)),
      Sf(Ks(i[3], s[3], l))
    ], "rgba");
    return n ? {
      color: u,
      leftIndex: a,
      rightIndex: r,
      value: o
    } : u;
  }
}
function Vu(t, e) {
  if (!(!t || !t.length)) {
    var n = t[0] + "," + t[1] + "," + t[2];
    return (e === "rgba" || e === "hsva" || e === "hsla") && (n += "," + t[3]), e + "(" + n + ")";
  }
}
function su(t, e) {
  var n = go(t);
  return n ? (0.299 * n[0] + 0.587 * n[1] + 0.114 * n[2]) * n[3] / 255 + (1 - n[3]) * e : 0;
}
var Eh = new Os(100);
function Cf(t) {
  if (ze(t)) {
    var e = Eh.get(t);
    return e || (e = kh(t, -0.1), Eh.put(t, e)), e;
  } else if (Wv(t)) {
    var n = Le({}, t);
    return n.colorStops = $e(t.colorStops, function(o) {
      return {
        offset: o.offset,
        color: kh(o.color, -0.1)
      };
    }), n;
  }
  return t;
}
var lu = Math.round;
function fs(t) {
  var e;
  if (!t || t === "transparent")
    t = "none";
  else if (typeof t == "string" && t.indexOf("rgba") > -1) {
    var n = go(t);
    n && (t = "rgb(" + n[0] + "," + n[1] + "," + n[2] + ")", e = n[3]);
  }
  return {
    color: t,
    opacity: e ?? 1
  };
}
var Mh = 1e-4;
function qo(t) {
  return t < Mh && t > -Mh;
}
function js(t) {
  return lu(t * 1e3) / 1e3;
}
function Tf(t) {
  return lu(t * 1e4) / 1e4;
}
function gS(t) {
  return "matrix(" + js(t[0]) + "," + js(t[1]) + "," + js(t[2]) + "," + js(t[3]) + "," + Tf(t[4]) + "," + Tf(t[5]) + ")";
}
var yS = {
  left: "start",
  right: "end",
  center: "middle",
  middle: "middle"
};
function _S(t, e, n) {
  return n === "top" ? t += e / 2 : n === "bottom" && (t -= e / 2), t;
}
function bS(t) {
  return t && (t.shadowBlur || t.shadowOffsetX || t.shadowOffsetY);
}
function wS(t) {
  var e = t.style, n = t.getGlobalScale();
  return [
    e.shadowColor,
    (e.shadowBlur || 0).toFixed(2),
    (e.shadowOffsetX || 0).toFixed(2),
    (e.shadowOffsetY || 0).toFixed(2),
    n[0],
    n[1]
  ].join(",");
}
function a2(t) {
  return t && !!t.image;
}
function xS(t) {
  return t && !!t.svgElement;
}
function Kv(t) {
  return a2(t) || xS(t);
}
function r2(t) {
  return t.type === "linear";
}
function i2(t) {
  return t.type === "radial";
}
function s2(t) {
  return t && (t.type === "linear" || t.type === "radial");
}
function Hu(t) {
  return "url(#" + t + ")";
}
function l2(t) {
  var e = t.getGlobalScale(), n = Math.max(e[0], e[1]);
  return Math.max(Math.ceil(Math.log(n) / Math.log(10)), 1);
}
function u2(t) {
  var e = t.x || 0, n = t.y || 0, o = (t.rotation || 0) * Nl, a = Ge(t.scaleX, 1), r = Ge(t.scaleY, 1), i = t.skewX || 0, s = t.skewY || 0, l = [];
  return (e || n) && l.push("translate(" + e + "px," + n + "px)"), o && l.push("rotate(" + o + ")"), (a !== 1 || r !== 1) && l.push("scale(" + a + "," + r + ")"), (i || s) && l.push("skew(" + lu(i * Nl) + "deg, " + lu(s * Nl) + "deg)"), l.join(" ");
}
var SS = function() {
  return pt.hasGlobalWindow && Je(window.btoa) ? function(t) {
    return window.btoa(unescape(encodeURIComponent(t)));
  } : typeof Buffer < "u" ? function(t) {
    return Buffer.from(t).toString("base64");
  } : function(t) {
    return process.env.NODE_ENV !== "production" && Hr("Base64 isn't natively supported in the current environment."), null;
  };
}(), Lf = Array.prototype.slice;
function Co(t, e, n) {
  return (e - t) * n + t;
}
function Wc(t, e, n, o) {
  for (var a = e.length, r = 0; r < a; r++)
    t[r] = Co(e[r], n[r], o);
  return t;
}
function IS(t, e, n, o) {
  for (var a = e.length, r = a && e[0].length, i = 0; i < a; i++) {
    t[i] || (t[i] = []);
    for (var s = 0; s < r; s++)
      t[i][s] = Co(e[i][s], n[i][s], o);
  }
  return t;
}
function el(t, e, n, o) {
  for (var a = e.length, r = 0; r < a; r++)
    t[r] = e[r] + n[r] * o;
  return t;
}
function Ah(t, e, n, o) {
  for (var a = e.length, r = a && e[0].length, i = 0; i < a; i++) {
    t[i] || (t[i] = []);
    for (var s = 0; s < r; s++)
      t[i][s] = e[i][s] + n[i][s] * o;
  }
  return t;
}
function CS(t, e) {
  for (var n = t.length, o = e.length, a = n > o ? e : t, r = Math.min(n, o), i = a[r - 1] || { color: [0, 0, 0, 0], offset: 0 }, s = r; s < Math.max(n, o); s++)
    a.push({
      offset: i.offset,
      color: i.color.slice()
    });
}
function TS(t, e, n) {
  var o = t, a = e;
  if (!(!o.push || !a.push)) {
    var r = o.length, i = a.length;
    if (r !== i) {
      var s = r > i;
      if (s)
        o.length = i;
      else
        for (var l = r; l < i; l++)
          o.push(n === 1 ? a[l] : Lf.call(a[l]));
    }
    for (var u = o[0] && o[0].length, l = 0; l < o.length; l++)
      if (n === 1)
        isNaN(o[l]) && (o[l] = a[l]);
      else
        for (var c = 0; c < u; c++)
          isNaN(o[l][c]) && (o[l][c] = a[l][c]);
  }
}
function Fl(t) {
  if (_n(t)) {
    var e = t.length;
    if (_n(t[0])) {
      for (var n = [], o = 0; o < e; o++)
        n.push(Lf.call(t[o]));
      return n;
    }
    return Lf.call(t);
  }
  return t;
}
function zl(t) {
  return t[0] = Math.floor(t[0]) || 0, t[1] = Math.floor(t[1]) || 0, t[2] = Math.floor(t[2]) || 0, t[3] = t[3] == null ? 1 : t[3], "rgba(" + t.join(",") + ")";
}
function LS(t) {
  return _n(t && t[0]) ? 2 : 1;
}
var tl = 0, Vl = 1, c2 = 2, zi = 3, kf = 4, Ef = 5, Dh = 6;
function $h(t) {
  return t === kf || t === Ef;
}
function nl(t) {
  return t === Vl || t === c2;
}
var gi = [0, 0, 0, 0], kS = function() {
  function t(e) {
    this.keyframes = [], this.discrete = !1, this._invalid = !1, this._needsSort = !1, this._lastFr = 0, this._lastFrP = 0, this.propName = e;
  }
  return t.prototype.isFinished = function() {
    return this._finished;
  }, t.prototype.setFinished = function() {
    this._finished = !0, this._additiveTrack && this._additiveTrack.setFinished();
  }, t.prototype.needsAnimate = function() {
    return this.keyframes.length >= 1;
  }, t.prototype.getAdditiveTrack = function() {
    return this._additiveTrack;
  }, t.prototype.addKeyframe = function(e, n, o) {
    this._needsSort = !0;
    var a = this.keyframes, r = a.length, i = !1, s = Dh, l = n;
    if (_n(n)) {
      var u = LS(n);
      s = u, (u === 1 && !bt(n[0]) || u === 2 && !bt(n[0][0])) && (i = !0);
    } else if (bt(n) && !cs(n))
      s = tl;
    else if (ze(n))
      if (!isNaN(+n))
        s = tl;
      else {
        var c = go(n);
        c && (l = c, s = zi);
      }
    else if (Wv(n)) {
      var d = Le({}, l);
      d.colorStops = $e(n.colorStops, function(v) {
        return {
          offset: v.offset,
          color: go(v.color)
        };
      }), r2(n) ? s = kf : i2(n) && (s = Ef), l = d;
    }
    r === 0 ? this.valType = s : (s !== this.valType || s === Dh) && (i = !0), this.discrete = this.discrete || i;
    var f = {
      time: e,
      value: l,
      rawValue: n,
      percent: 0
    };
    return o && (f.easing = o, f.easingFunc = Je(o) ? o : Ji[o] || Jv(o)), a.push(f), f;
  }, t.prototype.prepare = function(e, n) {
    var o = this.keyframes;
    this._needsSort && o.sort(function(h, m) {
      return h.time - m.time;
    });
    for (var a = this.valType, r = o.length, i = o[r - 1], s = this.discrete, l = nl(a), u = $h(a), c = 0; c < r; c++) {
      var d = o[c], f = d.value, v = i.value;
      d.percent = d.time / e, s || (l && c !== r - 1 ? TS(f, v, a) : u && CS(f.colorStops, v.colorStops));
    }
    if (!s && a !== Ef && n && this.needsAnimate() && n.needsAnimate() && a === n.valType && !n._finished) {
      this._additiveTrack = n;
      for (var p = o[0].value, c = 0; c < r; c++)
        a === tl ? o[c].additiveValue = o[c].value - p : a === zi ? o[c].additiveValue = el([], o[c].value, p, -1) : nl(a) && (o[c].additiveValue = a === Vl ? el([], o[c].value, p, -1) : Ah([], o[c].value, p, -1));
    }
  }, t.prototype.step = function(e, n) {
    if (!this._finished) {
      this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null);
      var o = this._additiveTrack != null, a = o ? "additiveValue" : "value", r = this.valType, i = this.keyframes, s = i.length, l = this.propName, u = r === zi, c, d = this._lastFr, f = Math.min, v, p;
      if (s === 1)
        v = p = i[0];
      else {
        if (n < 0)
          c = 0;
        else if (n < this._lastFrP) {
          var h = f(d + 1, s - 1);
          for (c = h; c >= 0 && !(i[c].percent <= n); c--)
            ;
          c = f(c, s - 2);
        } else {
          for (c = d; c < s && !(i[c].percent > n); c++)
            ;
          c = f(c - 1, s - 2);
        }
        p = i[c + 1], v = i[c];
      }
      if (v && p) {
        this._lastFr = c, this._lastFrP = n;
        var m = p.percent - v.percent, g = m === 0 ? 1 : f((n - v.percent) / m, 1);
        p.easingFunc && (g = p.easingFunc(g));
        var y = o ? this._additiveValue : u ? gi : e[l];
        if ((nl(r) || u) && !y && (y = this._additiveValue = []), this.discrete)
          e[l] = g < 1 ? v.rawValue : p.rawValue;
        else if (nl(r))
          r === Vl ? Wc(y, v[a], p[a], g) : IS(y, v[a], p[a], g);
        else if ($h(r)) {
          var _ = v[a], w = p[a], x = r === kf;
          e[l] = {
            type: x ? "linear" : "radial",
            x: Co(_.x, w.x, g),
            y: Co(_.y, w.y, g),
            colorStops: $e(_.colorStops, function(L, b) {
              var I = w.colorStops[b];
              return {
                offset: Co(L.offset, I.offset, g),
                color: zl(Wc([], L.color, I.color, g))
              };
            }),
            global: w.global
          }, x ? (e[l].x2 = Co(_.x2, w.x2, g), e[l].y2 = Co(_.y2, w.y2, g)) : e[l].r = Co(_.r, w.r, g);
        } else if (u)
          Wc(y, v[a], p[a], g), o || (e[l] = zl(y));
        else {
          var S = Co(v[a], p[a], g);
          o ? this._additiveValue = S : e[l] = S;
        }
        o && this._addToTarget(e);
      }
    }
  }, t.prototype._addToTarget = function(e) {
    var n = this.valType, o = this.propName, a = this._additiveValue;
    n === tl ? e[o] = e[o] + a : n === zi ? (go(e[o], gi), el(gi, gi, a, 1), e[o] = zl(gi)) : n === Vl ? el(e[o], e[o], a, 1) : n === c2 && Ah(e[o], e[o], a, 1);
  }, t;
}(), Qv = function() {
  function t(e, n, o, a) {
    if (this._tracks = {}, this._trackKeys = [], this._maxTime = 0, this._started = 0, this._clip = null, this._target = e, this._loop = n, n && a) {
      Hr("Can' use additive animation on looped animation.");
      return;
    }
    this._additiveAnimators = a, this._allowDiscrete = o;
  }
  return t.prototype.getMaxTime = function() {
    return this._maxTime;
  }, t.prototype.getDelay = function() {
    return this._delay;
  }, t.prototype.getLoop = function() {
    return this._loop;
  }, t.prototype.getTarget = function() {
    return this._target;
  }, t.prototype.changeTarget = function(e) {
    this._target = e;
  }, t.prototype.when = function(e, n, o) {
    return this.whenWithKeys(e, n, lt(n), o);
  }, t.prototype.whenWithKeys = function(e, n, o, a) {
    for (var r = this._tracks, i = 0; i < o.length; i++) {
      var s = o[i], l = r[s];
      if (!l) {
        l = r[s] = new kS(s);
        var u = void 0, c = this._getAdditiveTrack(s);
        if (c) {
          var d = c.keyframes, f = d[d.length - 1];
          u = f && f.value, c.valType === zi && u && (u = zl(u));
        } else
          u = this._target[s];
        if (u == null)
          continue;
        e > 0 && l.addKeyframe(0, Fl(u), a), this._trackKeys.push(s);
      }
      l.addKeyframe(e, Fl(n[s]), a);
    }
    return this._maxTime = Math.max(this._maxTime, e), this;
  }, t.prototype.pause = function() {
    this._clip.pause(), this._paused = !0;
  }, t.prototype.resume = function() {
    this._clip.resume(), this._paused = !1;
  }, t.prototype.isPaused = function() {
    return !!this._paused;
  }, t.prototype.duration = function(e) {
    return this._maxTime = e, this._force = !0, this;
  }, t.prototype._doneCallback = function() {
    this._setTracksFinished(), this._clip = null;
    var e = this._doneCbs;
    if (e)
      for (var n = e.length, o = 0; o < n; o++)
        e[o].call(this);
  }, t.prototype._abortedCallback = function() {
    this._setTracksFinished();
    var e = this.animation, n = this._abortedCbs;
    if (e && e.removeClip(this._clip), this._clip = null, n)
      for (var o = 0; o < n.length; o++)
        n[o].call(this);
  }, t.prototype._setTracksFinished = function() {
    for (var e = this._tracks, n = this._trackKeys, o = 0; o < n.length; o++)
      e[n[o]].setFinished();
  }, t.prototype._getAdditiveTrack = function(e) {
    var n, o = this._additiveAnimators;
    if (o)
      for (var a = 0; a < o.length; a++) {
        var r = o[a].getTrack(e);
        r && (n = r);
      }
    return n;
  }, t.prototype.start = function(e) {
    if (!(this._started > 0)) {
      this._started = 1;
      for (var n = this, o = [], a = this._maxTime || 0, r = 0; r < this._trackKeys.length; r++) {
        var i = this._trackKeys[r], s = this._tracks[i], l = this._getAdditiveTrack(i), u = s.keyframes, c = u.length;
        if (s.prepare(a, l), s.needsAnimate())
          if (!this._allowDiscrete && s.discrete) {
            var d = u[c - 1];
            d && (n._target[s.propName] = d.rawValue), s.setFinished();
          } else
            o.push(s);
      }
      if (o.length || this._force) {
        var f = new pS({
          life: a,
          loop: this._loop,
          delay: this._delay || 0,
          onframe: function(v) {
            n._started = 2;
            var p = n._additiveAnimators;
            if (p) {
              for (var h = !1, m = 0; m < p.length; m++)
                if (p[m]._clip) {
                  h = !0;
                  break;
                }
              h || (n._additiveAnimators = null);
            }
            for (var m = 0; m < o.length; m++)
              o[m].step(n._target, v);
            var g = n._onframeCbs;
            if (g)
              for (var m = 0; m < g.length; m++)
                g[m](n._target, v);
          },
          ondestroy: function() {
            n._doneCallback();
          }
        });
        this._clip = f, this.animation && this.animation.addClip(f), e && f.setEasing(e);
      } else
        this._doneCallback();
      return this;
    }
  }, t.prototype.stop = function(e) {
    if (this._clip) {
      var n = this._clip;
      e && n.onframe(1), this._abortedCallback();
    }
  }, t.prototype.delay = function(e) {
    return this._delay = e, this;
  }, t.prototype.during = function(e) {
    return e && (this._onframeCbs || (this._onframeCbs = []), this._onframeCbs.push(e)), this;
  }, t.prototype.done = function(e) {
    return e && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(e)), this;
  }, t.prototype.aborted = function(e) {
    return e && (this._abortedCbs || (this._abortedCbs = []), this._abortedCbs.push(e)), this;
  }, t.prototype.getClip = function() {
    return this._clip;
  }, t.prototype.getTrack = function(e) {
    return this._tracks[e];
  }, t.prototype.getTracks = function() {
    var e = this;
    return $e(this._trackKeys, function(n) {
      return e._tracks[n];
    });
  }, t.prototype.stopTracks = function(e, n) {
    if (!e.length || !this._clip)
      return !0;
    for (var o = this._tracks, a = this._trackKeys, r = 0; r < e.length; r++) {
      var i = o[e[r]];
      i && !i.isFinished() && (n ? i.step(this._target, 1) : this._started === 1 && i.step(this._target, 0), i.setFinished());
    }
    for (var s = !0, r = 0; r < a.length; r++)
      if (!o[a[r]].isFinished()) {
        s = !1;
        break;
      }
    return s && this._abortedCallback(), s;
  }, t.prototype.saveTo = function(e, n, o) {
    if (e) {
      n = n || this._trackKeys;
      for (var a = 0; a < n.length; a++) {
        var r = n[a], i = this._tracks[r];
        if (!(!i || i.isFinished())) {
          var s = i.keyframes, l = s[o ? 0 : s.length - 1];
          l && (e[r] = Fl(l.rawValue));
        }
      }
    }
  }, t.prototype.__changeFinalValue = function(e, n) {
    n = n || lt(e);
    for (var o = 0; o < n.length; o++) {
      var a = n[o], r = this._tracks[a];
      if (r) {
        var i = r.keyframes;
        if (i.length > 1) {
          var s = i.pop();
          r.addKeyframe(s.time, e[a]), r.prepare(this._maxTime, r.getAdditiveTrack());
        }
      }
    }
  }, t;
}();
function Ar() {
  return (/* @__PURE__ */ new Date()).getTime();
}
var ES = function(t) {
  De(e, t);
  function e(n) {
    var o = t.call(this) || this;
    return o._running = !1, o._time = 0, o._pausedTime = 0, o._pauseStart = 0, o._paused = !1, n = n || {}, o.stage = n.stage || {}, o;
  }
  return e.prototype.addClip = function(n) {
    n.animation && this.removeClip(n), this._head ? (this._tail.next = n, n.prev = this._tail, n.next = null, this._tail = n) : this._head = this._tail = n, n.animation = this;
  }, e.prototype.addAnimator = function(n) {
    n.animation = this;
    var o = n.getClip();
    o && this.addClip(o);
  }, e.prototype.removeClip = function(n) {
    if (n.animation) {
      var o = n.prev, a = n.next;
      o ? o.next = a : this._head = a, a ? a.prev = o : this._tail = o, n.next = n.prev = n.animation = null;
    }
  }, e.prototype.removeAnimator = function(n) {
    var o = n.getClip();
    o && this.removeClip(o), n.animation = null;
  }, e.prototype.update = function(n) {
    for (var o = Ar() - this._pausedTime, a = o - this._time, r = this._head; r; ) {
      var i = r.next, s = r.step(o, a);
      s && (r.ondestroy(), this.removeClip(r)), r = i;
    }
    this._time = o, n || (this.trigger("frame", a), this.stage.update && this.stage.update());
  }, e.prototype._startLoop = function() {
    var n = this;
    this._running = !0;
    function o() {
      n._running && (xf(o), !n._paused && n.update());
    }
    xf(o);
  }, e.prototype.start = function() {
    this._running || (this._time = Ar(), this._pausedTime = 0, this._startLoop());
  }, e.prototype.stop = function() {
    this._running = !1;
  }, e.prototype.pause = function() {
    this._paused || (this._pauseStart = Ar(), this._paused = !0);
  }, e.prototype.resume = function() {
    this._paused && (this._pausedTime += Ar() - this._pauseStart, this._paused = !1);
  }, e.prototype.clear = function() {
    for (var n = this._head; n; ) {
      var o = n.next;
      n.prev = n.next = n.animation = null, n = o;
    }
    this._head = this._tail = null;
  }, e.prototype.isFinished = function() {
    return this._head == null;
  }, e.prototype.animate = function(n, o) {
    o = o || {}, this.start();
    var a = new Qv(n, o.loop);
    return this.addAnimator(a), a;
  }, e;
}($o), MS = 300, Xc = pt.domSupported, Yc = function() {
  var t = [
    "click",
    "dblclick",
    "mousewheel",
    "wheel",
    "mouseout",
    "mouseup",
    "mousedown",
    "mousemove",
    "contextmenu"
  ], e = [
    "touchstart",
    "touchend",
    "touchmove"
  ], n = {
    pointerdown: 1,
    pointerup: 1,
    pointermove: 1,
    pointerout: 1
  }, o = $e(t, function(a) {
    var r = a.replace("mouse", "pointer");
    return n.hasOwnProperty(r) ? r : a;
  });
  return {
    mouse: t,
    touch: e,
    pointer: o
  };
}(), Ph = {
  mouse: ["mousemove", "mouseup"],
  pointer: ["pointermove", "pointerup"]
}, Rh = !1;
function Mf(t) {
  var e = t.pointerType;
  return e === "pen" || e === "touch";
}
function AS(t) {
  t.touching = !0, t.touchTimer != null && (clearTimeout(t.touchTimer), t.touchTimer = null), t.touchTimer = setTimeout(function() {
    t.touching = !1, t.touchTimer = null;
  }, 700);
}
function Zc(t) {
  t && (t.zrByTouch = !0);
}
function DS(t, e) {
  return Yn(t.dom, new $S(t, e), !0);
}
function d2(t, e) {
  for (var n = e, o = !1; n && n.nodeType !== 9 && !(o = n.domBelongToZr || n !== e && n === t.painterRoot); )
    n = n.parentNode;
  return o;
}
var $S = /* @__PURE__ */ function() {
  function t(e, n) {
    this.stopPropagation = Cn, this.stopImmediatePropagation = Cn, this.preventDefault = Cn, this.type = n.type, this.target = this.currentTarget = e.dom, this.pointerType = n.pointerType, this.clientX = n.clientX, this.clientY = n.clientY;
  }
  return t;
}(), Zn = {
  mousedown: function(t) {
    t = Yn(this.dom, t), this.__mayPointerCapture = [t.zrX, t.zrY], this.trigger("mousedown", t);
  },
  mousemove: function(t) {
    t = Yn(this.dom, t);
    var e = this.__mayPointerCapture;
    e && (t.zrX !== e[0] || t.zrY !== e[1]) && this.__togglePointerCapture(!0), this.trigger("mousemove", t);
  },
  mouseup: function(t) {
    t = Yn(this.dom, t), this.__togglePointerCapture(!1), this.trigger("mouseup", t);
  },
  mouseout: function(t) {
    t = Yn(this.dom, t);
    var e = t.toElement || t.relatedTarget;
    d2(this, e) || (this.__pointerCapturing && (t.zrEventControl = "no_globalout"), this.trigger("mouseout", t));
  },
  wheel: function(t) {
    Rh = !0, t = Yn(this.dom, t), this.trigger("mousewheel", t);
  },
  mousewheel: function(t) {
    Rh || (t = Yn(this.dom, t), this.trigger("mousewheel", t));
  },
  touchstart: function(t) {
    t = Yn(this.dom, t), Zc(t), this.__lastTouchMoment = /* @__PURE__ */ new Date(), this.handler.processGesture(t, "start"), Zn.mousemove.call(this, t), Zn.mousedown.call(this, t);
  },
  touchmove: function(t) {
    t = Yn(this.dom, t), Zc(t), this.handler.processGesture(t, "change"), Zn.mousemove.call(this, t);
  },
  touchend: function(t) {
    t = Yn(this.dom, t), Zc(t), this.handler.processGesture(t, "end"), Zn.mouseup.call(this, t), +/* @__PURE__ */ new Date() - +this.__lastTouchMoment < MS && Zn.click.call(this, t);
  },
  pointerdown: function(t) {
    Zn.mousedown.call(this, t);
  },
  pointermove: function(t) {
    Mf(t) || Zn.mousemove.call(this, t);
  },
  pointerup: function(t) {
    Zn.mouseup.call(this, t);
  },
  pointerout: function(t) {
    Mf(t) || Zn.mouseout.call(this, t);
  }
};
se(["click", "dblclick", "contextmenu"], function(t) {
  Zn[t] = function(e) {
    e = Yn(this.dom, e), this.trigger(t, e);
  };
});
var Af = {
  pointermove: function(t) {
    Mf(t) || Af.mousemove.call(this, t);
  },
  pointerup: function(t) {
    Af.mouseup.call(this, t);
  },
  mousemove: function(t) {
    this.trigger("mousemove", t);
  },
  mouseup: function(t) {
    var e = this.__pointerCapturing;
    this.__togglePointerCapture(!1), this.trigger("mouseup", t), e && (t.zrEventControl = "only_globalout", this.trigger("mouseout", t));
  }
};
function PS(t, e) {
  var n = e.domHandlers;
  pt.pointerEventsSupported ? se(Yc.pointer, function(o) {
    Hl(e, o, function(a) {
      n[o].call(t, a);
    });
  }) : (pt.touchEventsSupported && se(Yc.touch, function(o) {
    Hl(e, o, function(a) {
      n[o].call(t, a), AS(e);
    });
  }), se(Yc.mouse, function(o) {
    Hl(e, o, function(a) {
      a = Yv(a), e.touching || n[o].call(t, a);
    });
  }));
}
function RS(t, e) {
  pt.pointerEventsSupported ? se(Ph.pointer, n) : pt.touchEventsSupported || se(Ph.mouse, n);
  function n(o) {
    function a(r) {
      r = Yv(r), d2(t, r.target) || (r = DS(t, r), e.domHandlers[o].call(t, r));
    }
    Hl(e, o, a, { capture: !0 });
  }
}
function Hl(t, e, n, o) {
  t.mounted[e] = n, t.listenerOpts[e] = o, Xx(t.domTarget, e, n, o);
}
function qc(t) {
  var e = t.mounted;
  for (var n in e)
    e.hasOwnProperty(n) && Yx(t.domTarget, n, e[n], t.listenerOpts[n]);
  t.mounted = {};
}
var Oh = /* @__PURE__ */ function() {
  function t(e, n) {
    this.mounted = {}, this.listenerOpts = {}, this.touching = !1, this.domTarget = e, this.domHandlers = n;
  }
  return t;
}(), OS = function(t) {
  De(e, t);
  function e(n, o) {
    var a = t.call(this) || this;
    return a.__pointerCapturing = !1, a.dom = n, a.painterRoot = o, a._localHandlerScope = new Oh(n, Zn), Xc && (a._globalHandlerScope = new Oh(document, Af)), PS(a, a._localHandlerScope), a;
  }
  return e.prototype.dispose = function() {
    qc(this._localHandlerScope), Xc && qc(this._globalHandlerScope);
  }, e.prototype.setCursor = function(n) {
    this.dom.style && (this.dom.style.cursor = n || "default");
  }, e.prototype.__togglePointerCapture = function(n) {
    if (this.__mayPointerCapture = null, Xc && +this.__pointerCapturing ^ +n) {
      this.__pointerCapturing = n;
      var o = this._globalHandlerScope;
      n ? RS(this, o) : qc(o);
    }
  }, e;
}($o), f2 = 1;
pt.hasGlobalWindow && (f2 = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1));
var Nh = f2, Df = 0.4, $f = "#333", Pf = "#ccc", NS = "#eee", Bh = Zv, Fh = 5e-5;
function Ia(t) {
  return t > Fh || t < -Fh;
}
var Ca = [], dr = [], Jc = qi(), Kc = Math.abs, jv = function() {
  function t() {
  }
  return t.prototype.getLocalTransform = function(e) {
    return t.getLocalTransform(this, e);
  }, t.prototype.setPosition = function(e) {
    this.x = e[0], this.y = e[1];
  }, t.prototype.setScale = function(e) {
    this.scaleX = e[0], this.scaleY = e[1];
  }, t.prototype.setSkew = function(e) {
    this.skewX = e[0], this.skewY = e[1];
  }, t.prototype.setOrigin = function(e) {
    this.originX = e[0], this.originY = e[1];
  }, t.prototype.needLocalTransform = function() {
    return Ia(this.rotation) || Ia(this.x) || Ia(this.y) || Ia(this.scaleX - 1) || Ia(this.scaleY - 1) || Ia(this.skewX) || Ia(this.skewY);
  }, t.prototype.updateTransform = function() {
    var e = this.parent && this.parent.transform, n = this.needLocalTransform(), o = this.transform;
    if (!(n || e)) {
      o && (Bh(o), this.invTransform = null);
      return;
    }
    o = o || qi(), n ? this.getLocalTransform(o) : Bh(o), e && (n ? Or(o, e, o) : Kx(o, e)), this.transform = o, this._resolveGlobalScaleRatio(o);
  }, t.prototype._resolveGlobalScaleRatio = function(e) {
    var n = this.globalScaleRatio;
    if (n != null && n !== 1) {
      this.getGlobalScale(Ca);
      var o = Ca[0] < 0 ? -1 : 1, a = Ca[1] < 0 ? -1 : 1, r = ((Ca[0] - o) * n + o) / Ca[0] || 0, i = ((Ca[1] - a) * n + a) / Ca[1] || 0;
      e[0] *= r, e[1] *= r, e[2] *= i, e[3] *= i;
    }
    this.invTransform = this.invTransform || qi(), qv(this.invTransform, e);
  }, t.prototype.getComputedTransform = function() {
    for (var e = this, n = []; e; )
      n.push(e), e = e.parent;
    for (; e = n.pop(); )
      e.updateTransform();
    return this.transform;
  }, t.prototype.setLocalTransform = function(e) {
    if (e) {
      var n = e[0] * e[0] + e[1] * e[1], o = e[2] * e[2] + e[3] * e[3], a = Math.atan2(e[1], e[0]), r = Math.PI / 2 + a - Math.atan2(e[3], e[2]);
      o = Math.sqrt(o) * Math.cos(r), n = Math.sqrt(n), this.skewX = r, this.skewY = 0, this.rotation = -a, this.x = +e[4], this.y = +e[5], this.scaleX = n, this.scaleY = o, this.originX = 0, this.originY = 0;
    }
  }, t.prototype.decomposeTransform = function() {
    if (this.transform) {
      var e = this.parent, n = this.transform;
      e && e.transform && (e.invTransform = e.invTransform || qi(), Or(dr, e.invTransform, n), n = dr);
      var o = this.originX, a = this.originY;
      (o || a) && (Jc[4] = o, Jc[5] = a, Or(dr, n, Jc), dr[4] -= o, dr[5] -= a, n = dr), this.setLocalTransform(n);
    }
  }, t.prototype.getGlobalScale = function(e) {
    var n = this.transform;
    return e = e || [], n ? (e[0] = Math.sqrt(n[0] * n[0] + n[1] * n[1]), e[1] = Math.sqrt(n[2] * n[2] + n[3] * n[3]), n[0] < 0 && (e[0] = -e[0]), n[3] < 0 && (e[1] = -e[1]), e) : (e[0] = 1, e[1] = 1, e);
  }, t.prototype.transformCoordToLocal = function(e, n) {
    var o = [e, n], a = this.invTransform;
    return a && zn(o, o, a), o;
  }, t.prototype.transformCoordToGlobal = function(e, n) {
    var o = [e, n], a = this.transform;
    return a && zn(o, o, a), o;
  }, t.prototype.getLineScale = function() {
    var e = this.transform;
    return e && Kc(e[0] - 1) > 1e-10 && Kc(e[3] - 1) > 1e-10 ? Math.sqrt(Kc(e[0] * e[3] - e[2] * e[1])) : 1;
  }, t.prototype.copyTransform = function(e) {
    v2(this, e);
  }, t.getLocalTransform = function(e, n) {
    n = n || [];
    var o = e.originX || 0, a = e.originY || 0, r = e.scaleX, i = e.scaleY, s = e.anchorX, l = e.anchorY, u = e.rotation || 0, c = e.x, d = e.y, f = e.skewX ? Math.tan(e.skewX) : 0, v = e.skewY ? Math.tan(-e.skewY) : 0;
    if (o || a || s || l) {
      var p = o + s, h = a + l;
      n[4] = -p * r - f * h * i, n[5] = -h * i - v * p * r;
    } else
      n[4] = n[5] = 0;
    return n[0] = r, n[3] = i, n[1] = v * r, n[2] = f * i, u && Yg(n, n, u), n[4] += o + c, n[5] += a + d, n;
  }, t.initDefaultProps = function() {
    var e = t.prototype;
    e.scaleX = e.scaleY = e.globalScaleRatio = 1, e.x = e.y = e.originX = e.originY = e.skewX = e.skewY = e.rotation = e.anchorX = e.anchorY = 0;
  }(), t;
}(), vs = [
  "x",
  "y",
  "originX",
  "originY",
  "anchorX",
  "anchorY",
  "rotation",
  "scaleX",
  "scaleY",
  "skewX",
  "skewY"
];
function v2(t, e) {
  for (var n = 0; n < vs.length; n++) {
    var o = vs[n];
    t[o] = e[o];
  }
}
var zh = {};
function Tn(t, e) {
  e = e || aa;
  var n = zh[e];
  n || (n = zh[e] = new Os(500));
  var o = n.get(t);
  return o == null && (o = Rs.measureText(t, e).width, n.put(t, o)), o;
}
function Vh(t, e, n, o) {
  var a = Tn(t, e), r = Gu(e), i = Vi(0, a, n), s = Tr(0, r, o), l = new yt(i, s, a, r);
  return l;
}
function p2(t, e, n, o) {
  var a = ((t || "") + "").split(`
`), r = a.length;
  if (r === 1)
    return Vh(a[0], e, n, o);
  for (var i = new yt(0, 0, 0, 0), s = 0; s < a.length; s++) {
    var l = Vh(a[s], e, n, o);
    s === 0 ? i.copy(l) : i.union(l);
  }
  return i;
}
function Vi(t, e, n) {
  return n === "right" ? t -= e : n === "center" && (t -= e / 2), t;
}
function Tr(t, e, n) {
  return n === "middle" ? t -= e / 2 : n === "bottom" && (t -= e), t;
}
function Gu(t) {
  return Tn("国", t);
}
function ia(t, e) {
  return typeof t == "string" ? t.lastIndexOf("%") >= 0 ? parseFloat(t) / 100 * e : parseFloat(t) : t;
}
function uu(t, e, n) {
  var o = e.position || "inside", a = e.distance != null ? e.distance : 5, r = n.height, i = n.width, s = r / 2, l = n.x, u = n.y, c = "left", d = "top";
  if (o instanceof Array)
    l += ia(o[0], n.width), u += ia(o[1], n.height), c = null, d = null;
  else
    switch (o) {
      case "left":
        l -= a, u += s, c = "right", d = "middle";
        break;
      case "right":
        l += a + i, u += s, d = "middle";
        break;
      case "top":
        l += i / 2, u -= a, c = "center", d = "bottom";
        break;
      case "bottom":
        l += i / 2, u += r + a, c = "center";
        break;
      case "inside":
        l += i / 2, u += s, c = "center", d = "middle";
        break;
      case "insideLeft":
        l += a, u += s, d = "middle";
        break;
      case "insideRight":
        l += i - a, u += s, c = "right", d = "middle";
        break;
      case "insideTop":
        l += i / 2, u += a, c = "center";
        break;
      case "insideBottom":
        l += i / 2, u += r - a, c = "center", d = "bottom";
        break;
      case "insideTopLeft":
        l += a, u += a;
        break;
      case "insideTopRight":
        l += i - a, u += a, c = "right";
        break;
      case "insideBottomLeft":
        l += a, u += r - a, d = "bottom";
        break;
      case "insideBottomRight":
        l += i - a, u += r - a, c = "right", d = "bottom";
        break;
    }
  return t = t || {}, t.x = l, t.y = u, t.align = c, t.verticalAlign = d, t;
}
var Qc = "__zr_normal__", jc = vs.concat(["ignore"]), BS = ra(vs, function(t, e) {
  return t[e] = !0, t;
}, { ignore: !1 }), fr = {}, FS = new yt(0, 0, 0, 0), Uu = function() {
  function t(e) {
    this.id = Vg(), this.animators = [], this.currentStates = [], this.states = {}, this._init(e);
  }
  return t.prototype._init = function(e) {
    this.attr(e);
  }, t.prototype.drift = function(e, n, o) {
    switch (this.draggable) {
      case "horizontal":
        n = 0;
        break;
      case "vertical":
        e = 0;
        break;
    }
    var a = this.transform;
    a || (a = this.transform = [1, 0, 0, 1, 0, 0]), a[4] += e, a[5] += n, this.decomposeTransform(), this.markRedraw();
  }, t.prototype.beforeUpdate = function() {
  }, t.prototype.afterUpdate = function() {
  }, t.prototype.update = function() {
    this.updateTransform(), this.__dirty && this.updateInnerText();
  }, t.prototype.updateInnerText = function(e) {
    var n = this._textContent;
    if (n && (!n.ignore || e)) {
      this.textConfig || (this.textConfig = {});
      var o = this.textConfig, a = o.local, r = n.innerTransformable, i = void 0, s = void 0, l = !1;
      r.parent = a ? this : null;
      var u = !1;
      if (r.copyTransform(n), o.position != null) {
        var c = FS;
        o.layoutRect ? c.copy(o.layoutRect) : c.copy(this.getBoundingRect()), a || c.applyTransform(this.transform), this.calculateTextPosition ? this.calculateTextPosition(fr, o, c) : uu(fr, o, c), r.x = fr.x, r.y = fr.y, i = fr.align, s = fr.verticalAlign;
        var d = o.origin;
        if (d && o.rotation != null) {
          var f = void 0, v = void 0;
          d === "center" ? (f = c.width * 0.5, v = c.height * 0.5) : (f = ia(d[0], c.width), v = ia(d[1], c.height)), u = !0, r.originX = -r.x + f + (a ? 0 : c.x), r.originY = -r.y + v + (a ? 0 : c.y);
        }
      }
      o.rotation != null && (r.rotation = o.rotation);
      var p = o.offset;
      p && (r.x += p[0], r.y += p[1], u || (r.originX = -p[0], r.originY = -p[1]));
      var h = o.inside == null ? typeof o.position == "string" && o.position.indexOf("inside") >= 0 : o.inside, m = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {}), g = void 0, y = void 0, _ = void 0;
      h && this.canBeInsideText() ? (g = o.insideFill, y = o.insideStroke, (g == null || g === "auto") && (g = this.getInsideTextFill()), (y == null || y === "auto") && (y = this.getInsideTextStroke(g), _ = !0)) : (g = o.outsideFill, y = o.outsideStroke, (g == null || g === "auto") && (g = this.getOutsideFill()), (y == null || y === "auto") && (y = this.getOutsideStroke(g), _ = !0)), g = g || "#000", (g !== m.fill || y !== m.stroke || _ !== m.autoStroke || i !== m.align || s !== m.verticalAlign) && (l = !0, m.fill = g, m.stroke = y, m.autoStroke = _, m.align = i, m.verticalAlign = s, n.setDefaultTextStyle(m)), n.__dirty |= vo, l && n.dirtyStyle(!0);
    }
  }, t.prototype.canBeInsideText = function() {
    return !0;
  }, t.prototype.getInsideTextFill = function() {
    return "#fff";
  }, t.prototype.getInsideTextStroke = function(e) {
    return "#000";
  }, t.prototype.getOutsideFill = function() {
    return this.__zr && this.__zr.isDarkMode() ? Pf : $f;
  }, t.prototype.getOutsideStroke = function(e) {
    var n = this.__zr && this.__zr.getBackgroundColor(), o = typeof n == "string" && go(n);
    o || (o = [255, 255, 255, 1]);
    for (var a = o[3], r = this.__zr.isDarkMode(), i = 0; i < 3; i++)
      o[i] = o[i] * a + (r ? 0 : 255) * (1 - a);
    return o[3] = 1, Vu(o, "rgba");
  }, t.prototype.traverse = function(e, n) {
  }, t.prototype.attrKV = function(e, n) {
    e === "textConfig" ? this.setTextConfig(n) : e === "textContent" ? this.setTextContent(n) : e === "clipPath" ? this.setClipPath(n) : e === "extra" ? (this.extra = this.extra || {}, Le(this.extra, n)) : this[e] = n;
  }, t.prototype.hide = function() {
    this.ignore = !0, this.markRedraw();
  }, t.prototype.show = function() {
    this.ignore = !1, this.markRedraw();
  }, t.prototype.attr = function(e, n) {
    if (typeof e == "string")
      this.attrKV(e, n);
    else if (Ue(e))
      for (var o = e, a = lt(o), r = 0; r < a.length; r++) {
        var i = a[r];
        this.attrKV(i, e[i]);
      }
    return this.markRedraw(), this;
  }, t.prototype.saveCurrentToNormalState = function(e) {
    this._innerSaveToNormal(e);
    for (var n = this._normalState, o = 0; o < this.animators.length; o++) {
      var a = this.animators[o], r = a.__fromStateTransition;
      if (!(a.getLoop() || r && r !== Qc)) {
        var i = a.targetName, s = i ? n[i] : n;
        a.saveTo(s);
      }
    }
  }, t.prototype._innerSaveToNormal = function(e) {
    var n = this._normalState;
    n || (n = this._normalState = {}), e.textConfig && !n.textConfig && (n.textConfig = this.textConfig), this._savePrimaryToNormal(e, n, jc);
  }, t.prototype._savePrimaryToNormal = function(e, n, o) {
    for (var a = 0; a < o.length; a++) {
      var r = o[a];
      e[r] != null && !(r in n) && (n[r] = this[r]);
    }
  }, t.prototype.hasState = function() {
    return this.currentStates.length > 0;
  }, t.prototype.getState = function(e) {
    return this.states[e];
  }, t.prototype.ensureState = function(e) {
    var n = this.states;
    return n[e] || (n[e] = {}), n[e];
  }, t.prototype.clearStates = function(e) {
    this.useState(Qc, !1, e);
  }, t.prototype.useState = function(e, n, o, a) {
    var r = e === Qc, i = this.hasState();
    if (!(!i && r)) {
      var s = this.currentStates, l = this.stateTransition;
      if (!(St(s, e) >= 0 && (n || s.length === 1))) {
        var u;
        if (this.stateProxy && !r && (u = this.stateProxy(e)), u || (u = this.states && this.states[e]), !u && !r) {
          Hr("State " + e + " not exists.");
          return;
        }
        r || this.saveCurrentToNormalState(u);
        var c = !!(u && u.hoverLayer || a);
        c && this._toggleHoverLayerFlag(!0), this._applyStateObj(e, u, this._normalState, n, !o && !this.__inHover && l && l.duration > 0, l);
        var d = this._textContent, f = this._textGuide;
        return d && d.useState(e, n, o, c), f && f.useState(e, n, o, c), r ? (this.currentStates = [], this._normalState = {}) : n ? this.currentStates.push(e) : this.currentStates = [e], this._updateAnimationTargets(), this.markRedraw(), !c && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~vo), u;
      }
    }
  }, t.prototype.useStates = function(e, n, o) {
    if (!e.length)
      this.clearStates();
    else {
      var a = [], r = this.currentStates, i = e.length, s = i === r.length;
      if (s) {
        for (var l = 0; l < i; l++)
          if (e[l] !== r[l]) {
            s = !1;
            break;
          }
      }
      if (s)
        return;
      for (var l = 0; l < i; l++) {
        var u = e[l], c = void 0;
        this.stateProxy && (c = this.stateProxy(u, e)), c || (c = this.states[u]), c && a.push(c);
      }
      var d = a[i - 1], f = !!(d && d.hoverLayer || o);
      f && this._toggleHoverLayerFlag(!0);
      var v = this._mergeStates(a), p = this.stateTransition;
      this.saveCurrentToNormalState(v), this._applyStateObj(e.join(","), v, this._normalState, !1, !n && !this.__inHover && p && p.duration > 0, p);
      var h = this._textContent, m = this._textGuide;
      h && h.useStates(e, n, f), m && m.useStates(e, n, f), this._updateAnimationTargets(), this.currentStates = e.slice(), this.markRedraw(), !f && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~vo);
    }
  }, t.prototype.isSilent = function() {
    for (var e = this.silent, n = this.parent; !e && n; ) {
      if (n.silent) {
        e = !0;
        break;
      }
      n = n.parent;
    }
    return e;
  }, t.prototype._updateAnimationTargets = function() {
    for (var e = 0; e < this.animators.length; e++) {
      var n = this.animators[e];
      n.targetName && n.changeTarget(this[n.targetName]);
    }
  }, t.prototype.removeState = function(e) {
    var n = St(this.currentStates, e);
    if (n >= 0) {
      var o = this.currentStates.slice();
      o.splice(n, 1), this.useStates(o);
    }
  }, t.prototype.replaceState = function(e, n, o) {
    var a = this.currentStates.slice(), r = St(a, e), i = St(a, n) >= 0;
    r >= 0 ? i ? a.splice(r, 1) : a[r] = n : o && !i && a.push(n), this.useStates(a);
  }, t.prototype.toggleState = function(e, n) {
    n ? this.useState(e, !0) : this.removeState(e);
  }, t.prototype._mergeStates = function(e) {
    for (var n = {}, o, a = 0; a < e.length; a++) {
      var r = e[a];
      Le(n, r), r.textConfig && (o = o || {}, Le(o, r.textConfig));
    }
    return o && (n.textConfig = o), n;
  }, t.prototype._applyStateObj = function(e, n, o, a, r, i) {
    var s = !(n && a);
    n && n.textConfig ? (this.textConfig = Le({}, a ? this.textConfig : o.textConfig), Le(this.textConfig, n.textConfig)) : s && o.textConfig && (this.textConfig = o.textConfig);
    for (var l = {}, u = !1, c = 0; c < jc.length; c++) {
      var d = jc[c], f = r && BS[d];
      n && n[d] != null ? f ? (u = !0, l[d] = n[d]) : this[d] = n[d] : s && o[d] != null && (f ? (u = !0, l[d] = o[d]) : this[d] = o[d]);
    }
    if (!r)
      for (var c = 0; c < this.animators.length; c++) {
        var v = this.animators[c], p = v.targetName;
        v.getLoop() || v.__changeFinalValue(p ? (n || o)[p] : n || o);
      }
    u && this._transitionState(e, l, i);
  }, t.prototype._attachComponent = function(e) {
    if (e.__zr && !e.__hostTarget) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Text element has been added to zrender.");
      return;
    }
    if (e === this) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Recursive component attachment.");
      return;
    }
    var n = this.__zr;
    n && e.addSelfToZr(n), e.__zr = n, e.__hostTarget = this;
  }, t.prototype._detachComponent = function(e) {
    e.__zr && e.removeSelfFromZr(e.__zr), e.__zr = null, e.__hostTarget = null;
  }, t.prototype.getClipPath = function() {
    return this._clipPath;
  }, t.prototype.setClipPath = function(e) {
    this._clipPath && this._clipPath !== e && this.removeClipPath(), this._attachComponent(e), this._clipPath = e, this.markRedraw();
  }, t.prototype.removeClipPath = function() {
    var e = this._clipPath;
    e && (this._detachComponent(e), this._clipPath = null, this.markRedraw());
  }, t.prototype.getTextContent = function() {
    return this._textContent;
  }, t.prototype.setTextContent = function(e) {
    var n = this._textContent;
    if (n !== e) {
      if (n && n !== e && this.removeTextContent(), process.env.NODE_ENV !== "production" && e.__zr && !e.__hostTarget)
        throw new Error("Text element has been added to zrender.");
      e.innerTransformable = new jv(), this._attachComponent(e), this._textContent = e, this.markRedraw();
    }
  }, t.prototype.setTextConfig = function(e) {
    this.textConfig || (this.textConfig = {}), Le(this.textConfig, e), this.markRedraw();
  }, t.prototype.removeTextConfig = function() {
    this.textConfig = null, this.markRedraw();
  }, t.prototype.removeTextContent = function() {
    var e = this._textContent;
    e && (e.innerTransformable = null, this._detachComponent(e), this._textContent = null, this._innerTextDefaultStyle = null, this.markRedraw());
  }, t.prototype.getTextGuideLine = function() {
    return this._textGuide;
  }, t.prototype.setTextGuideLine = function(e) {
    this._textGuide && this._textGuide !== e && this.removeTextGuideLine(), this._attachComponent(e), this._textGuide = e, this.markRedraw();
  }, t.prototype.removeTextGuideLine = function() {
    var e = this._textGuide;
    e && (this._detachComponent(e), this._textGuide = null, this.markRedraw());
  }, t.prototype.markRedraw = function() {
    this.__dirty |= vo;
    var e = this.__zr;
    e && (this.__inHover ? e.refreshHover() : e.refresh()), this.__hostTarget && this.__hostTarget.markRedraw();
  }, t.prototype.dirty = function() {
    this.markRedraw();
  }, t.prototype._toggleHoverLayerFlag = function(e) {
    this.__inHover = e;
    var n = this._textContent, o = this._textGuide;
    n && (n.__inHover = e), o && (o.__inHover = e);
  }, t.prototype.addSelfToZr = function(e) {
    if (this.__zr !== e) {
      this.__zr = e;
      var n = this.animators;
      if (n)
        for (var o = 0; o < n.length; o++)
          e.animation.addAnimator(n[o]);
      this._clipPath && this._clipPath.addSelfToZr(e), this._textContent && this._textContent.addSelfToZr(e), this._textGuide && this._textGuide.addSelfToZr(e);
    }
  }, t.prototype.removeSelfFromZr = function(e) {
    if (this.__zr) {
      this.__zr = null;
      var n = this.animators;
      if (n)
        for (var o = 0; o < n.length; o++)
          e.animation.removeAnimator(n[o]);
      this._clipPath && this._clipPath.removeSelfFromZr(e), this._textContent && this._textContent.removeSelfFromZr(e), this._textGuide && this._textGuide.removeSelfFromZr(e);
    }
  }, t.prototype.animate = function(e, n, o) {
    var a = e ? this[e] : this;
    if (process.env.NODE_ENV !== "production" && !a) {
      Hr('Property "' + e + '" is not existed in element ' + this.id);
      return;
    }
    var r = new Qv(a, n, o);
    return e && (r.targetName = e), this.addAnimator(r, e), r;
  }, t.prototype.addAnimator = function(e, n) {
    var o = this.__zr, a = this;
    e.during(function() {
      a.updateDuringAnimation(n);
    }).done(function() {
      var r = a.animators, i = St(r, e);
      i >= 0 && r.splice(i, 1);
    }), this.animators.push(e), o && o.animation.addAnimator(e), o && o.wakeUp();
  }, t.prototype.updateDuringAnimation = function(e) {
    this.markRedraw();
  }, t.prototype.stopAnimation = function(e, n) {
    for (var o = this.animators, a = o.length, r = [], i = 0; i < a; i++) {
      var s = o[i];
      !e || e === s.scope ? s.stop(n) : r.push(s);
    }
    return this.animators = r, this;
  }, t.prototype.animateTo = function(e, n, o) {
    ed(this, e, n, o);
  }, t.prototype.animateFrom = function(e, n, o) {
    ed(this, e, n, o, !0);
  }, t.prototype._transitionState = function(e, n, o, a) {
    for (var r = ed(this, n, o, a), i = 0; i < r.length; i++)
      r[i].__fromStateTransition = e;
  }, t.prototype.getBoundingRect = function() {
    return null;
  }, t.prototype.getPaintRect = function() {
    return null;
  }, t.initDefaultProps = function() {
    var e = t.prototype;
    e.type = "element", e.name = "", e.ignore = e.silent = e.isGroup = e.draggable = e.dragging = e.ignoreClip = e.__inHover = !1, e.__dirty = vo;
    var n = {};
    function o(r, i, s) {
      n[r + i + s] || (console.warn("DEPRECATED: '" + r + "' has been deprecated. use '" + i + "', '" + s + "' instead"), n[r + i + s] = !0);
    }
    function a(r, i, s, l) {
      Object.defineProperty(e, r, {
        get: function() {
          if (process.env.NODE_ENV !== "production" && o(r, s, l), !this[i]) {
            var c = this[i] = [];
            u(this, c);
          }
          return this[i];
        },
        set: function(c) {
          process.env.NODE_ENV !== "production" && o(r, s, l), this[s] = c[0], this[l] = c[1], this[i] = c, u(this, c);
        }
      });
      function u(c, d) {
        Object.defineProperty(d, 0, {
          get: function() {
            return c[s];
          },
          set: function(f) {
            c[s] = f;
          }
        }), Object.defineProperty(d, 1, {
          get: function() {
            return c[l];
          },
          set: function(f) {
            c[l] = f;
          }
        });
      }
    }
    Object.defineProperty && (a("position", "_legacyPos", "x", "y"), a("scale", "_legacyScale", "scaleX", "scaleY"), a("origin", "_legacyOrigin", "originX", "originY"));
  }(), t;
}();
to(Uu, $o);
to(Uu, jv);
function ed(t, e, n, o, a) {
  n = n || {};
  var r = [];
  h2(t, "", t, e, n, o, r, a);
  var i = r.length, s = !1, l = n.done, u = n.aborted, c = function() {
    s = !0, i--, i <= 0 && (s ? l && l() : u && u());
  }, d = function() {
    i--, i <= 0 && (s ? l && l() : u && u());
  };
  i || l && l(), r.length > 0 && n.during && r[0].during(function(p, h) {
    n.during(h);
  });
  for (var f = 0; f < r.length; f++) {
    var v = r[f];
    c && v.done(c), d && v.aborted(d), n.force && v.duration(n.duration), v.start(n.easing);
  }
  return r;
}
function td(t, e, n) {
  for (var o = 0; o < n; o++)
    t[o] = e[o];
}
function zS(t) {
  return _n(t[0]);
}
function VS(t, e, n) {
  if (_n(e[n]))
    if (_n(t[n]) || (t[n] = []), cn(e[n])) {
      var o = e[n].length;
      t[n].length !== o && (t[n] = new e[n].constructor(o), td(t[n], e[n], o));
    } else {
      var a = e[n], r = t[n], i = a.length;
      if (zS(a))
        for (var s = a[0].length, l = 0; l < i; l++)
          r[l] ? td(r[l], a[l], s) : r[l] = Array.prototype.slice.call(a[l]);
      else
        td(r, a, i);
      r.length = a.length;
    }
  else
    t[n] = e[n];
}
function HS(t, e) {
  return t === e || _n(t) && _n(e) && GS(t, e);
}
function GS(t, e) {
  var n = t.length;
  if (n !== e.length)
    return !1;
  for (var o = 0; o < n; o++)
    if (t[o] !== e[o])
      return !1;
  return !0;
}
function h2(t, e, n, o, a, r, i, s) {
  for (var l = lt(o), u = a.duration, c = a.delay, d = a.additive, f = a.setToFinal, v = !Ue(r), p = t.animators, h = [], m = 0; m < l.length; m++) {
    var g = l[m], y = o[g];
    if (y != null && n[g] != null && (v || r[g]))
      if (Ue(y) && !_n(y) && !Wv(y)) {
        if (e) {
          s || (n[g] = y, t.updateDuringAnimation(e));
          continue;
        }
        h2(t, g, n[g], y, a, r && r[g], i, s);
      } else
        h.push(g);
    else s || (n[g] = y, t.updateDuringAnimation(e), h.push(g));
  }
  var _ = h.length;
  if (!d && _)
    for (var w = 0; w < p.length; w++) {
      var x = p[w];
      if (x.targetName === e) {
        var S = x.stopTracks(h);
        if (S) {
          var L = St(p, x);
          p.splice(L, 1);
        }
      }
    }
  if (a.force || (h = tn(h, function(E) {
    return !HS(o[E], n[E]);
  }), _ = h.length), _ > 0 || a.force && !i.length) {
    var b = void 0, I = void 0, M = void 0;
    if (s) {
      I = {}, f && (b = {});
      for (var w = 0; w < _; w++) {
        var g = h[w];
        I[g] = n[g], f ? b[g] = o[g] : n[g] = o[g];
      }
    } else if (f) {
      M = {};
      for (var w = 0; w < _; w++) {
        var g = h[w];
        M[g] = Fl(n[g]), VS(n, o, g);
      }
    }
    var x = new Qv(n, !1, !1, d ? tn(p, function(D) {
      return D.targetName === e;
    }) : null);
    x.targetName = e, a.scope && (x.scope = a.scope), f && b && x.whenWithKeys(0, b, h), M && x.whenWithKeys(0, M, h), x.whenWithKeys(u ?? 500, s ? I : o, h).delay(c || 0), t.addAnimator(x, e), i.push(x);
  }
}
var zt = function(t) {
  De(e, t);
  function e(n) {
    var o = t.call(this) || this;
    return o.isGroup = !0, o._children = [], o.attr(n), o;
  }
  return e.prototype.childrenRef = function() {
    return this._children;
  }, e.prototype.children = function() {
    return this._children.slice();
  }, e.prototype.childAt = function(n) {
    return this._children[n];
  }, e.prototype.childOfName = function(n) {
    for (var o = this._children, a = 0; a < o.length; a++)
      if (o[a].name === n)
        return o[a];
  }, e.prototype.childCount = function() {
    return this._children.length;
  }, e.prototype.add = function(n) {
    if (n && (n !== this && n.parent !== this && (this._children.push(n), this._doAdd(n)), process.env.NODE_ENV !== "production" && n.__hostTarget))
      throw "This elemenet has been used as an attachment";
    return this;
  }, e.prototype.addBefore = function(n, o) {
    if (n && n !== this && n.parent !== this && o && o.parent === this) {
      var a = this._children, r = a.indexOf(o);
      r >= 0 && (a.splice(r, 0, n), this._doAdd(n));
    }
    return this;
  }, e.prototype.replace = function(n, o) {
    var a = St(this._children, n);
    return a >= 0 && this.replaceAt(o, a), this;
  }, e.prototype.replaceAt = function(n, o) {
    var a = this._children, r = a[o];
    if (n && n !== this && n.parent !== this && n !== r) {
      a[o] = n, r.parent = null;
      var i = this.__zr;
      i && r.removeSelfFromZr(i), this._doAdd(n);
    }
    return this;
  }, e.prototype._doAdd = function(n) {
    n.parent && n.parent.remove(n), n.parent = this;
    var o = this.__zr;
    o && o !== n.__zr && n.addSelfToZr(o), o && o.refresh();
  }, e.prototype.remove = function(n) {
    var o = this.__zr, a = this._children, r = St(a, n);
    return r < 0 ? this : (a.splice(r, 1), n.parent = null, o && n.removeSelfFromZr(o), o && o.refresh(), this);
  }, e.prototype.removeAll = function() {
    for (var n = this._children, o = this.__zr, a = 0; a < n.length; a++) {
      var r = n[a];
      o && r.removeSelfFromZr(o), r.parent = null;
    }
    return n.length = 0, this;
  }, e.prototype.eachChild = function(n, o) {
    for (var a = this._children, r = 0; r < a.length; r++) {
      var i = a[r];
      n.call(o, i, r);
    }
    return this;
  }, e.prototype.traverse = function(n, o) {
    for (var a = 0; a < this._children.length; a++) {
      var r = this._children[a], i = n.call(o, r);
      r.isGroup && !i && r.traverse(n, o);
    }
    return this;
  }, e.prototype.addSelfToZr = function(n) {
    t.prototype.addSelfToZr.call(this, n);
    for (var o = 0; o < this._children.length; o++) {
      var a = this._children[o];
      a.addSelfToZr(n);
    }
  }, e.prototype.removeSelfFromZr = function(n) {
    t.prototype.removeSelfFromZr.call(this, n);
    for (var o = 0; o < this._children.length; o++) {
      var a = this._children[o];
      a.removeSelfFromZr(n);
    }
  }, e.prototype.getBoundingRect = function(n) {
    for (var o = new yt(0, 0, 0, 0), a = n || this._children, r = [], i = null, s = 0; s < a.length; s++) {
      var l = a[s];
      if (!(l.ignore || l.invisible)) {
        var u = l.getBoundingRect(), c = l.getLocalTransform(r);
        c ? (yt.applyTransform(o, u, c), i = i || o.clone(), i.union(o)) : (i = i || u.clone(), i.union(u));
      }
    }
    return i || o;
  }, e;
}(Uu);
zt.prototype.type = "group";
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var Hi = {}, m2 = {};
function US(t) {
  delete m2[t];
}
function WS(t) {
  if (!t)
    return !1;
  if (typeof t == "string")
    return su(t, 1) < Df;
  if (t.colorStops) {
    for (var e = t.colorStops, n = 0, o = e.length, a = 0; a < o; a++)
      n += su(e[a].color, 1);
    return n /= o, n < Df;
  }
  return !1;
}
var XS = function() {
  function t(e, n, o) {
    var a = this;
    this._sleepAfterStill = 10, this._stillFrameAccum = 0, this._needsRefresh = !0, this._needsRefreshHover = !0, this._darkMode = !1, o = o || {}, this.dom = n, this.id = e;
    var r = new sS(), i = o.renderer || "canvas";
    if (Hi[i] || (i = lt(Hi)[0]), process.env.NODE_ENV !== "production" && !Hi[i])
      throw new Error("Renderer '" + i + "' is not imported. Please import it first.");
    o.useDirtyRect = o.useDirtyRect == null ? !1 : o.useDirtyRect;
    var s = new Hi[i](n, r, o, e), l = o.ssr || s.ssrOnly;
    this.storage = r, this.painter = s;
    var u = !pt.node && !pt.worker && !l ? new OS(s.getViewportRoot(), s.root) : null, c = o.useCoarsePointer, d = c == null || c === "auto" ? pt.touchEventsSupported : !!c, f = 44, v;
    d && (v = Ge(o.pointerSize, f)), this.handler = new qg(r, s, u, s.root, v), this.animation = new ES({
      stage: {
        update: l ? null : function() {
          return a._flush(!0);
        }
      }
    }), l || this.animation.start();
  }
  return t.prototype.add = function(e) {
    this._disposed || !e || (this.storage.addRoot(e), e.addSelfToZr(this), this.refresh());
  }, t.prototype.remove = function(e) {
    this._disposed || !e || (this.storage.delRoot(e), e.removeSelfFromZr(this), this.refresh());
  }, t.prototype.configLayer = function(e, n) {
    this._disposed || (this.painter.configLayer && this.painter.configLayer(e, n), this.refresh());
  }, t.prototype.setBackgroundColor = function(e) {
    this._disposed || (this.painter.setBackgroundColor && this.painter.setBackgroundColor(e), this.refresh(), this._backgroundColor = e, this._darkMode = WS(e));
  }, t.prototype.getBackgroundColor = function() {
    return this._backgroundColor;
  }, t.prototype.setDarkMode = function(e) {
    this._darkMode = e;
  }, t.prototype.isDarkMode = function() {
    return this._darkMode;
  }, t.prototype.refreshImmediately = function(e) {
    this._disposed || (e || this.animation.update(!0), this._needsRefresh = !1, this.painter.refresh(), this._needsRefresh = !1);
  }, t.prototype.refresh = function() {
    this._disposed || (this._needsRefresh = !0, this.animation.start());
  }, t.prototype.flush = function() {
    this._disposed || this._flush(!1);
  }, t.prototype._flush = function(e) {
    var n, o = Ar();
    this._needsRefresh && (n = !0, this.refreshImmediately(e)), this._needsRefreshHover && (n = !0, this.refreshHoverImmediately());
    var a = Ar();
    n ? (this._stillFrameAccum = 0, this.trigger("rendered", {
      elapsedTime: a - o
    })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill && this.animation.stop());
  }, t.prototype.setSleepAfterStill = function(e) {
    this._sleepAfterStill = e;
  }, t.prototype.wakeUp = function() {
    this._disposed || (this.animation.start(), this._stillFrameAccum = 0);
  }, t.prototype.refreshHover = function() {
    this._needsRefreshHover = !0;
  }, t.prototype.refreshHoverImmediately = function() {
    this._disposed || (this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.getType() === "canvas" && this.painter.refreshHover());
  }, t.prototype.resize = function(e) {
    this._disposed || (e = e || {}, this.painter.resize(e.width, e.height), this.handler.resize());
  }, t.prototype.clearAnimation = function() {
    this._disposed || this.animation.clear();
  }, t.prototype.getWidth = function() {
    if (!this._disposed)
      return this.painter.getWidth();
  }, t.prototype.getHeight = function() {
    if (!this._disposed)
      return this.painter.getHeight();
  }, t.prototype.setCursorStyle = function(e) {
    this._disposed || this.handler.setCursorStyle(e);
  }, t.prototype.findHover = function(e, n) {
    if (!this._disposed)
      return this.handler.findHover(e, n);
  }, t.prototype.on = function(e, n, o) {
    return this._disposed || this.handler.on(e, n, o), this;
  }, t.prototype.off = function(e, n) {
    this._disposed || this.handler.off(e, n);
  }, t.prototype.trigger = function(e, n) {
    this._disposed || this.handler.trigger(e, n);
  }, t.prototype.clear = function() {
    if (!this._disposed) {
      for (var e = this.storage.getRoots(), n = 0; n < e.length; n++)
        e[n] instanceof zt && e[n].removeSelfFromZr(this);
      this.storage.delAllRoots(), this.painter.clear();
    }
  }, t.prototype.dispose = function() {
    this._disposed || (this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, this._disposed = !0, US(this.id));
  }, t;
}();
function Hh(t, e) {
  var n = new XS(Vg(), t, e);
  return m2[n.id] = n, n;
}
function YS(t, e) {
  Hi[t] = e;
}
var Rf;
function ZS(t) {
  if (typeof Rf == "function")
    return Rf(t);
}
function qS(t) {
  Rf = t;
}
var Gh = 1e-4, g2 = 20;
function JS(t) {
  return t.replace(/^\s+|\s+$/g, "");
}
function Of(t, e, n, o) {
  var a = e[0], r = e[1], i = n[0], s = n[1], l = r - a, u = s - i;
  if (l === 0)
    return u === 0 ? i : (i + s) / 2;
  if (o)
    if (l > 0) {
      if (t <= a)
        return i;
      if (t >= r)
        return s;
    } else {
      if (t >= a)
        return i;
      if (t <= r)
        return s;
    }
  else {
    if (t === a)
      return i;
    if (t === r)
      return s;
  }
  return (t - a) / l * u + i;
}
function _t(t, e) {
  switch (t) {
    case "center":
    case "middle":
      t = "50%";
      break;
    case "left":
    case "top":
      t = "0%";
      break;
    case "right":
    case "bottom":
      t = "100%";
      break;
  }
  return ze(t) ? JS(t).match(/%$/) ? parseFloat(t) / 100 * e : parseFloat(t) : t == null ? NaN : +t;
}
function Pt(t, e, n) {
  return e == null && (e = 10), e = Math.min(Math.max(0, e), g2), t = (+t).toFixed(e), n ? t : +t;
}
function Lo(t) {
  if (t = +t, isNaN(t))
    return 0;
  if (t > 1e-14) {
    for (var e = 1, n = 0; n < 15; n++, e *= 10)
      if (Math.round(t * e) / e === t)
        return n;
  }
  return Nf(t);
}
function Nf(t) {
  var e = t.toString().toLowerCase(), n = e.indexOf("e"), o = n > 0 ? +e.slice(n + 1) : 0, a = n > 0 ? n : e.length, r = e.indexOf("."), i = r < 0 ? 0 : a - 1 - r;
  return Math.max(0, i - o);
}
function KS(t, e) {
  var n = Math.log, o = Math.LN10, a = Math.floor(n(t[1] - t[0]) / o), r = Math.round(n(Math.abs(e[1] - e[0])) / o), i = Math.min(Math.max(-a + r, 0), 20);
  return isFinite(i) ? i : 20;
}
function QS(t, e) {
  var n = ra(t, function(v, p) {
    return v + (isNaN(p) ? 0 : p);
  }, 0);
  if (n === 0)
    return [];
  for (var o = Math.pow(10, e), a = $e(t, function(v) {
    return (isNaN(v) ? 0 : v) / n * o * 100;
  }), r = o * 100, i = $e(a, function(v) {
    return Math.floor(v);
  }), s = ra(i, function(v, p) {
    return v + p;
  }, 0), l = $e(a, function(v, p) {
    return v - i[p];
  }); s < r; ) {
    for (var u = Number.NEGATIVE_INFINITY, c = null, d = 0, f = l.length; d < f; ++d)
      l[d] > u && (u = l[d], c = d);
    ++i[c], l[c] = 0, ++s;
  }
  return $e(i, function(v) {
    return v / o;
  });
}
function jS(t, e) {
  var n = Math.max(Lo(t), Lo(e)), o = t + e;
  return n > g2 ? o : Pt(o, n);
}
function y2(t) {
  var e = Math.PI * 2;
  return (t % e + e) % e;
}
function cu(t) {
  return t > -Gh && t < Gh;
}
var e9 = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
function sa(t) {
  if (t instanceof Date)
    return t;
  if (ze(t)) {
    var e = e9.exec(t);
    if (!e)
      return /* @__PURE__ */ new Date(NaN);
    if (e[8]) {
      var n = +e[4] || 0;
      return e[8].toUpperCase() !== "Z" && (n -= +e[8].slice(0, 3)), new Date(Date.UTC(+e[1], +(e[2] || 1) - 1, +e[3] || 1, n, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0));
    } else
      return new Date(+e[1], +(e[2] || 1) - 1, +e[3] || 1, +e[4] || 0, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0);
  } else if (t == null)
    return /* @__PURE__ */ new Date(NaN);
  return new Date(Math.round(t));
}
function t9(t) {
  return Math.pow(10, Wu(t));
}
function Wu(t) {
  if (t === 0)
    return 0;
  var e = Math.floor(Math.log(t) / Math.LN10);
  return t / Math.pow(10, e) >= 10 && e++, e;
}
function _2(t, e) {
  var n = Wu(t), o = Math.pow(10, n), a = t / o, r;
  return a < 1.5 ? r = 1 : a < 2.5 ? r = 2 : a < 4 ? r = 3 : a < 7 ? r = 5 : r = 10, t = r * o, n >= -20 ? +t.toFixed(n < 0 ? -n : 0) : t;
}
function n9(t) {
  var e = parseFloat(t);
  return e == t && (e !== 0 || !ze(t) || t.indexOf("x") <= 0) ? e : NaN;
}
function b2(t) {
  return !isNaN(n9(t));
}
function o9() {
  return Math.round(Math.random() * 9);
}
function w2(t, e) {
  return e === 0 ? t : w2(e, t % e);
}
function Uh(t, e) {
  return t == null ? e : e == null ? t : t * e / w2(t, e);
}
var a9 = "[ECharts] ", Wh = {}, r9 = typeof console < "u" && console.warn && console.log;
function Xu(t, e, n) {
  if (r9) {
    if (n) {
      if (Wh[e])
        return;
      Wh[e] = !0;
    }
    console[t](a9 + e);
  }
}
function i9(t, e) {
  Xu("log", t, e);
}
function nn(t, e) {
  Xu("warn", t, e);
}
function on(t, e) {
  Xu("error", t, e);
}
function _o(t) {
  process.env.NODE_ENV !== "production" && Xu("warn", "DEPRECATED: " + t, !0);
}
function Nt(t, e, n) {
  process.env.NODE_ENV !== "production" && _o((n ? "[" + n + "]" : "") + (t + " is deprecated, use " + e + " instead."));
}
function Bf() {
  for (var t = [], e = 0; e < arguments.length; e++)
    t[e] = arguments[e];
  var n = "";
  if (process.env.NODE_ENV !== "production") {
    var o = function(a) {
      return a === void 0 ? "undefined" : a === 1 / 0 ? "Infinity" : a === -1 / 0 ? "-Infinity" : cs(a) ? "NaN" : a instanceof Date ? "Date(" + a.toISOString() + ")" : Je(a) ? "function () { ... }" : Sx(a) ? a + "" : null;
    };
    n = $e(t, function(a) {
      if (ze(a))
        return a;
      var r = o(a);
      if (r != null)
        return r;
      if (typeof JSON < "u" && JSON.stringify)
        try {
          return JSON.stringify(a, function(i, s) {
            var l = o(s);
            return l ?? s;
          });
        } catch {
          return "?";
        }
      else
        return "?";
    }).join(" ");
  }
  return n;
}
function Sn(t) {
  throw new Error(t);
}
function Xh(t, e, n) {
  return (e - t) * n + t;
}
var x2 = "series\0", s9 = "\0_ec_\0";
function un(t) {
  return t instanceof Array ? t : t == null ? [] : [t];
}
function Ff(t, e, n) {
  if (t) {
    t[e] = t[e] || {}, t.emphasis = t.emphasis || {}, t.emphasis[e] = t.emphasis[e] || {};
    for (var o = 0, a = n.length; o < a; o++) {
      var r = n[o];
      !t.emphasis[e].hasOwnProperty(r) && t[e].hasOwnProperty(r) && (t.emphasis[e][r] = t[e][r]);
    }
  }
}
var Yh = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"];
function Ns(t) {
  return Ue(t) && !Oe(t) && !(t instanceof Date) ? t.value : t;
}
function l9(t) {
  return Ue(t) && !(t instanceof Array);
}
function u9(t, e, n) {
  var o = n === "normalMerge", a = n === "replaceMerge", r = n === "replaceAll";
  t = t || [], e = (e || []).slice();
  var i = nt();
  se(e, function(l, u) {
    if (!Ue(l)) {
      e[u] = null;
      return;
    }
    process.env.NODE_ENV !== "production" && (l.id != null && !qh(l.id) && Zh(l.id), l.name != null && !qh(l.name) && Zh(l.name));
  });
  var s = c9(t, i, n);
  return (o || a) && d9(s, t, i, e), o && f9(s, e), o || a ? v9(s, e, a) : r && p9(s, e), h9(s), s;
}
function c9(t, e, n) {
  var o = [];
  if (n === "replaceAll")
    return o;
  for (var a = 0; a < t.length; a++) {
    var r = t[a];
    r && r.id != null && e.set(r.id, a), o.push({
      existing: n === "replaceMerge" || Gr(r) ? null : r,
      newOption: null,
      keyInfo: null,
      brandNew: null
    });
  }
  return o;
}
function d9(t, e, n, o) {
  se(o, function(a, r) {
    if (!(!a || a.id == null)) {
      var i = Qi(a.id), s = n.get(i);
      if (s != null) {
        var l = t[s];
        ot(!l.newOption, 'Duplicated option on id "' + i + '".'), l.newOption = a, l.existing = e[s], o[r] = null;
      }
    }
  });
}
function f9(t, e) {
  se(e, function(n, o) {
    if (!(!n || n.name == null))
      for (var a = 0; a < t.length; a++) {
        var r = t[a].existing;
        if (!t[a].newOption && r && (r.id == null || n.id == null) && !Gr(n) && !Gr(r) && S2("name", r, n)) {
          t[a].newOption = n, e[o] = null;
          return;
        }
      }
  });
}
function v9(t, e, n) {
  se(e, function(o) {
    if (o) {
      for (
        var a, r = 0;
        // Be `!resultItem` only when `nextIdx >= result.length`.
        (a = t[r]) && (a.newOption || Gr(a.existing) || // In mode "replaceMerge", here no not-mapped-non-internal-existing.
        a.existing && o.id != null && !S2("id", o, a.existing));
      )
        r++;
      a ? (a.newOption = o, a.brandNew = n) : t.push({
        newOption: o,
        brandNew: n,
        existing: null,
        keyInfo: null
      }), r++;
    }
  });
}
function p9(t, e) {
  se(e, function(n) {
    t.push({
      newOption: n,
      brandNew: !0,
      existing: null,
      keyInfo: null
    });
  });
}
function h9(t) {
  var e = nt();
  se(t, function(n) {
    var o = n.existing;
    o && e.set(o.id, n);
  }), se(t, function(n) {
    var o = n.newOption;
    ot(!o || o.id == null || !e.get(o.id) || e.get(o.id) === n, "id duplicates: " + (o && o.id)), o && o.id != null && e.set(o.id, n), !n.keyInfo && (n.keyInfo = {});
  }), se(t, function(n, o) {
    var a = n.existing, r = n.newOption, i = n.keyInfo;
    if (Ue(r)) {
      if (i.name = r.name != null ? Qi(r.name) : a ? a.name : x2 + o, a)
        i.id = Qi(a.id);
      else if (r.id != null)
        i.id = Qi(r.id);
      else {
        var s = 0;
        do
          i.id = "\0" + i.name + "\0" + s++;
        while (e.get(i.id));
      }
      e.set(i.id, n);
    }
  });
}
function S2(t, e, n) {
  var o = yo(e[t], null), a = yo(n[t], null);
  return o != null && a != null && o === a;
}
function Qi(t) {
  if (process.env.NODE_ENV !== "production" && t == null)
    throw new Error();
  return yo(t, "");
}
function yo(t, e) {
  return t == null ? e : ze(t) ? t : bt(t) || Hg(t) ? t + "" : e;
}
function Zh(t) {
  process.env.NODE_ENV !== "production" && nn("`" + t + "` is invalid id or name. Must be a string or number.");
}
function qh(t) {
  return Hg(t) || b2(t);
}
function ep(t) {
  var e = t.name;
  return !!(e && e.indexOf(x2));
}
function Gr(t) {
  return t && t.id != null && Qi(t.id).indexOf(s9) === 0;
}
function m9(t, e, n) {
  se(t, function(o) {
    var a = o.newOption;
    Ue(a) && (o.keyInfo.mainType = e, o.keyInfo.subType = g9(e, a, o.existing, n));
  });
}
function g9(t, e, n, o) {
  var a = e.type ? e.type : n ? n.subType : o.determineSubType(t, e);
  return a;
}
function Ur(t, e) {
  if (e.dataIndexInside != null)
    return e.dataIndexInside;
  if (e.dataIndex != null)
    return Oe(e.dataIndex) ? $e(e.dataIndex, function(n) {
      return t.indexOfRawIndex(n);
    }) : t.indexOfRawIndex(e.dataIndex);
  if (e.name != null)
    return Oe(e.name) ? $e(e.name, function(n) {
      return t.indexOfName(n);
    }) : t.indexOfName(e.name);
}
function Wt() {
  var t = "__ec_inner_" + y9++;
  return function(e) {
    return e[t] || (e[t] = {});
  };
}
var y9 = o9();
function nd(t, e, n) {
  var o = I2(e, n), a = o.mainTypeSpecified, r = o.queryOptionMap, i = o.others, s = i, l = n ? n.defaultMainType : null;
  return !a && l && r.set(l, {}), r.each(function(u, c) {
    var d = Yu(t, c, u, {
      useDefault: l === c,
      enableAll: n && n.enableAll != null ? n.enableAll : !0,
      enableNone: n && n.enableNone != null ? n.enableNone : !0
    });
    s[c + "Models"] = d.models, s[c + "Model"] = d.models[0];
  }), s;
}
function I2(t, e) {
  var n;
  if (ze(t)) {
    var o = {};
    o[t + "Index"] = 0, n = o;
  } else
    n = t;
  var a = nt(), r = {}, i = !1;
  return se(n, function(s, l) {
    if (l === "dataIndex" || l === "dataIndexInside") {
      r[l] = s;
      return;
    }
    var u = l.match(/^(\w+)(Index|Id|Name)$/) || [], c = u[1], d = (u[2] || "").toLowerCase();
    if (!(!c || !d || e && e.includeMainTypes && St(e.includeMainTypes, c) < 0)) {
      i = i || !!c;
      var f = a.get(c) || a.set(c, {});
      f[d] = s;
    }
  }), {
    mainTypeSpecified: i,
    queryOptionMap: a,
    others: r
  };
}
var Kn = {
  useDefault: !0,
  enableAll: !1,
  enableNone: !1
};
function Yu(t, e, n, o) {
  o = o || Kn;
  var a = n.index, r = n.id, i = n.name, s = {
    models: null,
    specified: a != null || r != null || i != null
  };
  if (!s.specified) {
    var l = void 0;
    return s.models = o.useDefault && (l = t.getComponent(e)) ? [l] : [], s;
  }
  return a === "none" || a === !1 ? (ot(o.enableNone, '`"none"` or `false` is not a valid value on index option.'), s.models = [], s) : (a === "all" && (ot(o.enableAll, '`"all"` is not a valid value on index option.'), a = r = i = null), s.models = t.queryComponents({
    mainType: e,
    index: a,
    id: r,
    name: i
  }), s);
}
function C2(t, e, n) {
  t.setAttribute ? t.setAttribute(e, n) : t[e] = n;
}
function _9(t, e) {
  return t.getAttribute ? t.getAttribute(e) : t[e];
}
function b9(t, e, n, o, a) {
  var r = e == null || e === "auto";
  if (o == null)
    return o;
  if (bt(o)) {
    var i = Xh(n || 0, o, a);
    return Pt(i, r ? Math.max(Lo(n || 0), Lo(o)) : e);
  } else {
    if (ze(o))
      return a < 1 ? n : o;
    for (var s = [], l = n, u = o, c = Math.max(l ? l.length : 0, u.length), d = 0; d < c; ++d) {
      var f = t.getDimensionInfo(d);
      if (f && f.type === "ordinal")
        s[d] = (a < 1 && l ? l : u)[d];
      else {
        var v = l && l[d] ? l[d] : 0, p = u[d], i = Xh(v, p, a);
        s[d] = Pt(i, r ? Math.max(Lo(v), Lo(p)) : e);
      }
    }
    return s;
  }
}
var w9 = ".", Ta = "___EC__COMPONENT__CONTAINER___", T2 = "___EC__EXTENDED_CLASS___";
function mo(t) {
  var e = {
    main: "",
    sub: ""
  };
  if (t) {
    var n = t.split(w9);
    e.main = n[0] || "", e.sub = n[1] || "";
  }
  return e;
}
function x9(t) {
  ot(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t), 'componentType "' + t + '" illegal');
}
function S9(t) {
  return !!(t && t[T2]);
}
function tp(t, e) {
  t.$constructor = t, t.extend = function(n) {
    process.env.NODE_ENV !== "production" && se(e, function(r) {
      n[r] || console.warn("Method `" + r + "` should be implemented" + (n.type ? " in " + n.type : "") + ".");
    });
    var o = this, a;
    return I9(o) ? a = /** @class */
    function(r) {
      De(i, r);
      function i() {
        return r.apply(this, arguments) || this;
      }
      return i;
    }(o) : (a = function() {
      (n.$constructor || o).apply(this, arguments);
    }, _x(a, this)), Le(a.prototype, n), a[T2] = !0, a.extend = this.extend, a.superCall = L9, a.superApply = k9, a.superClass = o, a;
  };
}
function I9(t) {
  return Je(t) && /^class\s/.test(Function.prototype.toString.call(t));
}
function L2(t, e) {
  t.extend = e.extend;
}
var C9 = Math.round(Math.random() * 10);
function T9(t) {
  var e = ["__\0is_clz", C9++].join("_");
  t.prototype[e] = !0, process.env.NODE_ENV !== "production" && ot(!t.isInstance, 'The method "is" can not be defined.'), t.isInstance = function(n) {
    return !!(n && n[e]);
  };
}
function L9(t, e) {
  for (var n = [], o = 2; o < arguments.length; o++)
    n[o - 2] = arguments[o];
  return this.superClass.prototype[e].apply(t, n);
}
function k9(t, e, n) {
  return this.superClass.prototype[e].apply(t, n);
}
function Zu(t) {
  var e = {};
  t.registerClass = function(o) {
    var a = o.type || o.prototype.type;
    if (a) {
      x9(a), o.prototype.type = a;
      var r = mo(a);
      if (!r.sub)
        process.env.NODE_ENV !== "production" && e[r.main] && console.warn(r.main + " exists."), e[r.main] = o;
      else if (r.sub !== Ta) {
        var i = n(r);
        i[r.sub] = o;
      }
    }
    return o;
  }, t.getClass = function(o, a, r) {
    var i = e[o];
    if (i && i[Ta] && (i = a ? i[a] : null), r && !i)
      throw new Error(a ? "Component " + o + "." + (a || "") + " is used but not imported." : o + ".type should be specified.");
    return i;
  }, t.getClassesByMainType = function(o) {
    var a = mo(o), r = [], i = e[a.main];
    return i && i[Ta] ? se(i, function(s, l) {
      l !== Ta && r.push(s);
    }) : r.push(i), r;
  }, t.hasClass = function(o) {
    var a = mo(o);
    return !!e[a.main];
  }, t.getAllClassMainTypes = function() {
    var o = [];
    return se(e, function(a, r) {
      o.push(r);
    }), o;
  }, t.hasSubTypes = function(o) {
    var a = mo(o), r = e[a.main];
    return r && r[Ta];
  };
  function n(o) {
    var a = e[o.main];
    return (!a || !a[Ta]) && (a = e[o.main] = {}, a[Ta] = !0), a;
  }
}
function ps(t, e) {
  for (var n = 0; n < t.length; n++)
    t[n][1] || (t[n][1] = t[n][0]);
  return e = e || !1, function(o, a, r) {
    for (var i = {}, s = 0; s < t.length; s++) {
      var l = t[s][1];
      if (!(a && St(a, l) >= 0 || r && St(r, l) < 0)) {
        var u = o.getShallow(l, e);
        u != null && (i[t[s][0]] = u);
      }
    }
    return i;
  };
}
var E9 = [
  ["fill", "color"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["opacity"],
  ["shadowColor"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], M9 = ps(E9), A9 = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getAreaStyle = function(e, n) {
      return M9(this, e, n);
    }, t;
  }()
), zf = new Os(50);
function D9(t) {
  if (typeof t == "string") {
    var e = zf.get(t);
    return e && e.image;
  } else
    return t;
}
function np(t, e, n, o, a) {
  if (t)
    if (typeof t == "string") {
      if (e && e.__zrImageSrc === t || !n)
        return e;
      var r = zf.get(t), i = { hostEl: n, cb: o, cbPayload: a };
      return r ? (e = r.image, !qu(e) && r.pending.push(i)) : (e = Rs.loadImage(t, Jh, Jh), e.__zrImageSrc = t, zf.put(t, e.__cachedImgObj = {
        image: e,
        pending: [i]
      })), e;
    } else
      return t;
  else return e;
}
function Jh() {
  var t = this.__cachedImgObj;
  this.onload = this.onerror = this.__cachedImgObj = null;
  for (var e = 0; e < t.pending.length; e++) {
    var n = t.pending[e], o = n.cb;
    o && o(this, n.cbPayload), n.hostEl.dirty();
  }
  t.pending.length = 0;
}
function qu(t) {
  return t && t.width && t.height;
}
var od = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
function $9(t, e, n, o, a) {
  if (!e)
    return "";
  var r = (t + "").split(`
`);
  a = k2(e, n, o, a);
  for (var i = 0, s = r.length; i < s; i++)
    r[i] = E2(r[i], a);
  return r.join(`
`);
}
function k2(t, e, n, o) {
  o = o || {};
  var a = Le({}, o);
  a.font = e, n = Ge(n, "..."), a.maxIterations = Ge(o.maxIterations, 2);
  var r = a.minChar = Ge(o.minChar, 0);
  a.cnCharWidth = Tn("国", e);
  var i = a.ascCharWidth = Tn("a", e);
  a.placeholder = Ge(o.placeholder, "");
  for (var s = t = Math.max(0, t - 1), l = 0; l < r && s >= i; l++)
    s -= i;
  var u = Tn(n, e);
  return u > s && (n = "", u = 0), s = t - u, a.ellipsis = n, a.ellipsisWidth = u, a.contentWidth = s, a.containerWidth = t, a;
}
function E2(t, e) {
  var n = e.containerWidth, o = e.font, a = e.contentWidth;
  if (!n)
    return "";
  var r = Tn(t, o);
  if (r <= n)
    return t;
  for (var i = 0; ; i++) {
    if (r <= a || i >= e.maxIterations) {
      t += e.ellipsis;
      break;
    }
    var s = i === 0 ? P9(t, a, e.ascCharWidth, e.cnCharWidth) : r > 0 ? Math.floor(t.length * a / r) : 0;
    t = t.substr(0, s), r = Tn(t, o);
  }
  return t === "" && (t = e.placeholder), t;
}
function P9(t, e, n, o) {
  for (var a = 0, r = 0, i = t.length; r < i && a < e; r++) {
    var s = t.charCodeAt(r);
    a += 0 <= s && s <= 127 ? n : o;
  }
  return r;
}
function R9(t, e) {
  t != null && (t += "");
  var n = e.overflow, o = e.padding, a = e.font, r = n === "truncate", i = Gu(a), s = Ge(e.lineHeight, i), l = !!e.backgroundColor, u = e.lineOverflow === "truncate", c = e.width, d;
  c != null && (n === "break" || n === "breakAll") ? d = t ? M2(t, e.font, c, n === "breakAll", 0).lines : [] : d = t ? t.split(`
`) : [];
  var f = d.length * s, v = Ge(e.height, f);
  if (f > v && u) {
    var p = Math.floor(v / s);
    d = d.slice(0, p);
  }
  if (t && r && c != null)
    for (var h = k2(c, a, e.ellipsis, {
      minChar: e.truncateMinChar,
      placeholder: e.placeholder
    }), m = 0; m < d.length; m++)
      d[m] = E2(d[m], h);
  for (var g = v, y = 0, m = 0; m < d.length; m++)
    y = Math.max(Tn(d[m], a), y);
  c == null && (c = y);
  var _ = y;
  return o && (g += o[0] + o[2], _ += o[1] + o[3], c += o[1] + o[3]), l && (_ = c), {
    lines: d,
    height: v,
    outerWidth: _,
    outerHeight: g,
    lineHeight: s,
    calculatedLineHeight: i,
    contentWidth: y,
    contentHeight: f,
    width: c
  };
}
var O9 = /* @__PURE__ */ function() {
  function t() {
  }
  return t;
}(), Kh = /* @__PURE__ */ function() {
  function t(e) {
    this.tokens = [], e && (this.tokens = e);
  }
  return t;
}(), N9 = /* @__PURE__ */ function() {
  function t() {
    this.width = 0, this.height = 0, this.contentWidth = 0, this.contentHeight = 0, this.outerWidth = 0, this.outerHeight = 0, this.lines = [];
  }
  return t;
}();
function B9(t, e) {
  var n = new N9();
  if (t != null && (t += ""), !t)
    return n;
  for (var o = e.width, a = e.height, r = e.overflow, i = (r === "break" || r === "breakAll") && o != null ? { width: o, accumWidth: 0, breakAll: r === "breakAll" } : null, s = od.lastIndex = 0, l; (l = od.exec(t)) != null; ) {
    var u = l.index;
    u > s && ad(n, t.substring(s, u), e, i), ad(n, l[2], e, i, l[1]), s = od.lastIndex;
  }
  s < t.length && ad(n, t.substring(s, t.length), e, i);
  var c = [], d = 0, f = 0, v = e.padding, p = r === "truncate", h = e.lineOverflow === "truncate";
  function m(H, W, oe) {
    H.width = W, H.lineHeight = oe, d += oe, f = Math.max(f, W);
  }
  e: for (var g = 0; g < n.lines.length; g++) {
    for (var y = n.lines[g], _ = 0, w = 0, x = 0; x < y.tokens.length; x++) {
      var S = y.tokens[x], L = S.styleName && e.rich[S.styleName] || {}, b = S.textPadding = L.padding, I = b ? b[1] + b[3] : 0, M = S.font = L.font || e.font;
      S.contentHeight = Gu(M);
      var E = Ge(L.height, S.contentHeight);
      if (S.innerHeight = E, b && (E += b[0] + b[2]), S.height = E, S.lineHeight = Xa(L.lineHeight, e.lineHeight, E), S.align = L && L.align || e.align, S.verticalAlign = L && L.verticalAlign || "middle", h && a != null && d + S.lineHeight > a) {
        x > 0 ? (y.tokens = y.tokens.slice(0, x), m(y, w, _), n.lines = n.lines.slice(0, g + 1)) : n.lines = n.lines.slice(0, g);
        break e;
      }
      var D = L.width, O = D == null || D === "auto";
      if (typeof D == "string" && D.charAt(D.length - 1) === "%")
        S.percentWidth = D, c.push(S), S.contentWidth = Tn(S.text, M);
      else {
        if (O) {
          var N = L.backgroundColor, P = N && N.image;
          P && (P = D9(P), qu(P) && (S.width = Math.max(S.width, P.width * E / P.height)));
        }
        var $ = p && o != null ? o - w : null;
        $ != null && $ < S.width ? !O || $ < I ? (S.text = "", S.width = S.contentWidth = 0) : (S.text = $9(S.text, $ - I, M, e.ellipsis, { minChar: e.truncateMinChar }), S.width = S.contentWidth = Tn(S.text, M)) : S.contentWidth = Tn(S.text, M);
      }
      S.width += I, w += S.width, L && (_ = Math.max(_, S.lineHeight));
    }
    m(y, w, _);
  }
  n.outerWidth = n.width = Ge(o, f), n.outerHeight = n.height = Ge(a, d), n.contentHeight = d, n.contentWidth = f, v && (n.outerWidth += v[1] + v[3], n.outerHeight += v[0] + v[2]);
  for (var g = 0; g < c.length; g++) {
    var S = c[g], z = S.percentWidth;
    S.width = parseInt(z, 10) / 100 * n.width;
  }
  return n;
}
function ad(t, e, n, o, a) {
  var r = e === "", i = a && n.rich[a] || {}, s = t.lines, l = i.font || n.font, u = !1, c, d;
  if (o) {
    var f = i.padding, v = f ? f[1] + f[3] : 0;
    if (i.width != null && i.width !== "auto") {
      var p = ia(i.width, o.width) + v;
      s.length > 0 && p + o.accumWidth > o.width && (c = e.split(`
`), u = !0), o.accumWidth = p;
    } else {
      var h = M2(e, l, o.width, o.breakAll, o.accumWidth);
      o.accumWidth = h.accumWidth + v, d = h.linesWidths, c = h.lines;
    }
  } else
    c = e.split(`
`);
  for (var m = 0; m < c.length; m++) {
    var g = c[m], y = new O9();
    if (y.styleName = a, y.text = g, y.isLineHolder = !g && !r, typeof i.width == "number" ? y.width = i.width : y.width = d ? d[m] : Tn(g, l), !m && !u) {
      var _ = (s[s.length - 1] || (s[0] = new Kh())).tokens, w = _.length;
      w === 1 && _[0].isLineHolder ? _[0] = y : (g || !w || r) && _.push(y);
    } else
      s.push(new Kh([y]));
  }
}
function F9(t) {
  var e = t.charCodeAt(0);
  return e >= 32 && e <= 591 || e >= 880 && e <= 4351 || e >= 4608 && e <= 5119 || e >= 7680 && e <= 8303;
}
var z9 = ra(",&?/;] ".split(""), function(t, e) {
  return t[e] = !0, t;
}, {});
function V9(t) {
  return F9(t) ? !!z9[t] : !0;
}
function M2(t, e, n, o, a) {
  for (var r = [], i = [], s = "", l = "", u = 0, c = 0, d = 0; d < t.length; d++) {
    var f = t.charAt(d);
    if (f === `
`) {
      l && (s += l, c += u), r.push(s), i.push(c), s = "", l = "", u = 0, c = 0;
      continue;
    }
    var v = Tn(f, e), p = o ? !1 : !V9(f);
    if (r.length ? c + v > n : a + c + v > n) {
      c ? (s || l) && (p ? (s || (s = l, l = "", u = 0, c = u), r.push(s), i.push(c - u), l += f, u += v, s = "", c = u) : (l && (s += l, l = "", u = 0), r.push(s), i.push(c), s = f, c = v)) : p ? (r.push(l), i.push(u), l = f, u = v) : (r.push(f), i.push(v));
      continue;
    }
    c += v, p ? (l += f, u += v) : (l && (s += l, l = "", u = 0), s += f);
  }
  return !r.length && !s && (s = t, l = "", u = 0), l && (s += l), s && (r.push(s), i.push(c)), r.length === 1 && (c += a), {
    accumWidth: c,
    lines: r,
    linesWidths: i
  };
}
var Vf = "__zr_style_" + Math.round(Math.random() * 10), Ya = {
  shadowBlur: 0,
  shadowOffsetX: 0,
  shadowOffsetY: 0,
  shadowColor: "#000",
  opacity: 1,
  blend: "source-over"
}, Ju = {
  style: {
    shadowBlur: !0,
    shadowOffsetX: !0,
    shadowOffsetY: !0,
    shadowColor: !0,
    opacity: !0
  }
};
Ya[Vf] = !0;
var Qh = ["z", "z2", "invisible"], H9 = ["invisible"], G9 = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype._init = function(n) {
    for (var o = lt(n), a = 0; a < o.length; a++) {
      var r = o[a];
      r === "style" ? this.useStyle(n[r]) : t.prototype.attrKV.call(this, r, n[r]);
    }
    this.style || this.useStyle({});
  }, e.prototype.beforeBrush = function() {
  }, e.prototype.afterBrush = function() {
  }, e.prototype.innerBeforeBrush = function() {
  }, e.prototype.innerAfterBrush = function() {
  }, e.prototype.shouldBePainted = function(n, o, a, r) {
    var i = this.transform;
    if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && U9(this, n, o) || i && !i[0] && !i[3])
      return !1;
    if (a && this.__clipPaths) {
      for (var s = 0; s < this.__clipPaths.length; ++s)
        if (this.__clipPaths[s].isZeroArea())
          return !1;
    }
    if (r && this.parent)
      for (var l = this.parent; l; ) {
        if (l.ignore)
          return !1;
        l = l.parent;
      }
    return !0;
  }, e.prototype.contain = function(n, o) {
    return this.rectContain(n, o);
  }, e.prototype.traverse = function(n, o) {
    n.call(o, this);
  }, e.prototype.rectContain = function(n, o) {
    var a = this.transformCoordToLocal(n, o), r = this.getBoundingRect();
    return r.contain(a[0], a[1]);
  }, e.prototype.getPaintRect = function() {
    var n = this._paintRect;
    if (!this._paintRect || this.__dirty) {
      var o = this.transform, a = this.getBoundingRect(), r = this.style, i = r.shadowBlur || 0, s = r.shadowOffsetX || 0, l = r.shadowOffsetY || 0;
      n = this._paintRect || (this._paintRect = new yt(0, 0, 0, 0)), o ? yt.applyTransform(n, a, o) : n.copy(a), (i || s || l) && (n.width += i * 2 + Math.abs(s), n.height += i * 2 + Math.abs(l), n.x = Math.min(n.x, n.x + s - i), n.y = Math.min(n.y, n.y + l - i));
      var u = this.dirtyRectTolerance;
      n.isZero() || (n.x = Math.floor(n.x - u), n.y = Math.floor(n.y - u), n.width = Math.ceil(n.width + 1 + u * 2), n.height = Math.ceil(n.height + 1 + u * 2));
    }
    return n;
  }, e.prototype.setPrevPaintRect = function(n) {
    n ? (this._prevPaintRect = this._prevPaintRect || new yt(0, 0, 0, 0), this._prevPaintRect.copy(n)) : this._prevPaintRect = null;
  }, e.prototype.getPrevPaintRect = function() {
    return this._prevPaintRect;
  }, e.prototype.animateStyle = function(n) {
    return this.animate("style", n);
  }, e.prototype.updateDuringAnimation = function(n) {
    n === "style" ? this.dirtyStyle() : this.markRedraw();
  }, e.prototype.attrKV = function(n, o) {
    n !== "style" ? t.prototype.attrKV.call(this, n, o) : this.style ? this.setStyle(o) : this.useStyle(o);
  }, e.prototype.setStyle = function(n, o) {
    return typeof n == "string" ? this.style[n] = o : Le(this.style, n), this.dirtyStyle(), this;
  }, e.prototype.dirtyStyle = function(n) {
    n || this.markRedraw(), this.__dirty |= Fi, this._rect && (this._rect = null);
  }, e.prototype.dirty = function() {
    this.dirtyStyle();
  }, e.prototype.styleChanged = function() {
    return !!(this.__dirty & Fi);
  }, e.prototype.styleUpdated = function() {
    this.__dirty &= ~Fi;
  }, e.prototype.createStyle = function(n) {
    return zu(Ya, n);
  }, e.prototype.useStyle = function(n) {
    n[Vf] || (n = this.createStyle(n)), this.__inHover ? this.__hoverStyle = n : this.style = n, this.dirtyStyle();
  }, e.prototype.isStyleObject = function(n) {
    return n[Vf];
  }, e.prototype._innerSaveToNormal = function(n) {
    t.prototype._innerSaveToNormal.call(this, n);
    var o = this._normalState;
    n.style && !o.style && (o.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(n, o, Qh);
  }, e.prototype._applyStateObj = function(n, o, a, r, i, s) {
    t.prototype._applyStateObj.call(this, n, o, a, r, i, s);
    var l = !(o && r), u;
    if (o && o.style ? i ? r ? u = o.style : (u = this._mergeStyle(this.createStyle(), a.style), this._mergeStyle(u, o.style)) : (u = this._mergeStyle(this.createStyle(), r ? this.style : a.style), this._mergeStyle(u, o.style)) : l && (u = a.style), u)
      if (i) {
        var c = this.style;
        if (this.style = this.createStyle(l ? {} : c), l)
          for (var d = lt(c), f = 0; f < d.length; f++) {
            var v = d[f];
            v in u && (u[v] = u[v], this.style[v] = c[v]);
          }
        for (var p = lt(u), f = 0; f < p.length; f++) {
          var v = p[f];
          this.style[v] = this.style[v];
        }
        this._transitionState(n, {
          style: u
        }, s, this.getAnimationStyleProps());
      } else
        this.useStyle(u);
    for (var h = this.__inHover ? H9 : Qh, f = 0; f < h.length; f++) {
      var v = h[f];
      o && o[v] != null ? this[v] = o[v] : l && a[v] != null && (this[v] = a[v]);
    }
  }, e.prototype._mergeStates = function(n) {
    for (var o = t.prototype._mergeStates.call(this, n), a, r = 0; r < n.length; r++) {
      var i = n[r];
      i.style && (a = a || {}, this._mergeStyle(a, i.style));
    }
    return a && (o.style = a), o;
  }, e.prototype._mergeStyle = function(n, o) {
    return Le(n, o), n;
  }, e.prototype.getAnimationStyleProps = function() {
    return Ju;
  }, e.initDefaultProps = function() {
    var n = e.prototype;
    n.type = "displayable", n.invisible = !1, n.z = 0, n.z2 = 0, n.zlevel = 0, n.culling = !1, n.cursor = "pointer", n.rectHover = !1, n.incremental = !1, n._rect = null, n.dirtyRectTolerance = 0, n.__dirty = vo | Fi;
  }(), e;
}(Uu), rd = new yt(0, 0, 0, 0), id = new yt(0, 0, 0, 0);
function U9(t, e, n) {
  return rd.copy(t.getBoundingRect()), t.transform && rd.applyTransform(t.transform), id.width = e, id.height = n, !rd.intersect(id);
}
const Bs = G9;
var Nn = Math.min, Bn = Math.max, sd = Math.sin, ld = Math.cos, La = Math.PI * 2, ol = ei(), al = ei(), rl = ei();
function jh(t, e, n, o, a, r) {
  a[0] = Nn(t, n), a[1] = Nn(e, o), r[0] = Bn(t, n), r[1] = Bn(e, o);
}
var e0 = [], t0 = [];
function W9(t, e, n, o, a, r, i, s, l, u) {
  var c = e2, d = Zt, f = c(t, n, a, i, e0);
  l[0] = 1 / 0, l[1] = 1 / 0, u[0] = -1 / 0, u[1] = -1 / 0;
  for (var v = 0; v < f; v++) {
    var p = d(t, n, a, i, e0[v]);
    l[0] = Nn(p, l[0]), u[0] = Bn(p, u[0]);
  }
  f = c(e, o, r, s, t0);
  for (var v = 0; v < f; v++) {
    var h = d(e, o, r, s, t0[v]);
    l[1] = Nn(h, l[1]), u[1] = Bn(h, u[1]);
  }
  l[0] = Nn(t, l[0]), u[0] = Bn(t, u[0]), l[0] = Nn(i, l[0]), u[0] = Bn(i, u[0]), l[1] = Nn(e, l[1]), u[1] = Bn(e, u[1]), l[1] = Nn(s, l[1]), u[1] = Bn(s, u[1]);
}
function X9(t, e, n, o, a, r, i, s) {
  var l = t2, u = pn, c = Bn(Nn(l(t, n, a), 1), 0), d = Bn(Nn(l(e, o, r), 1), 0), f = u(t, n, a, c), v = u(e, o, r, d);
  i[0] = Nn(t, a, f), i[1] = Nn(e, r, v), s[0] = Bn(t, a, f), s[1] = Bn(e, r, v);
}
function Y9(t, e, n, o, a, r, i, s, l) {
  var u = Er, c = Mr, d = Math.abs(a - r);
  if (d % La < 1e-4 && d > 1e-4) {
    s[0] = t - n, s[1] = e - o, l[0] = t + n, l[1] = e + o;
    return;
  }
  if (ol[0] = ld(a) * n + t, ol[1] = sd(a) * o + e, al[0] = ld(r) * n + t, al[1] = sd(r) * o + e, u(s, ol, al), c(l, ol, al), a = a % La, a < 0 && (a = a + La), r = r % La, r < 0 && (r = r + La), a > r && !i ? r += La : a < r && i && (a += La), i) {
    var f = r;
    r = a, a = f;
  }
  for (var v = 0; v < r; v += Math.PI / 2)
    v > a && (rl[0] = ld(v) * n + t, rl[1] = sd(v) * o + e, u(s, rl, s), c(l, rl, l));
}
var ft = {
  M: 1,
  L: 2,
  C: 3,
  Q: 4,
  A: 5,
  Z: 6,
  R: 7
}, ka = [], Ea = [], io = [], Ro = [], so = [], lo = [], ud = Math.min, cd = Math.max, Ma = Math.cos, Aa = Math.sin, So = Math.abs, Hf = Math.PI, Xo = Hf * 2, dd = typeof Float32Array < "u", yi = [];
function fd(t) {
  var e = Math.round(t / Hf * 1e8) / 1e8;
  return e % 2 * Hf;
}
function A2(t, e) {
  var n = fd(t[0]);
  n < 0 && (n += Xo);
  var o = n - t[0], a = t[1];
  a += o, !e && a - n >= Xo ? a = n + Xo : e && n - a >= Xo ? a = n - Xo : !e && n > a ? a = n + (Xo - fd(n - a)) : e && n < a && (a = n - (Xo - fd(a - n))), t[0] = n, t[1] = a;
}
var la = function() {
  function t(e) {
    this.dpr = 1, this._xi = 0, this._yi = 0, this._x0 = 0, this._y0 = 0, this._len = 0, e && (this._saveData = !1), this._saveData && (this.data = []);
  }
  return t.prototype.increaseVersion = function() {
    this._version++;
  }, t.prototype.getVersion = function() {
    return this._version;
  }, t.prototype.setScale = function(e, n, o) {
    o = o || 0, o > 0 && (this._ux = So(o / Nh / e) || 0, this._uy = So(o / Nh / n) || 0);
  }, t.prototype.setDPR = function(e) {
    this.dpr = e;
  }, t.prototype.setContext = function(e) {
    this._ctx = e;
  }, t.prototype.getContext = function() {
    return this._ctx;
  }, t.prototype.beginPath = function() {
    return this._ctx && this._ctx.beginPath(), this.reset(), this;
  }, t.prototype.reset = function() {
    this._saveData && (this._len = 0), this._pathSegLen && (this._pathSegLen = null, this._pathLen = 0), this._version++;
  }, t.prototype.moveTo = function(e, n) {
    return this._drawPendingPt(), this.addData(ft.M, e, n), this._ctx && this._ctx.moveTo(e, n), this._x0 = e, this._y0 = n, this._xi = e, this._yi = n, this;
  }, t.prototype.lineTo = function(e, n) {
    var o = So(e - this._xi), a = So(n - this._yi), r = o > this._ux || a > this._uy;
    if (this.addData(ft.L, e, n), this._ctx && r && this._ctx.lineTo(e, n), r)
      this._xi = e, this._yi = n, this._pendingPtDist = 0;
    else {
      var i = o * o + a * a;
      i > this._pendingPtDist && (this._pendingPtX = e, this._pendingPtY = n, this._pendingPtDist = i);
    }
    return this;
  }, t.prototype.bezierCurveTo = function(e, n, o, a, r, i) {
    return this._drawPendingPt(), this.addData(ft.C, e, n, o, a, r, i), this._ctx && this._ctx.bezierCurveTo(e, n, o, a, r, i), this._xi = r, this._yi = i, this;
  }, t.prototype.quadraticCurveTo = function(e, n, o, a) {
    return this._drawPendingPt(), this.addData(ft.Q, e, n, o, a), this._ctx && this._ctx.quadraticCurveTo(e, n, o, a), this._xi = o, this._yi = a, this;
  }, t.prototype.arc = function(e, n, o, a, r, i) {
    this._drawPendingPt(), yi[0] = a, yi[1] = r, A2(yi, i), a = yi[0], r = yi[1];
    var s = r - a;
    return this.addData(ft.A, e, n, o, o, a, s, 0, i ? 0 : 1), this._ctx && this._ctx.arc(e, n, o, a, r, i), this._xi = Ma(r) * o + e, this._yi = Aa(r) * o + n, this;
  }, t.prototype.arcTo = function(e, n, o, a, r) {
    return this._drawPendingPt(), this._ctx && this._ctx.arcTo(e, n, o, a, r), this;
  }, t.prototype.rect = function(e, n, o, a) {
    return this._drawPendingPt(), this._ctx && this._ctx.rect(e, n, o, a), this.addData(ft.R, e, n, o, a), this;
  }, t.prototype.closePath = function() {
    this._drawPendingPt(), this.addData(ft.Z);
    var e = this._ctx, n = this._x0, o = this._y0;
    return e && e.closePath(), this._xi = n, this._yi = o, this;
  }, t.prototype.fill = function(e) {
    e && e.fill(), this.toStatic();
  }, t.prototype.stroke = function(e) {
    e && e.stroke(), this.toStatic();
  }, t.prototype.len = function() {
    return this._len;
  }, t.prototype.setData = function(e) {
    var n = e.length;
    !(this.data && this.data.length === n) && dd && (this.data = new Float32Array(n));
    for (var o = 0; o < n; o++)
      this.data[o] = e[o];
    this._len = n;
  }, t.prototype.appendPath = function(e) {
    e instanceof Array || (e = [e]);
    for (var n = e.length, o = 0, a = this._len, r = 0; r < n; r++)
      o += e[r].len();
    dd && this.data instanceof Float32Array && (this.data = new Float32Array(a + o));
    for (var r = 0; r < n; r++)
      for (var i = e[r].data, s = 0; s < i.length; s++)
        this.data[a++] = i[s];
    this._len = a;
  }, t.prototype.addData = function(e, n, o, a, r, i, s, l, u) {
    if (this._saveData) {
      var c = this.data;
      this._len + arguments.length > c.length && (this._expandData(), c = this.data);
      for (var d = 0; d < arguments.length; d++)
        c[this._len++] = arguments[d];
    }
  }, t.prototype._drawPendingPt = function() {
    this._pendingPtDist > 0 && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY), this._pendingPtDist = 0);
  }, t.prototype._expandData = function() {
    if (!(this.data instanceof Array)) {
      for (var e = [], n = 0; n < this._len; n++)
        e[n] = this.data[n];
      this.data = e;
    }
  }, t.prototype.toStatic = function() {
    if (this._saveData) {
      this._drawPendingPt();
      var e = this.data;
      e instanceof Array && (e.length = this._len, dd && this._len > 11 && (this.data = new Float32Array(e)));
    }
  }, t.prototype.getBoundingRect = function() {
    io[0] = io[1] = so[0] = so[1] = Number.MAX_VALUE, Ro[0] = Ro[1] = lo[0] = lo[1] = -Number.MAX_VALUE;
    var e = this.data, n = 0, o = 0, a = 0, r = 0, i;
    for (i = 0; i < this._len; ) {
      var s = e[i++], l = i === 1;
      switch (l && (n = e[i], o = e[i + 1], a = n, r = o), s) {
        case ft.M:
          n = a = e[i++], o = r = e[i++], so[0] = a, so[1] = r, lo[0] = a, lo[1] = r;
          break;
        case ft.L:
          jh(n, o, e[i], e[i + 1], so, lo), n = e[i++], o = e[i++];
          break;
        case ft.C:
          W9(n, o, e[i++], e[i++], e[i++], e[i++], e[i], e[i + 1], so, lo), n = e[i++], o = e[i++];
          break;
        case ft.Q:
          X9(n, o, e[i++], e[i++], e[i], e[i + 1], so, lo), n = e[i++], o = e[i++];
          break;
        case ft.A:
          var u = e[i++], c = e[i++], d = e[i++], f = e[i++], v = e[i++], p = e[i++] + v;
          i += 1;
          var h = !e[i++];
          l && (a = Ma(v) * d + u, r = Aa(v) * f + c), Y9(u, c, d, f, v, p, h, so, lo), n = Ma(p) * d + u, o = Aa(p) * f + c;
          break;
        case ft.R:
          a = n = e[i++], r = o = e[i++];
          var m = e[i++], g = e[i++];
          jh(a, r, a + m, r + g, so, lo);
          break;
        case ft.Z:
          n = a, o = r;
          break;
      }
      Er(io, io, so), Mr(Ro, Ro, lo);
    }
    return i === 0 && (io[0] = io[1] = Ro[0] = Ro[1] = 0), new yt(io[0], io[1], Ro[0] - io[0], Ro[1] - io[1]);
  }, t.prototype._calculateLength = function() {
    var e = this.data, n = this._len, o = this._ux, a = this._uy, r = 0, i = 0, s = 0, l = 0;
    this._pathSegLen || (this._pathSegLen = []);
    for (var u = this._pathSegLen, c = 0, d = 0, f = 0; f < n; ) {
      var v = e[f++], p = f === 1;
      p && (r = e[f], i = e[f + 1], s = r, l = i);
      var h = -1;
      switch (v) {
        case ft.M:
          r = s = e[f++], i = l = e[f++];
          break;
        case ft.L: {
          var m = e[f++], g = e[f++], y = m - r, _ = g - i;
          (So(y) > o || So(_) > a || f === n - 1) && (h = Math.sqrt(y * y + _ * _), r = m, i = g);
          break;
        }
        case ft.C: {
          var w = e[f++], x = e[f++], m = e[f++], g = e[f++], S = e[f++], L = e[f++];
          h = uS(r, i, w, x, m, g, S, L, 10), r = S, i = L;
          break;
        }
        case ft.Q: {
          var w = e[f++], x = e[f++], m = e[f++], g = e[f++];
          h = fS(r, i, w, x, m, g, 10), r = m, i = g;
          break;
        }
        case ft.A:
          var b = e[f++], I = e[f++], M = e[f++], E = e[f++], D = e[f++], O = e[f++], N = O + D;
          f += 1, p && (s = Ma(D) * M + b, l = Aa(D) * E + I), h = cd(M, E) * ud(Xo, Math.abs(O)), r = Ma(N) * M + b, i = Aa(N) * E + I;
          break;
        case ft.R: {
          s = r = e[f++], l = i = e[f++];
          var P = e[f++], $ = e[f++];
          h = P * 2 + $ * 2;
          break;
        }
        case ft.Z: {
          var y = s - r, _ = l - i;
          h = Math.sqrt(y * y + _ * _), r = s, i = l;
          break;
        }
      }
      h >= 0 && (u[d++] = h, c += h);
    }
    return this._pathLen = c, c;
  }, t.prototype.rebuildPath = function(e, n) {
    var o = this.data, a = this._ux, r = this._uy, i = this._len, s, l, u, c, d, f, v = n < 1, p, h, m = 0, g = 0, y, _ = 0, w, x;
    if (!(v && (this._pathSegLen || this._calculateLength(), p = this._pathSegLen, h = this._pathLen, y = n * h, !y)))
      e: for (var S = 0; S < i; ) {
        var L = o[S++], b = S === 1;
        switch (b && (u = o[S], c = o[S + 1], s = u, l = c), L !== ft.L && _ > 0 && (e.lineTo(w, x), _ = 0), L) {
          case ft.M:
            s = u = o[S++], l = c = o[S++], e.moveTo(u, c);
            break;
          case ft.L: {
            d = o[S++], f = o[S++];
            var I = So(d - u), M = So(f - c);
            if (I > a || M > r) {
              if (v) {
                var E = p[g++];
                if (m + E > y) {
                  var D = (y - m) / E;
                  e.lineTo(u * (1 - D) + d * D, c * (1 - D) + f * D);
                  break e;
                }
                m += E;
              }
              e.lineTo(d, f), u = d, c = f, _ = 0;
            } else {
              var O = I * I + M * M;
              O > _ && (w = d, x = f, _ = O);
            }
            break;
          }
          case ft.C: {
            var N = o[S++], P = o[S++], $ = o[S++], z = o[S++], H = o[S++], W = o[S++];
            if (v) {
              var E = p[g++];
              if (m + E > y) {
                var D = (y - m) / E;
                ru(u, N, $, H, D, ka), ru(c, P, z, W, D, Ea), e.bezierCurveTo(ka[1], Ea[1], ka[2], Ea[2], ka[3], Ea[3]);
                break e;
              }
              m += E;
            }
            e.bezierCurveTo(N, P, $, z, H, W), u = H, c = W;
            break;
          }
          case ft.Q: {
            var N = o[S++], P = o[S++], $ = o[S++], z = o[S++];
            if (v) {
              var E = p[g++];
              if (m + E > y) {
                var D = (y - m) / E;
                iu(u, N, $, D, ka), iu(c, P, z, D, Ea), e.quadraticCurveTo(ka[1], Ea[1], ka[2], Ea[2]);
                break e;
              }
              m += E;
            }
            e.quadraticCurveTo(N, P, $, z), u = $, c = z;
            break;
          }
          case ft.A:
            var oe = o[S++], te = o[S++], le = o[S++], J = o[S++], Q = o[S++], q = o[S++], G = o[S++], B = !o[S++], ee = le > J ? le : J, ue = So(le - J) > 1e-3, X = Q + q, Y = !1;
            if (v) {
              var E = p[g++];
              m + E > y && (X = Q + q * (y - m) / E, Y = !0), m += E;
            }
            if (ue && e.ellipse ? e.ellipse(oe, te, le, J, G, Q, X, B) : e.arc(oe, te, ee, Q, X, B), Y)
              break e;
            b && (s = Ma(Q) * le + oe, l = Aa(Q) * J + te), u = Ma(X) * le + oe, c = Aa(X) * J + te;
            break;
          case ft.R:
            s = u = o[S], l = c = o[S + 1], d = o[S++], f = o[S++];
            var U = o[S++], K = o[S++];
            if (v) {
              var E = p[g++];
              if (m + E > y) {
                var Z = y - m;
                e.moveTo(d, f), e.lineTo(d + ud(Z, U), f), Z -= U, Z > 0 && e.lineTo(d + U, f + ud(Z, K)), Z -= K, Z > 0 && e.lineTo(d + cd(U - Z, 0), f + K), Z -= U, Z > 0 && e.lineTo(d, f + cd(K - Z, 0));
                break e;
              }
              m += E;
            }
            e.rect(d, f, U, K);
            break;
          case ft.Z:
            if (v) {
              var E = p[g++];
              if (m + E > y) {
                var D = (y - m) / E;
                e.lineTo(u * (1 - D) + s * D, c * (1 - D) + l * D);
                break e;
              }
              m += E;
            }
            e.closePath(), u = s, c = l;
        }
      }
  }, t.prototype.clone = function() {
    var e = new t(), n = this.data;
    return e.data = n.slice ? n.slice() : Array.prototype.slice.call(n), e._len = this._len, e;
  }, t.CMD = ft, t.initDefaultProps = function() {
    var e = t.prototype;
    e._saveData = !0, e._ux = 0, e._uy = 0, e._pendingPtDist = 0, e._version = 0;
  }(), t;
}();
function vr(t, e, n, o, a, r, i) {
  if (a === 0)
    return !1;
  var s = a, l = 0, u = t;
  if (i > e + s && i > o + s || i < e - s && i < o - s || r > t + s && r > n + s || r < t - s && r < n - s)
    return !1;
  if (t !== n)
    l = (e - o) / (t - n), u = (t * o - n * e) / (t - n);
  else
    return Math.abs(r - t) <= s / 2;
  var c = l * r - i + u, d = c * c / (l * l + 1);
  return d <= s / 2 * s / 2;
}
function Z9(t, e, n, o, a, r, i, s, l, u, c) {
  if (l === 0)
    return !1;
  var d = l;
  if (c > e + d && c > o + d && c > r + d && c > s + d || c < e - d && c < o - d && c < r - d && c < s - d || u > t + d && u > n + d && u > a + d && u > i + d || u < t - d && u < n - d && u < a - d && u < i - d)
    return !1;
  var f = lS(t, e, n, o, a, r, i, s, u, c);
  return f <= d / 2;
}
function q9(t, e, n, o, a, r, i, s, l) {
  if (i === 0)
    return !1;
  var u = i;
  if (l > e + u && l > o + u && l > r + u || l < e - u && l < o - u && l < r - u || s > t + u && s > n + u && s > a + u || s < t - u && s < n - u && s < a - u)
    return !1;
  var c = dS(t, e, n, o, a, r, s, l);
  return c <= u / 2;
}
var n0 = Math.PI * 2;
function il(t) {
  return t %= n0, t < 0 && (t += n0), t;
}
var _i = Math.PI * 2;
function J9(t, e, n, o, a, r, i, s, l) {
  if (i === 0)
    return !1;
  var u = i;
  s -= t, l -= e;
  var c = Math.sqrt(s * s + l * l);
  if (c - u > n || c + u < n)
    return !1;
  if (Math.abs(o - a) % _i < 1e-4)
    return !0;
  if (r) {
    var d = o;
    o = il(a), a = il(d);
  } else
    o = il(o), a = il(a);
  o > a && (a += _i);
  var f = Math.atan2(l, s);
  return f < 0 && (f += _i), f >= o && f <= a || f + _i >= o && f + _i <= a;
}
function Da(t, e, n, o, a, r) {
  if (r > e && r > o || r < e && r < o || o === e)
    return 0;
  var i = (r - e) / (o - e), s = o < e ? 1 : -1;
  (i === 1 || i === 0) && (s = o < e ? 0.5 : -0.5);
  var l = i * (n - t) + t;
  return l === a ? 1 / 0 : l > a ? s : 0;
}
var Oo = la.CMD, $a = Math.PI * 2, K9 = 1e-4;
function Q9(t, e) {
  return Math.abs(t - e) < K9;
}
var sn = [-1, -1, -1], Pn = [-1, -1];
function j9() {
  var t = Pn[0];
  Pn[0] = Pn[1], Pn[1] = t;
}
function eI(t, e, n, o, a, r, i, s, l, u) {
  if (u > e && u > o && u > r && u > s || u < e && u < o && u < r && u < s)
    return 0;
  var c = au(e, o, r, s, u, sn);
  if (c === 0)
    return 0;
  for (var d = 0, f = -1, v = void 0, p = void 0, h = 0; h < c; h++) {
    var m = sn[h], g = m === 0 || m === 1 ? 0.5 : 1, y = Zt(t, n, a, i, m);
    y < l || (f < 0 && (f = e2(e, o, r, s, Pn), Pn[1] < Pn[0] && f > 1 && j9(), v = Zt(e, o, r, s, Pn[0]), f > 1 && (p = Zt(e, o, r, s, Pn[1]))), f === 2 ? m < Pn[0] ? d += v < e ? g : -g : m < Pn[1] ? d += p < v ? g : -g : d += s < p ? g : -g : m < Pn[0] ? d += v < e ? g : -g : d += s < v ? g : -g);
  }
  return d;
}
function tI(t, e, n, o, a, r, i, s) {
  if (s > e && s > o && s > r || s < e && s < o && s < r)
    return 0;
  var l = cS(e, o, r, s, sn);
  if (l === 0)
    return 0;
  var u = t2(e, o, r);
  if (u >= 0 && u <= 1) {
    for (var c = 0, d = pn(e, o, r, u), f = 0; f < l; f++) {
      var v = sn[f] === 0 || sn[f] === 1 ? 0.5 : 1, p = pn(t, n, a, sn[f]);
      p < i || (sn[f] < u ? c += d < e ? v : -v : c += r < d ? v : -v);
    }
    return c;
  } else {
    var v = sn[0] === 0 || sn[0] === 1 ? 0.5 : 1, p = pn(t, n, a, sn[0]);
    return p < i ? 0 : r < e ? v : -v;
  }
}
function nI(t, e, n, o, a, r, i, s) {
  if (s -= e, s > n || s < -n)
    return 0;
  var l = Math.sqrt(n * n - s * s);
  sn[0] = -l, sn[1] = l;
  var u = Math.abs(o - a);
  if (u < 1e-4)
    return 0;
  if (u >= $a - 1e-4) {
    o = 0, a = $a;
    var c = r ? 1 : -1;
    return i >= sn[0] + t && i <= sn[1] + t ? c : 0;
  }
  if (o > a) {
    var d = o;
    o = a, a = d;
  }
  o < 0 && (o += $a, a += $a);
  for (var f = 0, v = 0; v < 2; v++) {
    var p = sn[v];
    if (p + t > i) {
      var h = Math.atan2(s, p), c = r ? 1 : -1;
      h < 0 && (h = $a + h), (h >= o && h <= a || h + $a >= o && h + $a <= a) && (h > Math.PI / 2 && h < Math.PI * 1.5 && (c = -c), f += c);
    }
  }
  return f;
}
function D2(t, e, n, o, a) {
  for (var r = t.data, i = t.len(), s = 0, l = 0, u = 0, c = 0, d = 0, f, v, p = 0; p < i; ) {
    var h = r[p++], m = p === 1;
    switch (h === Oo.M && p > 1 && (n || (s += Da(l, u, c, d, o, a))), m && (l = r[p], u = r[p + 1], c = l, d = u), h) {
      case Oo.M:
        c = r[p++], d = r[p++], l = c, u = d;
        break;
      case Oo.L:
        if (n) {
          if (vr(l, u, r[p], r[p + 1], e, o, a))
            return !0;
        } else
          s += Da(l, u, r[p], r[p + 1], o, a) || 0;
        l = r[p++], u = r[p++];
        break;
      case Oo.C:
        if (n) {
          if (Z9(l, u, r[p++], r[p++], r[p++], r[p++], r[p], r[p + 1], e, o, a))
            return !0;
        } else
          s += eI(l, u, r[p++], r[p++], r[p++], r[p++], r[p], r[p + 1], o, a) || 0;
        l = r[p++], u = r[p++];
        break;
      case Oo.Q:
        if (n) {
          if (q9(l, u, r[p++], r[p++], r[p], r[p + 1], e, o, a))
            return !0;
        } else
          s += tI(l, u, r[p++], r[p++], r[p], r[p + 1], o, a) || 0;
        l = r[p++], u = r[p++];
        break;
      case Oo.A:
        var g = r[p++], y = r[p++], _ = r[p++], w = r[p++], x = r[p++], S = r[p++];
        p += 1;
        var L = !!(1 - r[p++]);
        f = Math.cos(x) * _ + g, v = Math.sin(x) * w + y, m ? (c = f, d = v) : s += Da(l, u, f, v, o, a);
        var b = (o - g) * w / _ + g;
        if (n) {
          if (J9(g, y, w, x, x + S, L, e, b, a))
            return !0;
        } else
          s += nI(g, y, w, x, x + S, L, b, a);
        l = Math.cos(x + S) * _ + g, u = Math.sin(x + S) * w + y;
        break;
      case Oo.R:
        c = l = r[p++], d = u = r[p++];
        var I = r[p++], M = r[p++];
        if (f = c + I, v = d + M, n) {
          if (vr(c, d, f, d, e, o, a) || vr(f, d, f, v, e, o, a) || vr(f, v, c, v, e, o, a) || vr(c, v, c, d, e, o, a))
            return !0;
        } else
          s += Da(f, d, f, v, o, a), s += Da(c, v, c, d, o, a);
        break;
      case Oo.Z:
        if (n) {
          if (vr(l, u, c, d, e, o, a))
            return !0;
        } else
          s += Da(l, u, c, d, o, a);
        l = c, u = d;
        break;
    }
  }
  return !n && !Q9(u, d) && (s += Da(l, u, c, d, o, a) || 0), s !== 0;
}
function oI(t, e, n) {
  return D2(t, 0, !1, e, n);
}
function aI(t, e, n, o) {
  return D2(t, e, !0, n, o);
}
var du = rt({
  fill: "#000",
  stroke: null,
  strokePercent: 1,
  fillOpacity: 1,
  strokeOpacity: 1,
  lineDashOffset: 0,
  lineWidth: 1,
  lineCap: "butt",
  miterLimit: 10,
  strokeNoScale: !1,
  strokeFirst: !1
}, Ya), rI = {
  style: rt({
    fill: !0,
    stroke: !0,
    strokePercent: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineDashOffset: !0,
    lineWidth: !0,
    miterLimit: !0
  }, Ju.style)
}, vd = vs.concat([
  "invisible",
  "culling",
  "z",
  "z2",
  "zlevel",
  "parent"
]), dt = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.update = function() {
    var n = this;
    t.prototype.update.call(this);
    var o = this.style;
    if (o.decal) {
      var a = this._decalEl = this._decalEl || new e();
      a.buildPath === e.prototype.buildPath && (a.buildPath = function(l) {
        n.buildPath(l, n.shape);
      }), a.silent = !0;
      var r = a.style;
      for (var i in o)
        r[i] !== o[i] && (r[i] = o[i]);
      r.fill = o.fill ? o.decal : null, r.decal = null, r.shadowColor = null, o.strokeFirst && (r.stroke = null);
      for (var s = 0; s < vd.length; ++s)
        a[vd[s]] = this[vd[s]];
      a.__dirty |= vo;
    } else this._decalEl && (this._decalEl = null);
  }, e.prototype.getDecalElement = function() {
    return this._decalEl;
  }, e.prototype._init = function(n) {
    var o = lt(n);
    this.shape = this.getDefaultShape();
    var a = this.getDefaultStyle();
    a && this.useStyle(a);
    for (var r = 0; r < o.length; r++) {
      var i = o[r], s = n[i];
      i === "style" ? this.style ? Le(this.style, s) : this.useStyle(s) : i === "shape" ? Le(this.shape, s) : t.prototype.attrKV.call(this, i, s);
    }
    this.style || this.useStyle({});
  }, e.prototype.getDefaultStyle = function() {
    return null;
  }, e.prototype.getDefaultShape = function() {
    return {};
  }, e.prototype.canBeInsideText = function() {
    return this.hasFill();
  }, e.prototype.getInsideTextFill = function() {
    var n = this.style.fill;
    if (n !== "none") {
      if (ze(n)) {
        var o = su(n, 0);
        return o > 0.5 ? $f : o > 0.2 ? NS : Pf;
      } else if (n)
        return Pf;
    }
    return $f;
  }, e.prototype.getInsideTextStroke = function(n) {
    var o = this.style.fill;
    if (ze(o)) {
      var a = this.__zr, r = !!(a && a.isDarkMode()), i = su(n, 0) < Df;
      if (r === i)
        return o;
    }
  }, e.prototype.buildPath = function(n, o, a) {
  }, e.prototype.pathUpdated = function() {
    this.__dirty &= ~Cr;
  }, e.prototype.getUpdatedPathProxy = function(n) {
    return !this.path && this.createPathProxy(), this.path.beginPath(), this.buildPath(this.path, this.shape, n), this.path;
  }, e.prototype.createPathProxy = function() {
    this.path = new la(!1);
  }, e.prototype.hasStroke = function() {
    var n = this.style, o = n.stroke;
    return !(o == null || o === "none" || !(n.lineWidth > 0));
  }, e.prototype.hasFill = function() {
    var n = this.style, o = n.fill;
    return o != null && o !== "none";
  }, e.prototype.getBoundingRect = function() {
    var n = this._rect, o = this.style, a = !n;
    if (a) {
      var r = !1;
      this.path || (r = !0, this.createPathProxy());
      var i = this.path;
      (r || this.__dirty & Cr) && (i.beginPath(), this.buildPath(i, this.shape, !1), this.pathUpdated()), n = i.getBoundingRect();
    }
    if (this._rect = n, this.hasStroke() && this.path && this.path.len() > 0) {
      var s = this._rectStroke || (this._rectStroke = n.clone());
      if (this.__dirty || a) {
        s.copy(n);
        var l = o.strokeNoScale ? this.getLineScale() : 1, u = o.lineWidth;
        if (!this.hasFill()) {
          var c = this.strokeContainThreshold;
          u = Math.max(u, c ?? 4);
        }
        l > 1e-10 && (s.width += u / l, s.height += u / l, s.x -= u / l / 2, s.y -= u / l / 2);
      }
      return s;
    }
    return n;
  }, e.prototype.contain = function(n, o) {
    var a = this.transformCoordToLocal(n, o), r = this.getBoundingRect(), i = this.style;
    if (n = a[0], o = a[1], r.contain(n, o)) {
      var s = this.path;
      if (this.hasStroke()) {
        var l = i.lineWidth, u = i.strokeNoScale ? this.getLineScale() : 1;
        if (u > 1e-10 && (this.hasFill() || (l = Math.max(l, this.strokeContainThreshold)), aI(s, l / u, n, o)))
          return !0;
      }
      if (this.hasFill())
        return oI(s, n, o);
    }
    return !1;
  }, e.prototype.dirtyShape = function() {
    this.__dirty |= Cr, this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw();
  }, e.prototype.dirty = function() {
    this.dirtyStyle(), this.dirtyShape();
  }, e.prototype.animateShape = function(n) {
    return this.animate("shape", n);
  }, e.prototype.updateDuringAnimation = function(n) {
    n === "style" ? this.dirtyStyle() : n === "shape" ? this.dirtyShape() : this.markRedraw();
  }, e.prototype.attrKV = function(n, o) {
    n === "shape" ? this.setShape(o) : t.prototype.attrKV.call(this, n, o);
  }, e.prototype.setShape = function(n, o) {
    var a = this.shape;
    return a || (a = this.shape = {}), typeof n == "string" ? a[n] = o : Le(a, n), this.dirtyShape(), this;
  }, e.prototype.shapeChanged = function() {
    return !!(this.__dirty & Cr);
  }, e.prototype.createStyle = function(n) {
    return zu(du, n);
  }, e.prototype._innerSaveToNormal = function(n) {
    t.prototype._innerSaveToNormal.call(this, n);
    var o = this._normalState;
    n.shape && !o.shape && (o.shape = Le({}, this.shape));
  }, e.prototype._applyStateObj = function(n, o, a, r, i, s) {
    t.prototype._applyStateObj.call(this, n, o, a, r, i, s);
    var l = !(o && r), u;
    if (o && o.shape ? i ? r ? u = o.shape : (u = Le({}, a.shape), Le(u, o.shape)) : (u = Le({}, r ? this.shape : a.shape), Le(u, o.shape)) : l && (u = a.shape), u)
      if (i) {
        this.shape = Le({}, this.shape);
        for (var c = {}, d = lt(u), f = 0; f < d.length; f++) {
          var v = d[f];
          typeof u[v] == "object" ? this.shape[v] = u[v] : c[v] = u[v];
        }
        this._transitionState(n, {
          shape: c
        }, s);
      } else
        this.shape = u, this.dirtyShape();
  }, e.prototype._mergeStates = function(n) {
    for (var o = t.prototype._mergeStates.call(this, n), a, r = 0; r < n.length; r++) {
      var i = n[r];
      i.shape && (a = a || {}, this._mergeStyle(a, i.shape));
    }
    return a && (o.shape = a), o;
  }, e.prototype.getAnimationStyleProps = function() {
    return rI;
  }, e.prototype.isZeroArea = function() {
    return !1;
  }, e.extend = function(n) {
    var o = function(r) {
      De(i, r);
      function i(s) {
        var l = r.call(this, s) || this;
        return n.init && n.init.call(l, s), l;
      }
      return i.prototype.getDefaultStyle = function() {
        return st(n.style);
      }, i.prototype.getDefaultShape = function() {
        return st(n.shape);
      }, i;
    }(e);
    for (var a in n)
      typeof n[a] == "function" && (o.prototype[a] = n[a]);
    return o;
  }, e.initDefaultProps = function() {
    var n = e.prototype;
    n.type = "path", n.strokeContainThreshold = 5, n.segmentIgnoreThreshold = 0, n.subPixelOptimize = !1, n.autoBatch = !1, n.__dirty = vo | Fi | Cr;
  }(), e;
}(Bs), iI = rt({
  strokeFirst: !0,
  font: aa,
  x: 0,
  y: 0,
  textAlign: "left",
  textBaseline: "top",
  miterLimit: 2
}, du), hs = function(t) {
  De(e, t);
  function e() {
    return t !== null && t.apply(this, arguments) || this;
  }
  return e.prototype.hasStroke = function() {
    var n = this.style, o = n.stroke;
    return o != null && o !== "none" && n.lineWidth > 0;
  }, e.prototype.hasFill = function() {
    var n = this.style, o = n.fill;
    return o != null && o !== "none";
  }, e.prototype.createStyle = function(n) {
    return zu(iI, n);
  }, e.prototype.setBoundingRect = function(n) {
    this._rect = n;
  }, e.prototype.getBoundingRect = function() {
    var n = this.style;
    if (!this._rect) {
      var o = n.text;
      o != null ? o += "" : o = "";
      var a = p2(o, n.font, n.textAlign, n.textBaseline);
      if (a.x += n.x || 0, a.y += n.y || 0, this.hasStroke()) {
        var r = n.lineWidth;
        a.x -= r / 2, a.y -= r / 2, a.width += r, a.height += r;
      }
      this._rect = a;
    }
    return this._rect;
  }, e.initDefaultProps = function() {
    var n = e.prototype;
    n.dirtyRectTolerance = 10;
  }(), e;
}(Bs);
hs.prototype.type = "tspan";
var sI = rt({
  x: 0,
  y: 0
}, Ya), lI = {
  style: rt({
    x: !0,
    y: !0,
    width: !0,
    height: !0,
    sx: !0,
    sy: !0,
    sWidth: !0,
    sHeight: !0
  }, Ju.style)
};
function uI(t) {
  return !!(t && typeof t != "string" && t.width && t.height);
}
var no = function(t) {
  De(e, t);
  function e() {
    return t !== null && t.apply(this, arguments) || this;
  }
  return e.prototype.createStyle = function(n) {
    return zu(sI, n);
  }, e.prototype._getSize = function(n) {
    var o = this.style, a = o[n];
    if (a != null)
      return a;
    var r = uI(o.image) ? o.image : this.__image;
    if (!r)
      return 0;
    var i = n === "width" ? "height" : "width", s = o[i];
    return s == null ? r[n] : r[n] / r[i] * s;
  }, e.prototype.getWidth = function() {
    return this._getSize("width");
  }, e.prototype.getHeight = function() {
    return this._getSize("height");
  }, e.prototype.getAnimationStyleProps = function() {
    return lI;
  }, e.prototype.getBoundingRect = function() {
    var n = this.style;
    return this._rect || (this._rect = new yt(n.x || 0, n.y || 0, this.getWidth(), this.getHeight())), this._rect;
  }, e;
}(Bs);
no.prototype.type = "image";
function cI(t, e) {
  var n = e.x, o = e.y, a = e.width, r = e.height, i = e.r, s, l, u, c;
  a < 0 && (n = n + a, a = -a), r < 0 && (o = o + r, r = -r), typeof i == "number" ? s = l = u = c = i : i instanceof Array ? i.length === 1 ? s = l = u = c = i[0] : i.length === 2 ? (s = u = i[0], l = c = i[1]) : i.length === 3 ? (s = i[0], l = c = i[1], u = i[2]) : (s = i[0], l = i[1], u = i[2], c = i[3]) : s = l = u = c = 0;
  var d;
  s + l > a && (d = s + l, s *= a / d, l *= a / d), u + c > a && (d = u + c, u *= a / d, c *= a / d), l + u > r && (d = l + u, l *= r / d, u *= r / d), s + c > r && (d = s + c, s *= r / d, c *= r / d), t.moveTo(n + s, o), t.lineTo(n + a - l, o), l !== 0 && t.arc(n + a - l, o + l, l, -Math.PI / 2, 0), t.lineTo(n + a, o + r - u), u !== 0 && t.arc(n + a - u, o + r - u, u, 0, Math.PI / 2), t.lineTo(n + c, o + r), c !== 0 && t.arc(n + c, o + r - c, c, Math.PI / 2, Math.PI), t.lineTo(n, o + s), s !== 0 && t.arc(n + s, o + s, s, Math.PI, Math.PI * 1.5);
}
var Dr = Math.round;
function $2(t, e, n) {
  if (e) {
    var o = e.x1, a = e.x2, r = e.y1, i = e.y2;
    t.x1 = o, t.x2 = a, t.y1 = r, t.y2 = i;
    var s = n && n.lineWidth;
    return s && (Dr(o * 2) === Dr(a * 2) && (t.x1 = t.x2 = Ua(o, s, !0)), Dr(r * 2) === Dr(i * 2) && (t.y1 = t.y2 = Ua(r, s, !0))), t;
  }
}
function P2(t, e, n) {
  if (e) {
    var o = e.x, a = e.y, r = e.width, i = e.height;
    t.x = o, t.y = a, t.width = r, t.height = i;
    var s = n && n.lineWidth;
    return s && (t.x = Ua(o, s, !0), t.y = Ua(a, s, !0), t.width = Math.max(Ua(o + r, s, !1) - t.x, r === 0 ? 0 : 1), t.height = Math.max(Ua(a + i, s, !1) - t.y, i === 0 ? 0 : 1)), t;
  }
}
function Ua(t, e, n) {
  if (!e)
    return t;
  var o = Dr(t * 2);
  return (o + Dr(e)) % 2 === 0 ? o / 2 : (o + (n ? 1 : -1)) / 2;
}
var dI = /* @__PURE__ */ function() {
  function t() {
    this.x = 0, this.y = 0, this.width = 0, this.height = 0;
  }
  return t;
}(), fI = {}, Gt = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new dI();
  }, e.prototype.buildPath = function(n, o) {
    var a, r, i, s;
    if (this.subPixelOptimize) {
      var l = P2(fI, o, this.style);
      a = l.x, r = l.y, i = l.width, s = l.height, l.r = o.r, o = l;
    } else
      a = o.x, r = o.y, i = o.width, s = o.height;
    o.r ? cI(n, o) : n.rect(a, r, i, s);
  }, e.prototype.isZeroArea = function() {
    return !this.shape.width || !this.shape.height;
  }, e;
}(dt);
Gt.prototype.type = "rect";
var o0 = {
  fill: "#000"
}, a0 = 2, vI = {
  style: rt({
    fill: !0,
    stroke: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineWidth: !0,
    fontSize: !0,
    lineHeight: !0,
    width: !0,
    height: !0,
    textShadowColor: !0,
    textShadowBlur: !0,
    textShadowOffsetX: !0,
    textShadowOffsetY: !0,
    backgroundColor: !0,
    padding: !0,
    borderColor: !0,
    borderWidth: !0,
    borderRadius: !0
  }, Ju.style)
}, Ln = function(t) {
  De(e, t);
  function e(n) {
    var o = t.call(this) || this;
    return o.type = "text", o._children = [], o._defaultStyle = o0, o.attr(n), o;
  }
  return e.prototype.childrenRef = function() {
    return this._children;
  }, e.prototype.update = function() {
    t.prototype.update.call(this), this.styleChanged() && this._updateSubTexts();
    for (var n = 0; n < this._children.length; n++) {
      var o = this._children[n];
      o.zlevel = this.zlevel, o.z = this.z, o.z2 = this.z2, o.culling = this.culling, o.cursor = this.cursor, o.invisible = this.invisible;
    }
  }, e.prototype.updateTransform = function() {
    var n = this.innerTransformable;
    n ? (n.updateTransform(), n.transform && (this.transform = n.transform)) : t.prototype.updateTransform.call(this);
  }, e.prototype.getLocalTransform = function(n) {
    var o = this.innerTransformable;
    return o ? o.getLocalTransform(n) : t.prototype.getLocalTransform.call(this, n);
  }, e.prototype.getComputedTransform = function() {
    return this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(!0)), t.prototype.getComputedTransform.call(this);
  }, e.prototype._updateSubTexts = function() {
    this._childCursor = 0, mI(this.style), this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(), this._children.length = this._childCursor, this.styleUpdated();
  }, e.prototype.addSelfToZr = function(n) {
    t.prototype.addSelfToZr.call(this, n);
    for (var o = 0; o < this._children.length; o++)
      this._children[o].__zr = n;
  }, e.prototype.removeSelfFromZr = function(n) {
    t.prototype.removeSelfFromZr.call(this, n);
    for (var o = 0; o < this._children.length; o++)
      this._children[o].__zr = null;
  }, e.prototype.getBoundingRect = function() {
    if (this.styleChanged() && this._updateSubTexts(), !this._rect) {
      for (var n = new yt(0, 0, 0, 0), o = this._children, a = [], r = null, i = 0; i < o.length; i++) {
        var s = o[i], l = s.getBoundingRect(), u = s.getLocalTransform(a);
        u ? (n.copy(l), n.applyTransform(u), r = r || n.clone(), r.union(n)) : (r = r || l.clone(), r.union(l));
      }
      this._rect = r || n;
    }
    return this._rect;
  }, e.prototype.setDefaultTextStyle = function(n) {
    this._defaultStyle = n || o0;
  }, e.prototype.setTextContent = function(n) {
    if (process.env.NODE_ENV !== "production")
      throw new Error("Can't attach text on another text");
  }, e.prototype._mergeStyle = function(n, o) {
    if (!o)
      return n;
    var a = o.rich, r = n.rich || a && {};
    return Le(n, o), a && r ? (this._mergeRich(r, a), n.rich = r) : r && (n.rich = r), n;
  }, e.prototype._mergeRich = function(n, o) {
    for (var a = lt(o), r = 0; r < a.length; r++) {
      var i = a[r];
      n[i] = n[i] || {}, Le(n[i], o[i]);
    }
  }, e.prototype.getAnimationStyleProps = function() {
    return vI;
  }, e.prototype._getOrCreateChild = function(n) {
    var o = this._children[this._childCursor];
    return (!o || !(o instanceof n)) && (o = new n()), this._children[this._childCursor++] = o, o.__zr = this.__zr, o.parent = this, o;
  }, e.prototype._updatePlainTexts = function() {
    var n = this.style, o = n.font || aa, a = n.padding, r = d0(n), i = R9(r, n), s = pd(n), l = !!n.backgroundColor, u = i.outerHeight, c = i.outerWidth, d = i.contentWidth, f = i.lines, v = i.lineHeight, p = this._defaultStyle, h = n.x || 0, m = n.y || 0, g = n.align || p.align || "left", y = n.verticalAlign || p.verticalAlign || "top", _ = h, w = Tr(m, i.contentHeight, y);
    if (s || a) {
      var x = Vi(h, c, g), S = Tr(m, u, y);
      s && this._renderBackground(n, n, x, S, c, u);
    }
    w += v / 2, a && (_ = c0(h, g, a), y === "top" ? w += a[0] : y === "bottom" && (w -= a[2]));
    for (var L = 0, b = !1, I = u0("fill" in n ? n.fill : (b = !0, p.fill)), M = l0("stroke" in n ? n.stroke : !l && (!p.autoStroke || b) ? (L = a0, p.stroke) : null), E = n.textShadowBlur > 0, D = n.width != null && (n.overflow === "truncate" || n.overflow === "break" || n.overflow === "breakAll"), O = i.calculatedLineHeight, N = 0; N < f.length; N++) {
      var P = this._getOrCreateChild(hs), $ = P.createStyle();
      P.useStyle($), $.text = f[N], $.x = _, $.y = w, g && ($.textAlign = g), $.textBaseline = "middle", $.opacity = n.opacity, $.strokeFirst = !0, E && ($.shadowBlur = n.textShadowBlur || 0, $.shadowColor = n.textShadowColor || "transparent", $.shadowOffsetX = n.textShadowOffsetX || 0, $.shadowOffsetY = n.textShadowOffsetY || 0), $.stroke = M, $.fill = I, M && ($.lineWidth = n.lineWidth || L, $.lineDash = n.lineDash, $.lineDashOffset = n.lineDashOffset || 0), $.font = o, i0($, n), w += v, D && P.setBoundingRect(new yt(Vi($.x, n.width, $.textAlign), Tr($.y, O, $.textBaseline), d, O));
    }
  }, e.prototype._updateRichTexts = function() {
    var n = this.style, o = d0(n), a = B9(o, n), r = a.width, i = a.outerWidth, s = a.outerHeight, l = n.padding, u = n.x || 0, c = n.y || 0, d = this._defaultStyle, f = n.align || d.align, v = n.verticalAlign || d.verticalAlign, p = Vi(u, i, f), h = Tr(c, s, v), m = p, g = h;
    l && (m += l[3], g += l[0]);
    var y = m + r;
    pd(n) && this._renderBackground(n, n, p, h, i, s);
    for (var _ = !!n.backgroundColor, w = 0; w < a.lines.length; w++) {
      for (var x = a.lines[w], S = x.tokens, L = S.length, b = x.lineHeight, I = x.width, M = 0, E = m, D = y, O = L - 1, N = void 0; M < L && (N = S[M], !N.align || N.align === "left"); )
        this._placeToken(N, n, b, g, E, "left", _), I -= N.width, E += N.width, M++;
      for (; O >= 0 && (N = S[O], N.align === "right"); )
        this._placeToken(N, n, b, g, D, "right", _), I -= N.width, D -= N.width, O--;
      for (E += (r - (E - m) - (y - D) - I) / 2; M <= O; )
        N = S[M], this._placeToken(N, n, b, g, E + N.width / 2, "center", _), E += N.width, M++;
      g += b;
    }
  }, e.prototype._placeToken = function(n, o, a, r, i, s, l) {
    var u = o.rich[n.styleName] || {};
    u.text = n.text;
    var c = n.verticalAlign, d = r + a / 2;
    c === "top" ? d = r + n.height / 2 : c === "bottom" && (d = r + a - n.height / 2);
    var f = !n.isLineHolder && pd(u);
    f && this._renderBackground(u, o, s === "right" ? i - n.width : s === "center" ? i - n.width / 2 : i, d - n.height / 2, n.width, n.height);
    var v = !!u.backgroundColor, p = n.textPadding;
    p && (i = c0(i, s, p), d -= n.height / 2 - p[0] - n.innerHeight / 2);
    var h = this._getOrCreateChild(hs), m = h.createStyle();
    h.useStyle(m);
    var g = this._defaultStyle, y = !1, _ = 0, w = u0("fill" in u ? u.fill : "fill" in o ? o.fill : (y = !0, g.fill)), x = l0("stroke" in u ? u.stroke : "stroke" in o ? o.stroke : !v && !l && (!g.autoStroke || y) ? (_ = a0, g.stroke) : null), S = u.textShadowBlur > 0 || o.textShadowBlur > 0;
    m.text = n.text, m.x = i, m.y = d, S && (m.shadowBlur = u.textShadowBlur || o.textShadowBlur || 0, m.shadowColor = u.textShadowColor || o.textShadowColor || "transparent", m.shadowOffsetX = u.textShadowOffsetX || o.textShadowOffsetX || 0, m.shadowOffsetY = u.textShadowOffsetY || o.textShadowOffsetY || 0), m.textAlign = s, m.textBaseline = "middle", m.font = n.font || aa, m.opacity = Xa(u.opacity, o.opacity, 1), i0(m, u), x && (m.lineWidth = Xa(u.lineWidth, o.lineWidth, _), m.lineDash = Ge(u.lineDash, o.lineDash), m.lineDashOffset = o.lineDashOffset || 0, m.stroke = x), w && (m.fill = w);
    var L = n.contentWidth, b = n.contentHeight;
    h.setBoundingRect(new yt(Vi(m.x, L, m.textAlign), Tr(m.y, b, m.textBaseline), L, b));
  }, e.prototype._renderBackground = function(n, o, a, r, i, s) {
    var l = n.backgroundColor, u = n.borderWidth, c = n.borderColor, d = l && l.image, f = l && !d, v = n.borderRadius, p = this, h, m;
    if (f || n.lineHeight || u && c) {
      h = this._getOrCreateChild(Gt), h.useStyle(h.createStyle()), h.style.fill = null;
      var g = h.shape;
      g.x = a, g.y = r, g.width = i, g.height = s, g.r = v, h.dirtyShape();
    }
    if (f) {
      var y = h.style;
      y.fill = l || null, y.fillOpacity = Ge(n.fillOpacity, 1);
    } else if (d) {
      m = this._getOrCreateChild(no), m.onload = function() {
        p.dirtyStyle();
      };
      var _ = m.style;
      _.image = l.image, _.x = a, _.y = r, _.width = i, _.height = s;
    }
    if (u && c) {
      var y = h.style;
      y.lineWidth = u, y.stroke = c, y.strokeOpacity = Ge(n.strokeOpacity, 1), y.lineDash = n.borderDash, y.lineDashOffset = n.borderDashOffset || 0, h.strokeContainThreshold = 0, h.hasFill() && h.hasStroke() && (y.strokeFirst = !0, y.lineWidth *= 2);
    }
    var w = (h || m).style;
    w.shadowBlur = n.shadowBlur || 0, w.shadowColor = n.shadowColor || "transparent", w.shadowOffsetX = n.shadowOffsetX || 0, w.shadowOffsetY = n.shadowOffsetY || 0, w.opacity = Xa(n.opacity, o.opacity, 1);
  }, e.makeFont = function(n) {
    var o = "";
    return O2(n) && (o = [
      n.fontStyle,
      n.fontWeight,
      R2(n.fontSize),
      n.fontFamily || "sans-serif"
    ].join(" ")), o && Yo(o) || n.textFont || n.font;
  }, e;
}(Bs), pI = { left: !0, right: 1, center: 1 }, hI = { top: 1, bottom: 1, middle: 1 }, r0 = ["fontStyle", "fontWeight", "fontSize", "fontFamily"];
function R2(t) {
  return typeof t == "string" && (t.indexOf("px") !== -1 || t.indexOf("rem") !== -1 || t.indexOf("em") !== -1) ? t : isNaN(+t) ? Hv + "px" : t + "px";
}
function i0(t, e) {
  for (var n = 0; n < r0.length; n++) {
    var o = r0[n], a = e[o];
    a != null && (t[o] = a);
  }
}
function O2(t) {
  return t.fontSize != null || t.fontFamily || t.fontWeight;
}
function mI(t) {
  return s0(t), se(t.rich, s0), t;
}
function s0(t) {
  if (t) {
    t.font = Ln.makeFont(t);
    var e = t.align;
    e === "middle" && (e = "center"), t.align = e == null || pI[e] ? e : "left";
    var n = t.verticalAlign;
    n === "center" && (n = "middle"), t.verticalAlign = n == null || hI[n] ? n : "top";
    var o = t.padding;
    o && (t.padding = Gg(t.padding));
  }
}
function l0(t, e) {
  return t == null || e <= 0 || t === "transparent" || t === "none" ? null : t.image || t.colorStops ? "#000" : t;
}
function u0(t) {
  return t == null || t === "none" ? null : t.image || t.colorStops ? "#000" : t;
}
function c0(t, e, n) {
  return e === "right" ? t - n[1] : e === "center" ? t + n[3] / 2 - n[1] / 2 : t + n[3];
}
function d0(t) {
  var e = t.text;
  return e != null && (e += ""), e;
}
function pd(t) {
  return !!(t.backgroundColor || t.lineHeight || t.borderWidth && t.borderColor);
}
var It = Wt(), gI = function(t, e, n, o) {
  if (o) {
    var a = It(o);
    a.dataIndex = n, a.dataType = e, a.seriesIndex = t, a.ssrType = "chart", o.type === "group" && o.traverse(function(r) {
      var i = It(r);
      i.seriesIndex = t, i.dataIndex = n, i.dataType = e, i.ssrType = "chart";
    });
  }
}, f0 = 1, v0 = {}, N2 = Wt(), op = Wt(), ap = 0, Ku = 1, Qu = 2, Vn = ["emphasis", "blur", "select"], fu = ["normal", "emphasis", "blur", "select"], yI = 10, _I = 9, Za = "highlight", Gl = "downplay", ji = "select", Ul = "unselect", es = "toggleSelect";
function pr(t) {
  return t != null && t !== "none";
}
function ju(t, e, n) {
  t.onHoverStateChange && (t.hoverState || 0) !== n && t.onHoverStateChange(e), t.hoverState = n;
}
function B2(t) {
  ju(t, "emphasis", Qu);
}
function F2(t) {
  t.hoverState === Qu && ju(t, "normal", ap);
}
function rp(t) {
  ju(t, "blur", Ku);
}
function z2(t) {
  t.hoverState === Ku && ju(t, "normal", ap);
}
function bI(t) {
  t.selected = !0;
}
function wI(t) {
  t.selected = !1;
}
function p0(t, e, n) {
  e(t, n);
}
function Po(t, e, n) {
  p0(t, e, n), t.isGroup && t.traverse(function(o) {
    p0(o, e, n);
  });
}
function h0(t, e) {
  switch (e) {
    case "emphasis":
      t.hoverState = Qu;
      break;
    case "normal":
      t.hoverState = ap;
      break;
    case "blur":
      t.hoverState = Ku;
      break;
    case "select":
      t.selected = !0;
  }
}
function xI(t, e, n, o) {
  for (var a = t.style, r = {}, i = 0; i < e.length; i++) {
    var s = e[i], l = a[s];
    r[s] = l ?? (o && o[s]);
  }
  for (var i = 0; i < t.animators.length; i++) {
    var u = t.animators[i];
    u.__fromStateTransition && u.__fromStateTransition.indexOf(n) < 0 && u.targetName === "style" && u.saveTo(r, e);
  }
  return r;
}
function SI(t, e, n, o) {
  var a = n && St(n, "select") >= 0, r = !1;
  if (t instanceof dt) {
    var i = N2(t), s = a && i.selectFill || i.normalFill, l = a && i.selectStroke || i.normalStroke;
    if (pr(s) || pr(l)) {
      o = o || {};
      var u = o.style || {};
      u.fill === "inherit" ? (r = !0, o = Le({}, o), u = Le({}, u), u.fill = s) : !pr(u.fill) && pr(s) ? (r = !0, o = Le({}, o), u = Le({}, u), u.fill = Cf(s)) : !pr(u.stroke) && pr(l) && (r || (o = Le({}, o), u = Le({}, u)), u.stroke = Cf(l)), o.style = u;
    }
  }
  if (o && o.z2 == null) {
    r || (o = Le({}, o));
    var c = t.z2EmphasisLift;
    o.z2 = t.z2 + (c ?? yI);
  }
  return o;
}
function II(t, e, n) {
  if (n && n.z2 == null) {
    n = Le({}, n);
    var o = t.z2SelectLift;
    n.z2 = t.z2 + (o ?? _I);
  }
  return n;
}
function CI(t, e, n) {
  var o = St(t.currentStates, e) >= 0, a = t.style.opacity, r = o ? null : xI(t, ["opacity"], e, {
    opacity: 1
  });
  n = n || {};
  var i = n.style || {};
  return i.opacity == null && (n = Le({}, n), i = Le({
    // Already being applied 'emphasis'. DON'T mul opacity multiple times.
    opacity: o ? a : r.opacity * 0.1
  }, i), n.style = i), n;
}
function hd(t, e) {
  var n = this.states[t];
  if (this.style) {
    if (t === "emphasis")
      return SI(this, t, e, n);
    if (t === "blur")
      return CI(this, t, n);
    if (t === "select")
      return II(this, t, n);
  }
  return n;
}
function TI(t) {
  t.stateProxy = hd;
  var e = t.getTextContent(), n = t.getTextGuideLine();
  e && (e.stateProxy = hd), n && (n.stateProxy = hd);
}
function m0(t, e) {
  !U2(t, e) && !t.__highByOuter && Po(t, B2);
}
function g0(t, e) {
  !U2(t, e) && !t.__highByOuter && Po(t, F2);
}
function vu(t, e) {
  t.__highByOuter |= 1 << (e || 0), Po(t, B2);
}
function pu(t, e) {
  !(t.__highByOuter &= ~(1 << (e || 0))) && Po(t, F2);
}
function LI(t) {
  Po(t, rp);
}
function V2(t) {
  Po(t, z2);
}
function H2(t) {
  Po(t, bI);
}
function G2(t) {
  Po(t, wI);
}
function U2(t, e) {
  return t.__highDownSilentOnTouch && e.zrByTouch;
}
function W2(t) {
  var e = t.getModel(), n = [], o = [];
  e.eachComponent(function(a, r) {
    var i = op(r), s = a === "series", l = s ? t.getViewOfSeriesModel(r) : t.getViewOfComponentModel(r);
    !s && o.push(l), i.isBlured && (l.group.traverse(function(u) {
      z2(u);
    }), s && n.push(r)), i.isBlured = !1;
  }), se(o, function(a) {
    a && a.toggleBlurSeries && a.toggleBlurSeries(n, !1, e);
  });
}
function Gf(t, e, n, o) {
  var a = o.getModel();
  n = n || "coordinateSystem";
  function r(u, c) {
    for (var d = 0; d < c.length; d++) {
      var f = u.getItemGraphicEl(c[d]);
      f && V2(f);
    }
  }
  if (t != null && !(!e || e === "none")) {
    var i = a.getSeriesByIndex(t), s = i.coordinateSystem;
    s && s.master && (s = s.master);
    var l = [];
    a.eachSeries(function(u) {
      var c = i === u, d = u.coordinateSystem;
      d && d.master && (d = d.master);
      var f = d && s ? d === s : c;
      if (!// Not blur other series if blurScope series
      (n === "series" && !c || n === "coordinateSystem" && !f || e === "series" && c)) {
        var v = o.getViewOfSeriesModel(u);
        if (v.group.traverse(function(m) {
          m.__highByOuter && c && e === "self" || rp(m);
        }), _n(e))
          r(u.getData(), e);
        else if (Ue(e))
          for (var p = lt(e), h = 0; h < p.length; h++)
            r(u.getData(p[h]), e[p[h]]);
        l.push(u), op(u).isBlured = !0;
      }
    }), a.eachComponent(function(u, c) {
      if (u !== "series") {
        var d = o.getViewOfComponentModel(c);
        d && d.toggleBlurSeries && d.toggleBlurSeries(l, !0, a);
      }
    });
  }
}
function Uf(t, e, n) {
  if (!(t == null || e == null)) {
    var o = n.getModel().getComponent(t, e);
    if (o) {
      op(o).isBlured = !0;
      var a = n.getViewOfComponentModel(o);
      !a || !a.focusBlurEnabled || a.group.traverse(function(r) {
        rp(r);
      });
    }
  }
}
function kI(t, e, n) {
  var o = t.seriesIndex, a = t.getData(e.dataType);
  if (!a) {
    process.env.NODE_ENV !== "production" && on("Unknown dataType " + e.dataType);
    return;
  }
  var r = Ur(a, e);
  r = (Oe(r) ? r[0] : r) || 0;
  var i = a.getItemGraphicEl(r);
  if (!i)
    for (var s = a.count(), l = 0; !i && l < s; )
      i = a.getItemGraphicEl(l++);
  if (i) {
    var u = It(i);
    Gf(o, u.focus, u.blurScope, n);
  } else {
    var c = t.get(["emphasis", "focus"]), d = t.get(["emphasis", "blurScope"]);
    c != null && Gf(o, c, d, n);
  }
}
function ip(t, e, n, o) {
  var a = {
    focusSelf: !1,
    dispatchers: null
  };
  if (t == null || t === "series" || e == null || n == null)
    return a;
  var r = o.getModel().getComponent(t, e);
  if (!r)
    return a;
  var i = o.getViewOfComponentModel(r);
  if (!i || !i.findHighDownDispatchers)
    return a;
  for (var s = i.findHighDownDispatchers(n), l, u = 0; u < s.length; u++)
    if (process.env.NODE_ENV !== "production" && !Yr(s[u]) && on("param should be highDownDispatcher"), It(s[u]).focus === "self") {
      l = !0;
      break;
    }
  return {
    focusSelf: l,
    dispatchers: s
  };
}
function EI(t, e, n) {
  process.env.NODE_ENV !== "production" && !Yr(t) && on("param should be highDownDispatcher");
  var o = It(t), a = ip(o.componentMainType, o.componentIndex, o.componentHighDownName, n), r = a.dispatchers, i = a.focusSelf;
  r ? (i && Uf(o.componentMainType, o.componentIndex, n), se(r, function(s) {
    return m0(s, e);
  })) : (Gf(o.seriesIndex, o.focus, o.blurScope, n), o.focus === "self" && Uf(o.componentMainType, o.componentIndex, n), m0(t, e));
}
function MI(t, e, n) {
  process.env.NODE_ENV !== "production" && !Yr(t) && on("param should be highDownDispatcher"), W2(n);
  var o = It(t), a = ip(o.componentMainType, o.componentIndex, o.componentHighDownName, n).dispatchers;
  a ? se(a, function(r) {
    return g0(r, e);
  }) : g0(t, e);
}
function AI(t, e, n) {
  if (Xf(e)) {
    var o = e.dataType, a = t.getData(o), r = Ur(a, e);
    Oe(r) || (r = [r]), t[e.type === es ? "toggleSelect" : e.type === ji ? "select" : "unselect"](r, o);
  }
}
function y0(t) {
  var e = t.getAllData();
  se(e, function(n) {
    var o = n.data, a = n.type;
    o.eachItemGraphicEl(function(r, i) {
      t.isSelected(i, a) ? H2(r) : G2(r);
    });
  });
}
function DI(t) {
  var e = [];
  return t.eachSeries(function(n) {
    var o = n.getAllData();
    se(o, function(a) {
      a.data;
      var r = a.type, i = n.getSelectedDataIndices();
      if (i.length > 0) {
        var s = {
          dataIndex: i,
          seriesIndex: n.seriesIndex
        };
        r != null && (s.dataType = r), e.push(s);
      }
    });
  }), e;
}
function Wf(t, e, n) {
  X2(t, !0), Po(t, TI), PI(t, e, n);
}
function $I(t) {
  X2(t, !1);
}
function Wr(t, e, n, o) {
  o ? $I(t) : Wf(t, e, n);
}
function PI(t, e, n) {
  var o = It(t);
  e != null ? (o.focus = e, o.blurScope = n) : o.focus && (o.focus = null);
}
var _0 = ["emphasis", "blur", "select"], RI = {
  itemStyle: "getItemStyle",
  lineStyle: "getLineStyle",
  areaStyle: "getAreaStyle"
};
function Xr(t, e, n, o) {
  n = n || "itemStyle";
  for (var a = 0; a < _0.length; a++) {
    var r = _0[a], i = e.getModel([r, n]), s = t.ensureState(r);
    s.style = i[RI[n]]();
  }
}
function X2(t, e) {
  var n = e === !1, o = t;
  t.highDownSilentOnTouch && (o.__highDownSilentOnTouch = t.highDownSilentOnTouch), (!n || o.__highDownDispatcher) && (o.__highByOuter = o.__highByOuter || 0, o.__highDownDispatcher = !n);
}
function Yr(t) {
  return !!(t && t.__highDownDispatcher);
}
function OI(t) {
  var e = v0[t];
  return e == null && f0 <= 32 && (e = v0[t] = f0++), e;
}
function Xf(t) {
  var e = t.type;
  return e === ji || e === Ul || e === es;
}
function b0(t) {
  var e = t.type;
  return e === Za || e === Gl;
}
function NI(t) {
  var e = N2(t);
  e.normalFill = t.style.fill, e.normalStroke = t.style.stroke;
  var n = t.states.select || {};
  e.selectFill = n.style && n.style.fill || null, e.selectStroke = n.style && n.style.stroke || null;
}
var hr = la.CMD, BI = [[], [], []], w0 = Math.sqrt, FI = Math.atan2;
function zI(t, e) {
  if (e) {
    var n = t.data, o = t.len(), a, r, i, s, l, u, c = hr.M, d = hr.C, f = hr.L, v = hr.R, p = hr.A, h = hr.Q;
    for (i = 0, s = 0; i < o; ) {
      switch (a = n[i++], s = i, r = 0, a) {
        case c:
          r = 1;
          break;
        case f:
          r = 1;
          break;
        case d:
          r = 3;
          break;
        case h:
          r = 2;
          break;
        case p:
          var m = e[4], g = e[5], y = w0(e[0] * e[0] + e[1] * e[1]), _ = w0(e[2] * e[2] + e[3] * e[3]), w = FI(-e[1] / _, e[0] / y);
          n[i] *= y, n[i++] += m, n[i] *= _, n[i++] += g, n[i++] *= y, n[i++] *= _, n[i++] += w, n[i++] += w, i += 2, s = i;
          break;
        case v:
          u[0] = n[i++], u[1] = n[i++], zn(u, u, e), n[s++] = u[0], n[s++] = u[1], u[0] += n[i++], u[1] += n[i++], zn(u, u, e), n[s++] = u[0], n[s++] = u[1];
      }
      for (l = 0; l < r; l++) {
        var x = BI[l];
        x[0] = n[i++], x[1] = n[i++], zn(x, x, e), n[s++] = x[0], n[s++] = x[1];
      }
    }
    t.increaseVersion();
  }
}
var md = Math.sqrt, sl = Math.sin, ll = Math.cos, bi = Math.PI;
function x0(t) {
  return Math.sqrt(t[0] * t[0] + t[1] * t[1]);
}
function Yf(t, e) {
  return (t[0] * e[0] + t[1] * e[1]) / (x0(t) * x0(e));
}
function S0(t, e) {
  return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(Yf(t, e));
}
function I0(t, e, n, o, a, r, i, s, l, u, c) {
  var d = l * (bi / 180), f = ll(d) * (t - n) / 2 + sl(d) * (e - o) / 2, v = -1 * sl(d) * (t - n) / 2 + ll(d) * (e - o) / 2, p = f * f / (i * i) + v * v / (s * s);
  p > 1 && (i *= md(p), s *= md(p));
  var h = (a === r ? -1 : 1) * md((i * i * (s * s) - i * i * (v * v) - s * s * (f * f)) / (i * i * (v * v) + s * s * (f * f))) || 0, m = h * i * v / s, g = h * -s * f / i, y = (t + n) / 2 + ll(d) * m - sl(d) * g, _ = (e + o) / 2 + sl(d) * m + ll(d) * g, w = S0([1, 0], [(f - m) / i, (v - g) / s]), x = [(f - m) / i, (v - g) / s], S = [(-1 * f - m) / i, (-1 * v - g) / s], L = S0(x, S);
  if (Yf(x, S) <= -1 && (L = bi), Yf(x, S) >= 1 && (L = 0), L < 0) {
    var b = Math.round(L / bi * 1e6) / 1e6;
    L = bi * 2 + b % 2 * bi;
  }
  c.addData(u, y, _, i, s, w, L, d, r);
}
var VI = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig, HI = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
function GI(t) {
  var e = new la();
  if (!t)
    return e;
  var n = 0, o = 0, a = n, r = o, i, s = la.CMD, l = t.match(VI);
  if (!l)
    return e;
  for (var u = 0; u < l.length; u++) {
    for (var c = l[u], d = c.charAt(0), f = void 0, v = c.match(HI) || [], p = v.length, h = 0; h < p; h++)
      v[h] = parseFloat(v[h]);
    for (var m = 0; m < p; ) {
      var g = void 0, y = void 0, _ = void 0, w = void 0, x = void 0, S = void 0, L = void 0, b = n, I = o, M = void 0, E = void 0;
      switch (d) {
        case "l":
          n += v[m++], o += v[m++], f = s.L, e.addData(f, n, o);
          break;
        case "L":
          n = v[m++], o = v[m++], f = s.L, e.addData(f, n, o);
          break;
        case "m":
          n += v[m++], o += v[m++], f = s.M, e.addData(f, n, o), a = n, r = o, d = "l";
          break;
        case "M":
          n = v[m++], o = v[m++], f = s.M, e.addData(f, n, o), a = n, r = o, d = "L";
          break;
        case "h":
          n += v[m++], f = s.L, e.addData(f, n, o);
          break;
        case "H":
          n = v[m++], f = s.L, e.addData(f, n, o);
          break;
        case "v":
          o += v[m++], f = s.L, e.addData(f, n, o);
          break;
        case "V":
          o = v[m++], f = s.L, e.addData(f, n, o);
          break;
        case "C":
          f = s.C, e.addData(f, v[m++], v[m++], v[m++], v[m++], v[m++], v[m++]), n = v[m - 2], o = v[m - 1];
          break;
        case "c":
          f = s.C, e.addData(f, v[m++] + n, v[m++] + o, v[m++] + n, v[m++] + o, v[m++] + n, v[m++] + o), n += v[m - 2], o += v[m - 1];
          break;
        case "S":
          g = n, y = o, M = e.len(), E = e.data, i === s.C && (g += n - E[M - 4], y += o - E[M - 3]), f = s.C, b = v[m++], I = v[m++], n = v[m++], o = v[m++], e.addData(f, g, y, b, I, n, o);
          break;
        case "s":
          g = n, y = o, M = e.len(), E = e.data, i === s.C && (g += n - E[M - 4], y += o - E[M - 3]), f = s.C, b = n + v[m++], I = o + v[m++], n += v[m++], o += v[m++], e.addData(f, g, y, b, I, n, o);
          break;
        case "Q":
          b = v[m++], I = v[m++], n = v[m++], o = v[m++], f = s.Q, e.addData(f, b, I, n, o);
          break;
        case "q":
          b = v[m++] + n, I = v[m++] + o, n += v[m++], o += v[m++], f = s.Q, e.addData(f, b, I, n, o);
          break;
        case "T":
          g = n, y = o, M = e.len(), E = e.data, i === s.Q && (g += n - E[M - 4], y += o - E[M - 3]), n = v[m++], o = v[m++], f = s.Q, e.addData(f, g, y, n, o);
          break;
        case "t":
          g = n, y = o, M = e.len(), E = e.data, i === s.Q && (g += n - E[M - 4], y += o - E[M - 3]), n += v[m++], o += v[m++], f = s.Q, e.addData(f, g, y, n, o);
          break;
        case "A":
          _ = v[m++], w = v[m++], x = v[m++], S = v[m++], L = v[m++], b = n, I = o, n = v[m++], o = v[m++], f = s.A, I0(b, I, n, o, S, L, _, w, x, f, e);
          break;
        case "a":
          _ = v[m++], w = v[m++], x = v[m++], S = v[m++], L = v[m++], b = n, I = o, n += v[m++], o += v[m++], f = s.A, I0(b, I, n, o, S, L, _, w, x, f, e);
          break;
      }
    }
    (d === "z" || d === "Z") && (f = s.Z, e.addData(f), n = a, o = r), i = f;
  }
  return e.toStatic(), e;
}
var Y2 = function(t) {
  De(e, t);
  function e() {
    return t !== null && t.apply(this, arguments) || this;
  }
  return e.prototype.applyTransform = function(n) {
  }, e;
}(dt);
function Z2(t) {
  return t.setData != null;
}
function q2(t, e) {
  var n = GI(t), o = Le({}, e);
  return o.buildPath = function(a) {
    if (Z2(a)) {
      a.setData(n.data);
      var r = a.getContext();
      r && a.rebuildPath(r, 1);
    } else {
      var r = a;
      n.rebuildPath(r, 1);
    }
  }, o.applyTransform = function(a) {
    zI(n, a), this.dirtyShape();
  }, o;
}
function UI(t, e) {
  return new Y2(q2(t, e));
}
function WI(t, e) {
  var n = q2(t, e), o = function(a) {
    De(r, a);
    function r(i) {
      var s = a.call(this, i) || this;
      return s.applyTransform = n.applyTransform, s.buildPath = n.buildPath, s;
    }
    return r;
  }(Y2);
  return o;
}
function XI(t, e) {
  for (var n = [], o = t.length, a = 0; a < o; a++) {
    var r = t[a];
    n.push(r.getUpdatedPathProxy(!0));
  }
  var i = new dt(e);
  return i.createPathProxy(), i.buildPath = function(s) {
    if (Z2(s)) {
      s.appendPath(n);
      var l = s.getContext();
      l && s.rebuildPath(l, 1);
    }
  }, i;
}
var YI = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.r = 0;
  }
  return t;
}(), Fs = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new YI();
  }, e.prototype.buildPath = function(n, o) {
    n.moveTo(o.cx + o.r, o.cy), n.arc(o.cx, o.cy, o.r, 0, Math.PI * 2);
  }, e;
}(dt);
Fs.prototype.type = "circle";
var ZI = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.rx = 0, this.ry = 0;
  }
  return t;
}(), sp = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new ZI();
  }, e.prototype.buildPath = function(n, o) {
    var a = 0.5522848, r = o.cx, i = o.cy, s = o.rx, l = o.ry, u = s * a, c = l * a;
    n.moveTo(r - s, i), n.bezierCurveTo(r - s, i - c, r - u, i - l, r, i - l), n.bezierCurveTo(r + u, i - l, r + s, i - c, r + s, i), n.bezierCurveTo(r + s, i + c, r + u, i + l, r, i + l), n.bezierCurveTo(r - u, i + l, r - s, i + c, r - s, i), n.closePath();
  }, e;
}(dt);
sp.prototype.type = "ellipse";
var J2 = Math.PI, gd = J2 * 2, Pa = Math.sin, mr = Math.cos, qI = Math.acos, Qt = Math.atan2, C0 = Math.abs, ts = Math.sqrt, Gi = Math.max, uo = Math.min, Xn = 1e-4;
function JI(t, e, n, o, a, r, i, s) {
  var l = n - t, u = o - e, c = i - a, d = s - r, f = d * l - c * u;
  if (!(f * f < Xn))
    return f = (c * (e - r) - d * (t - a)) / f, [t + f * l, e + f * u];
}
function ul(t, e, n, o, a, r, i) {
  var s = t - n, l = e - o, u = (i ? r : -r) / ts(s * s + l * l), c = u * l, d = -u * s, f = t + c, v = e + d, p = n + c, h = o + d, m = (f + p) / 2, g = (v + h) / 2, y = p - f, _ = h - v, w = y * y + _ * _, x = a - r, S = f * h - p * v, L = (_ < 0 ? -1 : 1) * ts(Gi(0, x * x * w - S * S)), b = (S * _ - y * L) / w, I = (-S * y - _ * L) / w, M = (S * _ + y * L) / w, E = (-S * y + _ * L) / w, D = b - m, O = I - g, N = M - m, P = E - g;
  return D * D + O * O > N * N + P * P && (b = M, I = E), {
    cx: b,
    cy: I,
    x0: -c,
    y0: -d,
    x1: b * (a / x - 1),
    y1: I * (a / x - 1)
  };
}
function KI(t) {
  var e;
  if (Oe(t)) {
    var n = t.length;
    if (!n)
      return t;
    n === 1 ? e = [t[0], t[0], 0, 0] : n === 2 ? e = [t[0], t[0], t[1], t[1]] : n === 3 ? e = t.concat(t[2]) : e = t;
  } else
    e = [t, t, t, t];
  return e;
}
function QI(t, e) {
  var n, o = Gi(e.r, 0), a = Gi(e.r0 || 0, 0), r = o > 0, i = a > 0;
  if (!(!r && !i)) {
    if (r || (o = a, a = 0), a > o) {
      var s = o;
      o = a, a = s;
    }
    var l = e.startAngle, u = e.endAngle;
    if (!(isNaN(l) || isNaN(u))) {
      var c = e.cx, d = e.cy, f = !!e.clockwise, v = C0(u - l), p = v > gd && v % gd;
      if (p > Xn && (v = p), !(o > Xn))
        t.moveTo(c, d);
      else if (v > gd - Xn)
        t.moveTo(c + o * mr(l), d + o * Pa(l)), t.arc(c, d, o, l, u, !f), a > Xn && (t.moveTo(c + a * mr(u), d + a * Pa(u)), t.arc(c, d, a, u, l, f));
      else {
        var h = void 0, m = void 0, g = void 0, y = void 0, _ = void 0, w = void 0, x = void 0, S = void 0, L = void 0, b = void 0, I = void 0, M = void 0, E = void 0, D = void 0, O = void 0, N = void 0, P = o * mr(l), $ = o * Pa(l), z = a * mr(u), H = a * Pa(u), W = v > Xn;
        if (W) {
          var oe = e.cornerRadius;
          oe && (n = KI(oe), h = n[0], m = n[1], g = n[2], y = n[3]);
          var te = C0(o - a) / 2;
          if (_ = uo(te, g), w = uo(te, y), x = uo(te, h), S = uo(te, m), I = L = Gi(_, w), M = b = Gi(x, S), (L > Xn || b > Xn) && (E = o * mr(u), D = o * Pa(u), O = a * mr(l), N = a * Pa(l), v < J2)) {
            var le = JI(P, $, O, N, E, D, z, H);
            if (le) {
              var J = P - le[0], Q = $ - le[1], q = E - le[0], G = D - le[1], B = 1 / Pa(qI((J * q + Q * G) / (ts(J * J + Q * Q) * ts(q * q + G * G))) / 2), ee = ts(le[0] * le[0] + le[1] * le[1]);
              I = uo(L, (o - ee) / (B + 1)), M = uo(b, (a - ee) / (B - 1));
            }
          }
        }
        if (!W)
          t.moveTo(c + P, d + $);
        else if (I > Xn) {
          var ue = uo(g, I), X = uo(y, I), Y = ul(O, N, P, $, o, ue, f), U = ul(E, D, z, H, o, X, f);
          t.moveTo(c + Y.cx + Y.x0, d + Y.cy + Y.y0), I < L && ue === X ? t.arc(c + Y.cx, d + Y.cy, I, Qt(Y.y0, Y.x0), Qt(U.y0, U.x0), !f) : (ue > 0 && t.arc(c + Y.cx, d + Y.cy, ue, Qt(Y.y0, Y.x0), Qt(Y.y1, Y.x1), !f), t.arc(c, d, o, Qt(Y.cy + Y.y1, Y.cx + Y.x1), Qt(U.cy + U.y1, U.cx + U.x1), !f), X > 0 && t.arc(c + U.cx, d + U.cy, X, Qt(U.y1, U.x1), Qt(U.y0, U.x0), !f));
        } else
          t.moveTo(c + P, d + $), t.arc(c, d, o, l, u, !f);
        if (!(a > Xn) || !W)
          t.lineTo(c + z, d + H);
        else if (M > Xn) {
          var ue = uo(h, M), X = uo(m, M), Y = ul(z, H, E, D, a, -X, f), U = ul(P, $, O, N, a, -ue, f);
          t.lineTo(c + Y.cx + Y.x0, d + Y.cy + Y.y0), M < b && ue === X ? t.arc(c + Y.cx, d + Y.cy, M, Qt(Y.y0, Y.x0), Qt(U.y0, U.x0), !f) : (X > 0 && t.arc(c + Y.cx, d + Y.cy, X, Qt(Y.y0, Y.x0), Qt(Y.y1, Y.x1), !f), t.arc(c, d, a, Qt(Y.cy + Y.y1, Y.cx + Y.x1), Qt(U.cy + U.y1, U.cx + U.x1), f), ue > 0 && t.arc(c + U.cx, d + U.cy, ue, Qt(U.y1, U.x1), Qt(U.y0, U.x0), !f));
        } else
          t.lineTo(c + z, d + H), t.arc(c, d, a, u, l, f);
      }
      t.closePath();
    }
  }
}
var jI = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0, this.cornerRadius = 0;
  }
  return t;
}(), ma = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new jI();
  }, e.prototype.buildPath = function(n, o) {
    QI(n, o);
  }, e.prototype.isZeroArea = function() {
    return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0;
  }, e;
}(dt);
ma.prototype.type = "sector";
var eC = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0;
  }
  return t;
}(), ec = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new eC();
  }, e.prototype.buildPath = function(n, o) {
    var a = o.cx, r = o.cy, i = Math.PI * 2;
    n.moveTo(a + o.r, r), n.arc(a, r, o.r, 0, i, !1), n.moveTo(a + o.r0, r), n.arc(a, r, o.r0, 0, i, !0);
  }, e;
}(dt);
ec.prototype.type = "ring";
function tC(t, e, n, o) {
  var a = [], r = [], i = [], s = [], l, u, c, d;
  if (o) {
    c = [1 / 0, 1 / 0], d = [-1 / 0, -1 / 0];
    for (var f = 0, v = t.length; f < v; f++)
      Er(c, c, t[f]), Mr(d, d, t[f]);
    Er(c, c, o[0]), Mr(d, d, o[1]);
  }
  for (var f = 0, v = t.length; f < v; f++) {
    var p = t[f];
    if (n)
      l = t[f ? f - 1 : v - 1], u = t[(f + 1) % v];
    else if (f === 0 || f === v - 1) {
      a.push(kx(t[f]));
      continue;
    } else
      l = t[f - 1], u = t[f + 1];
    Ex(r, u, l), Rc(r, r, e);
    var h = yf(p, l), m = yf(p, u), g = h + m;
    g !== 0 && (h /= g, m /= g), Rc(i, r, -h), Rc(s, r, m);
    var y = vh([], p, i), _ = vh([], p, s);
    o && (Mr(y, y, c), Er(y, y, d), Mr(_, _, c), Er(_, _, d)), a.push(y), a.push(_);
  }
  return n && a.push(a.shift()), a;
}
function K2(t, e, n) {
  var o = e.smooth, a = e.points;
  if (a && a.length >= 2) {
    if (o) {
      var r = tC(a, o, n, e.smoothConstraint);
      t.moveTo(a[0][0], a[0][1]);
      for (var i = a.length, s = 0; s < (n ? i : i - 1); s++) {
        var l = r[s * 2], u = r[s * 2 + 1], c = a[(s + 1) % i];
        t.bezierCurveTo(l[0], l[1], u[0], u[1], c[0], c[1]);
      }
    } else {
      t.moveTo(a[0][0], a[0][1]);
      for (var s = 1, d = a.length; s < d; s++)
        t.lineTo(a[s][0], a[s][1]);
    }
    n && t.closePath();
  }
}
var nC = /* @__PURE__ */ function() {
  function t() {
    this.points = null, this.smooth = 0, this.smoothConstraint = null;
  }
  return t;
}(), zs = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new nC();
  }, e.prototype.buildPath = function(n, o) {
    K2(n, o, !0);
  }, e;
}(dt);
zs.prototype.type = "polygon";
var oC = /* @__PURE__ */ function() {
  function t() {
    this.points = null, this.percent = 1, this.smooth = 0, this.smoothConstraint = null;
  }
  return t;
}(), rr = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new oC();
  }, e.prototype.buildPath = function(n, o) {
    K2(n, o, !1);
  }, e;
}(dt);
rr.prototype.type = "polyline";
var aC = {}, rC = /* @__PURE__ */ function() {
  function t() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
  }
  return t;
}(), ua = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new rC();
  }, e.prototype.buildPath = function(n, o) {
    var a, r, i, s;
    if (this.subPixelOptimize) {
      var l = $2(aC, o, this.style);
      a = l.x1, r = l.y1, i = l.x2, s = l.y2;
    } else
      a = o.x1, r = o.y1, i = o.x2, s = o.y2;
    var u = o.percent;
    u !== 0 && (n.moveTo(a, r), u < 1 && (i = a * (1 - u) + i * u, s = r * (1 - u) + s * u), n.lineTo(i, s));
  }, e.prototype.pointAt = function(n) {
    var o = this.shape;
    return [
      o.x1 * (1 - n) + o.x2 * n,
      o.y1 * (1 - n) + o.y2 * n
    ];
  }, e;
}(dt);
ua.prototype.type = "line";
var dn = [], iC = /* @__PURE__ */ function() {
  function t() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.percent = 1;
  }
  return t;
}();
function T0(t, e, n) {
  var o = t.cpx2, a = t.cpy2;
  return o != null || a != null ? [
    (n ? Ih : Zt)(t.x1, t.cpx1, t.cpx2, t.x2, e),
    (n ? Ih : Zt)(t.y1, t.cpy1, t.cpy2, t.y2, e)
  ] : [
    (n ? Ch : pn)(t.x1, t.cpx1, t.x2, e),
    (n ? Ch : pn)(t.y1, t.cpy1, t.y2, e)
  ];
}
var lp = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new iC();
  }, e.prototype.buildPath = function(n, o) {
    var a = o.x1, r = o.y1, i = o.x2, s = o.y2, l = o.cpx1, u = o.cpy1, c = o.cpx2, d = o.cpy2, f = o.percent;
    f !== 0 && (n.moveTo(a, r), c == null || d == null ? (f < 1 && (iu(a, l, i, f, dn), l = dn[1], i = dn[2], iu(r, u, s, f, dn), u = dn[1], s = dn[2]), n.quadraticCurveTo(l, u, i, s)) : (f < 1 && (ru(a, l, c, i, f, dn), l = dn[1], c = dn[2], i = dn[3], ru(r, u, d, s, f, dn), u = dn[1], d = dn[2], s = dn[3]), n.bezierCurveTo(l, u, c, d, i, s)));
  }, e.prototype.pointAt = function(n) {
    return T0(this.shape, n, !1);
  }, e.prototype.tangentAt = function(n) {
    var o = T0(this.shape, n, !0);
    return Dx(o, o);
  }, e;
}(dt);
lp.prototype.type = "bezier-curve";
var sC = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0;
  }
  return t;
}(), tc = function(t) {
  De(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new sC();
  }, e.prototype.buildPath = function(n, o) {
    var a = o.cx, r = o.cy, i = Math.max(o.r, 0), s = o.startAngle, l = o.endAngle, u = o.clockwise, c = Math.cos(s), d = Math.sin(s);
    n.moveTo(c * i + a, d * i + r), n.arc(a, r, i, s, l, !u);
  }, e;
}(dt);
tc.prototype.type = "arc";
var lC = function(t) {
  De(e, t);
  function e() {
    var n = t !== null && t.apply(this, arguments) || this;
    return n.type = "compound", n;
  }
  return e.prototype._updatePathDirty = function() {
    for (var n = this.shape.paths, o = this.shapeChanged(), a = 0; a < n.length; a++)
      o = o || n[a].shapeChanged();
    o && this.dirtyShape();
  }, e.prototype.beforeBrush = function() {
    this._updatePathDirty();
    for (var n = this.shape.paths || [], o = this.getGlobalScale(), a = 0; a < n.length; a++)
      n[a].path || n[a].createPathProxy(), n[a].path.setScale(o[0], o[1], n[a].segmentIgnoreThreshold);
  }, e.prototype.buildPath = function(n, o) {
    for (var a = o.paths || [], r = 0; r < a.length; r++)
      a[r].buildPath(n, a[r].shape, !0);
  }, e.prototype.afterBrush = function() {
    for (var n = this.shape.paths || [], o = 0; o < n.length; o++)
      n[o].pathUpdated();
  }, e.prototype.getBoundingRect = function() {
    return this._updatePathDirty.call(this), dt.prototype.getBoundingRect.call(this);
  }, e;
}(dt);
const Q2 = lC;
var j2 = function() {
  function t(e) {
    this.colorStops = e || [];
  }
  return t.prototype.addColorStop = function(e, n) {
    this.colorStops.push({
      offset: e,
      color: n
    });
  }, t;
}(), ey = function(t) {
  De(e, t);
  function e(n, o, a, r, i, s) {
    var l = t.call(this, i) || this;
    return l.x = n ?? 0, l.y = o ?? 0, l.x2 = a ?? 1, l.y2 = r ?? 0, l.type = "linear", l.global = s || !1, l;
  }
  return e;
}(j2), uC = function(t) {
  De(e, t);
  function e(n, o, a, r, i) {
    var s = t.call(this, r) || this;
    return s.x = n ?? 0.5, s.y = o ?? 0.5, s.r = a ?? 0.5, s.type = "radial", s.global = i || !1, s;
  }
  return e;
}(j2);
const cC = uC;
var Ra = [0, 0], Oa = [0, 0], cl = new Ye(), dl = new Ye(), dC = function() {
  function t(e, n) {
    this._corners = [], this._axes = [], this._origin = [0, 0];
    for (var o = 0; o < 4; o++)
      this._corners[o] = new Ye();
    for (var o = 0; o < 2; o++)
      this._axes[o] = new Ye();
    e && this.fromBoundingRect(e, n);
  }
  return t.prototype.fromBoundingRect = function(e, n) {
    var o = this._corners, a = this._axes, r = e.x, i = e.y, s = r + e.width, l = i + e.height;
    if (o[0].set(r, i), o[1].set(s, i), o[2].set(s, l), o[3].set(r, l), n)
      for (var u = 0; u < 4; u++)
        o[u].transform(n);
    Ye.sub(a[0], o[1], o[0]), Ye.sub(a[1], o[3], o[0]), a[0].normalize(), a[1].normalize();
    for (var u = 0; u < 2; u++)
      this._origin[u] = a[u].dot(o[0]);
  }, t.prototype.intersect = function(e, n) {
    var o = !0, a = !n;
    return cl.set(1 / 0, 1 / 0), dl.set(0, 0), !this._intersectCheckOneSide(this, e, cl, dl, a, 1) && (o = !1, a) || !this._intersectCheckOneSide(e, this, cl, dl, a, -1) && (o = !1, a) || a || Ye.copy(n, o ? cl : dl), o;
  }, t.prototype._intersectCheckOneSide = function(e, n, o, a, r, i) {
    for (var s = !0, l = 0; l < 2; l++) {
      var u = this._axes[l];
      if (this._getProjMinMaxOnAxis(l, e._corners, Ra), this._getProjMinMaxOnAxis(l, n._corners, Oa), Ra[1] < Oa[0] || Ra[0] > Oa[1]) {
        if (s = !1, r)
          return s;
        var c = Math.abs(Oa[0] - Ra[1]), d = Math.abs(Ra[0] - Oa[1]);
        Math.min(c, d) > a.len() && (c < d ? Ye.scale(a, u, -c * i) : Ye.scale(a, u, d * i));
      } else if (o) {
        var c = Math.abs(Oa[0] - Ra[1]), d = Math.abs(Ra[0] - Oa[1]);
        Math.min(c, d) < o.len() && (c < d ? Ye.scale(o, u, c * i) : Ye.scale(o, u, -d * i));
      }
    }
    return s;
  }, t.prototype._getProjMinMaxOnAxis = function(e, n, o) {
    for (var a = this._axes[e], r = this._origin, i = n[0].dot(a) + r[e], s = i, l = i, u = 1; u < n.length; u++) {
      var c = n[u].dot(a) + r[e];
      s = Math.min(c, s), l = Math.max(c, l);
    }
    o[0] = s, o[1] = l;
  }, t;
}();
const hu = dC;
var fC = [], vC = function(t) {
  De(e, t);
  function e() {
    var n = t !== null && t.apply(this, arguments) || this;
    return n.notClear = !0, n.incremental = !0, n._displayables = [], n._temporaryDisplayables = [], n._cursor = 0, n;
  }
  return e.prototype.traverse = function(n, o) {
    n.call(o, this);
  }, e.prototype.useStyle = function() {
    this.style = {};
  }, e.prototype.getCursor = function() {
    return this._cursor;
  }, e.prototype.innerAfterBrush = function() {
    this._cursor = this._displayables.length;
  }, e.prototype.clearDisplaybles = function() {
    this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.markRedraw(), this.notClear = !1;
  }, e.prototype.clearTemporalDisplayables = function() {
    this._temporaryDisplayables = [];
  }, e.prototype.addDisplayable = function(n, o) {
    o ? this._temporaryDisplayables.push(n) : this._displayables.push(n), this.markRedraw();
  }, e.prototype.addDisplayables = function(n, o) {
    o = o || !1;
    for (var a = 0; a < n.length; a++)
      this.addDisplayable(n[a], o);
  }, e.prototype.getDisplayables = function() {
    return this._displayables;
  }, e.prototype.getTemporalDisplayables = function() {
    return this._temporaryDisplayables;
  }, e.prototype.eachPendingDisplayable = function(n) {
    for (var o = this._cursor; o < this._displayables.length; o++)
      n && n(this._displayables[o]);
    for (var o = 0; o < this._temporaryDisplayables.length; o++)
      n && n(this._temporaryDisplayables[o]);
  }, e.prototype.update = function() {
    this.updateTransform();
    for (var n = this._cursor; n < this._displayables.length; n++) {
      var o = this._displayables[n];
      o.parent = this, o.update(), o.parent = null;
    }
    for (var n = 0; n < this._temporaryDisplayables.length; n++) {
      var o = this._temporaryDisplayables[n];
      o.parent = this, o.update(), o.parent = null;
    }
  }, e.prototype.getBoundingRect = function() {
    if (!this._rect) {
      for (var n = new yt(1 / 0, 1 / 0, -1 / 0, -1 / 0), o = 0; o < this._displayables.length; o++) {
        var a = this._displayables[o], r = a.getBoundingRect().clone();
        a.needLocalTransform() && r.applyTransform(a.getLocalTransform(fC)), n.union(r);
      }
      this._rect = n;
    }
    return this._rect;
  }, e.prototype.contain = function(n, o) {
    var a = this.transformCoordToLocal(n, o), r = this.getBoundingRect();
    if (r.contain(a[0], a[1]))
      for (var i = 0; i < this._displayables.length; i++) {
        var s = this._displayables[i];
        if (s.contain(n, o))
          return !0;
      }
    return !1;
  }, e;
}(Bs);
const pC = vC;
var hC = Wt();
function mC(t, e, n, o, a) {
  var r;
  if (e && e.ecModel) {
    var i = e.ecModel.getUpdatePayload();
    r = i && i.animation;
  }
  var s = e && e.isAnimationEnabled(), l = t === "update";
  if (s) {
    var u = void 0, c = void 0, d = void 0;
    o ? (u = Ge(o.duration, 200), c = Ge(o.easing, "cubicOut"), d = 0) : (u = e.getShallow(l ? "animationDurationUpdate" : "animationDuration"), c = e.getShallow(l ? "animationEasingUpdate" : "animationEasing"), d = e.getShallow(l ? "animationDelayUpdate" : "animationDelay")), r && (r.duration != null && (u = r.duration), r.easing != null && (c = r.easing), r.delay != null && (d = r.delay)), Je(d) && (d = d(n, a)), Je(u) && (u = u(n));
    var f = {
      duration: u || 0,
      delay: d,
      easing: c
    };
    return f;
  } else
    return null;
}
function up(t, e, n, o, a, r, i) {
  var s = !1, l;
  Je(a) ? (i = r, r = a, a = null) : Ue(a) && (r = a.cb, i = a.during, s = a.isFrom, l = a.removeOpt, a = a.dataIndex);
  var u = t === "leave";
  u || e.stopAnimation("leave");
  var c = mC(t, o, a, u ? l || {} : null, o && o.getAnimationDelayParams ? o.getAnimationDelayParams(e, a) : null);
  if (c && c.duration > 0) {
    var d = c.duration, f = c.delay, v = c.easing, p = {
      duration: d,
      delay: f || 0,
      easing: v,
      done: r,
      force: !!r || !!i,
      // Set to final state in update/init animation.
      // So the post processing based on the path shape can be done correctly.
      setToFinal: !u,
      scope: t,
      during: i
    };
    s ? e.animateFrom(n, p) : e.animateTo(n, p);
  } else
    e.stopAnimation(), !s && e.attr(n), i && i(1), r && r();
}
function an(t, e, n, o, a, r) {
  up("update", t, e, n, o, a, r);
}
function gn(t, e, n, o, a, r) {
  up("enter", t, e, n, o, a, r);
}
function ns(t) {
  if (!t.__zr)
    return !0;
  for (var e = 0; e < t.animators.length; e++) {
    var n = t.animators[e];
    if (n.scope === "leave")
      return !0;
  }
  return !1;
}
function mu(t, e, n, o, a, r) {
  ns(t) || up("leave", t, e, n, o, a, r);
}
function L0(t, e, n, o) {
  t.removeTextContent(), t.removeTextGuideLine(), mu(t, {
    style: {
      opacity: 0
    }
  }, e, n, o);
}
function gu(t, e, n) {
  function o() {
    t.parent && t.parent.remove(t);
  }
  t.isGroup ? t.traverse(function(a) {
    a.isGroup || L0(a, e, n, o);
  }) : L0(t, e, n, o);
}
function ms(t) {
  hC(t).oldStyle = t.style;
}
var yu = Math.max, _u = Math.min, Zf = {};
function gC(t) {
  return dt.extend(t);
}
var yC = WI;
function _C(t, e) {
  return yC(t, e);
}
function oo(t, e) {
  Zf[t] = e;
}
function bC(t) {
  if (Zf.hasOwnProperty(t))
    return Zf[t];
}
function cp(t, e, n, o) {
  var a = UI(t, e);
  return n && (o === "center" && (n = ny(n, a.getBoundingRect())), oy(a, n)), a;
}
function ty(t, e, n) {
  var o = new no({
    style: {
      image: t,
      x: e.x,
      y: e.y,
      width: e.width,
      height: e.height
    },
    onload: function(a) {
      if (n === "center") {
        var r = {
          width: a.width,
          height: a.height
        };
        o.setStyle(ny(e, r));
      }
    }
  });
  return o;
}
function ny(t, e) {
  var n = e.width / e.height, o = t.height * n, a;
  o <= t.width ? a = t.height : (o = t.width, a = o / n);
  var r = t.x + t.width / 2, i = t.y + t.height / 2;
  return {
    x: r - o / 2,
    y: i - a / 2,
    width: o,
    height: a
  };
}
var qf = XI;
function oy(t, e) {
  if (t.applyTransform) {
    var n = t.getBoundingRect(), o = n.calculateTransform(e);
    t.applyTransform(o);
  }
}
function gs(t, e) {
  return $2(t, t, {
    lineWidth: e
  }), t;
}
function wC(t) {
  return P2(t.shape, t.shape, t.style), t;
}
var xC = Ua;
function SC(t, e) {
  for (var n = Zv([]); t && t !== e; )
    Or(n, t.getLocalTransform(), n), t = t.parent;
  return n;
}
function ay(t, e, n) {
  return e && !_n(e) && (e = jv.getLocalTransform(e)), n && (e = qv([], e)), zn([], t, e);
}
function IC(t, e, n) {
  var o = e[4] === 0 || e[5] === 0 || e[0] === 0 ? 1 : Math.abs(2 * e[4] / e[0]), a = e[4] === 0 || e[5] === 0 || e[2] === 0 ? 1 : Math.abs(2 * e[4] / e[2]), r = [t === "left" ? -o : t === "right" ? o : 0, t === "top" ? -a : t === "bottom" ? a : 0];
  return r = ay(r, e, n), Math.abs(r[0]) > Math.abs(r[1]) ? r[0] > 0 ? "right" : "left" : r[1] > 0 ? "bottom" : "top";
}
function k0(t) {
  return !t.isGroup;
}
function CC(t) {
  return t.shape != null;
}
function ry(t, e, n) {
  if (!t || !e)
    return;
  function o(i) {
    var s = {};
    return i.traverse(function(l) {
      k0(l) && l.anid && (s[l.anid] = l);
    }), s;
  }
  function a(i) {
    var s = {
      x: i.x,
      y: i.y,
      rotation: i.rotation
    };
    return CC(i) && (s.shape = Le({}, i.shape)), s;
  }
  var r = o(t);
  e.traverse(function(i) {
    if (k0(i) && i.anid) {
      var s = r[i.anid];
      if (s) {
        var l = a(i);
        i.attr(a(s)), an(i, l, n, It(i).dataIndex);
      }
    }
  });
}
function TC(t, e) {
  return $e(t, function(n) {
    var o = n[0];
    o = yu(o, e.x), o = _u(o, e.x + e.width);
    var a = n[1];
    return a = yu(a, e.y), a = _u(a, e.y + e.height), [o, a];
  });
}
function LC(t, e) {
  var n = yu(t.x, e.x), o = _u(t.x + t.width, e.x + e.width), a = yu(t.y, e.y), r = _u(t.y + t.height, e.y + e.height);
  if (o >= n && r >= a)
    return {
      x: n,
      y: a,
      width: o - n,
      height: r - a
    };
}
function iy(t, e, n) {
  var o = Le({
    rectHover: !0
  }, e), a = o.style = {
    strokeNoScale: !0
  };
  if (n = n || {
    x: -1,
    y: -1,
    width: 2,
    height: 2
  }, t)
    return t.indexOf("image://") === 0 ? (a.image = t.slice(8), rt(a, n), new no(o)) : cp(t.replace("path://", ""), o, n, "center");
}
function kC(t, e, n, o, a) {
  for (var r = 0, i = a[a.length - 1]; r < a.length; r++) {
    var s = a[r];
    if (sy(t, e, n, o, s[0], s[1], i[0], i[1]))
      return !0;
    i = s;
  }
}
function sy(t, e, n, o, a, r, i, s) {
  var l = n - t, u = o - e, c = i - a, d = s - r, f = yd(c, d, l, u);
  if (EC(f))
    return !1;
  var v = t - a, p = e - r, h = yd(v, p, l, u) / f;
  if (h < 0 || h > 1)
    return !1;
  var m = yd(v, p, c, d) / f;
  return !(m < 0 || m > 1);
}
function yd(t, e, n, o) {
  return t * o - n * e;
}
function EC(t) {
  return t <= 1e-6 && t >= -1e-6;
}
function dp(t) {
  var e = t.itemTooltipOption, n = t.componentModel, o = t.itemName, a = ze(e) ? {
    formatter: e
  } : e, r = n.mainType, i = n.componentIndex, s = {
    componentType: r,
    name: o,
    $vars: ["name"]
  };
  s[r + "Index"] = i;
  var l = t.formatterParamsExtra;
  l && se(lt(l), function(c) {
    ds(s, c) || (s[c] = l[c], s.$vars.push(c));
  });
  var u = It(t.el);
  u.componentMainType = r, u.componentIndex = i, u.tooltipConfig = {
    name: o,
    option: rt({
      content: o,
      encodeHTMLContent: !0,
      formatterParams: s
    }, a)
  };
}
function E0(t, e) {
  var n;
  t.isGroup && (n = e(t)), n || t.traverse(e);
}
function nc(t, e) {
  if (t)
    if (Oe(t))
      for (var n = 0; n < t.length; n++)
        E0(t[n], e);
    else
      E0(t, e);
}
oo("circle", Fs);
oo("ellipse", sp);
oo("sector", ma);
oo("ring", ec);
oo("polygon", zs);
oo("polyline", rr);
oo("rect", Gt);
oo("line", ua);
oo("bezierCurve", lp);
oo("arc", tc);
const MC = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Arc: tc,
  BezierCurve: lp,
  BoundingRect: yt,
  Circle: Fs,
  CompoundPath: Q2,
  Ellipse: sp,
  Group: zt,
  Image: no,
  IncrementalDisplayable: pC,
  Line: ua,
  LinearGradient: ey,
  OrientedBoundingRect: hu,
  Path: dt,
  Point: Ye,
  Polygon: zs,
  Polyline: rr,
  RadialGradient: cC,
  Rect: Gt,
  Ring: ec,
  Sector: ma,
  Text: Ln,
  applyTransform: ay,
  clipPointsByRect: TC,
  clipRectByRect: LC,
  createIcon: iy,
  extendPath: _C,
  extendShape: gC,
  getShapeClass: bC,
  getTransform: SC,
  groupTransition: ry,
  initProps: gn,
  isElementRemoved: ns,
  lineLineIntersect: sy,
  linePolygonIntersect: kC,
  makeImage: ty,
  makePath: cp,
  mergePath: qf,
  registerShape: oo,
  removeElement: mu,
  removeElementWithFadeOut: gu,
  resizePath: oy,
  setTooltipConfig: dp,
  subPixelOptimize: xC,
  subPixelOptimizeLine: gs,
  subPixelOptimizeRect: wC,
  transformDirection: IC,
  traverseElements: nc,
  updateProps: an
}, Symbol.toStringTag, { value: "Module" }));
var oc = {};
function AC(t, e) {
  for (var n = 0; n < Vn.length; n++) {
    var o = Vn[n], a = e[o], r = t.ensureState(o);
    r.style = r.style || {}, r.style.text = a;
  }
  var i = t.currentStates.slice();
  t.clearStates(!0), t.setStyle({
    text: e.normal
  }), t.useStates(i, !0);
}
function M0(t, e, n) {
  var o = t.labelFetcher, a = t.labelDataIndex, r = t.labelDimIndex, i = e.normal, s;
  o && (s = o.getFormattedLabel(a, "normal", null, r, i && i.get("formatter"), n != null ? {
    interpolatedValue: n
  } : null)), s == null && (s = Je(t.defaultText) ? t.defaultText(a, t, n) : t.defaultText);
  for (var l = {
    normal: s
  }, u = 0; u < Vn.length; u++) {
    var c = Vn[u], d = e[c];
    l[c] = Ge(o ? o.getFormattedLabel(a, c, null, r, d && d.get("formatter")) : null, s);
  }
  return l;
}
function ti(t, e, n, o) {
  n = n || oc;
  for (var a = t instanceof Ln, r = !1, i = 0; i < fu.length; i++) {
    var s = e[fu[i]];
    if (s && s.getShallow("show")) {
      r = !0;
      break;
    }
  }
  var l = a ? t : t.getTextContent();
  if (r) {
    a || (l || (l = new Ln(), t.setTextContent(l)), t.stateProxy && (l.stateProxy = t.stateProxy));
    var u = M0(n, e), c = e.normal, d = !!c.getShallow("show"), f = ys(c, o && o.normal, n, !1, !a);
    f.text = u.normal, a || t.setTextConfig(A0(c, n, !1));
    for (var i = 0; i < Vn.length; i++) {
      var v = Vn[i], s = e[v];
      if (s) {
        var p = l.ensureState(v), h = !!Ge(s.getShallow("show"), d);
        if (h !== d && (p.ignore = !h), p.style = ys(s, o && o[v], n, !0, !a), p.style.text = u[v], !a) {
          var m = t.ensureState(v);
          m.textConfig = A0(s, n, !0);
        }
      }
    }
    l.silent = !!c.getShallow("silent"), l.style.x != null && (f.x = l.style.x), l.style.y != null && (f.y = l.style.y), l.ignore = !d, l.useStyle(f), l.dirty(), n.enableTextSetter && (ac(l).setLabelText = function(g) {
      var y = M0(n, e, g);
      AC(l, y);
    });
  } else l && (l.ignore = !0);
  t.dirty();
}
function ni(t, e) {
  e = e || "label";
  for (var n = {
    normal: t.getModel(e)
  }, o = 0; o < Vn.length; o++) {
    var a = Vn[o];
    n[a] = t.getModel([a, e]);
  }
  return n;
}
function ys(t, e, n, o, a) {
  var r = {};
  return DC(r, t, n, o, a), e && Le(r, e), r;
}
function A0(t, e, n) {
  e = e || {};
  var o = {}, a, r = t.getShallow("rotate"), i = Ge(t.getShallow("distance"), n ? null : 5), s = t.getShallow("offset");
  return a = t.getShallow("position") || (n ? null : "inside"), a === "outside" && (a = e.defaultOutsidePosition || "top"), a != null && (o.position = a), s != null && (o.offset = s), r != null && (r *= Math.PI / 180, o.rotation = r), i != null && (o.distance = i), o.outsideFill = t.get("color") === "inherit" ? e.inheritColor || null : "auto", o;
}
function DC(t, e, n, o, a) {
  n = n || oc;
  var r = e.ecModel, i = r && r.option.textStyle, s = $C(e), l;
  if (s) {
    l = {};
    for (var u in s)
      if (s.hasOwnProperty(u)) {
        var c = e.getModel(["rich", u]);
        R0(l[u] = {}, c, i, n, o, a, !1, !0);
      }
  }
  l && (t.rich = l);
  var d = e.get("overflow");
  d && (t.overflow = d);
  var f = e.get("minMargin");
  f != null && (t.margin = f), R0(t, e, i, n, o, a, !0, !1);
}
function $C(t) {
  for (var e; t && t !== t.ecModel; ) {
    var n = (t.option || oc).rich;
    if (n) {
      e = e || {};
      for (var o = lt(n), a = 0; a < o.length; a++) {
        var r = o[a];
        e[r] = 1;
      }
    }
    t = t.parentModel;
  }
  return e;
}
var D0 = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], $0 = ["align", "lineHeight", "width", "height", "tag", "verticalAlign", "ellipsis"], P0 = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
function R0(t, e, n, o, a, r, i, s) {
  n = !a && n || oc;
  var l = o && o.inheritColor, u = e.getShallow("color"), c = e.getShallow("textBorderColor"), d = Ge(e.getShallow("opacity"), n.opacity);
  (u === "inherit" || u === "auto") && (process.env.NODE_ENV !== "production" && u === "auto" && Nt("color: 'auto'", "color: 'inherit'"), l ? u = l : u = null), (c === "inherit" || c === "auto") && (process.env.NODE_ENV !== "production" && c === "auto" && Nt("color: 'auto'", "color: 'inherit'"), l ? c = l : c = null), r || (u = u || n.color, c = c || n.textBorderColor), u != null && (t.fill = u), c != null && (t.stroke = c);
  var f = Ge(e.getShallow("textBorderWidth"), n.textBorderWidth);
  f != null && (t.lineWidth = f);
  var v = Ge(e.getShallow("textBorderType"), n.textBorderType);
  v != null && (t.lineDash = v);
  var p = Ge(e.getShallow("textBorderDashOffset"), n.textBorderDashOffset);
  p != null && (t.lineDashOffset = p), !a && d == null && !s && (d = o && o.defaultOpacity), d != null && (t.opacity = d), !a && !r && t.fill == null && o.inheritColor && (t.fill = o.inheritColor);
  for (var h = 0; h < D0.length; h++) {
    var m = D0[h], g = Ge(e.getShallow(m), n[m]);
    g != null && (t[m] = g);
  }
  for (var h = 0; h < $0.length; h++) {
    var m = $0[h], g = e.getShallow(m);
    g != null && (t[m] = g);
  }
  if (t.verticalAlign == null) {
    var y = e.getShallow("baseline");
    y != null && (t.verticalAlign = y);
  }
  if (!i || !o.disableBox) {
    for (var h = 0; h < P0.length; h++) {
      var m = P0[h], g = e.getShallow(m);
      g != null && (t[m] = g);
    }
    var _ = e.getShallow("borderType");
    _ != null && (t.borderDash = _), (t.backgroundColor === "auto" || t.backgroundColor === "inherit") && l && (process.env.NODE_ENV !== "production" && t.backgroundColor === "auto" && Nt("backgroundColor: 'auto'", "backgroundColor: 'inherit'"), t.backgroundColor = l), (t.borderColor === "auto" || t.borderColor === "inherit") && l && (process.env.NODE_ENV !== "production" && t.borderColor === "auto" && Nt("borderColor: 'auto'", "borderColor: 'inherit'"), t.borderColor = l);
  }
}
function PC(t, e) {
  var n = e && e.getModel("textStyle");
  return Yo([
    // FIXME in node-canvas fontWeight is before fontStyle
    t.fontStyle || n && n.getShallow("fontStyle") || "",
    t.fontWeight || n && n.getShallow("fontWeight") || "",
    (t.fontSize || n && n.getShallow("fontSize") || 12) + "px",
    t.fontFamily || n && n.getShallow("fontFamily") || "sans-serif"
  ].join(" "));
}
var ac = Wt();
function RC(t, e, n, o) {
  if (t) {
    var a = ac(t);
    a.prevValue = a.value, a.value = n;
    var r = e.normal;
    a.valueAnimation = r.get("valueAnimation"), a.valueAnimation && (a.precision = r.get("precision"), a.defaultInterpolatedText = o, a.statesModels = e);
  }
}
var OC = ["textStyle", "color"], _d = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"], bd = new Ln(), NC = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getTextColor = function(e) {
      var n = this.ecModel;
      return this.getShallow("color") || (!e && n ? n.get(OC) : null);
    }, t.prototype.getFont = function() {
      return PC({
        fontStyle: this.getShallow("fontStyle"),
        fontWeight: this.getShallow("fontWeight"),
        fontSize: this.getShallow("fontSize"),
        fontFamily: this.getShallow("fontFamily")
      }, this.ecModel);
    }, t.prototype.getTextRect = function(e) {
      for (var n = {
        text: e,
        verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline")
      }, o = 0; o < _d.length; o++)
        n[_d[o]] = this.getShallow(_d[o]);
      return bd.useStyle(n), bd.update(), bd.getBoundingRect();
    }, t;
  }()
), ly = [
  ["lineWidth", "width"],
  ["stroke", "color"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "type"],
  ["lineDashOffset", "dashOffset"],
  ["lineCap", "cap"],
  ["lineJoin", "join"],
  ["miterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], BC = ps(ly), FC = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getLineStyle = function(e) {
      return BC(this, e);
    }, t;
  }()
), uy = [
  ["fill", "color"],
  ["stroke", "borderColor"],
  ["lineWidth", "borderWidth"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "borderType"],
  ["lineDashOffset", "borderDashOffset"],
  ["lineCap", "borderCap"],
  ["lineJoin", "borderJoin"],
  ["miterLimit", "borderMiterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], zC = ps(uy), VC = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getItemStyle = function(e, n) {
      return zC(this, e, n);
    }, t;
  }()
), Ut = (
  /** @class */
  function() {
    function t(e, n, o) {
      this.parentModel = n, this.ecModel = o, this.option = e;
    }
    return t.prototype.init = function(e, n, o) {
    }, t.prototype.mergeOption = function(e, n) {
      gt(this.option, e, !0);
    }, t.prototype.get = function(e, n) {
      return e == null ? this.option : this._doGet(this.parsePath(e), !n && this.parentModel);
    }, t.prototype.getShallow = function(e, n) {
      var o = this.option, a = o == null ? o : o[e];
      if (a == null && !n) {
        var r = this.parentModel;
        r && (a = r.getShallow(e));
      }
      return a;
    }, t.prototype.getModel = function(e, n) {
      var o = e != null, a = o ? this.parsePath(e) : null, r = o ? this._doGet(a) : this.option;
      return n = n || this.parentModel && this.parentModel.getModel(this.resolveParentPath(a)), new t(r, n, this.ecModel);
    }, t.prototype.isEmpty = function() {
      return this.option == null;
    }, t.prototype.restoreData = function() {
    }, t.prototype.clone = function() {
      var e = this.constructor;
      return new e(st(this.option));
    }, t.prototype.parsePath = function(e) {
      return typeof e == "string" ? e.split(".") : e;
    }, t.prototype.resolveParentPath = function(e) {
      return e;
    }, t.prototype.isAnimationEnabled = function() {
      if (!pt.node && this.option) {
        if (this.option.animation != null)
          return !!this.option.animation;
        if (this.parentModel)
          return this.parentModel.isAnimationEnabled();
      }
    }, t.prototype._doGet = function(e, n) {
      var o = this.option;
      if (!e)
        return o;
      for (var a = 0; a < e.length && !(e[a] && (o = o && typeof o == "object" ? o[e[a]] : null, o == null)); a++)
        ;
      return o == null && n && (o = n._doGet(this.resolveParentPath(e), n.parentModel)), o;
    }, t;
  }()
);
tp(Ut);
T9(Ut);
to(Ut, FC);
to(Ut, VC);
to(Ut, A9);
to(Ut, NC);
var HC = Math.round(Math.random() * 10);
function rc(t) {
  return [t || "", HC++].join("_");
}
function GC(t) {
  var e = {};
  t.registerSubTypeDefaulter = function(n, o) {
    var a = mo(n);
    e[a.main] = o;
  }, t.determineSubType = function(n, o) {
    var a = o.type;
    if (!a) {
      var r = mo(n).main;
      t.hasSubTypes(n) && e[r] && (a = e[r](o));
    }
    return a;
  };
}
function UC(t, e) {
  t.topologicalTravel = function(r, i, s, l) {
    if (!r.length)
      return;
    var u = n(i), c = u.graph, d = u.noEntryList, f = {};
    for (se(r, function(y) {
      f[y] = !0;
    }); d.length; ) {
      var v = d.pop(), p = c[v], h = !!f[v];
      h && (s.call(l, v, p.originalDeps.slice()), delete f[v]), se(p.successor, h ? g : m);
    }
    se(f, function() {
      var y = "";
      throw process.env.NODE_ENV !== "production" && (y = Bf("Circular dependency may exists: ", f, r, i)), new Error(y);
    });
    function m(y) {
      c[y].entryCount--, c[y].entryCount === 0 && d.push(y);
    }
    function g(y) {
      f[y] = !0, m(y);
    }
  };
  function n(r) {
    var i = {}, s = [];
    return se(r, function(l) {
      var u = o(i, l), c = u.originalDeps = e(l), d = a(c, r);
      u.entryCount = d.length, u.entryCount === 0 && s.push(l), se(d, function(f) {
        St(u.predecessor, f) < 0 && u.predecessor.push(f);
        var v = o(i, f);
        St(v.successor, f) < 0 && v.successor.push(l);
      });
    }), {
      graph: i,
      noEntryList: s
    };
  }
  function o(r, i) {
    return r[i] || (r[i] = {
      predecessor: [],
      successor: []
    }), r[i];
  }
  function a(r, i) {
    var s = [];
    return se(r, function(l) {
      St(i, l) >= 0 && s.push(l);
    }), s;
  }
}
function cy(t, e) {
  return gt(gt({}, t, !0), e, !0);
}
const WC = {
  time: {
    month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
    monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
    dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
  },
  legend: {
    selector: {
      all: "All",
      inverse: "Inv"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "Box Select",
        polygon: "Lasso Select",
        lineX: "Horizontally Select",
        lineY: "Vertically Select",
        keep: "Keep Selections",
        clear: "Clear Selections"
      }
    },
    dataView: {
      title: "Data View",
      lang: ["Data View", "Close", "Refresh"]
    },
    dataZoom: {
      title: {
        zoom: "Zoom",
        back: "Zoom Reset"
      }
    },
    magicType: {
      title: {
        line: "Switch to Line Chart",
        bar: "Switch to Bar Chart",
        stack: "Stack",
        tiled: "Tile"
      }
    },
    restore: {
      title: "Restore"
    },
    saveAsImage: {
      title: "Save as Image",
      lang: ["Right Click to Save Image"]
    }
  },
  series: {
    typeNames: {
      pie: "Pie chart",
      bar: "Bar chart",
      line: "Line chart",
      scatter: "Scatter plot",
      effectScatter: "Ripple scatter plot",
      radar: "Radar chart",
      tree: "Tree",
      treemap: "Treemap",
      boxplot: "Boxplot",
      candlestick: "Candlestick",
      k: "K line chart",
      heatmap: "Heat map",
      map: "Map",
      parallel: "Parallel coordinate map",
      lines: "Line graph",
      graph: "Relationship graph",
      sankey: "Sankey diagram",
      funnel: "Funnel chart",
      gauge: "Gauge",
      pictorialBar: "Pictorial bar",
      themeRiver: "Theme River Map",
      sunburst: "Sunburst",
      custom: "Custom chart",
      chart: "Chart"
    }
  },
  aria: {
    general: {
      withTitle: 'This is a chart about "{title}"',
      withoutTitle: "This is a chart"
    },
    series: {
      single: {
        prefix: "",
        withName: " with type {seriesType} named {seriesName}.",
        withoutName: " with type {seriesType}."
      },
      multiple: {
        prefix: ". It consists of {seriesCount} series count.",
        withName: " The {seriesId} series is a {seriesType} representing {seriesName}.",
        withoutName: " The {seriesId} series is a {seriesType}.",
        separator: {
          middle: "",
          end: ""
        }
      }
    },
    data: {
      allData: "The data is as follows: ",
      partialData: "The first {displayCnt} items are: ",
      withName: "the data for {name} is {value}",
      withoutName: "{value}",
      separator: {
        middle: ", ",
        end: ". "
      }
    }
  }
}, XC = {
  time: {
    month: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
    monthAbbr: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
    dayOfWeek: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
    dayOfWeekAbbr: ["日", "一", "二", "三", "四", "五", "六"]
  },
  legend: {
    selector: {
      all: "全选",
      inverse: "反选"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "矩形选择",
        polygon: "圈选",
        lineX: "横向选择",
        lineY: "纵向选择",
        keep: "保持选择",
        clear: "清除选择"
      }
    },
    dataView: {
      title: "数据视图",
      lang: ["数据视图", "关闭", "刷新"]
    },
    dataZoom: {
      title: {
        zoom: "区域缩放",
        back: "区域缩放还原"
      }
    },
    magicType: {
      title: {
        line: "切换为折线图",
        bar: "切换为柱状图",
        stack: "切换为堆叠",
        tiled: "切换为平铺"
      }
    },
    restore: {
      title: "还原"
    },
    saveAsImage: {
      title: "保存为图片",
      lang: ["右键另存为图片"]
    }
  },
  series: {
    typeNames: {
      pie: "饼图",
      bar: "柱状图",
      line: "折线图",
      scatter: "散点图",
      effectScatter: "涟漪散点图",
      radar: "雷达图",
      tree: "树图",
      treemap: "矩形树图",
      boxplot: "箱型图",
      candlestick: "K线图",
      k: "K线图",
      heatmap: "热力图",
      map: "地图",
      parallel: "平行坐标图",
      lines: "线图",
      graph: "关系图",
      sankey: "桑基图",
      funnel: "漏斗图",
      gauge: "仪表盘图",
      pictorialBar: "象形柱图",
      themeRiver: "主题河流图",
      sunburst: "旭日图",
      custom: "自定义图表",
      chart: "图表"
    }
  },
  aria: {
    general: {
      withTitle: "这是一个关于“{title}”的图表。",
      withoutTitle: "这是一个图表，"
    },
    series: {
      single: {
        prefix: "",
        withName: "图表类型是{seriesType}，表示{seriesName}。",
        withoutName: "图表类型是{seriesType}。"
      },
      multiple: {
        prefix: "它由{seriesCount}个图表系列组成。",
        withName: "第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",
        withoutName: "第{seriesId}个系列是一个{seriesType}，",
        separator: {
          middle: "；",
          end: "。"
        }
      }
    },
    data: {
      allData: "其数据是——",
      partialData: "其中，前{displayCnt}项是——",
      withName: "{name}的数据是{value}",
      withoutName: "{value}",
      separator: {
        middle: "，",
        end: ""
      }
    }
  }
};
var bu = "ZH", fp = "EN", Br = fp, Wl = {}, vp = {}, dy = pt.domSupported ? function() {
  var t = (
    /* eslint-disable-next-line */
    (document.documentElement.lang || navigator.language || navigator.browserLanguage || Br).toUpperCase()
  );
  return t.indexOf(bu) > -1 ? bu : Br;
}() : Br;
function fy(t, e) {
  t = t.toUpperCase(), vp[t] = new Ut(e), Wl[t] = e;
}
function YC(t) {
  if (ze(t)) {
    var e = Wl[t.toUpperCase()] || {};
    return t === bu || t === fp ? st(e) : gt(st(e), st(Wl[Br]), !1);
  } else
    return gt(st(t), st(Wl[Br]), !1);
}
function ZC(t) {
  return vp[t];
}
function qC() {
  return vp[Br];
}
fy(fp, WC);
fy(bu, XC);
var pp = 1e3, hp = pp * 60, os = hp * 60, Fn = os * 24, O0 = Fn * 365, Ui = {
  year: "{yyyy}",
  month: "{MMM}",
  day: "{d}",
  hour: "{HH}:{mm}",
  minute: "{HH}:{mm}",
  second: "{HH}:{mm}:{ss}",
  millisecond: "{HH}:{mm}:{ss} {SSS}",
  none: "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"
}, fl = "{yyyy}-{MM}-{dd}", N0 = {
  year: "{yyyy}",
  month: "{yyyy}-{MM}",
  day: fl,
  hour: fl + " " + Ui.hour,
  minute: fl + " " + Ui.minute,
  second: fl + " " + Ui.second,
  millisecond: Ui.none
}, wd = ["year", "month", "day", "hour", "minute", "second", "millisecond"], vy = ["year", "half-year", "quarter", "month", "week", "half-week", "day", "half-day", "quarter-day", "hour", "minute", "second", "millisecond"];
function No(t, e) {
  return t += "", "0000".substr(0, e - t.length) + t;
}
function Fr(t) {
  switch (t) {
    case "half-year":
    case "quarter":
      return "month";
    case "week":
    case "half-week":
      return "day";
    case "half-day":
    case "quarter-day":
      return "hour";
    default:
      return t;
  }
}
function JC(t) {
  return t === Fr(t);
}
function KC(t) {
  switch (t) {
    case "year":
    case "month":
      return "day";
    case "millisecond":
      return "millisecond";
    default:
      return "second";
  }
}
function py(t, e, n, o) {
  var a = sa(t), r = a[mp(n)](), i = a[zr(n)]() + 1, s = Math.floor((i - 1) / 3) + 1, l = a[ic(n)](), u = a["get" + (n ? "UTC" : "") + "Day"](), c = a[_s(n)](), d = (c - 1) % 12 + 1, f = a[sc(n)](), v = a[lc(n)](), p = a[uc(n)](), h = c >= 12 ? "pm" : "am", m = h.toUpperCase(), g = o instanceof Ut ? o : ZC(o || dy) || qC(), y = g.getModel("time"), _ = y.get("month"), w = y.get("monthAbbr"), x = y.get("dayOfWeek"), S = y.get("dayOfWeekAbbr");
  return (e || "").replace(/{a}/g, h + "").replace(/{A}/g, m + "").replace(/{yyyy}/g, r + "").replace(/{yy}/g, No(r % 100 + "", 2)).replace(/{Q}/g, s + "").replace(/{MMMM}/g, _[i - 1]).replace(/{MMM}/g, w[i - 1]).replace(/{MM}/g, No(i, 2)).replace(/{M}/g, i + "").replace(/{dd}/g, No(l, 2)).replace(/{d}/g, l + "").replace(/{eeee}/g, x[u]).replace(/{ee}/g, S[u]).replace(/{e}/g, u + "").replace(/{HH}/g, No(c, 2)).replace(/{H}/g, c + "").replace(/{hh}/g, No(d + "", 2)).replace(/{h}/g, d + "").replace(/{mm}/g, No(f, 2)).replace(/{m}/g, f + "").replace(/{ss}/g, No(v, 2)).replace(/{s}/g, v + "").replace(/{SSS}/g, No(p, 3)).replace(/{S}/g, p + "");
}
function QC(t, e, n, o, a) {
  var r = null;
  if (ze(n))
    r = n;
  else if (Je(n))
    r = n(t.value, e, {
      level: t.level
    });
  else {
    var i = Le({}, Ui);
    if (t.level > 0)
      for (var s = 0; s < wd.length; ++s)
        i[wd[s]] = "{primary|" + i[wd[s]] + "}";
    var l = n ? n.inherit === !1 ? n : rt(n, i) : i, u = hy(t.value, a);
    if (l[u])
      r = l[u];
    else if (l.inherit) {
      for (var c = vy.indexOf(u), s = c - 1; s >= 0; --s)
        if (l[u]) {
          r = l[u];
          break;
        }
      r = r || i.none;
    }
    if (Oe(r)) {
      var d = t.level == null ? 0 : t.level >= 0 ? t.level : r.length + t.level;
      d = Math.min(d, r.length - 1), r = r[d];
    }
  }
  return py(new Date(t.value), r, a, o);
}
function hy(t, e) {
  var n = sa(t), o = n[zr(e)]() + 1, a = n[ic(e)](), r = n[_s(e)](), i = n[sc(e)](), s = n[lc(e)](), l = n[uc(e)](), u = l === 0, c = u && s === 0, d = c && i === 0, f = d && r === 0, v = f && a === 1, p = v && o === 1;
  return p ? "year" : v ? "month" : f ? "day" : d ? "hour" : c ? "minute" : u ? "second" : "millisecond";
}
function B0(t, e, n) {
  var o = bt(t) ? sa(t) : t;
  switch (e = e || hy(t, n), e) {
    case "year":
      return o[mp(n)]();
    case "half-year":
      return o[zr(n)]() >= 6 ? 1 : 0;
    case "quarter":
      return Math.floor((o[zr(n)]() + 1) / 4);
    case "month":
      return o[zr(n)]();
    case "day":
      return o[ic(n)]();
    case "half-day":
      return o[_s(n)]() / 24;
    case "hour":
      return o[_s(n)]();
    case "minute":
      return o[sc(n)]();
    case "second":
      return o[lc(n)]();
    case "millisecond":
      return o[uc(n)]();
  }
}
function mp(t) {
  return t ? "getUTCFullYear" : "getFullYear";
}
function zr(t) {
  return t ? "getUTCMonth" : "getMonth";
}
function ic(t) {
  return t ? "getUTCDate" : "getDate";
}
function _s(t) {
  return t ? "getUTCHours" : "getHours";
}
function sc(t) {
  return t ? "getUTCMinutes" : "getMinutes";
}
function lc(t) {
  return t ? "getUTCSeconds" : "getSeconds";
}
function uc(t) {
  return t ? "getUTCMilliseconds" : "getMilliseconds";
}
function jC(t) {
  return t ? "setUTCFullYear" : "setFullYear";
}
function my(t) {
  return t ? "setUTCMonth" : "setMonth";
}
function gy(t) {
  return t ? "setUTCDate" : "setDate";
}
function yy(t) {
  return t ? "setUTCHours" : "setHours";
}
function _y(t) {
  return t ? "setUTCMinutes" : "setMinutes";
}
function by(t) {
  return t ? "setUTCSeconds" : "setSeconds";
}
function wy(t) {
  return t ? "setUTCMilliseconds" : "setMilliseconds";
}
function eT(t) {
  if (!b2(t))
    return ze(t) ? t : "-";
  var e = (t + "").split(".");
  return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (e.length > 1 ? "." + e[1] : "");
}
var xy = Gg, F0 = ["a", "b", "c", "d", "e", "f", "g"], xd = function(t, e) {
  return "{" + t + (e ?? "") + "}";
};
function tT(t, e, n) {
  Oe(e) || (e = [e]);
  var o = e.length;
  if (!o)
    return "";
  for (var a = e[0].$vars || [], r = 0; r < a.length; r++) {
    var i = F0[r];
    t = t.replace(xd(i), xd(i, 0));
  }
  for (var s = 0; s < o; s++)
    for (var l = 0; l < a.length; l++) {
      var u = e[s][a[l]];
      t = t.replace(xd(F0[l], s), u);
    }
  return t;
}
function Jf(t, e) {
  return e = e || "transparent", ze(t) ? t : Ue(t) && t.colorStops && (t.colorStops[0] || {}).color || e;
}
var Xl = se, nT = ["left", "right", "top", "bottom", "width", "height"], vl = [["width", "left", "right"], ["height", "top", "bottom"]];
function gp(t, e, n, o, a) {
  var r = 0, i = 0;
  o == null && (o = 1 / 0), a == null && (a = 1 / 0);
  var s = 0;
  e.eachChild(function(l, u) {
    var c = l.getBoundingRect(), d = e.childAt(u + 1), f = d && d.getBoundingRect(), v, p;
    if (t === "horizontal") {
      var h = c.width + (f ? -f.x + c.x : 0);
      v = r + h, v > o || l.newline ? (r = 0, v = h, i += s + n, s = c.height) : s = Math.max(s, c.height);
    } else {
      var m = c.height + (f ? -f.y + c.y : 0);
      p = i + m, p > a || l.newline ? (r += s + n, i = 0, p = m, s = c.width) : s = Math.max(s, c.width);
    }
    l.newline || (l.x = r, l.y = i, l.markRedraw(), t === "horizontal" ? r = v + n : i = p + n);
  });
}
var as = gp;
In(gp, "vertical");
In(gp, "horizontal");
function wu(t, e, n) {
  n = xy(n || 0);
  var o = e.width, a = e.height, r = _t(t.left, o), i = _t(t.top, a), s = _t(t.right, o), l = _t(t.bottom, a), u = _t(t.width, o), c = _t(t.height, a), d = n[2] + n[0], f = n[1] + n[3], v = t.aspect;
  switch (isNaN(u) && (u = o - s - f - r), isNaN(c) && (c = a - l - d - i), v != null && (isNaN(u) && isNaN(c) && (v > o / a ? u = o * 0.8 : c = a * 0.8), isNaN(u) && (u = v * c), isNaN(c) && (c = u / v)), isNaN(r) && (r = o - s - u - f), isNaN(i) && (i = a - l - c - d), t.left || t.right) {
    case "center":
      r = o / 2 - u / 2 - n[3];
      break;
    case "right":
      r = o - u - f;
      break;
  }
  switch (t.top || t.bottom) {
    case "middle":
    case "center":
      i = a / 2 - c / 2 - n[0];
      break;
    case "bottom":
      i = a - c - d;
      break;
  }
  r = r || 0, i = i || 0, isNaN(u) && (u = o - f - r - (s || 0)), isNaN(c) && (c = a - d - i - (l || 0));
  var p = new yt(r + n[3], i + n[0], u, c);
  return p.margin = n, p;
}
function bs(t) {
  var e = t.layoutMode || t.constructor.layoutMode;
  return Ue(e) ? e : e ? {
    type: e
  } : null;
}
function Zr(t, e, n) {
  var o = n && n.ignoreSize;
  !Oe(o) && (o = [o, o]);
  var a = i(vl[0], 0), r = i(vl[1], 1);
  u(vl[0], t, a), u(vl[1], t, r);
  function i(c, d) {
    var f = {}, v = 0, p = {}, h = 0, m = 2;
    if (Xl(c, function(_) {
      p[_] = t[_];
    }), Xl(c, function(_) {
      s(e, _) && (f[_] = p[_] = e[_]), l(f, _) && v++, l(p, _) && h++;
    }), o[d])
      return l(e, c[1]) ? p[c[2]] = null : l(e, c[2]) && (p[c[1]] = null), p;
    if (h === m || !v)
      return p;
    if (v >= m)
      return f;
    for (var g = 0; g < c.length; g++) {
      var y = c[g];
      if (!s(f, y) && s(t, y)) {
        f[y] = t[y];
        break;
      }
    }
    return f;
  }
  function s(c, d) {
    return c.hasOwnProperty(d);
  }
  function l(c, d) {
    return c[d] != null && c[d] !== "auto";
  }
  function u(c, d, f) {
    Xl(c, function(v) {
      d[v] = f[v];
    });
  }
}
function cc(t) {
  return oT({}, t);
}
function oT(t, e) {
  return e && t && Xl(nT, function(n) {
    e.hasOwnProperty(n) && (t[n] = e[n]);
  }), t;
}
var aT = Wt(), mt = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n, o, a) {
      var r = t.call(this, n, o, a) || this;
      return r.uid = rc("ec_cpt_model"), r;
    }
    return e.prototype.init = function(n, o, a) {
      this.mergeDefaultAndTheme(n, a);
    }, e.prototype.mergeDefaultAndTheme = function(n, o) {
      var a = bs(this), r = a ? cc(n) : {}, i = o.getTheme();
      gt(n, i.get(this.mainType)), gt(n, this.getDefaultOption()), a && Zr(n, r, a);
    }, e.prototype.mergeOption = function(n, o) {
      gt(this.option, n, !0);
      var a = bs(this);
      a && Zr(this.option, n, a);
    }, e.prototype.optionUpdated = function(n, o) {
    }, e.prototype.getDefaultOption = function() {
      var n = this.constructor;
      if (!S9(n))
        return n.defaultOption;
      var o = aT(this);
      if (!o.defaultOption) {
        for (var a = [], r = n; r; ) {
          var i = r.prototype.defaultOption;
          i && a.push(i), r = r.superClass;
        }
        for (var s = {}, l = a.length - 1; l >= 0; l--)
          s = gt(s, a[l], !0);
        o.defaultOption = s;
      }
      return o.defaultOption;
    }, e.prototype.getReferringComponents = function(n, o) {
      var a = n + "Index", r = n + "Id";
      return Yu(this.ecModel, n, {
        index: this.get(a, !0),
        id: this.get(r, !0)
      }, o);
    }, e.prototype.getBoxLayoutParams = function() {
      var n = this;
      return {
        left: n.get("left"),
        top: n.get("top"),
        right: n.get("right"),
        bottom: n.get("bottom"),
        width: n.get("width"),
        height: n.get("height")
      };
    }, e.prototype.getZLevelKey = function() {
      return "";
    }, e.prototype.setZLevel = function(n) {
      this.option.zlevel = n;
    }, e.protoInitialize = function() {
      var n = e.prototype;
      n.type = "component", n.id = "", n.name = "", n.mainType = "", n.subType = "", n.componentIndex = 0;
    }(), e;
  }(Ut)
);
L2(mt, Ut);
Zu(mt);
GC(mt);
UC(mt, rT);
function rT(t) {
  var e = [];
  return se(mt.getClassesByMainType(t), function(n) {
    e = e.concat(n.dependencies || n.prototype.dependencies || []);
  }), e = $e(e, function(n) {
    return mo(n).main;
  }), t !== "dataset" && St(e, "dataset") <= 0 && e.unshift("dataset"), e;
}
var Sy = "";
typeof navigator < "u" && (Sy = navigator.platform || "");
var gr = "rgba(0, 0, 0, 0.2)";
const iT = {
  darkMode: "auto",
  // backgroundColor: 'rgba(0,0,0,0)',
  colorBy: "series",
  color: ["#5470c6", "#91cc75", "#fac858", "#ee6666", "#73c0de", "#3ba272", "#fc8452", "#9a60b4", "#ea7ccc"],
  gradientColor: ["#f6efa6", "#d88273", "#bf444c"],
  aria: {
    decal: {
      decals: [{
        color: gr,
        dashArrayX: [1, 0],
        dashArrayY: [2, 5],
        symbolSize: 1,
        rotation: Math.PI / 6
      }, {
        color: gr,
        symbol: "circle",
        dashArrayX: [[8, 8], [0, 8, 8, 0]],
        dashArrayY: [6, 0],
        symbolSize: 0.8
      }, {
        color: gr,
        dashArrayX: [1, 0],
        dashArrayY: [4, 3],
        rotation: -Math.PI / 4
      }, {
        color: gr,
        dashArrayX: [[6, 6], [0, 6, 6, 0]],
        dashArrayY: [6, 0]
      }, {
        color: gr,
        dashArrayX: [[1, 0], [1, 6]],
        dashArrayY: [1, 0, 6, 0],
        rotation: Math.PI / 4
      }, {
        color: gr,
        symbol: "triangle",
        dashArrayX: [[9, 9], [0, 9, 9, 0]],
        dashArrayY: [7, 2],
        symbolSize: 0.75
      }]
    }
  },
  // If xAxis and yAxis declared, grid is created by default.
  // grid: {},
  textStyle: {
    // color: '#000',
    // decoration: 'none',
    // PENDING
    fontFamily: Sy.match(/^Win/) ? "Microsoft YaHei" : "sans-serif",
    // fontFamily: 'Arial, Verdana, sans-serif',
    fontSize: 12,
    fontStyle: "normal",
    fontWeight: "normal"
  },
  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/
  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation
  // Default is source-over
  blendMode: null,
  stateAnimation: {
    duration: 300,
    easing: "cubicOut"
  },
  animation: "auto",
  animationDuration: 1e3,
  animationDurationUpdate: 500,
  animationEasing: "cubicInOut",
  animationEasingUpdate: "cubicInOut",
  animationThreshold: 2e3,
  // Configuration for progressive/incremental rendering
  progressiveThreshold: 3e3,
  progressive: 400,
  // Threshold of if use single hover layer to optimize.
  // It is recommended that `hoverLayerThreshold` is equivalent to or less than
  // `progressiveThreshold`, otherwise hover will cause restart of progressive,
  // which is unexpected.
  // see example <echarts/test/heatmap-large.html>.
  hoverLayerThreshold: 3e3,
  // See: module:echarts/scale/Time
  useUTC: !1
};
var Kf = nt(["tooltip", "label", "itemName", "itemId", "itemGroupId", "itemChildGroupId", "seriesName"]), Gn = "original", bn = "arrayRows", ao = "objectRows", wo = "keyedColumns", Eo = "typedArray", Iy = "unknown", Mo = "column", oi = "row", Xt = {
  Must: 1,
  Might: 2,
  Not: 3
  // Other cases
}, Cy = Wt();
function sT(t) {
  Cy(t).datasetMap = nt();
}
function lT(t, e, n) {
  var o = {}, a = yp(e);
  if (!a || !t)
    return o;
  var r = [], i = [], s = e.ecModel, l = Cy(s).datasetMap, u = a.uid + "_" + n.seriesLayoutBy, c, d;
  t = t.slice(), se(t, function(h, m) {
    var g = Ue(h) ? h : t[m] = {
      name: h
    };
    g.type === "ordinal" && c == null && (c = m, d = p(g)), o[g.name] = [];
  });
  var f = l.get(u) || l.set(u, {
    categoryWayDim: d,
    valueWayDim: 0
  });
  se(t, function(h, m) {
    var g = h.name, y = p(h);
    if (c == null) {
      var _ = f.valueWayDim;
      v(o[g], _, y), v(i, _, y), f.valueWayDim += y;
    } else if (c === m)
      v(o[g], 0, y), v(r, 0, y);
    else {
      var _ = f.categoryWayDim;
      v(o[g], _, y), v(i, _, y), f.categoryWayDim += y;
    }
  });
  function v(h, m, g) {
    for (var y = 0; y < g; y++)
      h.push(m + y);
  }
  function p(h) {
    var m = h.dimsDef;
    return m ? m.length : 1;
  }
  return r.length && (o.itemName = r), i.length && (o.seriesName = i), o;
}
function uT(t, e, n) {
  var o = {}, a = yp(t);
  if (!a)
    return o;
  var r = e.sourceFormat, i = e.dimensionsDefine, s;
  (r === ao || r === wo) && se(i, function(c, d) {
    (Ue(c) ? c.name : c) === "name" && (s = d);
  });
  var l = function() {
    for (var c = {}, d = {}, f = [], v = 0, p = Math.min(5, n); v < p; v++) {
      var h = Ly(e.data, r, e.seriesLayoutBy, i, e.startIndex, v);
      f.push(h);
      var m = h === Xt.Not;
      if (m && c.v == null && v !== s && (c.v = v), (c.n == null || c.n === c.v || !m && f[c.n] === Xt.Not) && (c.n = v), g(c) && f[c.n] !== Xt.Not)
        return c;
      m || (h === Xt.Might && d.v == null && v !== s && (d.v = v), (d.n == null || d.n === d.v) && (d.n = v));
    }
    function g(y) {
      return y.v != null && y.n != null;
    }
    return g(c) ? c : g(d) ? d : null;
  }();
  if (l) {
    o.value = [l.v];
    var u = s ?? l.n;
    o.itemName = [u], o.seriesName = [u];
  }
  return o;
}
function yp(t) {
  var e = t.get("data", !0);
  if (!e)
    return Yu(t.ecModel, "dataset", {
      index: t.get("datasetIndex", !0),
      id: t.get("datasetId", !0)
    }, Kn).models[0];
}
function cT(t) {
  return !t.get("transform", !0) && !t.get("fromTransformResult", !0) ? [] : Yu(t.ecModel, "dataset", {
    index: t.get("fromDatasetIndex", !0),
    id: t.get("fromDatasetId", !0)
  }, Kn).models;
}
function Ty(t, e) {
  return Ly(t.data, t.sourceFormat, t.seriesLayoutBy, t.dimensionsDefine, t.startIndex, e);
}
function Ly(t, e, n, o, a, r) {
  var i, s = 5;
  if (cn(t))
    return Xt.Not;
  var l, u;
  if (o) {
    var c = o[r];
    Ue(c) ? (l = c.name, u = c.type) : ze(c) && (l = c);
  }
  if (u != null)
    return u === "ordinal" ? Xt.Must : Xt.Not;
  if (e === bn) {
    var d = t;
    if (n === oi) {
      for (var f = d[r], v = 0; v < (f || []).length && v < s; v++)
        if ((i = w(f[a + v])) != null)
          return i;
    } else
      for (var v = 0; v < d.length && v < s; v++) {
        var p = d[a + v];
        if (p && (i = w(p[r])) != null)
          return i;
      }
  } else if (e === ao) {
    var h = t;
    if (!l)
      return Xt.Not;
    for (var v = 0; v < h.length && v < s; v++) {
      var m = h[v];
      if (m && (i = w(m[l])) != null)
        return i;
    }
  } else if (e === wo) {
    var g = t;
    if (!l)
      return Xt.Not;
    var f = g[l];
    if (!f || cn(f))
      return Xt.Not;
    for (var v = 0; v < f.length && v < s; v++)
      if ((i = w(f[v])) != null)
        return i;
  } else if (e === Gn)
    for (var y = t, v = 0; v < y.length && v < s; v++) {
      var m = y[v], _ = Ns(m);
      if (!Oe(_))
        return Xt.Not;
      if ((i = w(_[r])) != null)
        return i;
    }
  function w(x) {
    var S = ze(x);
    if (x != null && Number.isFinite(Number(x)) && x !== "")
      return S ? Xt.Might : Xt.Not;
    if (S && x !== "-")
      return Xt.Must;
  }
  return Xt.Not;
}
var dT = nt();
function fT(t, e, n) {
  var o = dT.get(e);
  if (!o)
    return n;
  var a = o(t);
  if (!a)
    return n;
  if (process.env.NODE_ENV !== "production")
    for (var r = 0; r < a.length; r++)
      ot(Gr(a[r]));
  return n.concat(a);
}
var z0 = Wt();
Wt();
var _p = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getColorFromPalette = function(e, n, o) {
      var a = un(this.get("color", !0)), r = this.get("colorLayer", !0);
      return pT(this, z0, a, r, e, n, o);
    }, t.prototype.clearColorPalette = function() {
      hT(this, z0);
    }, t;
  }()
);
function vT(t, e) {
  for (var n = t.length, o = 0; o < n; o++)
    if (t[o].length > e)
      return t[o];
  return t[n - 1];
}
function pT(t, e, n, o, a, r, i) {
  r = r || t;
  var s = e(r), l = s.paletteIdx || 0, u = s.paletteNameMap = s.paletteNameMap || {};
  if (u.hasOwnProperty(a))
    return u[a];
  var c = i == null || !o ? n : vT(o, i);
  if (c = c || n, !(!c || !c.length)) {
    var d = c[l];
    return a && (u[a] = d), s.paletteIdx = (l + 1) % c.length, d;
  }
}
function hT(t, e) {
  e(t).paletteIdx = 0, e(t).paletteNameMap = {};
}
var pl, wi, V0, Sd = "\0_ec_inner", H0 = 1, mT = {
  grid: "GridComponent",
  polar: "PolarComponent",
  geo: "GeoComponent",
  singleAxis: "SingleAxisComponent",
  parallel: "ParallelComponent",
  calendar: "CalendarComponent",
  graphic: "GraphicComponent",
  toolbox: "ToolboxComponent",
  tooltip: "TooltipComponent",
  axisPointer: "AxisPointerComponent",
  brush: "BrushComponent",
  title: "TitleComponent",
  timeline: "TimelineComponent",
  markPoint: "MarkPointComponent",
  markLine: "MarkLineComponent",
  markArea: "MarkAreaComponent",
  legend: "LegendComponent",
  dataZoom: "DataZoomComponent",
  visualMap: "VisualMapComponent",
  // aria: 'AriaComponent',
  // dataset: 'DatasetComponent',
  // Dependencies
  xAxis: "GridComponent",
  yAxis: "GridComponent",
  angleAxis: "PolarComponent",
  radiusAxis: "PolarComponent"
}, gT = {
  line: "LineChart",
  bar: "BarChart",
  pie: "PieChart",
  scatter: "ScatterChart",
  radar: "RadarChart",
  map: "MapChart",
  tree: "TreeChart",
  treemap: "TreemapChart",
  graph: "GraphChart",
  gauge: "GaugeChart",
  funnel: "FunnelChart",
  parallel: "ParallelChart",
  sankey: "SankeyChart",
  boxplot: "BoxplotChart",
  candlestick: "CandlestickChart",
  effectScatter: "EffectScatterChart",
  lines: "LinesChart",
  heatmap: "HeatmapChart",
  pictorialBar: "PictorialBarChart",
  themeRiver: "ThemeRiverChart",
  sunburst: "SunburstChart",
  custom: "CustomChart"
}, xu = {};
function yT(t) {
  se(t, function(e, n) {
    if (!mt.hasClass(n)) {
      var o = mT[n];
      o && !xu[o] && (on("Component " + n + ` is used but not imported.
import { ` + o + ` } from 'echarts/components';
echarts.use([` + o + "]);"), xu[o] = !0);
    }
  });
}
var bp = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    return e.prototype.init = function(n, o, a, r, i, s) {
      r = r || {}, this.option = null, this._theme = new Ut(r), this._locale = new Ut(i), this._optionManager = s;
    }, e.prototype.setOption = function(n, o, a) {
      process.env.NODE_ENV !== "production" && (ot(n != null, "option is null/undefined"), ot(n[Sd] !== H0, "please use chart.getOption()"));
      var r = W0(o);
      this._optionManager.setOption(n, a, r), this._resetOption(null, r);
    }, e.prototype.resetOption = function(n, o) {
      return this._resetOption(n, W0(o));
    }, e.prototype._resetOption = function(n, o) {
      var a = !1, r = this._optionManager;
      if (!n || n === "recreate") {
        var i = r.mountOption(n === "recreate");
        process.env.NODE_ENV !== "production" && yT(i), !this.option || n === "recreate" ? V0(this, i) : (this.restoreData(), this._mergeOption(i, o)), a = !0;
      }
      if ((n === "timeline" || n === "media") && this.restoreData(), !n || n === "recreate" || n === "timeline") {
        var s = r.getTimelineOption(this);
        s && (a = !0, this._mergeOption(s, o));
      }
      if (!n || n === "recreate" || n === "media") {
        var l = r.getMediaOption(this);
        l.length && se(l, function(u) {
          a = !0, this._mergeOption(u, o);
        }, this);
      }
      return a;
    }, e.prototype.mergeOption = function(n) {
      this._mergeOption(n, null);
    }, e.prototype._mergeOption = function(n, o) {
      var a = this.option, r = this._componentsMap, i = this._componentsCount, s = [], l = nt(), u = o && o.replaceMergeMainTypeMap;
      sT(this), se(n, function(d, f) {
        d != null && (mt.hasClass(f) ? f && (s.push(f), l.set(f, !0)) : a[f] = a[f] == null ? st(d) : gt(a[f], d, !0));
      }), u && u.each(function(d, f) {
        mt.hasClass(f) && !l.get(f) && (s.push(f), l.set(f, !0));
      }), mt.topologicalTravel(s, mt.getAllClassMainTypes(), c, this);
      function c(d) {
        var f = fT(this, d, un(n[d])), v = r.get(d), p = (
          // `!oldCmptList` means init. See the comment in `mappingToExists`
          v ? u && u.get(d) ? "replaceMerge" : "normalMerge" : "replaceAll"
        ), h = u9(v, f, p);
        m9(h, d, mt), a[d] = null, r.set(d, null), i.set(d, 0);
        var m = [], g = [], y = 0, _, w;
        se(h, function(x, S) {
          var L = x.existing, b = x.newOption;
          if (!b)
            L && (L.mergeOption({}, this), L.optionUpdated({}, !1));
          else {
            var I = d === "series", M = mt.getClass(
              d,
              x.keyInfo.subType,
              !I
              // Give a more detailed warn later if series don't exists
            );
            if (!M) {
              if (process.env.NODE_ENV !== "production") {
                var E = x.keyInfo.subType, D = gT[E];
                xu[E] || (xu[E] = !0, on(D ? "Series " + E + ` is used but not imported.
import { ` + D + ` } from 'echarts/charts';
echarts.use([` + D + "]);" : "Unknown series " + E));
              }
              return;
            }
            if (d === "tooltip") {
              if (_) {
                process.env.NODE_ENV !== "production" && (w || (nn("Currently only one tooltip component is allowed."), w = !0));
                return;
              }
              _ = !0;
            }
            if (L && L.constructor === M)
              L.name = x.keyInfo.name, L.mergeOption(b, this), L.optionUpdated(b, !1);
            else {
              var O = Le({
                componentIndex: S
              }, x.keyInfo);
              L = new M(b, this, this, O), Le(L, O), x.brandNew && (L.__requireNewView = !0), L.init(b, this, this), L.optionUpdated(null, !0);
            }
          }
          L ? (m.push(L.option), g.push(L), y++) : (m.push(void 0), g.push(void 0));
        }, this), a[d] = m, r.set(d, g), i.set(d, y), d === "series" && pl(this);
      }
      this._seriesIndices || pl(this);
    }, e.prototype.getOption = function() {
      var n = st(this.option);
      return se(n, function(o, a) {
        if (mt.hasClass(a)) {
          for (var r = un(o), i = r.length, s = !1, l = i - 1; l >= 0; l--)
            r[l] && !Gr(r[l]) ? s = !0 : (r[l] = null, !s && i--);
          r.length = i, n[a] = r;
        }
      }), delete n[Sd], n;
    }, e.prototype.getTheme = function() {
      return this._theme;
    }, e.prototype.getLocaleModel = function() {
      return this._locale;
    }, e.prototype.setUpdatePayload = function(n) {
      this._payload = n;
    }, e.prototype.getUpdatePayload = function() {
      return this._payload;
    }, e.prototype.getComponent = function(n, o) {
      var a = this._componentsMap.get(n);
      if (a) {
        var r = a[o || 0];
        if (r)
          return r;
        if (o == null) {
          for (var i = 0; i < a.length; i++)
            if (a[i])
              return a[i];
        }
      }
    }, e.prototype.queryComponents = function(n) {
      var o = n.mainType;
      if (!o)
        return [];
      var a = n.index, r = n.id, i = n.name, s = this._componentsMap.get(o);
      if (!s || !s.length)
        return [];
      var l;
      return a != null ? (l = [], se(un(a), function(u) {
        s[u] && l.push(s[u]);
      })) : r != null ? l = G0("id", r, s) : i != null ? l = G0("name", i, s) : l = tn(s, function(u) {
        return !!u;
      }), U0(l, n);
    }, e.prototype.findComponents = function(n) {
      var o = n.query, a = n.mainType, r = s(o), i = r ? this.queryComponents(r) : tn(this._componentsMap.get(a), function(u) {
        return !!u;
      });
      return l(U0(i, n));
      function s(u) {
        var c = a + "Index", d = a + "Id", f = a + "Name";
        return u && (u[c] != null || u[d] != null || u[f] != null) ? {
          mainType: a,
          // subType will be filtered finally.
          index: u[c],
          id: u[d],
          name: u[f]
        } : null;
      }
      function l(u) {
        return n.filter ? tn(u, n.filter) : u;
      }
    }, e.prototype.eachComponent = function(n, o, a) {
      var r = this._componentsMap;
      if (Je(n)) {
        var i = o, s = n;
        r.each(function(d, f) {
          for (var v = 0; d && v < d.length; v++) {
            var p = d[v];
            p && s.call(i, f, p, p.componentIndex);
          }
        });
      } else
        for (var l = ze(n) ? r.get(n) : Ue(n) ? this.findComponents(n) : null, u = 0; l && u < l.length; u++) {
          var c = l[u];
          c && o.call(a, c, c.componentIndex);
        }
    }, e.prototype.getSeriesByName = function(n) {
      var o = yo(n, null);
      return tn(this._componentsMap.get("series"), function(a) {
        return !!a && o != null && a.name === o;
      });
    }, e.prototype.getSeriesByIndex = function(n) {
      return this._componentsMap.get("series")[n];
    }, e.prototype.getSeriesByType = function(n) {
      return tn(this._componentsMap.get("series"), function(o) {
        return !!o && o.subType === n;
      });
    }, e.prototype.getSeries = function() {
      return tn(this._componentsMap.get("series"), function(n) {
        return !!n;
      });
    }, e.prototype.getSeriesCount = function() {
      return this._componentsCount.get("series");
    }, e.prototype.eachSeries = function(n, o) {
      wi(this), se(this._seriesIndices, function(a) {
        var r = this._componentsMap.get("series")[a];
        n.call(o, r, a);
      }, this);
    }, e.prototype.eachRawSeries = function(n, o) {
      se(this._componentsMap.get("series"), function(a) {
        a && n.call(o, a, a.componentIndex);
      });
    }, e.prototype.eachSeriesByType = function(n, o, a) {
      wi(this), se(this._seriesIndices, function(r) {
        var i = this._componentsMap.get("series")[r];
        i.subType === n && o.call(a, i, r);
      }, this);
    }, e.prototype.eachRawSeriesByType = function(n, o, a) {
      return se(this.getSeriesByType(n), o, a);
    }, e.prototype.isSeriesFiltered = function(n) {
      return wi(this), this._seriesIndicesMap.get(n.componentIndex) == null;
    }, e.prototype.getCurrentSeriesIndices = function() {
      return (this._seriesIndices || []).slice();
    }, e.prototype.filterSeries = function(n, o) {
      wi(this);
      var a = [];
      se(this._seriesIndices, function(r) {
        var i = this._componentsMap.get("series")[r];
        n.call(o, i, r) && a.push(r);
      }, this), this._seriesIndices = a, this._seriesIndicesMap = nt(a);
    }, e.prototype.restoreData = function(n) {
      pl(this);
      var o = this._componentsMap, a = [];
      o.each(function(r, i) {
        mt.hasClass(i) && a.push(i);
      }), mt.topologicalTravel(a, mt.getAllClassMainTypes(), function(r) {
        se(o.get(r), function(i) {
          i && (r !== "series" || !_T(i, n)) && i.restoreData();
        });
      });
    }, e.internalField = function() {
      pl = function(n) {
        var o = n._seriesIndices = [];
        se(n._componentsMap.get("series"), function(a) {
          a && o.push(a.componentIndex);
        }), n._seriesIndicesMap = nt(o);
      }, wi = function(n) {
        if (process.env.NODE_ENV !== "production" && !n._seriesIndices)
          throw new Error("Option should contains series.");
      }, V0 = function(n, o) {
        n.option = {}, n.option[Sd] = H0, n._componentsMap = nt({
          series: []
        }), n._componentsCount = nt();
        var a = o.aria;
        Ue(a) && a.enabled == null && (a.enabled = !0), bT(o, n._theme.option), gt(o, iT, !1), n._mergeOption(o, null);
      };
    }(), e;
  }(Ut)
);
function _T(t, e) {
  if (e) {
    var n = e.seriesIndex, o = e.seriesId, a = e.seriesName;
    return n != null && t.componentIndex !== n || o != null && t.id !== o || a != null && t.name !== a;
  }
}
function bT(t, e) {
  var n = t.color && !t.colorLayer;
  se(e, function(o, a) {
    a === "colorLayer" && n || mt.hasClass(a) || (typeof o == "object" ? t[a] = t[a] ? gt(t[a], o, !1) : st(o) : t[a] == null && (t[a] = o));
  });
}
function G0(t, e, n) {
  if (Oe(e)) {
    var o = nt();
    return se(e, function(r) {
      if (r != null) {
        var i = yo(r, null);
        i != null && o.set(r, !0);
      }
    }), tn(n, function(r) {
      return r && o.get(r[t]);
    });
  } else {
    var a = yo(e, null);
    return tn(n, function(r) {
      return r && a != null && r[t] === a;
    });
  }
}
function U0(t, e) {
  return e.hasOwnProperty("subType") ? tn(t, function(n) {
    return n && n.subType === e.subType;
  }) : t;
}
function W0(t) {
  var e = nt();
  return t && se(un(t.replaceMerge), function(n) {
    process.env.NODE_ENV !== "production" && ot(mt.hasClass(n), '"' + n + '" is not valid component main type in "replaceMerge"'), e.set(n, !0);
  }), {
    replaceMergeMainTypeMap: e
  };
}
to(bp, _p);
var wT = [
  "getDom",
  "getZr",
  "getWidth",
  "getHeight",
  "getDevicePixelRatio",
  "dispatchAction",
  "isSSR",
  "isDisposed",
  "on",
  "off",
  "getDataURL",
  "getConnectedDataURL",
  // 'getModel',
  "getOption",
  // 'getViewOfComponentModel',
  // 'getViewOfSeriesModel',
  "getId",
  "updateLabelLayout"
], ky = (
  /** @class */
  /* @__PURE__ */ function() {
    function t(e) {
      se(wT, function(n) {
        this[n] = Bt(e[n], e);
      }, this);
    }
    return t;
  }()
), Id = {}, wp = (
  /** @class */
  function() {
    function t() {
      this._coordinateSystems = [];
    }
    return t.prototype.create = function(e, n) {
      var o = [];
      se(Id, function(a, r) {
        var i = a.create(e, n);
        o = o.concat(i || []);
      }), this._coordinateSystems = o;
    }, t.prototype.update = function(e, n) {
      se(this._coordinateSystems, function(o) {
        o.update && o.update(e, n);
      });
    }, t.prototype.getCoordinateSystems = function() {
      return this._coordinateSystems.slice();
    }, t.register = function(e, n) {
      Id[e] = n;
    }, t.get = function(e) {
      return Id[e];
    }, t;
  }()
), xT = /^(min|max)?(.+)$/, ST = (
  /** @class */
  function() {
    function t(e) {
      this._timelineOptions = [], this._mediaList = [], this._currentMediaIndices = [], this._api = e;
    }
    return t.prototype.setOption = function(e, n, o) {
      e && (se(un(e.series), function(i) {
        i && i.data && cn(i.data) && gf(i.data);
      }), se(un(e.dataset), function(i) {
        i && i.source && cn(i.source) && gf(i.source);
      })), e = st(e);
      var a = this._optionBackup, r = IT(e, n, !a);
      this._newBaseOption = r.baseOption, a ? (r.timelineOptions.length && (a.timelineOptions = r.timelineOptions), r.mediaList.length && (a.mediaList = r.mediaList), r.mediaDefault && (a.mediaDefault = r.mediaDefault)) : this._optionBackup = r;
    }, t.prototype.mountOption = function(e) {
      var n = this._optionBackup;
      return this._timelineOptions = n.timelineOptions, this._mediaList = n.mediaList, this._mediaDefault = n.mediaDefault, this._currentMediaIndices = [], st(e ? n.baseOption : this._newBaseOption);
    }, t.prototype.getTimelineOption = function(e) {
      var n, o = this._timelineOptions;
      if (o.length) {
        var a = e.getComponent("timeline");
        a && (n = st(
          // FIXME:TS as TimelineModel or quivlant interface
          o[a.getCurrentIndex()]
        ));
      }
      return n;
    }, t.prototype.getMediaOption = function(e) {
      var n = this._api.getWidth(), o = this._api.getHeight(), a = this._mediaList, r = this._mediaDefault, i = [], s = [];
      if (!a.length && !r)
        return s;
      for (var l = 0, u = a.length; l < u; l++)
        CT(a[l].query, n, o) && i.push(l);
      return !i.length && r && (i = [-1]), i.length && !LT(i, this._currentMediaIndices) && (s = $e(i, function(c) {
        return st(c === -1 ? r.option : a[c].option);
      })), this._currentMediaIndices = i, s;
    }, t;
  }()
);
function IT(t, e, n) {
  var o = [], a, r, i = t.baseOption, s = t.timeline, l = t.options, u = t.media, c = !!t.media, d = !!(l || s || i && i.timeline);
  i ? (r = i, r.timeline || (r.timeline = s)) : ((d || c) && (t.options = t.media = null), r = t), c && (Oe(u) ? se(u, function(v) {
    process.env.NODE_ENV !== "production" && v && !v.option && Ue(v.query) && Ue(v.query.option) && on("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"), v && v.option && (v.query ? o.push(v) : a || (a = v));
  }) : process.env.NODE_ENV !== "production" && on("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")), f(r), se(l, function(v) {
    return f(v);
  }), se(o, function(v) {
    return f(v.option);
  });
  function f(v) {
    se(e, function(p) {
      p(v, n);
    });
  }
  return {
    baseOption: r,
    timelineOptions: l || [],
    mediaDefault: a,
    mediaList: o
  };
}
function CT(t, e, n) {
  var o = {
    width: e,
    height: n,
    aspectratio: e / n
    // lower case for convenience.
  }, a = !0;
  return se(t, function(r, i) {
    var s = i.match(xT);
    if (!(!s || !s[1] || !s[2])) {
      var l = s[1], u = s[2].toLowerCase();
      TT(o[u], r, l) || (a = !1);
    }
  }), a;
}
function TT(t, e, n) {
  return n === "min" ? t >= e : n === "max" ? t <= e : t === e;
}
function LT(t, e) {
  return t.join(",") === e.join(",");
}
var En = se, ws = Ue, X0 = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"];
function Cd(t) {
  var e = t && t.itemStyle;
  if (e)
    for (var n = 0, o = X0.length; n < o; n++) {
      var a = X0[n], r = e.normal, i = e.emphasis;
      r && r[a] && (process.env.NODE_ENV !== "production" && Nt("itemStyle.normal." + a, a), t[a] = t[a] || {}, t[a].normal ? gt(t[a].normal, r[a]) : t[a].normal = r[a], r[a] = null), i && i[a] && (process.env.NODE_ENV !== "production" && Nt("itemStyle.emphasis." + a, "emphasis." + a), t[a] = t[a] || {}, t[a].emphasis ? gt(t[a].emphasis, i[a]) : t[a].emphasis = i[a], i[a] = null);
    }
}
function en(t, e, n) {
  if (t && t[e] && (t[e].normal || t[e].emphasis)) {
    var o = t[e].normal, a = t[e].emphasis;
    o && (process.env.NODE_ENV !== "production" && _o("'normal' hierarchy in " + e + " has been removed since 4.0. All style properties are configured in " + e + " directly now."), n ? (t[e].normal = t[e].emphasis = null, rt(t[e], o)) : t[e] = o), a && (process.env.NODE_ENV !== "production" && _o(e + ".emphasis has been changed to emphasis." + e + " since 4.0"), t.emphasis = t.emphasis || {}, t.emphasis[e] = a, a.focus && (t.emphasis.focus = a.focus), a.blurScope && (t.emphasis.blurScope = a.blurScope));
  }
}
function Wi(t) {
  en(t, "itemStyle"), en(t, "lineStyle"), en(t, "areaStyle"), en(t, "label"), en(t, "labelLine"), en(t, "upperLabel"), en(t, "edgeLabel");
}
function At(t, e) {
  var n = ws(t) && t[e], o = ws(n) && n.textStyle;
  if (o) {
    process.env.NODE_ENV !== "production" && _o("textStyle hierarchy in " + e + " has been removed since 4.0. All textStyle properties are configured in " + e + " directly now.");
    for (var a = 0, r = Yh.length; a < r; a++) {
      var i = Yh[a];
      o.hasOwnProperty(i) && (n[i] = o[i]);
    }
  }
}
function $n(t) {
  t && (Wi(t), At(t, "label"), t.emphasis && At(t.emphasis, "label"));
}
function kT(t) {
  if (ws(t)) {
    Cd(t), Wi(t), At(t, "label"), At(t, "upperLabel"), At(t, "edgeLabel"), t.emphasis && (At(t.emphasis, "label"), At(t.emphasis, "upperLabel"), At(t.emphasis, "edgeLabel"));
    var e = t.markPoint;
    e && (Cd(e), $n(e));
    var n = t.markLine;
    n && (Cd(n), $n(n));
    var o = t.markArea;
    o && $n(o);
    var a = t.data;
    if (t.type === "graph") {
      a = a || t.nodes;
      var r = t.links || t.edges;
      if (r && !cn(r))
        for (var i = 0; i < r.length; i++)
          $n(r[i]);
      se(t.categories, function(u) {
        Wi(u);
      });
    }
    if (a && !cn(a))
      for (var i = 0; i < a.length; i++)
        $n(a[i]);
    if (e = t.markPoint, e && e.data)
      for (var s = e.data, i = 0; i < s.length; i++)
        $n(s[i]);
    if (n = t.markLine, n && n.data)
      for (var l = n.data, i = 0; i < l.length; i++)
        Oe(l[i]) ? ($n(l[i][0]), $n(l[i][1])) : $n(l[i]);
    t.type === "gauge" ? (At(t, "axisLabel"), At(t, "title"), At(t, "detail")) : t.type === "treemap" ? (en(t.breadcrumb, "itemStyle"), se(t.levels, function(u) {
      Wi(u);
    })) : t.type === "tree" && Wi(t.leaves);
  }
}
function Io(t) {
  return Oe(t) ? t : t ? [t] : [];
}
function Y0(t) {
  return (Oe(t) ? t[0] : t) || {};
}
function ET(t, e) {
  En(Io(t.series), function(o) {
    ws(o) && kT(o);
  });
  var n = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
  e && n.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"), En(n, function(o) {
    En(Io(t[o]), function(a) {
      a && (At(a, "axisLabel"), At(a.axisPointer, "label"));
    });
  }), En(Io(t.parallel), function(o) {
    var a = o && o.parallelAxisDefault;
    At(a, "axisLabel"), At(a && a.axisPointer, "label");
  }), En(Io(t.calendar), function(o) {
    en(o, "itemStyle"), At(o, "dayLabel"), At(o, "monthLabel"), At(o, "yearLabel");
  }), En(Io(t.radar), function(o) {
    At(o, "name"), o.name && o.axisName == null && (o.axisName = o.name, delete o.name, process.env.NODE_ENV !== "production" && _o("name property in radar component has been changed to axisName")), o.nameGap != null && o.axisNameGap == null && (o.axisNameGap = o.nameGap, delete o.nameGap, process.env.NODE_ENV !== "production" && _o("nameGap property in radar component has been changed to axisNameGap")), process.env.NODE_ENV !== "production" && En(o.indicator, function(a) {
      a.text && Nt("text", "name", "radar.indicator");
    });
  }), En(Io(t.geo), function(o) {
    ws(o) && ($n(o), En(Io(o.regions), function(a) {
      $n(a);
    }));
  }), En(Io(t.timeline), function(o) {
    $n(o), en(o, "label"), en(o, "itemStyle"), en(o, "controlStyle", !0);
    var a = o.data;
    Oe(a) && se(a, function(r) {
      Ue(r) && (en(r, "label"), en(r, "itemStyle"));
    });
  }), En(Io(t.toolbox), function(o) {
    en(o, "iconStyle"), En(o.feature, function(a) {
      en(a, "iconStyle");
    });
  }), At(Y0(t.axisPointer), "label"), At(Y0(t.tooltip).axisPointer, "label");
}
function MT(t, e) {
  for (var n = e.split(","), o = t, a = 0; a < n.length && (o = o && o[n[a]], o != null); a++)
    ;
  return o;
}
function AT(t, e, n, o) {
  for (var a = e.split(","), r = t, i, s = 0; s < a.length - 1; s++)
    i = a[s], r[i] == null && (r[i] = {}), r = r[i];
  r[a[s]] == null && (r[a[s]] = n);
}
function Z0(t) {
  t && se(DT, function(e) {
    e[0] in t && !(e[1] in t) && (t[e[1]] = t[e[0]]);
  });
}
var DT = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]], $T = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"], Td = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]];
function xi(t) {
  var e = t && t.itemStyle;
  if (e)
    for (var n = 0; n < Td.length; n++) {
      var o = Td[n][1], a = Td[n][0];
      e[o] != null && (e[a] = e[o], process.env.NODE_ENV !== "production" && Nt(o, a));
    }
}
function q0(t) {
  t && t.alignTo === "edge" && t.margin != null && t.edgeDistance == null && (process.env.NODE_ENV !== "production" && Nt("label.margin", "label.edgeDistance", "pie"), t.edgeDistance = t.margin);
}
function J0(t) {
  t && t.downplay && !t.blur && (t.blur = t.downplay, process.env.NODE_ENV !== "production" && Nt("downplay", "blur", "sunburst"));
}
function PT(t) {
  t && t.focusNodeAdjacency != null && (t.emphasis = t.emphasis || {}, t.emphasis.focus == null && (process.env.NODE_ENV !== "production" && Nt("focusNodeAdjacency", "emphasis: { focus: 'adjacency'}", "graph/sankey"), t.emphasis.focus = "adjacency"));
}
function Ey(t, e) {
  if (t)
    for (var n = 0; n < t.length; n++)
      e(t[n]), t[n] && Ey(t[n].children, e);
}
function My(t, e) {
  ET(t, e), t.series = un(t.series), se(t.series, function(n) {
    if (Ue(n)) {
      var o = n.type;
      if (o === "line")
        n.clipOverflow != null && (n.clip = n.clipOverflow, process.env.NODE_ENV !== "production" && Nt("clipOverflow", "clip", "line"));
      else if (o === "pie" || o === "gauge") {
        n.clockWise != null && (n.clockwise = n.clockWise, process.env.NODE_ENV !== "production" && Nt("clockWise", "clockwise")), q0(n.label);
        var a = n.data;
        if (a && !cn(a))
          for (var r = 0; r < a.length; r++)
            q0(a[r]);
        n.hoverOffset != null && (n.emphasis = n.emphasis || {}, (n.emphasis.scaleSize = null) && (process.env.NODE_ENV !== "production" && Nt("hoverOffset", "emphasis.scaleSize"), n.emphasis.scaleSize = n.hoverOffset));
      } else if (o === "gauge") {
        var i = MT(n, "pointer.color");
        i != null && AT(n, "itemStyle.color", i);
      } else if (o === "bar") {
        xi(n), xi(n.backgroundStyle), xi(n.emphasis);
        var a = n.data;
        if (a && !cn(a))
          for (var r = 0; r < a.length; r++)
            typeof a[r] == "object" && (xi(a[r]), xi(a[r] && a[r].emphasis));
      } else if (o === "sunburst") {
        var s = n.highlightPolicy;
        s && (n.emphasis = n.emphasis || {}, n.emphasis.focus || (n.emphasis.focus = s, process.env.NODE_ENV !== "production" && Nt("highlightPolicy", "emphasis.focus", "sunburst"))), J0(n), Ey(n.data, J0);
      } else o === "graph" || o === "sankey" ? PT(n) : o === "map" && (n.mapType && !n.map && (process.env.NODE_ENV !== "production" && Nt("mapType", "map", "map"), n.map = n.mapType), n.mapLocation && (process.env.NODE_ENV !== "production" && _o("`mapLocation` is not used anymore."), rt(n, n.mapLocation)));
      n.hoverAnimation != null && (n.emphasis = n.emphasis || {}, n.emphasis && n.emphasis.scale == null && (process.env.NODE_ENV !== "production" && Nt("hoverAnimation", "emphasis.scale"), n.emphasis.scale = n.hoverAnimation)), Z0(n);
    }
  }), t.dataRange && (t.visualMap = t.dataRange), se($T, function(n) {
    var o = t[n];
    o && (Oe(o) || (o = [o]), se(o, function(a) {
      Z0(a);
    }));
  });
}
function RT(t) {
  var e = nt();
  t.eachSeries(function(n) {
    var o = n.get("stack");
    if (o) {
      var a = e.get(o) || e.set(o, []), r = n.getData(), i = {
        // Used for calculate axis extent automatically.
        // TODO: Type getCalculationInfo return more specific type?
        stackResultDimension: r.getCalculationInfo("stackResultDimension"),
        stackedOverDimension: r.getCalculationInfo("stackedOverDimension"),
        stackedDimension: r.getCalculationInfo("stackedDimension"),
        stackedByDimension: r.getCalculationInfo("stackedByDimension"),
        isStackedByIndex: r.getCalculationInfo("isStackedByIndex"),
        data: r,
        seriesModel: n
      };
      if (!i.stackedDimension || !(i.isStackedByIndex || i.stackedByDimension))
        return;
      a.length && r.setCalculationInfo("stackedOnSeries", a[a.length - 1].seriesModel), a.push(i);
    }
  }), e.each(OT);
}
function OT(t) {
  se(t, function(e, n) {
    var o = [], a = [NaN, NaN], r = [e.stackResultDimension, e.stackedOverDimension], i = e.data, s = e.isStackedByIndex, l = e.seriesModel.get("stackStrategy") || "samesign";
    i.modify(r, function(u, c, d) {
      var f = i.get(e.stackedDimension, d);
      if (isNaN(f))
        return a;
      var v, p;
      s ? p = i.getRawIndex(d) : v = i.get(e.stackedByDimension, d);
      for (var h = NaN, m = n - 1; m >= 0; m--) {
        var g = t[m];
        if (s || (p = g.data.rawIndexOf(g.stackedByDimension, v)), p >= 0) {
          var y = g.data.getByRawIndex(g.stackResultDimension, p);
          if (l === "all" || l === "positive" && y > 0 || l === "negative" && y < 0 || l === "samesign" && f >= 0 && y > 0 || l === "samesign" && f <= 0 && y < 0) {
            f = jS(f, y), h = y;
            break;
          }
        }
      }
      return o[0] = f, o[1] = h, o;
    });
  });
}
var dc = (
  /** @class */
  /* @__PURE__ */ function() {
    function t(e) {
      this.data = e.data || (e.sourceFormat === wo ? {} : []), this.sourceFormat = e.sourceFormat || Iy, this.seriesLayoutBy = e.seriesLayoutBy || Mo, this.startIndex = e.startIndex || 0, this.dimensionsDetectedCount = e.dimensionsDetectedCount, this.metaRawOption = e.metaRawOption;
      var n = this.dimensionsDefine = e.dimensionsDefine;
      if (n)
        for (var o = 0; o < n.length; o++) {
          var a = n[o];
          a.type == null && Ty(this, o) === Xt.Must && (a.type = "ordinal");
        }
    }
    return t;
  }()
);
function xp(t) {
  return t instanceof dc;
}
function Qf(t, e, n) {
  n = n || Dy(t);
  var o = e.seriesLayoutBy, a = BT(t, n, o, e.sourceHeader, e.dimensions), r = new dc({
    data: t,
    sourceFormat: n,
    seriesLayoutBy: o,
    dimensionsDefine: a.dimensionsDefine,
    startIndex: a.startIndex,
    dimensionsDetectedCount: a.dimensionsDetectedCount,
    metaRawOption: st(e)
  });
  return r;
}
function Ay(t) {
  return new dc({
    data: t,
    sourceFormat: cn(t) ? Eo : Gn
  });
}
function NT(t) {
  return new dc({
    data: t.data,
    sourceFormat: t.sourceFormat,
    seriesLayoutBy: t.seriesLayoutBy,
    dimensionsDefine: st(t.dimensionsDefine),
    startIndex: t.startIndex,
    dimensionsDetectedCount: t.dimensionsDetectedCount
  });
}
function Dy(t) {
  var e = Iy;
  if (cn(t))
    e = Eo;
  else if (Oe(t)) {
    t.length === 0 && (e = bn);
    for (var n = 0, o = t.length; n < o; n++) {
      var a = t[n];
      if (a != null) {
        if (Oe(a) || cn(a)) {
          e = bn;
          break;
        } else if (Ue(a)) {
          e = ao;
          break;
        }
      }
    }
  } else if (Ue(t)) {
    for (var r in t)
      if (ds(t, r) && _n(t[r])) {
        e = wo;
        break;
      }
  }
  return e;
}
function BT(t, e, n, o, a) {
  var r, i;
  if (!t)
    return {
      dimensionsDefine: K0(a),
      startIndex: i,
      dimensionsDetectedCount: r
    };
  if (e === bn) {
    var s = t;
    o === "auto" || o == null ? Q0(function(u) {
      u != null && u !== "-" && (ze(u) ? i == null && (i = 1) : i = 0);
    }, n, s, 10) : i = bt(o) ? o : o ? 1 : 0, !a && i === 1 && (a = [], Q0(function(u, c) {
      a[c] = u != null ? u + "" : "";
    }, n, s, 1 / 0)), r = a ? a.length : n === oi ? s.length : s[0] ? s[0].length : null;
  } else if (e === ao)
    a || (a = FT(t));
  else if (e === wo)
    a || (a = [], se(t, function(u, c) {
      a.push(c);
    }));
  else if (e === Gn) {
    var l = Ns(t[0]);
    r = Oe(l) && l.length || 1;
  } else e === Eo && process.env.NODE_ENV !== "production" && ot(!!a, "dimensions must be given if data is TypedArray.");
  return {
    startIndex: i,
    dimensionsDefine: K0(a),
    dimensionsDetectedCount: r
  };
}
function FT(t) {
  for (var e = 0, n; e < t.length && !(n = t[e++]); )
    ;
  if (n)
    return lt(n);
}
function K0(t) {
  if (t) {
    var e = nt();
    return $e(t, function(n, o) {
      n = Ue(n) ? n : {
        name: n
      };
      var a = {
        name: n.name,
        displayName: n.displayName,
        type: n.type
      };
      if (a.name == null)
        return a;
      a.name += "", a.displayName == null && (a.displayName = a.name);
      var r = e.get(a.name);
      return r ? a.name += "-" + r.count++ : e.set(a.name, {
        count: 1
      }), a;
    });
  }
}
function Q0(t, e, n, o) {
  if (e === oi)
    for (var a = 0; a < n.length && a < o; a++)
      t(n[a] ? n[a][0] : null, a);
  else
    for (var r = n[0] || [], a = 0; a < r.length && a < o; a++)
      t(r[a], a);
}
function $y(t) {
  var e = t.sourceFormat;
  return e === ao || e === wo;
}
var Na, Ba, Fa, j0, e1, Py = (
  /** @class */
  function() {
    function t(e, n) {
      var o = xp(e) ? e : Ay(e);
      this._source = o;
      var a = this._data = o.data;
      if (o.sourceFormat === Eo) {
        if (process.env.NODE_ENV !== "production" && n == null)
          throw new Error("Typed array data must specify dimension size");
        this._offset = 0, this._dimSize = n, this._data = a;
      }
      e1(this, a, o);
    }
    return t.prototype.getSource = function() {
      return this._source;
    }, t.prototype.count = function() {
      return 0;
    }, t.prototype.getItem = function(e, n) {
    }, t.prototype.appendData = function(e) {
    }, t.prototype.clean = function() {
    }, t.protoInitialize = function() {
      var e = t.prototype;
      e.pure = !1, e.persistent = !0;
    }(), t.internalField = function() {
      var e;
      e1 = function(i, s, l) {
        var u = l.sourceFormat, c = l.seriesLayoutBy, d = l.startIndex, f = l.dimensionsDefine, v = j0[Sp(u, c)];
        if (process.env.NODE_ENV !== "production" && ot(v, "Invalide sourceFormat: " + u), Le(i, v), u === Eo)
          i.getItem = n, i.count = a, i.fillStorage = o;
        else {
          var p = Ry(u, c);
          i.getItem = Bt(p, null, s, d, f);
          var h = Oy(u, c);
          i.count = Bt(h, null, s, d, f);
        }
      };
      var n = function(i, s) {
        i = i - this._offset, s = s || [];
        for (var l = this._data, u = this._dimSize, c = u * i, d = 0; d < u; d++)
          s[d] = l[c + d];
        return s;
      }, o = function(i, s, l, u) {
        for (var c = this._data, d = this._dimSize, f = 0; f < d; f++) {
          for (var v = u[f], p = v[0] == null ? 1 / 0 : v[0], h = v[1] == null ? -1 / 0 : v[1], m = s - i, g = l[f], y = 0; y < m; y++) {
            var _ = c[y * d + f];
            g[i + y] = _, _ < p && (p = _), _ > h && (h = _);
          }
          v[0] = p, v[1] = h;
        }
      }, a = function() {
        return this._data ? this._data.length / this._dimSize : 0;
      };
      j0 = (e = {}, e[bn + "_" + Mo] = {
        pure: !0,
        appendData: r
      }, e[bn + "_" + oi] = {
        pure: !0,
        appendData: function() {
          throw new Error('Do not support appendData when set seriesLayoutBy: "row".');
        }
      }, e[ao] = {
        pure: !0,
        appendData: r
      }, e[wo] = {
        pure: !0,
        appendData: function(i) {
          var s = this._data;
          se(i, function(l, u) {
            for (var c = s[u] || (s[u] = []), d = 0; d < (l || []).length; d++)
              c.push(l[d]);
          });
        }
      }, e[Gn] = {
        appendData: r
      }, e[Eo] = {
        persistent: !1,
        pure: !0,
        appendData: function(i) {
          process.env.NODE_ENV !== "production" && ot(cn(i), "Added data must be TypedArray if data in initialization is TypedArray"), this._data = i;
        },
        // Clean self if data is already used.
        clean: function() {
          this._offset += this.count(), this._data = null;
        }
      }, e);
      function r(i) {
        for (var s = 0; s < i.length; s++)
          this._data.push(i[s]);
      }
    }(), t;
  }()
), t1 = function(t, e, n, o) {
  return t[o];
}, zT = (Na = {}, Na[bn + "_" + Mo] = function(t, e, n, o) {
  return t[o + e];
}, Na[bn + "_" + oi] = function(t, e, n, o, a) {
  o += e;
  for (var r = a || [], i = t, s = 0; s < i.length; s++) {
    var l = i[s];
    r[s] = l ? l[o] : null;
  }
  return r;
}, Na[ao] = t1, Na[wo] = function(t, e, n, o, a) {
  for (var r = a || [], i = 0; i < n.length; i++) {
    var s = n[i].name;
    if (process.env.NODE_ENV !== "production" && s == null)
      throw new Error();
    var l = t[s];
    r[i] = l ? l[o] : null;
  }
  return r;
}, Na[Gn] = t1, Na);
function Ry(t, e) {
  var n = zT[Sp(t, e)];
  return process.env.NODE_ENV !== "production" && ot(n, 'Do not support get item on "' + t + '", "' + e + '".'), n;
}
var n1 = function(t, e, n) {
  return t.length;
}, VT = (Ba = {}, Ba[bn + "_" + Mo] = function(t, e, n) {
  return Math.max(0, t.length - e);
}, Ba[bn + "_" + oi] = function(t, e, n) {
  var o = t[0];
  return o ? Math.max(0, o.length - e) : 0;
}, Ba[ao] = n1, Ba[wo] = function(t, e, n) {
  var o = n[0].name;
  if (process.env.NODE_ENV !== "production" && o == null)
    throw new Error();
  var a = t[o];
  return a ? a.length : 0;
}, Ba[Gn] = n1, Ba);
function Oy(t, e) {
  var n = VT[Sp(t, e)];
  return process.env.NODE_ENV !== "production" && ot(n, 'Do not support count on "' + t + '", "' + e + '".'), n;
}
var Ld = function(t, e, n) {
  return t[e];
}, HT = (Fa = {}, Fa[bn] = Ld, Fa[ao] = function(t, e, n) {
  return t[n];
}, Fa[wo] = Ld, Fa[Gn] = function(t, e, n) {
  var o = Ns(t);
  return o instanceof Array ? o[e] : o;
}, Fa[Eo] = Ld, Fa);
function Ny(t) {
  var e = HT[t];
  return process.env.NODE_ENV !== "production" && ot(e, 'Do not support get value on "' + t + '".'), e;
}
function Sp(t, e) {
  return t === bn ? t + "_" + e : t;
}
function qr(t, e, n) {
  if (t) {
    var o = t.getRawDataItem(e);
    if (o != null) {
      var a = t.getStore(), r = a.getSource().sourceFormat;
      if (n != null) {
        var i = t.getDimensionIndex(n), s = a.getDimensionProperty(i);
        return Ny(r)(o, i, s);
      } else {
        var l = o;
        return r === Gn && (l = Ns(o)), l;
      }
    }
  }
}
var GT = /\{@(.+?)\}/g, UT = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getDataParams = function(e, n) {
      var o = this.getData(n), a = this.getRawValue(e, n), r = o.getRawIndex(e), i = o.getName(e), s = o.getRawDataItem(e), l = o.getItemVisual(e, "style"), u = l && l[o.getItemVisual(e, "drawType") || "fill"], c = l && l.stroke, d = this.mainType, f = d === "series", v = o.userOutput && o.userOutput.get();
      return {
        componentType: d,
        componentSubType: this.subType,
        componentIndex: this.componentIndex,
        seriesType: f ? this.subType : null,
        seriesIndex: this.seriesIndex,
        seriesId: f ? this.id : null,
        seriesName: f ? this.name : null,
        name: i,
        dataIndex: r,
        data: s,
        dataType: n,
        value: a,
        color: u,
        borderColor: c,
        dimensionNames: v ? v.fullDimensions : null,
        encode: v ? v.encode : null,
        // Param name list for mapping `a`, `b`, `c`, `d`, `e`
        $vars: ["seriesName", "name", "value"]
      };
    }, t.prototype.getFormattedLabel = function(e, n, o, a, r, i) {
      n = n || "normal";
      var s = this.getData(o), l = this.getDataParams(e, o);
      if (i && (l.value = i.interpolatedValue), a != null && Oe(l.value) && (l.value = l.value[a]), !r) {
        var u = s.getItemModel(e);
        r = u.get(n === "normal" ? ["label", "formatter"] : [n, "label", "formatter"]);
      }
      if (Je(r))
        return l.status = n, l.dimensionIndex = a, r(l);
      if (ze(r)) {
        var c = tT(r, l);
        return c.replace(GT, function(d, f) {
          var v = f.length, p = f;
          p.charAt(0) === "[" && p.charAt(v - 1) === "]" && (p = +p.slice(1, v - 1), process.env.NODE_ENV !== "production" && isNaN(p) && on("Invalide label formatter: @" + f + ", only support @[0], @[1], @[2], ..."));
          var h = qr(s, e, p);
          if (i && Oe(i.interpolatedValue)) {
            var m = s.getDimensionIndex(p);
            m >= 0 && (h = i.interpolatedValue[m]);
          }
          return h != null ? h + "" : "";
        });
      }
    }, t.prototype.getRawValue = function(e, n) {
      return qr(this.getData(n), e);
    }, t.prototype.formatTooltip = function(e, n, o) {
    }, t;
  }()
);
function rs(t) {
  return new WT(t);
}
var WT = (
  /** @class */
  function() {
    function t(e) {
      e = e || {}, this._reset = e.reset, this._plan = e.plan, this._count = e.count, this._onDirty = e.onDirty, this._dirty = !0;
    }
    return t.prototype.perform = function(e) {
      var n = this._upstream, o = e && e.skip;
      if (this._dirty && n) {
        var a = this.context;
        a.data = a.outputData = n.context.outputData;
      }
      this.__pipeline && (this.__pipeline.currentTask = this);
      var r;
      this._plan && !o && (r = this._plan(this.context));
      var i = c(this._modBy), s = this._modDataCount || 0, l = c(e && e.modBy), u = e && e.modDataCount || 0;
      (i !== l || s !== u) && (r = "reset");
      function c(y) {
        return !(y >= 1) && (y = 1), y;
      }
      var d;
      (this._dirty || r === "reset") && (this._dirty = !1, d = this._doReset(o)), this._modBy = l, this._modDataCount = u;
      var f = e && e.step;
      if (n ? (process.env.NODE_ENV !== "production" && ot(n._outputDueEnd != null), this._dueEnd = n._outputDueEnd) : (process.env.NODE_ENV !== "production" && ot(!this._progress || this._count), this._dueEnd = this._count ? this._count(this.context) : 1 / 0), this._progress) {
        var v = this._dueIndex, p = Math.min(f != null ? this._dueIndex + f : 1 / 0, this._dueEnd);
        if (!o && (d || v < p)) {
          var h = this._progress;
          if (Oe(h))
            for (var m = 0; m < h.length; m++)
              this._doProgress(h[m], v, p, l, u);
          else
            this._doProgress(h, v, p, l, u);
        }
        this._dueIndex = p;
        var g = this._settedOutputEnd != null ? this._settedOutputEnd : p;
        process.env.NODE_ENV !== "production" && ot(g >= this._outputDueEnd), this._outputDueEnd = g;
      } else
        this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;
      return this.unfinished();
    }, t.prototype.dirty = function() {
      this._dirty = !0, this._onDirty && this._onDirty(this.context);
    }, t.prototype._doProgress = function(e, n, o, a, r) {
      o1.reset(n, o, a, r), this._callingProgress = e, this._callingProgress({
        start: n,
        end: o,
        count: o - n,
        next: o1.next
      }, this.context);
    }, t.prototype._doReset = function(e) {
      this._dueIndex = this._outputDueEnd = this._dueEnd = 0, this._settedOutputEnd = null;
      var n, o;
      !e && this._reset && (n = this._reset(this.context), n && n.progress && (o = n.forceFirstProgress, n = n.progress), Oe(n) && !n.length && (n = null)), this._progress = n, this._modBy = this._modDataCount = null;
      var a = this._downstream;
      return a && a.dirty(), o;
    }, t.prototype.unfinished = function() {
      return this._progress && this._dueIndex < this._dueEnd;
    }, t.prototype.pipe = function(e) {
      process.env.NODE_ENV !== "production" && ot(e && !e._disposed && e !== this), (this._downstream !== e || this._dirty) && (this._downstream = e, e._upstream = this, e.dirty());
    }, t.prototype.dispose = function() {
      this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0);
    }, t.prototype.getUpstream = function() {
      return this._upstream;
    }, t.prototype.getDownstream = function() {
      return this._downstream;
    }, t.prototype.setOutputEnd = function(e) {
      this._outputDueEnd = this._settedOutputEnd = e;
    }, t;
  }()
), o1 = /* @__PURE__ */ function() {
  var t, e, n, o, a, r = {
    reset: function(l, u, c, d) {
      e = l, t = u, n = c, o = d, a = Math.ceil(o / n), r.next = n > 1 && o > 0 ? s : i;
    }
  };
  return r;
  function i() {
    return e < t ? e++ : null;
  }
  function s() {
    var l = e % a * n + Math.ceil(e / a), u = e >= t ? null : l < o ? l : e;
    return e++, u;
  }
}();
function Yl(t, e) {
  var n = e && e.type;
  return n === "ordinal" ? t : (n === "time" && !bt(t) && t != null && t !== "-" && (t = +sa(t)), t == null || t === "" ? NaN : Number(t));
}
nt({
  number: function(t) {
    return parseFloat(t);
  },
  time: function(t) {
    return +sa(t);
  },
  trim: function(t) {
    return ze(t) ? Yo(t) : t;
  }
});
var XT = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getRawData = function() {
      throw new Error("not supported");
    }, t.prototype.getRawDataItem = function(e) {
      throw new Error("not supported");
    }, t.prototype.cloneRawData = function() {
    }, t.prototype.getDimensionInfo = function(e) {
    }, t.prototype.cloneAllDimensionInfo = function() {
    }, t.prototype.count = function() {
    }, t.prototype.retrieveValue = function(e, n) {
    }, t.prototype.retrieveValueFromItem = function(e, n) {
    }, t.prototype.convertValue = function(e, n) {
      return Yl(e, n);
    }, t;
  }()
);
function YT(t, e) {
  var n = new XT(), o = t.data, a = n.sourceFormat = t.sourceFormat, r = t.startIndex, i = "";
  t.seriesLayoutBy !== Mo && (process.env.NODE_ENV !== "production" && (i = '`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'), Sn(i));
  var s = [], l = {}, u = t.dimensionsDefine;
  if (u)
    se(u, function(h, m) {
      var g = h.name, y = {
        index: m,
        name: g,
        displayName: h.displayName
      };
      if (s.push(y), g != null) {
        var _ = "";
        ds(l, g) && (process.env.NODE_ENV !== "production" && (_ = 'dimension name "' + g + '" duplicated.'), Sn(_)), l[g] = y;
      }
    });
  else
    for (var c = 0; c < t.dimensionsDetectedCount; c++)
      s.push({
        index: c
      });
  var d = Ry(a, Mo);
  e.__isBuiltIn && (n.getRawDataItem = function(h) {
    return d(o, r, s, h);
  }, n.getRawData = Bt(ZT, null, t)), n.cloneRawData = Bt(qT, null, t);
  var f = Oy(a, Mo);
  n.count = Bt(f, null, o, r, s);
  var v = Ny(a);
  n.retrieveValue = function(h, m) {
    var g = d(o, r, s, h);
    return p(g, m);
  };
  var p = n.retrieveValueFromItem = function(h, m) {
    if (h != null) {
      var g = s[m];
      if (g)
        return v(h, m, g.name);
    }
  };
  return n.getDimensionInfo = Bt(JT, null, s, l), n.cloneAllDimensionInfo = Bt(KT, null, s), n;
}
function ZT(t) {
  var e = t.sourceFormat;
  if (!Ip(e)) {
    var n = "";
    process.env.NODE_ENV !== "production" && (n = "`getRawData` is not supported in source format " + e), Sn(n);
  }
  return t.data;
}
function qT(t) {
  var e = t.sourceFormat, n = t.data;
  if (!Ip(e)) {
    var o = "";
    process.env.NODE_ENV !== "production" && (o = "`cloneRawData` is not supported in source format " + e), Sn(o);
  }
  if (e === bn) {
    for (var a = [], r = 0, i = n.length; r < i; r++)
      a.push(n[r].slice());
    return a;
  } else if (e === ao) {
    for (var a = [], r = 0, i = n.length; r < i; r++)
      a.push(Le({}, n[r]));
    return a;
  }
}
function JT(t, e, n) {
  if (n != null) {
    if (bt(n) || !isNaN(n) && !ds(e, n))
      return t[n];
    if (ds(e, n))
      return e[n];
  }
}
function KT(t) {
  return st(t);
}
var By = nt();
function QT(t) {
  t = st(t);
  var e = t.type, n = "";
  e || (process.env.NODE_ENV !== "production" && (n = "Must have a `type` when `registerTransform`."), Sn(n));
  var o = e.split(":");
  o.length !== 2 && (process.env.NODE_ENV !== "production" && (n = 'Name must include namespace like "ns:regression".'), Sn(n));
  var a = !1;
  o[0] === "echarts" && (e = o[1], a = !0), t.__isBuiltIn = a, By.set(e, t);
}
function jT(t, e, n) {
  var o = un(t), a = o.length, r = "";
  a || (process.env.NODE_ENV !== "production" && (r = "If `transform` declared, it should at least contain one transform."), Sn(r));
  for (var i = 0, s = a; i < s; i++) {
    var l = o[i];
    e = eL(l, e, n, a === 1 ? null : i), i !== s - 1 && (e.length = Math.max(e.length, 1));
  }
  return e;
}
function eL(t, e, n, o) {
  var a = "";
  e.length || (process.env.NODE_ENV !== "production" && (a = "Must have at least one upstream dataset."), Sn(a)), Ue(t) || (process.env.NODE_ENV !== "production" && (a = "transform declaration must be an object rather than " + typeof t + "."), Sn(a));
  var r = t.type, i = By.get(r);
  i || (process.env.NODE_ENV !== "production" && (a = 'Can not find transform on type "' + r + '".'), Sn(a));
  var s = $e(e, function(c) {
    return YT(c, i);
  }), l = un(i.transform({
    upstream: s[0],
    upstreamList: s,
    config: st(t.config)
  }));
  if (process.env.NODE_ENV !== "production" && t.print) {
    var u = $e(l, function(c) {
      var d = o != null ? " === pipe index: " + o : "";
      return ["=== dataset index: " + n.datasetIndex + d + " ===", "- transform result data:", Bf(c.data), "- transform result dimensions:", Bf(c.dimensions)].join(`
`);
    }).join(`
`);
    i9(u);
  }
  return $e(l, function(c, d) {
    var f = "";
    Ue(c) || (process.env.NODE_ENV !== "production" && (f = "A transform should not return some empty results."), Sn(f)), c.data || (process.env.NODE_ENV !== "production" && (f = "Transform result data should be not be null or undefined"), Sn(f));
    var v = Dy(c.data);
    Ip(v) || (process.env.NODE_ENV !== "production" && (f = "Transform result data should be array rows or object rows."), Sn(f));
    var p, h = e[0];
    if (h && d === 0 && !c.dimensions) {
      var m = h.startIndex;
      m && (c.data = h.data.slice(0, m).concat(c.data)), p = {
        seriesLayoutBy: Mo,
        sourceHeader: m,
        dimensions: h.metaRawOption.dimensions
      };
    } else
      p = {
        seriesLayoutBy: Mo,
        sourceHeader: 0,
        dimensions: c.dimensions
      };
    return Qf(c.data, p, null);
  });
}
function Ip(t) {
  return t === bn || t === ao;
}
var fc = "undefined", tL = typeof Uint32Array === fc ? Array : Uint32Array, nL = typeof Uint16Array === fc ? Array : Uint16Array, Fy = typeof Int32Array === fc ? Array : Int32Array, a1 = typeof Float64Array === fc ? Array : Float64Array, zy = {
  float: a1,
  int: Fy,
  // Ordinal data type can be string or int
  ordinal: Array,
  number: Array,
  time: a1
}, kd;
function Si(t) {
  return t > 65535 ? tL : nL;
}
function yr() {
  return [1 / 0, -1 / 0];
}
function oL(t) {
  var e = t.constructor;
  return e === Array ? t.slice() : new e(t);
}
function r1(t, e, n, o, a) {
  var r = zy[n || "float"];
  if (a) {
    var i = t[e], s = i && i.length;
    if (s !== o) {
      for (var l = new r(o), u = 0; u < s; u++)
        l[u] = i[u];
      t[e] = l;
    }
  } else
    t[e] = new r(o);
}
var jf = (
  /** @class */
  function() {
    function t() {
      this._chunks = [], this._rawExtent = [], this._extent = [], this._count = 0, this._rawCount = 0, this._calcDimNameToIdx = nt();
    }
    return t.prototype.initData = function(e, n, o) {
      process.env.NODE_ENV !== "production" && ot(Je(e.getItem) && Je(e.count), "Invalid data provider."), this._provider = e, this._chunks = [], this._indices = null, this.getRawIndex = this._getRawIdxIdentity;
      var a = e.getSource(), r = this.defaultDimValueGetter = kd[a.sourceFormat];
      this._dimValueGetter = o || r, this._rawExtent = [];
      var i = $y(a);
      this._dimensions = $e(n, function(s) {
        return process.env.NODE_ENV !== "production" && i && ot(s.property != null), {
          // Only pick these two props. Not leak other properties like orderMeta.
          type: s.type,
          property: s.property
        };
      }), this._initDataFromProvider(0, e.count());
    }, t.prototype.getProvider = function() {
      return this._provider;
    }, t.prototype.getSource = function() {
      return this._provider.getSource();
    }, t.prototype.ensureCalculationDimension = function(e, n) {
      var o = this._calcDimNameToIdx, a = this._dimensions, r = o.get(e);
      if (r != null) {
        if (a[r].type === n)
          return r;
      } else
        r = a.length;
      return a[r] = {
        type: n
      }, o.set(e, r), this._chunks[r] = new zy[n || "float"](this._rawCount), this._rawExtent[r] = yr(), r;
    }, t.prototype.collectOrdinalMeta = function(e, n) {
      var o = this._chunks[e], a = this._dimensions[e], r = this._rawExtent, i = a.ordinalOffset || 0, s = o.length;
      i === 0 && (r[e] = yr());
      for (var l = r[e], u = i; u < s; u++) {
        var c = o[u] = n.parseAndCollect(o[u]);
        isNaN(c) || (l[0] = Math.min(c, l[0]), l[1] = Math.max(c, l[1]));
      }
      a.ordinalMeta = n, a.ordinalOffset = s, a.type = "ordinal";
    }, t.prototype.getOrdinalMeta = function(e) {
      var n = this._dimensions[e], o = n.ordinalMeta;
      return o;
    }, t.prototype.getDimensionProperty = function(e) {
      var n = this._dimensions[e];
      return n && n.property;
    }, t.prototype.appendData = function(e) {
      process.env.NODE_ENV !== "production" && ot(!this._indices, "appendData can only be called on raw data.");
      var n = this._provider, o = this.count();
      n.appendData(e);
      var a = n.count();
      return n.persistent || (a += o), o < a && this._initDataFromProvider(o, a, !0), [o, a];
    }, t.prototype.appendValues = function(e, n) {
      for (var o = this._chunks, a = this._dimensions, r = a.length, i = this._rawExtent, s = this.count(), l = s + Math.max(e.length, n || 0), u = 0; u < r; u++) {
        var c = a[u];
        r1(o, u, c.type, l, !0);
      }
      for (var d = [], f = s; f < l; f++)
        for (var v = f - s, p = 0; p < r; p++) {
          var c = a[p], h = kd.arrayRows.call(this, e[v] || d, c.property, v, p);
          o[p][f] = h;
          var m = i[p];
          h < m[0] && (m[0] = h), h > m[1] && (m[1] = h);
        }
      return this._rawCount = this._count = l, {
        start: s,
        end: l
      };
    }, t.prototype._initDataFromProvider = function(e, n, o) {
      for (var a = this._provider, r = this._chunks, i = this._dimensions, s = i.length, l = this._rawExtent, u = $e(i, function(y) {
        return y.property;
      }), c = 0; c < s; c++) {
        var d = i[c];
        l[c] || (l[c] = yr()), r1(r, c, d.type, n, o);
      }
      if (a.fillStorage)
        a.fillStorage(e, n, r, l);
      else
        for (var f = [], v = e; v < n; v++) {
          f = a.getItem(v, f);
          for (var p = 0; p < s; p++) {
            var h = r[p], m = this._dimValueGetter(f, u[p], v, p);
            h[v] = m;
            var g = l[p];
            m < g[0] && (g[0] = m), m > g[1] && (g[1] = m);
          }
        }
      !a.persistent && a.clean && a.clean(), this._rawCount = this._count = n, this._extent = [];
    }, t.prototype.count = function() {
      return this._count;
    }, t.prototype.get = function(e, n) {
      if (!(n >= 0 && n < this._count))
        return NaN;
      var o = this._chunks[e];
      return o ? o[this.getRawIndex(n)] : NaN;
    }, t.prototype.getValues = function(e, n) {
      var o = [], a = [];
      if (n == null) {
        n = e, e = [];
        for (var r = 0; r < this._dimensions.length; r++)
          a.push(r);
      } else
        a = e;
      for (var r = 0, i = a.length; r < i; r++)
        o.push(this.get(a[r], n));
      return o;
    }, t.prototype.getByRawIndex = function(e, n) {
      if (!(n >= 0 && n < this._rawCount))
        return NaN;
      var o = this._chunks[e];
      return o ? o[n] : NaN;
    }, t.prototype.getSum = function(e) {
      var n = this._chunks[e], o = 0;
      if (n)
        for (var a = 0, r = this.count(); a < r; a++) {
          var i = this.get(e, a);
          isNaN(i) || (o += i);
        }
      return o;
    }, t.prototype.getMedian = function(e) {
      var n = [];
      this.each([e], function(r) {
        isNaN(r) || n.push(r);
      });
      var o = n.sort(function(r, i) {
        return r - i;
      }), a = this.count();
      return a === 0 ? 0 : a % 2 === 1 ? o[(a - 1) / 2] : (o[a / 2] + o[a / 2 - 1]) / 2;
    }, t.prototype.indexOfRawIndex = function(e) {
      if (e >= this._rawCount || e < 0)
        return -1;
      if (!this._indices)
        return e;
      var n = this._indices, o = n[e];
      if (o != null && o < this._count && o === e)
        return e;
      for (var a = 0, r = this._count - 1; a <= r; ) {
        var i = (a + r) / 2 | 0;
        if (n[i] < e)
          a = i + 1;
        else if (n[i] > e)
          r = i - 1;
        else
          return i;
      }
      return -1;
    }, t.prototype.indicesOfNearest = function(e, n, o) {
      var a = this._chunks, r = a[e], i = [];
      if (!r)
        return i;
      o == null && (o = 1 / 0);
      for (var s = 1 / 0, l = -1, u = 0, c = 0, d = this.count(); c < d; c++) {
        var f = this.getRawIndex(c), v = n - r[f], p = Math.abs(v);
        p <= o && ((p < s || p === s && v >= 0 && l < 0) && (s = p, l = v, u = 0), v === l && (i[u++] = c));
      }
      return i.length = u, i;
    }, t.prototype.getIndices = function() {
      var e, n = this._indices;
      if (n) {
        var o = n.constructor, a = this._count;
        if (o === Array) {
          e = new o(a);
          for (var r = 0; r < a; r++)
            e[r] = n[r];
        } else
          e = new o(n.buffer, 0, a);
      } else {
        var o = Si(this._rawCount);
        e = new o(this.count());
        for (var r = 0; r < e.length; r++)
          e[r] = r;
      }
      return e;
    }, t.prototype.filter = function(e, n) {
      if (!this._count)
        return this;
      for (var o = this.clone(), a = o.count(), r = Si(o._rawCount), i = new r(a), s = [], l = e.length, u = 0, c = e[0], d = o._chunks, f = 0; f < a; f++) {
        var v = void 0, p = o.getRawIndex(f);
        if (l === 0)
          v = n(f);
        else if (l === 1) {
          var h = d[c][p];
          v = n(h, f);
        } else {
          for (var m = 0; m < l; m++)
            s[m] = d[e[m]][p];
          s[m] = f, v = n.apply(null, s);
        }
        v && (i[u++] = p);
      }
      return u < a && (o._indices = i), o._count = u, o._extent = [], o._updateGetRawIdx(), o;
    }, t.prototype.selectRange = function(e) {
      var n = this.clone(), o = n._count;
      if (!o)
        return this;
      var a = lt(e), r = a.length;
      if (!r)
        return this;
      var i = n.count(), s = Si(n._rawCount), l = new s(i), u = 0, c = a[0], d = e[c][0], f = e[c][1], v = n._chunks, p = !1;
      if (!n._indices) {
        var h = 0;
        if (r === 1) {
          for (var m = v[a[0]], g = 0; g < o; g++) {
            var y = m[g];
            (y >= d && y <= f || isNaN(y)) && (l[u++] = h), h++;
          }
          p = !0;
        } else if (r === 2) {
          for (var m = v[a[0]], _ = v[a[1]], w = e[a[1]][0], x = e[a[1]][1], g = 0; g < o; g++) {
            var y = m[g], S = _[g];
            (y >= d && y <= f || isNaN(y)) && (S >= w && S <= x || isNaN(S)) && (l[u++] = h), h++;
          }
          p = !0;
        }
      }
      if (!p)
        if (r === 1)
          for (var g = 0; g < i; g++) {
            var L = n.getRawIndex(g), y = v[a[0]][L];
            (y >= d && y <= f || isNaN(y)) && (l[u++] = L);
          }
        else
          for (var g = 0; g < i; g++) {
            for (var b = !0, L = n.getRawIndex(g), I = 0; I < r; I++) {
              var M = a[I], y = v[M][L];
              (y < e[M][0] || y > e[M][1]) && (b = !1);
            }
            b && (l[u++] = n.getRawIndex(g));
          }
      return u < i && (n._indices = l), n._count = u, n._extent = [], n._updateGetRawIdx(), n;
    }, t.prototype.map = function(e, n) {
      var o = this.clone(e);
      return this._updateDims(o, e, n), o;
    }, t.prototype.modify = function(e, n) {
      this._updateDims(this, e, n);
    }, t.prototype._updateDims = function(e, n, o) {
      for (var a = e._chunks, r = [], i = n.length, s = e.count(), l = [], u = e._rawExtent, c = 0; c < n.length; c++)
        u[n[c]] = yr();
      for (var d = 0; d < s; d++) {
        for (var f = e.getRawIndex(d), v = 0; v < i; v++)
          l[v] = a[n[v]][f];
        l[i] = d;
        var p = o && o.apply(null, l);
        if (p != null) {
          typeof p != "object" && (r[0] = p, p = r);
          for (var c = 0; c < p.length; c++) {
            var h = n[c], m = p[c], g = u[h], y = a[h];
            y && (y[f] = m), m < g[0] && (g[0] = m), m > g[1] && (g[1] = m);
          }
        }
      }
    }, t.prototype.lttbDownSample = function(e, n) {
      var o = this.clone([e], !0), a = o._chunks, r = a[e], i = this.count(), s = 0, l = Math.floor(1 / n), u = this.getRawIndex(0), c, d, f, v = new (Si(this._rawCount))(Math.min((Math.ceil(i / l) + 2) * 2, i));
      v[s++] = u;
      for (var p = 1; p < i - 1; p += l) {
        for (var h = Math.min(p + l, i - 1), m = Math.min(p + l * 2, i), g = (m + h) / 2, y = 0, _ = h; _ < m; _++) {
          var w = this.getRawIndex(_), x = r[w];
          isNaN(x) || (y += x);
        }
        y /= m - h;
        var S = p, L = Math.min(p + l, i), b = p - 1, I = r[u];
        c = -1, f = S;
        for (var M = -1, E = 0, _ = S; _ < L; _++) {
          var w = this.getRawIndex(_), x = r[w];
          if (isNaN(x)) {
            E++, M < 0 && (M = w);
            continue;
          }
          d = Math.abs((b - g) * (x - I) - (b - _) * (y - I)), d > c && (c = d, f = w);
        }
        E > 0 && E < L - S && (v[s++] = Math.min(M, f), f = Math.max(M, f)), v[s++] = f, u = f;
      }
      return v[s++] = this.getRawIndex(i - 1), o._count = s, o._indices = v, o.getRawIndex = this._getRawIdx, o;
    }, t.prototype.downSample = function(e, n, o, a) {
      for (var r = this.clone([e], !0), i = r._chunks, s = [], l = Math.floor(1 / n), u = i[e], c = this.count(), d = r._rawExtent[e] = yr(), f = new (Si(this._rawCount))(Math.ceil(c / l)), v = 0, p = 0; p < c; p += l) {
        l > c - p && (l = c - p, s.length = l);
        for (var h = 0; h < l; h++) {
          var m = this.getRawIndex(p + h);
          s[h] = u[m];
        }
        var g = o(s), y = this.getRawIndex(Math.min(p + a(s, g) || 0, c - 1));
        u[y] = g, g < d[0] && (d[0] = g), g > d[1] && (d[1] = g), f[v++] = y;
      }
      return r._count = v, r._indices = f, r._updateGetRawIdx(), r;
    }, t.prototype.each = function(e, n) {
      if (this._count)
        for (var o = e.length, a = this._chunks, r = 0, i = this.count(); r < i; r++) {
          var s = this.getRawIndex(r);
          switch (o) {
            case 0:
              n(r);
              break;
            case 1:
              n(a[e[0]][s], r);
              break;
            case 2:
              n(a[e[0]][s], a[e[1]][s], r);
              break;
            default:
              for (var l = 0, u = []; l < o; l++)
                u[l] = a[e[l]][s];
              u[l] = r, n.apply(null, u);
          }
        }
    }, t.prototype.getDataExtent = function(e) {
      var n = this._chunks[e], o = yr();
      if (!n)
        return o;
      var a = this.count(), r = !this._indices, i;
      if (r)
        return this._rawExtent[e].slice();
      if (i = this._extent[e], i)
        return i.slice();
      i = o;
      for (var s = i[0], l = i[1], u = 0; u < a; u++) {
        var c = this.getRawIndex(u), d = n[c];
        d < s && (s = d), d > l && (l = d);
      }
      return i = [s, l], this._extent[e] = i, i;
    }, t.prototype.getRawDataItem = function(e) {
      var n = this.getRawIndex(e);
      if (this._provider.persistent)
        return this._provider.getItem(n);
      for (var o = [], a = this._chunks, r = 0; r < a.length; r++)
        o.push(a[r][n]);
      return o;
    }, t.prototype.clone = function(e, n) {
      var o = new t(), a = this._chunks, r = e && ra(e, function(s, l) {
        return s[l] = !0, s;
      }, {});
      if (r)
        for (var i = 0; i < a.length; i++)
          o._chunks[i] = r[i] ? oL(a[i]) : a[i];
      else
        o._chunks = a;
      return this._copyCommonProps(o), n || (o._indices = this._cloneIndices()), o._updateGetRawIdx(), o;
    }, t.prototype._copyCommonProps = function(e) {
      e._count = this._count, e._rawCount = this._rawCount, e._provider = this._provider, e._dimensions = this._dimensions, e._extent = st(this._extent), e._rawExtent = st(this._rawExtent);
    }, t.prototype._cloneIndices = function() {
      if (this._indices) {
        var e = this._indices.constructor, n = void 0;
        if (e === Array) {
          var o = this._indices.length;
          n = new e(o);
          for (var a = 0; a < o; a++)
            n[a] = this._indices[a];
        } else
          n = new e(this._indices);
        return n;
      }
      return null;
    }, t.prototype._getRawIdxIdentity = function(e) {
      return e;
    }, t.prototype._getRawIdx = function(e) {
      return e < this._count && e >= 0 ? this._indices[e] : -1;
    }, t.prototype._updateGetRawIdx = function() {
      this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;
    }, t.internalField = function() {
      function e(n, o, a, r) {
        return Yl(n[r], this._dimensions[r]);
      }
      kd = {
        arrayRows: e,
        objectRows: function(n, o, a, r) {
          return Yl(n[o], this._dimensions[r]);
        },
        keyedColumns: e,
        original: function(n, o, a, r) {
          var i = n && (n.value == null ? n : n.value);
          return Yl(i instanceof Array ? i[r] : i, this._dimensions[r]);
        },
        typedArray: function(n, o, a, r) {
          return n[r];
        }
      };
    }(), t;
  }()
), aL = (
  /** @class */
  function() {
    function t(e) {
      this._sourceList = [], this._storeList = [], this._upstreamSignList = [], this._versionSignBase = 0, this._dirty = !0, this._sourceHost = e;
    }
    return t.prototype.dirty = function() {
      this._setLocalSource([], []), this._storeList = [], this._dirty = !0;
    }, t.prototype._setLocalSource = function(e, n) {
      this._sourceList = e, this._upstreamSignList = n, this._versionSignBase++, this._versionSignBase > 9e10 && (this._versionSignBase = 0);
    }, t.prototype._getVersionSign = function() {
      return this._sourceHost.uid + "_" + this._versionSignBase;
    }, t.prototype.prepareSource = function() {
      this._isDirty() && (this._createSource(), this._dirty = !1);
    }, t.prototype._createSource = function() {
      this._setLocalSource([], []);
      var e = this._sourceHost, n = this._getUpstreamSourceManagers(), o = !!n.length, a, r;
      if (Ii(e)) {
        var i = e, s = void 0, l = void 0, u = void 0;
        if (o) {
          var c = n[0];
          c.prepareSource(), u = c.getSource(), s = u.data, l = u.sourceFormat, r = [c._getVersionSign()];
        } else
          s = i.get("data", !0), l = cn(s) ? Eo : Gn, r = [];
        var d = this._getSourceMetaRawOption() || {}, f = u && u.metaRawOption || {}, v = Ge(d.seriesLayoutBy, f.seriesLayoutBy) || null, p = Ge(d.sourceHeader, f.sourceHeader), h = Ge(d.dimensions, f.dimensions), m = v !== f.seriesLayoutBy || !!p != !!f.sourceHeader || h;
        a = m ? [Qf(s, {
          seriesLayoutBy: v,
          sourceHeader: p,
          dimensions: h
        }, l)] : [];
      } else {
        var g = e;
        if (o) {
          var y = this._applyTransform(n);
          a = y.sourceList, r = y.upstreamSignList;
        } else {
          var _ = g.get("source", !0);
          a = [Qf(_, this._getSourceMetaRawOption(), null)], r = [];
        }
      }
      process.env.NODE_ENV !== "production" && ot(a && r), this._setLocalSource(a, r);
    }, t.prototype._applyTransform = function(e) {
      var n = this._sourceHost, o = n.get("transform", !0), a = n.get("fromTransformResult", !0);
      if (process.env.NODE_ENV !== "production" && ot(a != null || o != null), a != null) {
        var r = "";
        e.length !== 1 && (process.env.NODE_ENV !== "production" && (r = "When using `fromTransformResult`, there should be only one upstream dataset"), i1(r));
      }
      var i, s = [], l = [];
      return se(e, function(u) {
        u.prepareSource();
        var c = u.getSource(a || 0), d = "";
        a != null && !c && (process.env.NODE_ENV !== "production" && (d = "Can not retrieve result by `fromTransformResult`: " + a), i1(d)), s.push(c), l.push(u._getVersionSign());
      }), o ? i = jT(o, s, {
        datasetIndex: n.componentIndex
      }) : a != null && (i = [NT(s[0])]), {
        sourceList: i,
        upstreamSignList: l
      };
    }, t.prototype._isDirty = function() {
      if (this._dirty)
        return !0;
      for (var e = this._getUpstreamSourceManagers(), n = 0; n < e.length; n++) {
        var o = e[n];
        if (
          // Consider the case that there is ancestor diry, call it recursively.
          // The performance is probably not an issue because usually the chain is not long.
          o._isDirty() || this._upstreamSignList[n] !== o._getVersionSign()
        )
          return !0;
      }
    }, t.prototype.getSource = function(e) {
      e = e || 0;
      var n = this._sourceList[e];
      if (!n) {
        var o = this._getUpstreamSourceManagers();
        return o[0] && o[0].getSource(e);
      }
      return n;
    }, t.prototype.getSharedDataStore = function(e) {
      process.env.NODE_ENV !== "production" && ot(Ii(this._sourceHost), "Can only call getDataStore on series source manager.");
      var n = e.makeStoreSchema();
      return this._innerGetDataStore(n.dimensions, e.source, n.hash);
    }, t.prototype._innerGetDataStore = function(e, n, o) {
      var a = 0, r = this._storeList, i = r[a];
      i || (i = r[a] = {});
      var s = i[o];
      if (!s) {
        var l = this._getUpstreamSourceManagers()[0];
        Ii(this._sourceHost) && l ? s = l._innerGetDataStore(e, n, o) : (s = new jf(), s.initData(new Py(n, e.length), e)), i[o] = s;
      }
      return s;
    }, t.prototype._getUpstreamSourceManagers = function() {
      var e = this._sourceHost;
      if (Ii(e)) {
        var n = yp(e);
        return n ? [n.getSourceManager()] : [];
      } else
        return $e(cT(e), function(o) {
          return o.getSourceManager();
        });
    }, t.prototype._getSourceMetaRawOption = function() {
      var e = this._sourceHost, n, o, a;
      if (Ii(e))
        n = e.get("seriesLayoutBy", !0), o = e.get("sourceHeader", !0), a = e.get("dimensions", !0);
      else if (!this._getUpstreamSourceManagers().length) {
        var r = e;
        n = r.get("seriesLayoutBy", !0), o = r.get("sourceHeader", !0), a = r.get("dimensions", !0);
      }
      return {
        seriesLayoutBy: n,
        sourceHeader: o,
        dimensions: a
      };
    }, t;
  }()
);
function Ii(t) {
  return t.mainType === "series";
}
function i1(t) {
  throw new Error(t);
}
function xs(t, e) {
  return e.type = t, e;
}
function Vy(t, e) {
  var n = t.getData().getItemVisual(e, "style"), o = n[t.visualDrawType];
  return Jf(o);
}
function rL(t) {
  var e = t.series, n = t.dataIndex, o = t.multipleSeries, a = e.getData(), r = a.mapDimensionsAll("defaultedTooltip"), i = r.length, s = e.getRawValue(n), l = Oe(s), u = Vy(e, n), c, d, f, v;
  if (i > 1 || l && !i) {
    var p = iL(s, e, n, r, u);
    c = p.inlineValues, d = p.inlineValueTypes, f = p.blocks, v = p.inlineValues[0];
  } else if (i) {
    var h = a.getDimensionInfo(r[0]);
    v = c = qr(a, n, r[0]), d = h.type;
  } else
    v = c = l ? s[0] : s;
  var m = ep(e), g = m && e.name || "", y = a.getName(n), _ = o ? g : y;
  return xs("section", {
    header: g,
    // When series name is not specified, do not show a header line with only '-'.
    // This case always happens in tooltip.trigger: 'item'.
    noHeader: o || !m,
    sortParam: v,
    blocks: [xs("nameValue", {
      markerType: "item",
      markerColor: u,
      // Do not mix display seriesName and itemName in one tooltip,
      // which might confuses users.
      name: _,
      // name dimension might be auto assigned, where the name might
      // be not readable. So we check trim here.
      noName: !Yo(_),
      value: c,
      valueType: d,
      dataIndex: n
    })].concat(f || [])
  });
}
function iL(t, e, n, o, a) {
  var r = e.getData(), i = ra(t, function(d, f, v) {
    var p = r.getDimensionInfo(v);
    return d = d || p && p.tooltip !== !1 && p.displayName != null;
  }, !1), s = [], l = [], u = [];
  o.length ? se(o, function(d) {
    c(qr(r, n, d), d);
  }) : se(t, c);
  function c(d, f) {
    var v = r.getDimensionInfo(f);
    !v || v.otherDims.tooltip === !1 || (i ? u.push(xs("nameValue", {
      markerType: "subItem",
      markerColor: a,
      name: v.displayName,
      value: d,
      valueType: v.type
    })) : (s.push(d), l.push(v.type)));
  }
  return {
    inlineValues: s,
    inlineValueTypes: l,
    blocks: u
  };
}
var Bo = Wt();
function hl(t, e) {
  return t.getName(e) || t.getId(e);
}
var sL = "__universalTransitionEnabled", kn = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n._selectedDataIndicesMap = {}, n;
    }
    return e.prototype.init = function(n, o, a) {
      this.seriesIndex = this.componentIndex, this.dataTask = rs({
        count: uL,
        reset: cL
      }), this.dataTask.context = {
        model: this
      }, this.mergeDefaultAndTheme(n, a);
      var r = Bo(this).sourceManager = new aL(this);
      r.prepareSource();
      var i = this.getInitialData(n, a);
      l1(i, this), this.dataTask.context.data = i, process.env.NODE_ENV !== "production" && ot(i, "getInitialData returned invalid data."), Bo(this).dataBeforeProcessed = i, s1(this), this._initSelectedMapFromData(i);
    }, e.prototype.mergeDefaultAndTheme = function(n, o) {
      var a = bs(this), r = a ? cc(n) : {}, i = this.subType;
      mt.hasClass(i) && (i += "Series"), gt(n, o.getTheme().get(this.subType)), gt(n, this.getDefaultOption()), Ff(n, "label", ["show"]), this.fillDataTextStyle(n.data), a && Zr(n, r, a);
    }, e.prototype.mergeOption = function(n, o) {
      n = gt(this.option, n, !0), this.fillDataTextStyle(n.data);
      var a = bs(this);
      a && Zr(this.option, n, a);
      var r = Bo(this).sourceManager;
      r.dirty(), r.prepareSource();
      var i = this.getInitialData(n, o);
      l1(i, this), this.dataTask.dirty(), this.dataTask.context.data = i, Bo(this).dataBeforeProcessed = i, s1(this), this._initSelectedMapFromData(i);
    }, e.prototype.fillDataTextStyle = function(n) {
      if (n && !cn(n))
        for (var o = ["show"], a = 0; a < n.length; a++)
          n[a] && n[a].label && Ff(n[a], "label", o);
    }, e.prototype.getInitialData = function(n, o) {
    }, e.prototype.appendData = function(n) {
      var o = this.getRawData();
      o.appendData(n.data);
    }, e.prototype.getData = function(n) {
      var o = ev(this);
      if (o) {
        var a = o.context.data;
        return n == null || !a.getLinkedData ? a : a.getLinkedData(n);
      } else
        return Bo(this).data;
    }, e.prototype.getAllData = function() {
      var n = this.getData();
      return n && n.getLinkedDataAll ? n.getLinkedDataAll() : [{
        data: n
      }];
    }, e.prototype.setData = function(n) {
      var o = ev(this);
      if (o) {
        var a = o.context;
        a.outputData = n, o !== this.dataTask && (a.data = n);
      }
      Bo(this).data = n;
    }, e.prototype.getEncode = function() {
      var n = this.get("encode", !0);
      if (n)
        return nt(n);
    }, e.prototype.getSourceManager = function() {
      return Bo(this).sourceManager;
    }, e.prototype.getSource = function() {
      return this.getSourceManager().getSource();
    }, e.prototype.getRawData = function() {
      return Bo(this).dataBeforeProcessed;
    }, e.prototype.getColorBy = function() {
      var n = this.get("colorBy");
      return n || "series";
    }, e.prototype.isColorBySeries = function() {
      return this.getColorBy() === "series";
    }, e.prototype.getBaseAxis = function() {
      var n = this.coordinateSystem;
      return n && n.getBaseAxis && n.getBaseAxis();
    }, e.prototype.formatTooltip = function(n, o, a) {
      return rL({
        series: this,
        dataIndex: n,
        multipleSeries: o
      });
    }, e.prototype.isAnimationEnabled = function() {
      var n = this.ecModel;
      if (pt.node && !(n && n.ssr))
        return !1;
      var o = this.getShallow("animation");
      return o && this.getData().count() > this.getShallow("animationThreshold") && (o = !1), !!o;
    }, e.prototype.restoreData = function() {
      this.dataTask.dirty();
    }, e.prototype.getColorFromPalette = function(n, o, a) {
      var r = this.ecModel, i = _p.prototype.getColorFromPalette.call(this, n, o, a);
      return i || (i = r.getColorFromPalette(n, o, a)), i;
    }, e.prototype.coordDimToDataDim = function(n) {
      return this.getRawData().mapDimensionsAll(n);
    }, e.prototype.getProgressive = function() {
      return this.get("progressive");
    }, e.prototype.getProgressiveThreshold = function() {
      return this.get("progressiveThreshold");
    }, e.prototype.select = function(n, o) {
      this._innerSelect(this.getData(o), n);
    }, e.prototype.unselect = function(n, o) {
      var a = this.option.selectedMap;
      if (a) {
        var r = this.option.selectedMode, i = this.getData(o);
        if (r === "series" || a === "all") {
          this.option.selectedMap = {}, this._selectedDataIndicesMap = {};
          return;
        }
        for (var s = 0; s < n.length; s++) {
          var l = n[s], u = hl(i, l);
          a[u] = !1, this._selectedDataIndicesMap[u] = -1;
        }
      }
    }, e.prototype.toggleSelect = function(n, o) {
      for (var a = [], r = 0; r < n.length; r++)
        a[0] = n[r], this.isSelected(n[r], o) ? this.unselect(a, o) : this.select(a, o);
    }, e.prototype.getSelectedDataIndices = function() {
      if (this.option.selectedMap === "all")
        return [].slice.call(this.getData().getIndices());
      for (var n = this._selectedDataIndicesMap, o = lt(n), a = [], r = 0; r < o.length; r++) {
        var i = n[o[r]];
        i >= 0 && a.push(i);
      }
      return a;
    }, e.prototype.isSelected = function(n, o) {
      var a = this.option.selectedMap;
      if (!a)
        return !1;
      var r = this.getData(o);
      return (a === "all" || a[hl(r, n)]) && !r.getItemModel(n).get(["select", "disabled"]);
    }, e.prototype.isUniversalTransitionEnabled = function() {
      if (this[sL])
        return !0;
      var n = this.option.universalTransition;
      return n ? n === !0 ? !0 : n && n.enabled : !1;
    }, e.prototype._innerSelect = function(n, o) {
      var a, r, i = this.option, s = i.selectedMode, l = o.length;
      if (!(!s || !l)) {
        if (s === "series")
          i.selectedMap = "all";
        else if (s === "multiple") {
          Ue(i.selectedMap) || (i.selectedMap = {});
          for (var u = i.selectedMap, c = 0; c < l; c++) {
            var d = o[c], f = hl(n, d);
            u[f] = !0, this._selectedDataIndicesMap[f] = n.getRawIndex(d);
          }
        } else if (s === "single" || s === !0) {
          var v = o[l - 1], f = hl(n, v);
          i.selectedMap = (a = {}, a[f] = !0, a), this._selectedDataIndicesMap = (r = {}, r[f] = n.getRawIndex(v), r);
        }
      }
    }, e.prototype._initSelectedMapFromData = function(n) {
      if (!this.option.selectedMap) {
        var o = [];
        n.hasItemOption && n.each(function(a) {
          var r = n.getRawDataItem(a);
          r && r.selected && o.push(a);
        }), o.length > 0 && this._innerSelect(n, o);
      }
    }, e.registerClass = function(n) {
      return mt.registerClass(n);
    }, e.protoInitialize = function() {
      var n = e.prototype;
      n.type = "series.__base__", n.seriesIndex = 0, n.ignoreStyleOnData = !1, n.hasSymbolVisual = !1, n.defaultSymbol = "circle", n.visualStyleAccessPath = "itemStyle", n.visualDrawType = "fill";
    }(), e;
  }(mt)
);
to(kn, UT);
to(kn, _p);
L2(kn, mt);
function s1(t) {
  var e = t.name;
  ep(t) || (t.name = lL(t) || e);
}
function lL(t) {
  var e = t.getRawData(), n = e.mapDimensionsAll("seriesName"), o = [];
  return se(n, function(a) {
    var r = e.getDimensionInfo(a);
    r.displayName && o.push(r.displayName);
  }), o.join(" ");
}
function uL(t) {
  return t.model.getRawData().count();
}
function cL(t) {
  var e = t.model;
  return e.setData(e.getRawData().cloneShallow()), dL;
}
function dL(t, e) {
  e.outputData && t.end > e.outputData.count() && e.model.getRawData().cloneShallow(e.outputData);
}
function l1(t, e) {
  se(Lx(t.CHANGABLE_METHODS, t.DOWNSAMPLE_METHODS), function(n) {
    t.wrapMethod(n, In(fL, e));
  });
}
function fL(t, e) {
  var n = ev(t);
  return n && n.setOutputEnd((e || this).count()), e;
}
function ev(t) {
  var e = (t.ecModel || {}).scheduler, n = e && e.getPipeline(t.uid);
  if (n) {
    var o = n.currentTask;
    if (o) {
      var a = o.agentStubMap;
      a && (o = a.get(t.uid));
    }
    return o;
  }
}
var Ao = (
  /** @class */
  function() {
    function t() {
      this.group = new zt(), this.uid = rc("viewComponent");
    }
    return t.prototype.init = function(e, n) {
    }, t.prototype.render = function(e, n, o, a) {
    }, t.prototype.dispose = function(e, n) {
    }, t.prototype.updateView = function(e, n, o, a) {
    }, t.prototype.updateLayout = function(e, n, o, a) {
    }, t.prototype.updateVisual = function(e, n, o, a) {
    }, t.prototype.toggleBlurSeries = function(e, n, o) {
    }, t.prototype.eachRendered = function(e) {
      var n = this.group;
      n && n.traverse(e);
    }, t;
  }()
);
tp(Ao);
Zu(Ao);
function Cp() {
  var t = Wt();
  return function(e) {
    var n = t(e), o = e.pipelineContext, a = !!n.large, r = !!n.progressiveRender, i = n.large = !!(o && o.large), s = n.progressiveRender = !!(o && o.progressiveRender);
    return (a !== i || r !== s) && "reset";
  };
}
var Hy = Wt(), vL = Cp(), yn = (
  /** @class */
  function() {
    function t() {
      this.group = new zt(), this.uid = rc("viewChart"), this.renderTask = rs({
        plan: pL,
        reset: hL
      }), this.renderTask.context = {
        view: this
      };
    }
    return t.prototype.init = function(e, n) {
    }, t.prototype.render = function(e, n, o, a) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("render method must been implemented");
    }, t.prototype.highlight = function(e, n, o, a) {
      var r = e.getData(a && a.dataType);
      if (!r) {
        process.env.NODE_ENV !== "production" && on("Unknown dataType " + a.dataType);
        return;
      }
      c1(r, a, "emphasis");
    }, t.prototype.downplay = function(e, n, o, a) {
      var r = e.getData(a && a.dataType);
      if (!r) {
        process.env.NODE_ENV !== "production" && on("Unknown dataType " + a.dataType);
        return;
      }
      c1(r, a, "normal");
    }, t.prototype.remove = function(e, n) {
      this.group.removeAll();
    }, t.prototype.dispose = function(e, n) {
    }, t.prototype.updateView = function(e, n, o, a) {
      this.render(e, n, o, a);
    }, t.prototype.updateLayout = function(e, n, o, a) {
      this.render(e, n, o, a);
    }, t.prototype.updateVisual = function(e, n, o, a) {
      this.render(e, n, o, a);
    }, t.prototype.eachRendered = function(e) {
      nc(this.group, e);
    }, t.markUpdateMethod = function(e, n) {
      Hy(e).updateMethod = n;
    }, t.protoInitialize = function() {
      var e = t.prototype;
      e.type = "chart";
    }(), t;
  }()
);
function u1(t, e, n) {
  t && Yr(t) && (e === "emphasis" ? vu : pu)(t, n);
}
function c1(t, e, n) {
  var o = Ur(t, e), a = e && e.highlightKey != null ? OI(e.highlightKey) : null;
  o != null ? se(un(o), function(r) {
    u1(t.getItemGraphicEl(r), n, a);
  }) : t.eachItemGraphicEl(function(r) {
    u1(r, n, a);
  });
}
tp(yn, ["dispose"]);
Zu(yn);
function pL(t) {
  return vL(t.model);
}
function hL(t) {
  var e = t.model, n = t.ecModel, o = t.api, a = t.payload, r = e.pipelineContext.progressiveRender, i = t.view, s = a && Hy(a).updateMethod, l = r ? "incrementalPrepareRender" : s && i[s] ? s : "render";
  return l !== "render" && i[l](e, n, o, a), mL[l];
}
var mL = {
  incrementalPrepareRender: {
    progress: function(t, e) {
      e.view.incrementalRender(t, e.model, e.ecModel, e.api, e.payload);
    }
  },
  render: {
    // Put view.render in `progress` to support appendData. But in this case
    // view.render should not be called in reset, otherwise it will be called
    // twise. Use `forceFirstProgress` to make sure that view.render is called
    // in any cases.
    forceFirstProgress: !0,
    progress: function(t, e) {
      e.view.render(e.model, e.ecModel, e.api, e.payload);
    }
  }
};
function Gy(t, e, n) {
  var o, a = 0, r = 0, i = null, s, l, u, c;
  e = e || 0;
  function d() {
    r = (/* @__PURE__ */ new Date()).getTime(), i = null, t.apply(l, u || []);
  }
  var f = function() {
    for (var v = [], p = 0; p < arguments.length; p++)
      v[p] = arguments[p];
    o = (/* @__PURE__ */ new Date()).getTime(), l = this, u = v;
    var h = c || e, m = c || n;
    c = null, s = o - (m ? a : r) - h, clearTimeout(i), m ? i = setTimeout(d, h) : s >= 0 ? d() : i = setTimeout(d, -s), a = o;
  };
  return f.clear = function() {
    i && (clearTimeout(i), i = null);
  }, f.debounceNextCall = function(v) {
    c = v;
  }, f;
}
var d1 = Wt(), f1 = {
  itemStyle: ps(uy, !0),
  lineStyle: ps(ly, !0)
}, gL = {
  lineStyle: "stroke",
  itemStyle: "fill"
};
function Uy(t, e) {
  var n = t.visualStyleMapper || f1[e];
  return n || (console.warn("Unknown style type '" + e + "'."), f1.itemStyle);
}
function Wy(t, e) {
  var n = t.visualDrawType || gL[e];
  return n || (console.warn("Unknown style type '" + e + "'."), "fill");
}
var yL = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(t, e) {
    var n = t.getData(), o = t.visualStyleAccessPath || "itemStyle", a = t.getModel(o), r = Uy(t, o), i = r(a), s = a.getShallow("decal");
    s && (n.setVisual("decal", s), s.dirty = !0);
    var l = Wy(t, o), u = i[l], c = Je(u) ? u : null, d = i.fill === "auto" || i.stroke === "auto";
    if (!i[l] || c || d) {
      var f = t.getColorFromPalette(
        // TODO series count changed.
        t.name,
        null,
        e.getSeriesCount()
      );
      i[l] || (i[l] = f, n.setVisual("colorFromPalette", !0)), i.fill = i.fill === "auto" || Je(i.fill) ? f : i.fill, i.stroke = i.stroke === "auto" || Je(i.stroke) ? f : i.stroke;
    }
    if (n.setVisual("style", i), n.setVisual("drawType", l), !e.isSeriesFiltered(t) && c)
      return n.setVisual("colorFromPalette", !1), {
        dataEach: function(v, p) {
          var h = t.getDataParams(p), m = Le({}, i);
          m[l] = c(h), v.setItemVisual(p, "style", m);
        }
      };
  }
}, Ci = new Ut(), _L = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(t, e) {
    if (!(t.ignoreStyleOnData || e.isSeriesFiltered(t))) {
      var n = t.getData(), o = t.visualStyleAccessPath || "itemStyle", a = Uy(t, o), r = n.getVisual("drawType");
      return {
        dataEach: n.hasItemOption ? function(i, s) {
          var l = i.getRawDataItem(s);
          if (l && l[o]) {
            Ci.option = l[o];
            var u = a(Ci), c = i.ensureUniqueItemVisual(s, "style");
            Le(c, u), Ci.option.decal && (i.setItemVisual(s, "decal", Ci.option.decal), Ci.option.decal.dirty = !0), r in u && i.setItemVisual(s, "colorFromPalette", !1);
          }
        } : null
      };
    }
  }
}, bL = {
  performRawSeries: !0,
  overallReset: function(t) {
    var e = nt();
    t.eachSeries(function(n) {
      var o = n.getColorBy();
      if (!n.isColorBySeries()) {
        var a = n.type + "-" + o, r = e.get(a);
        r || (r = {}, e.set(a, r)), d1(n).scope = r;
      }
    }), t.eachSeries(function(n) {
      if (!(n.isColorBySeries() || t.isSeriesFiltered(n))) {
        var o = n.getRawData(), a = {}, r = n.getData(), i = d1(n).scope, s = n.visualStyleAccessPath || "itemStyle", l = Wy(n, s);
        r.each(function(u) {
          var c = r.getRawIndex(u);
          a[c] = u;
        }), o.each(function(u) {
          var c = a[u], d = r.getItemVisual(c, "colorFromPalette");
          if (d) {
            var f = r.ensureUniqueItemVisual(c, "style"), v = o.getName(u) || u + "", p = o.count();
            f[l] = n.getColorFromPalette(v, i, p);
          }
        });
      }
    });
  }
}, ml = Math.PI;
function wL(t, e) {
  e = e || {}, rt(e, {
    text: "loading",
    textColor: "#000",
    fontSize: 12,
    fontWeight: "normal",
    fontStyle: "normal",
    fontFamily: "sans-serif",
    maskColor: "rgba(255, 255, 255, 0.8)",
    showSpinner: !0,
    color: "#5470c6",
    spinnerRadius: 10,
    lineWidth: 5,
    zlevel: 0
  });
  var n = new zt(), o = new Gt({
    style: {
      fill: e.maskColor
    },
    zlevel: e.zlevel,
    z: 1e4
  });
  n.add(o);
  var a = new Ln({
    style: {
      text: e.text,
      fill: e.textColor,
      fontSize: e.fontSize,
      fontWeight: e.fontWeight,
      fontStyle: e.fontStyle,
      fontFamily: e.fontFamily
    },
    zlevel: e.zlevel,
    z: 10001
  }), r = new Gt({
    style: {
      fill: "none"
    },
    textContent: a,
    textConfig: {
      position: "right",
      distance: 10
    },
    zlevel: e.zlevel,
    z: 10001
  });
  n.add(r);
  var i;
  return e.showSpinner && (i = new tc({
    shape: {
      startAngle: -ml / 2,
      endAngle: -ml / 2 + 0.1,
      r: e.spinnerRadius
    },
    style: {
      stroke: e.color,
      lineCap: "round",
      lineWidth: e.lineWidth
    },
    zlevel: e.zlevel,
    z: 10001
  }), i.animateShape(!0).when(1e3, {
    endAngle: ml * 3 / 2
  }).start("circularInOut"), i.animateShape(!0).when(1e3, {
    startAngle: ml * 3 / 2
  }).delay(300).start("circularInOut"), n.add(i)), n.resize = function() {
    var s = a.getBoundingRect().width, l = e.showSpinner ? e.spinnerRadius : 0, u = (t.getWidth() - l * 2 - (e.showSpinner && s ? 10 : 0) - s) / 2 - (e.showSpinner && s ? 0 : 5 + s / 2) + (e.showSpinner ? 0 : s / 2) + (s ? 0 : l), c = t.getHeight() / 2;
    e.showSpinner && i.setShape({
      cx: u,
      cy: c
    }), r.setShape({
      x: u - l,
      y: c - l,
      width: l * 2,
      height: l * 2
    }), o.setShape({
      x: 0,
      y: 0,
      width: t.getWidth(),
      height: t.getHeight()
    });
  }, n.resize(), n;
}
var Xy = (
  /** @class */
  function() {
    function t(e, n, o, a) {
      this._stageTaskMap = nt(), this.ecInstance = e, this.api = n, o = this._dataProcessorHandlers = o.slice(), a = this._visualHandlers = a.slice(), this._allHandlers = o.concat(a);
    }
    return t.prototype.restoreData = function(e, n) {
      e.restoreData(n), this._stageTaskMap.each(function(o) {
        var a = o.overallTask;
        a && a.dirty();
      });
    }, t.prototype.getPerformArgs = function(e, n) {
      if (e.__pipeline) {
        var o = this._pipelineMap.get(e.__pipeline.id), a = o.context, r = !n && o.progressiveEnabled && (!a || a.progressiveRender) && e.__idxInPipeline > o.blockIndex, i = r ? o.step : null, s = a && a.modDataCount, l = s != null ? Math.ceil(s / i) : null;
        return {
          step: i,
          modBy: l,
          modDataCount: s
        };
      }
    }, t.prototype.getPipeline = function(e) {
      return this._pipelineMap.get(e);
    }, t.prototype.updateStreamModes = function(e, n) {
      var o = this._pipelineMap.get(e.uid), a = e.getData(), r = a.count(), i = o.progressiveEnabled && n.incrementalPrepareRender && r >= o.threshold, s = e.get("large") && r >= e.get("largeThreshold"), l = e.get("progressiveChunkMode") === "mod" ? r : null;
      e.pipelineContext = o.context = {
        progressiveRender: i,
        modDataCount: l,
        large: s
      };
    }, t.prototype.restorePipelines = function(e) {
      var n = this, o = n._pipelineMap = nt();
      e.eachSeries(function(a) {
        var r = a.getProgressive(), i = a.uid;
        o.set(i, {
          id: i,
          head: null,
          tail: null,
          threshold: a.getProgressiveThreshold(),
          progressiveEnabled: r && !(a.preventIncremental && a.preventIncremental()),
          blockIndex: -1,
          step: Math.round(r || 700),
          count: 0
        }), n._pipe(a, a.dataTask);
      });
    }, t.prototype.prepareStageTasks = function() {
      var e = this._stageTaskMap, n = this.api.getModel(), o = this.api;
      se(this._allHandlers, function(a) {
        var r = e.get(a.uid) || e.set(a.uid, {}), i = "";
        process.env.NODE_ENV !== "production" && (i = '"reset" and "overallReset" must not be both specified.'), ot(!(a.reset && a.overallReset), i), a.reset && this._createSeriesStageTask(a, r, n, o), a.overallReset && this._createOverallStageTask(a, r, n, o);
      }, this);
    }, t.prototype.prepareView = function(e, n, o, a) {
      var r = e.renderTask, i = r.context;
      i.model = n, i.ecModel = o, i.api = a, r.__block = !e.incrementalPrepareRender, this._pipe(n, r);
    }, t.prototype.performDataProcessorTasks = function(e, n) {
      this._performStageTasks(this._dataProcessorHandlers, e, n, {
        block: !0
      });
    }, t.prototype.performVisualTasks = function(e, n, o) {
      this._performStageTasks(this._visualHandlers, e, n, o);
    }, t.prototype._performStageTasks = function(e, n, o, a) {
      a = a || {};
      var r = !1, i = this;
      se(e, function(l, u) {
        if (!(a.visualType && a.visualType !== l.visualType)) {
          var c = i._stageTaskMap.get(l.uid), d = c.seriesTaskMap, f = c.overallTask;
          if (f) {
            var v, p = f.agentStubMap;
            p.each(function(m) {
              s(a, m) && (m.dirty(), v = !0);
            }), v && f.dirty(), i.updatePayload(f, o);
            var h = i.getPerformArgs(f, a.block);
            p.each(function(m) {
              m.perform(h);
            }), f.perform(h) && (r = !0);
          } else d && d.each(function(m, g) {
            s(a, m) && m.dirty();
            var y = i.getPerformArgs(m, a.block);
            y.skip = !l.performRawSeries && n.isSeriesFiltered(m.context.model), i.updatePayload(m, o), m.perform(y) && (r = !0);
          });
        }
      });
      function s(l, u) {
        return l.setDirty && (!l.dirtyMap || l.dirtyMap.get(u.__pipeline.id));
      }
      this.unfinished = r || this.unfinished;
    }, t.prototype.performSeriesTasks = function(e) {
      var n;
      e.eachSeries(function(o) {
        n = o.dataTask.perform() || n;
      }), this.unfinished = n || this.unfinished;
    }, t.prototype.plan = function() {
      this._pipelineMap.each(function(e) {
        var n = e.tail;
        do {
          if (n.__block) {
            e.blockIndex = n.__idxInPipeline;
            break;
          }
          n = n.getUpstream();
        } while (n);
      });
    }, t.prototype.updatePayload = function(e, n) {
      n !== "remain" && (e.context.payload = n);
    }, t.prototype._createSeriesStageTask = function(e, n, o, a) {
      var r = this, i = n.seriesTaskMap, s = n.seriesTaskMap = nt(), l = e.seriesType, u = e.getTargetSeries;
      e.createOnAllSeries ? o.eachRawSeries(c) : l ? o.eachRawSeriesByType(l, c) : u && u(o, a).each(c);
      function c(d) {
        var f = d.uid, v = s.set(f, i && i.get(f) || rs({
          plan: TL,
          reset: LL,
          count: EL
        }));
        v.context = {
          model: d,
          ecModel: o,
          api: a,
          // PENDING: `useClearVisual` not used?
          useClearVisual: e.isVisual && !e.isLayout,
          plan: e.plan,
          reset: e.reset,
          scheduler: r
        }, r._pipe(d, v);
      }
    }, t.prototype._createOverallStageTask = function(e, n, o, a) {
      var r = this, i = n.overallTask = n.overallTask || rs({
        reset: xL
      });
      i.context = {
        ecModel: o,
        api: a,
        overallReset: e.overallReset,
        scheduler: r
      };
      var s = i.agentStubMap, l = i.agentStubMap = nt(), u = e.seriesType, c = e.getTargetSeries, d = !0, f = !1, v = "";
      process.env.NODE_ENV !== "production" && (v = '"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'), ot(!e.createOnAllSeries, v), u ? o.eachRawSeriesByType(u, p) : c ? c(o, a).each(p) : (d = !1, se(o.getSeries(), p));
      function p(h) {
        var m = h.uid, g = l.set(m, s && s.get(m) || // When the result of `getTargetSeries` changed, the overallTask
        // should be set as dirty and re-performed.
        (f = !0, rs({
          reset: SL,
          onDirty: CL
        })));
        g.context = {
          model: h,
          overallProgress: d
          // FIXME:TS never used, so comment it
          // modifyOutputEnd: modifyOutputEnd
        }, g.agent = i, g.__block = d, r._pipe(h, g);
      }
      f && i.dirty();
    }, t.prototype._pipe = function(e, n) {
      var o = e.uid, a = this._pipelineMap.get(o);
      !a.head && (a.head = n), a.tail && a.tail.pipe(n), a.tail = n, n.__idxInPipeline = a.count++, n.__pipeline = a;
    }, t.wrapStageHandler = function(e, n) {
      return Je(e) && (e = {
        overallReset: e,
        seriesType: ML(e)
      }), e.uid = rc("stageHandler"), n && (e.visualType = n), e;
    }, t;
  }()
);
function xL(t) {
  t.overallReset(t.ecModel, t.api, t.payload);
}
function SL(t) {
  return t.overallProgress && IL;
}
function IL() {
  this.agent.dirty(), this.getDownstream().dirty();
}
function CL() {
  this.agent && this.agent.dirty();
}
function TL(t) {
  return t.plan ? t.plan(t.model, t.ecModel, t.api, t.payload) : null;
}
function LL(t) {
  t.useClearVisual && t.data.clearAllVisual();
  var e = t.resetDefines = un(t.reset(t.model, t.ecModel, t.api, t.payload));
  return e.length > 1 ? $e(e, function(n, o) {
    return Yy(o);
  }) : kL;
}
var kL = Yy(0);
function Yy(t) {
  return function(e, n) {
    var o = n.data, a = n.resetDefines[t];
    if (a && a.dataEach)
      for (var r = e.start; r < e.end; r++)
        a.dataEach(o, r);
    else a && a.progress && a.progress(e, o);
  };
}
function EL(t) {
  return t.data.count();
}
function ML(t) {
  Su = null;
  try {
    t(Ss, Zy);
  } catch {
  }
  return Su;
}
var Ss = {}, Zy = {}, Su;
qy(Ss, bp);
qy(Zy, ky);
Ss.eachSeriesByType = Ss.eachRawSeriesByType = function(t) {
  Su = t;
};
Ss.eachComponent = function(t) {
  t.mainType === "series" && t.subType && (Su = t.subType);
};
function qy(t, e) {
  for (var n in e.prototype)
    t[n] = Cn;
}
var v1 = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"];
const AL = {
  color: v1,
  colorLayer: [["#37A2DA", "#ffd85c", "#fd7b5f"], ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"], ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], v1]
};
var rn = "#B9B8CE", p1 = "#100C2A", gl = function() {
  return {
    axisLine: {
      lineStyle: {
        color: rn
      }
    },
    splitLine: {
      lineStyle: {
        color: "#484753"
      }
    },
    splitArea: {
      areaStyle: {
        color: ["rgba(255,255,255,0.02)", "rgba(255,255,255,0.05)"]
      }
    },
    minorSplitLine: {
      lineStyle: {
        color: "#20203B"
      }
    }
  };
}, h1 = ["#4992ff", "#7cffb2", "#fddd60", "#ff6e76", "#58d9f9", "#05c091", "#ff8a45", "#8d48e3", "#dd79ff"], Jy = {
  darkMode: !0,
  color: h1,
  backgroundColor: p1,
  axisPointer: {
    lineStyle: {
      color: "#817f91"
    },
    crossStyle: {
      color: "#817f91"
    },
    label: {
      // TODO Contrast of label backgorundColor
      color: "#fff"
    }
  },
  legend: {
    textStyle: {
      color: rn
    }
  },
  textStyle: {
    color: rn
  },
  title: {
    textStyle: {
      color: "#EEF1FA"
    },
    subtextStyle: {
      color: "#B9B8CE"
    }
  },
  toolbox: {
    iconStyle: {
      borderColor: rn
    }
  },
  dataZoom: {
    borderColor: "#71708A",
    textStyle: {
      color: rn
    },
    brushStyle: {
      color: "rgba(135,163,206,0.3)"
    },
    handleStyle: {
      color: "#353450",
      borderColor: "#C5CBE3"
    },
    moveHandleStyle: {
      color: "#B0B6C3",
      opacity: 0.3
    },
    fillerColor: "rgba(135,163,206,0.2)",
    emphasis: {
      handleStyle: {
        borderColor: "#91B7F2",
        color: "#4D587D"
      },
      moveHandleStyle: {
        color: "#636D9A",
        opacity: 0.7
      }
    },
    dataBackground: {
      lineStyle: {
        color: "#71708A",
        width: 1
      },
      areaStyle: {
        color: "#71708A"
      }
    },
    selectedDataBackground: {
      lineStyle: {
        color: "#87A3CE"
      },
      areaStyle: {
        color: "#87A3CE"
      }
    }
  },
  visualMap: {
    textStyle: {
      color: rn
    }
  },
  timeline: {
    lineStyle: {
      color: rn
    },
    label: {
      color: rn
    },
    controlStyle: {
      color: rn,
      borderColor: rn
    }
  },
  calendar: {
    itemStyle: {
      color: p1
    },
    dayLabel: {
      color: rn
    },
    monthLabel: {
      color: rn
    },
    yearLabel: {
      color: rn
    }
  },
  timeAxis: gl(),
  logAxis: gl(),
  valueAxis: gl(),
  categoryAxis: gl(),
  line: {
    symbol: "circle"
  },
  graph: {
    color: h1
  },
  gauge: {
    title: {
      color: rn
    },
    axisLine: {
      lineStyle: {
        color: [[1, "rgba(207,212,219,0.2)"]]
      }
    },
    axisLabel: {
      color: rn
    },
    detail: {
      color: "#EEF1FA"
    }
  },
  candlestick: {
    itemStyle: {
      color: "#f64e56",
      color0: "#54ea92",
      borderColor: "#f64e56",
      borderColor0: "#54ea92"
      // borderColor: '#ca2824',
      // borderColor0: '#09a443'
    }
  }
};
Jy.categoryAxis.splitLine.show = !1;
var DL = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.normalizeQuery = function(e) {
      var n = {}, o = {}, a = {};
      if (ze(e)) {
        var r = mo(e);
        n.mainType = r.main || null, n.subType = r.sub || null;
      } else {
        var i = ["Index", "Name", "Id"], s = {
          name: 1,
          dataIndex: 1,
          dataType: 1
        };
        se(e, function(l, u) {
          for (var c = !1, d = 0; d < i.length; d++) {
            var f = i[d], v = u.lastIndexOf(f);
            if (v > 0 && v === u.length - f.length) {
              var p = u.slice(0, v);
              p !== "data" && (n.mainType = p, n[f.toLowerCase()] = l, c = !0);
            }
          }
          s.hasOwnProperty(u) && (o[u] = l, c = !0), c || (a[u] = l);
        });
      }
      return {
        cptQuery: n,
        dataQuery: o,
        otherQuery: a
      };
    }, t.prototype.filter = function(e, n) {
      var o = this.eventInfo;
      if (!o)
        return !0;
      var a = o.targetEl, r = o.packedEvent, i = o.model, s = o.view;
      if (!i || !s)
        return !0;
      var l = n.cptQuery, u = n.dataQuery;
      return c(l, i, "mainType") && c(l, i, "subType") && c(l, i, "index", "componentIndex") && c(l, i, "name") && c(l, i, "id") && c(u, r, "name") && c(u, r, "dataIndex") && c(u, r, "dataType") && (!s.filterForExposedEvent || s.filterForExposedEvent(e, n.otherQuery, a, r));
      function c(d, f, v, p) {
        return d[v] == null || f[p || v] === d[v];
      }
    }, t.prototype.afterTrigger = function() {
      this.eventInfo = null;
    }, t;
  }()
), tv = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"], m1 = tv.concat(["symbolKeepAspect"]), $L = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(t, e) {
    var n = t.getData();
    if (t.legendIcon && n.setVisual("legendIcon", t.legendIcon), !t.hasSymbolVisual)
      return;
    for (var o = {}, a = {}, r = !1, i = 0; i < tv.length; i++) {
      var s = tv[i], l = t.get(s);
      Je(l) ? (r = !0, a[s] = l) : o[s] = l;
    }
    if (o.symbol = o.symbol || t.defaultSymbol, n.setVisual(Le({
      legendIcon: t.legendIcon || o.symbol,
      symbolKeepAspect: t.get("symbolKeepAspect")
    }, o)), e.isSeriesFiltered(t))
      return;
    var u = lt(a);
    function c(d, f) {
      for (var v = t.getRawValue(f), p = t.getDataParams(f), h = 0; h < u.length; h++) {
        var m = u[h];
        d.setItemVisual(f, m, a[m](v, p));
      }
    }
    return {
      dataEach: r ? c : null
    };
  }
}, PL = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(t, e) {
    if (!t.hasSymbolVisual || e.isSeriesFiltered(t))
      return;
    var n = t.getData();
    function o(a, r) {
      for (var i = a.getItemModel(r), s = 0; s < m1.length; s++) {
        var l = m1[s], u = i.getShallow(l, !0);
        u != null && a.setItemVisual(r, l, u);
      }
    }
    return {
      dataEach: n.hasItemOption ? o : null
    };
  }
};
function RL(t, e, n) {
  switch (n) {
    case "color":
      var o = t.getItemVisual(e, "style");
      return o[t.getVisual("drawType")];
    case "opacity":
      return t.getItemVisual(e, "style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return t.getItemVisual(e, n);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + n);
  }
}
function OL(t, e) {
  switch (e) {
    case "color":
      var n = t.getVisual("style");
      return n[t.getVisual("drawType")];
    case "opacity":
      return t.getVisual("style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return t.getVisual(e);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + e);
  }
}
function NL(t, e) {
  function n(o, a) {
    var r = [];
    return o.eachComponent({
      mainType: "series",
      subType: t,
      query: a
    }, function(i) {
      r.push(i.seriesIndex);
    }), r;
  }
  se([[t + "ToggleSelect", "toggleSelect"], [t + "Select", "select"], [t + "UnSelect", "unselect"]], function(o) {
    e(o[0], function(a, r, i) {
      a = Le({}, a), process.env.NODE_ENV !== "production" && Nt(a.type, o[1]), i.dispatchAction(Le(a, {
        type: o[1],
        seriesIndex: n(r, a)
      }));
    });
  });
}
function _r(t, e, n, o, a) {
  var r = t + e;
  n.isSilent(r) || (process.env.NODE_ENV !== "production" && _o("event " + r + " is deprecated."), o.eachComponent({
    mainType: "series",
    subType: "pie"
  }, function(i) {
    for (var s = i.seriesIndex, l = i.option.selectedMap, u = a.selected, c = 0; c < u.length; c++)
      if (u[c].seriesIndex === s) {
        var d = i.getData(), f = Ur(d, a.fromActionPayload);
        n.trigger(r, {
          type: r,
          seriesId: i.id,
          name: Oe(f) ? d.getName(f[0]) : d.getName(f),
          selected: ze(l) ? l : Le({}, l)
        });
      }
  }));
}
function BL(t, e, n) {
  t.on("selectchanged", function(o) {
    var a = n.getModel();
    o.isFromClick ? (_r("map", "selectchanged", e, a, o), _r("pie", "selectchanged", e, a, o)) : o.fromAction === "select" ? (_r("map", "selected", e, a, o), _r("pie", "selected", e, a, o)) : o.fromAction === "unselect" && (_r("map", "unselected", e, a, o), _r("pie", "unselected", e, a, o));
  });
}
function yl(t, e, n) {
  for (var o; t && !(e(t) && (o = t, n)); )
    t = t.__hostTarget || t.parent;
  return o;
}
var FL = Math.round(Math.random() * 9), zL = typeof Object.defineProperty == "function", VL = function() {
  function t() {
    this._id = "__ec_inner_" + FL++;
  }
  return t.prototype.get = function(e) {
    return this._guard(e)[this._id];
  }, t.prototype.set = function(e, n) {
    var o = this._guard(e);
    return zL ? Object.defineProperty(o, this._id, {
      value: n,
      enumerable: !1,
      configurable: !0
    }) : o[this._id] = n, this;
  }, t.prototype.delete = function(e) {
    return this.has(e) ? (delete this._guard(e)[this._id], !0) : !1;
  }, t.prototype.has = function(e) {
    return !!this._guard(e)[this._id];
  }, t.prototype._guard = function(e) {
    if (e !== Object(e))
      throw TypeError("Value of WeakMap is not a non-null object.");
    return e;
  }, t;
}(), HL = dt.extend({
  type: "triangle",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(t, e) {
    var n = e.cx, o = e.cy, a = e.width / 2, r = e.height / 2;
    t.moveTo(n, o - r), t.lineTo(n + a, o + r), t.lineTo(n - a, o + r), t.closePath();
  }
}), GL = dt.extend({
  type: "diamond",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(t, e) {
    var n = e.cx, o = e.cy, a = e.width / 2, r = e.height / 2;
    t.moveTo(n, o - r), t.lineTo(n + a, o), t.lineTo(n, o + r), t.lineTo(n - a, o), t.closePath();
  }
}), UL = dt.extend({
  type: "pin",
  shape: {
    // x, y on the cusp
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(t, e) {
    var n = e.x, o = e.y, a = e.width / 5 * 3, r = Math.max(a, e.height), i = a / 2, s = i * i / (r - i), l = o - r + i + s, u = Math.asin(s / i), c = Math.cos(u) * i, d = Math.sin(u), f = Math.cos(u), v = i * 0.6, p = i * 0.7;
    t.moveTo(n - c, l + s), t.arc(n, l, i, Math.PI - u, Math.PI * 2 + u), t.bezierCurveTo(n + c - d * v, l + s + f * v, n, o - p, n, o), t.bezierCurveTo(n, o - p, n - c + d * v, l + s + f * v, n - c, l + s), t.closePath();
  }
}), WL = dt.extend({
  type: "arrow",
  shape: {
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(t, e) {
    var n = e.height, o = e.width, a = e.x, r = e.y, i = o / 3 * 2;
    t.moveTo(a, r), t.lineTo(a + i, r + n), t.lineTo(a, r + n / 4 * 3), t.lineTo(a - i, r + n), t.lineTo(a, r), t.closePath();
  }
}), XL = {
  line: ua,
  rect: Gt,
  roundRect: Gt,
  square: Gt,
  circle: Fs,
  diamond: GL,
  pin: UL,
  arrow: WL,
  triangle: HL
}, YL = {
  line: function(t, e, n, o, a) {
    a.x1 = t, a.y1 = e + o / 2, a.x2 = t + n, a.y2 = e + o / 2;
  },
  rect: function(t, e, n, o, a) {
    a.x = t, a.y = e, a.width = n, a.height = o;
  },
  roundRect: function(t, e, n, o, a) {
    a.x = t, a.y = e, a.width = n, a.height = o, a.r = Math.min(n, o) / 4;
  },
  square: function(t, e, n, o, a) {
    var r = Math.min(n, o);
    a.x = t, a.y = e, a.width = r, a.height = r;
  },
  circle: function(t, e, n, o, a) {
    a.cx = t + n / 2, a.cy = e + o / 2, a.r = Math.min(n, o) / 2;
  },
  diamond: function(t, e, n, o, a) {
    a.cx = t + n / 2, a.cy = e + o / 2, a.width = n, a.height = o;
  },
  pin: function(t, e, n, o, a) {
    a.x = t + n / 2, a.y = e + o / 2, a.width = n, a.height = o;
  },
  arrow: function(t, e, n, o, a) {
    a.x = t + n / 2, a.y = e + o / 2, a.width = n, a.height = o;
  },
  triangle: function(t, e, n, o, a) {
    a.cx = t + n / 2, a.cy = e + o / 2, a.width = n, a.height = o;
  }
}, nv = {};
se(XL, function(t, e) {
  nv[e] = new t();
});
var ZL = dt.extend({
  type: "symbol",
  shape: {
    symbolType: "",
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  calculateTextPosition: function(t, e, n) {
    var o = uu(t, e, n), a = this.shape;
    return a && a.symbolType === "pin" && e.position === "inside" && (o.y = n.y + n.height * 0.4), o;
  },
  buildPath: function(t, e, n) {
    var o = e.symbolType;
    if (o !== "none") {
      var a = nv[o];
      a || (o = "rect", a = nv[o]), YL[o](e.x, e.y, e.width, e.height, a.shape), a.buildPath(t, a.shape, n);
    }
  }
});
function qL(t, e) {
  if (this.type !== "image") {
    var n = this.style;
    this.__isEmptyBrush ? (n.stroke = t, n.fill = e || "#fff", n.lineWidth = 2) : this.shape.symbolType === "line" ? n.stroke = t : n.fill = t, this.markRedraw();
  }
}
function ca(t, e, n, o, a, r, i) {
  var s = t.indexOf("empty") === 0;
  s && (t = t.substr(5, 1).toLowerCase() + t.substr(6));
  var l;
  return t.indexOf("image://") === 0 ? l = ty(t.slice(8), new yt(e, n, o, a), i ? "center" : "cover") : t.indexOf("path://") === 0 ? l = cp(t.slice(7), {}, new yt(e, n, o, a), i ? "center" : "cover") : l = new ZL({
    shape: {
      symbolType: t,
      x: e,
      y: n,
      width: o,
      height: a
    }
  }), l.__isEmptyBrush = s, l.setColor = qL, r && l.setColor(r), l;
}
function Ky(t) {
  return Oe(t) || (t = [+t, +t]), [t[0] || 0, t[1] || 0];
}
function Qy(t, e) {
  if (t != null)
    return Oe(t) || (t = [t, t]), [_t(t[0], e[0]) || 0, _t(Ge(t[1], t[0]), e[1]) || 0];
}
function Wa(t) {
  return isFinite(t);
}
function JL(t, e, n) {
  var o = e.x == null ? 0 : e.x, a = e.x2 == null ? 1 : e.x2, r = e.y == null ? 0 : e.y, i = e.y2 == null ? 0 : e.y2;
  e.global || (o = o * n.width + n.x, a = a * n.width + n.x, r = r * n.height + n.y, i = i * n.height + n.y), o = Wa(o) ? o : 0, a = Wa(a) ? a : 1, r = Wa(r) ? r : 0, i = Wa(i) ? i : 0;
  var s = t.createLinearGradient(o, r, a, i);
  return s;
}
function KL(t, e, n) {
  var o = n.width, a = n.height, r = Math.min(o, a), i = e.x == null ? 0.5 : e.x, s = e.y == null ? 0.5 : e.y, l = e.r == null ? 0.5 : e.r;
  e.global || (i = i * o + n.x, s = s * a + n.y, l = l * r), i = Wa(i) ? i : 0.5, s = Wa(s) ? s : 0.5, l = l >= 0 && Wa(l) ? l : 0.5;
  var u = t.createRadialGradient(i, s, 0, i, s, l);
  return u;
}
function g1(t, e, n) {
  for (var o = e.type === "radial" ? KL(t, e, n) : JL(t, e, n), a = e.colorStops, r = 0; r < a.length; r++)
    o.addColorStop(a[r].offset, a[r].color);
  return o;
}
function QL(t, e) {
  if (t === e || !t && !e)
    return !1;
  if (!t || !e || t.length !== e.length)
    return !0;
  for (var n = 0; n < t.length; n++)
    if (t[n] !== e[n])
      return !0;
  return !1;
}
function _l(t) {
  return parseInt(t, 10);
}
function y1(t, e, n) {
  var o = ["width", "height"][e], a = ["clientWidth", "clientHeight"][e], r = ["paddingLeft", "paddingTop"][e], i = ["paddingRight", "paddingBottom"][e];
  if (n[o] != null && n[o] !== "auto")
    return parseFloat(n[o]);
  var s = document.defaultView.getComputedStyle(t);
  return (t[a] || _l(s[o]) || _l(t.style[o])) - (_l(s[r]) || 0) - (_l(s[i]) || 0) | 0;
}
function jL(t, e) {
  return !t || t === "solid" || !(e > 0) ? null : t === "dashed" ? [4 * e, 2 * e] : t === "dotted" ? [e] : bt(t) ? [t] : Oe(t) ? t : null;
}
function Tp(t) {
  var e = t.style, n = e.lineDash && e.lineWidth > 0 && jL(e.lineDash, e.lineWidth), o = e.lineDashOffset;
  if (n) {
    var a = e.strokeNoScale && t.getLineScale ? t.getLineScale() : 1;
    a && a !== 1 && (n = $e(n, function(r) {
      return r / a;
    }), o /= a);
  }
  return [n, o];
}
var ek = new la(!0);
function Iu(t) {
  var e = t.stroke;
  return !(e == null || e === "none" || !(t.lineWidth > 0));
}
function _1(t) {
  return typeof t == "string" && t !== "none";
}
function Cu(t) {
  var e = t.fill;
  return e != null && e !== "none";
}
function b1(t, e) {
  if (e.fillOpacity != null && e.fillOpacity !== 1) {
    var n = t.globalAlpha;
    t.globalAlpha = e.fillOpacity * e.opacity, t.fill(), t.globalAlpha = n;
  } else
    t.fill();
}
function w1(t, e) {
  if (e.strokeOpacity != null && e.strokeOpacity !== 1) {
    var n = t.globalAlpha;
    t.globalAlpha = e.strokeOpacity * e.opacity, t.stroke(), t.globalAlpha = n;
  } else
    t.stroke();
}
function x1(t, e, n) {
  var o = np(e.image, e.__image, n);
  if (qu(o)) {
    var a = t.createPattern(o, e.repeat || "repeat");
    if (typeof DOMMatrix == "function" && a && a.setTransform) {
      var r = new DOMMatrix();
      r.translateSelf(e.x || 0, e.y || 0), r.rotateSelf(0, 0, (e.rotation || 0) * Nl), r.scaleSelf(e.scaleX || 1, e.scaleY || 1), a.setTransform(r);
    }
    return a;
  }
}
function tk(t, e, n, o) {
  var a, r = Iu(n), i = Cu(n), s = n.strokePercent, l = s < 1, u = !e.path;
  (!e.silent || l) && u && e.createPathProxy();
  var c = e.path || ek, d = e.__dirty;
  if (!o) {
    var f = n.fill, v = n.stroke, p = i && !!f.colorStops, h = r && !!v.colorStops, m = i && !!f.image, g = r && !!v.image, y = void 0, _ = void 0, w = void 0, x = void 0, S = void 0;
    (p || h) && (S = e.getBoundingRect()), p && (y = d ? g1(t, f, S) : e.__canvasFillGradient, e.__canvasFillGradient = y), h && (_ = d ? g1(t, v, S) : e.__canvasStrokeGradient, e.__canvasStrokeGradient = _), m && (w = d || !e.__canvasFillPattern ? x1(t, f, e) : e.__canvasFillPattern, e.__canvasFillPattern = w), g && (x = d || !e.__canvasStrokePattern ? x1(t, v, e) : e.__canvasStrokePattern, e.__canvasStrokePattern = w), p ? t.fillStyle = y : m && (w ? t.fillStyle = w : i = !1), h ? t.strokeStyle = _ : g && (x ? t.strokeStyle = x : r = !1);
  }
  var L = e.getGlobalScale();
  c.setScale(L[0], L[1], e.segmentIgnoreThreshold);
  var b, I;
  t.setLineDash && n.lineDash && (a = Tp(e), b = a[0], I = a[1]);
  var M = !0;
  (u || d & Cr) && (c.setDPR(t.dpr), l ? c.setContext(null) : (c.setContext(t), M = !1), c.reset(), e.buildPath(c, e.shape, o), c.toStatic(), e.pathUpdated()), M && c.rebuildPath(t, l ? s : 1), b && (t.setLineDash(b), t.lineDashOffset = I), o || (n.strokeFirst ? (r && w1(t, n), i && b1(t, n)) : (i && b1(t, n), r && w1(t, n))), b && t.setLineDash([]);
}
function nk(t, e, n) {
  var o = e.__image = np(n.image, e.__image, e, e.onload);
  if (!(!o || !qu(o))) {
    var a = n.x || 0, r = n.y || 0, i = e.getWidth(), s = e.getHeight(), l = o.width / o.height;
    if (i == null && s != null ? i = s * l : s == null && i != null ? s = i / l : i == null && s == null && (i = o.width, s = o.height), n.sWidth && n.sHeight) {
      var u = n.sx || 0, c = n.sy || 0;
      t.drawImage(o, u, c, n.sWidth, n.sHeight, a, r, i, s);
    } else if (n.sx && n.sy) {
      var u = n.sx, c = n.sy, d = i - u, f = s - c;
      t.drawImage(o, u, c, d, f, a, r, i, s);
    } else
      t.drawImage(o, a, r, i, s);
  }
}
function ok(t, e, n) {
  var o, a = n.text;
  if (a != null && (a += ""), a) {
    t.font = n.font || aa, t.textAlign = n.textAlign, t.textBaseline = n.textBaseline;
    var r = void 0, i = void 0;
    t.setLineDash && n.lineDash && (o = Tp(e), r = o[0], i = o[1]), r && (t.setLineDash(r), t.lineDashOffset = i), n.strokeFirst ? (Iu(n) && t.strokeText(a, n.x, n.y), Cu(n) && t.fillText(a, n.x, n.y)) : (Cu(n) && t.fillText(a, n.x, n.y), Iu(n) && t.strokeText(a, n.x, n.y)), r && t.setLineDash([]);
  }
}
var S1 = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"], I1 = [
  ["lineCap", "butt"],
  ["lineJoin", "miter"],
  ["miterLimit", 10]
];
function jy(t, e, n, o, a) {
  var r = !1;
  if (!o && (n = n || {}, e === n))
    return !1;
  if (o || e.opacity !== n.opacity) {
    hn(t, a), r = !0;
    var i = Math.max(Math.min(e.opacity, 1), 0);
    t.globalAlpha = isNaN(i) ? Ya.opacity : i;
  }
  (o || e.blend !== n.blend) && (r || (hn(t, a), r = !0), t.globalCompositeOperation = e.blend || Ya.blend);
  for (var s = 0; s < S1.length; s++) {
    var l = S1[s];
    (o || e[l] !== n[l]) && (r || (hn(t, a), r = !0), t[l] = t.dpr * (e[l] || 0));
  }
  return (o || e.shadowColor !== n.shadowColor) && (r || (hn(t, a), r = !0), t.shadowColor = e.shadowColor || Ya.shadowColor), r;
}
function C1(t, e, n, o, a) {
  var r = Is(e, a.inHover), i = o ? null : n && Is(n, a.inHover) || {};
  if (r === i)
    return !1;
  var s = jy(t, r, i, o, a);
  if ((o || r.fill !== i.fill) && (s || (hn(t, a), s = !0), _1(r.fill) && (t.fillStyle = r.fill)), (o || r.stroke !== i.stroke) && (s || (hn(t, a), s = !0), _1(r.stroke) && (t.strokeStyle = r.stroke)), (o || r.opacity !== i.opacity) && (s || (hn(t, a), s = !0), t.globalAlpha = r.opacity == null ? 1 : r.opacity), e.hasStroke()) {
    var l = r.lineWidth, u = l / (r.strokeNoScale && e.getLineScale ? e.getLineScale() : 1);
    t.lineWidth !== u && (s || (hn(t, a), s = !0), t.lineWidth = u);
  }
  for (var c = 0; c < I1.length; c++) {
    var d = I1[c], f = d[0];
    (o || r[f] !== i[f]) && (s || (hn(t, a), s = !0), t[f] = r[f] || d[1]);
  }
  return s;
}
function ak(t, e, n, o, a) {
  return jy(t, Is(e, a.inHover), n && Is(n, a.inHover), o, a);
}
function e5(t, e) {
  var n = e.transform, o = t.dpr || 1;
  n ? t.setTransform(o * n[0], o * n[1], o * n[2], o * n[3], o * n[4], o * n[5]) : t.setTransform(o, 0, 0, o, 0, 0);
}
function rk(t, e, n) {
  for (var o = !1, a = 0; a < t.length; a++) {
    var r = t[a];
    o = o || r.isZeroArea(), e5(e, r), e.beginPath(), r.buildPath(e, r.shape), e.clip();
  }
  n.allClipped = o;
}
function ik(t, e) {
  return t && e ? t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || t[3] !== e[3] || t[4] !== e[4] || t[5] !== e[5] : !(!t && !e);
}
var T1 = 1, L1 = 2, k1 = 3, E1 = 4;
function sk(t) {
  var e = Cu(t), n = Iu(t);
  return !(t.lineDash || !(+e ^ +n) || e && typeof t.fill != "string" || n && typeof t.stroke != "string" || t.strokePercent < 1 || t.strokeOpacity < 1 || t.fillOpacity < 1);
}
function hn(t, e) {
  e.batchFill && t.fill(), e.batchStroke && t.stroke(), e.batchFill = "", e.batchStroke = "";
}
function Is(t, e) {
  return e && t.__hoverStyle || t.style;
}
function lk(t, e) {
  ov(t, e, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0);
}
function ov(t, e, n, o) {
  var a = e.transform;
  if (!e.shouldBePainted(n.viewWidth, n.viewHeight, !1, !1)) {
    e.__dirty &= ~vo, e.__isRendered = !1;
    return;
  }
  var r = e.__clipPaths, i = n.prevElClipPaths, s = !1, l = !1;
  if ((!i || QL(r, i)) && (i && i.length && (hn(t, n), t.restore(), l = s = !0, n.prevElClipPaths = null, n.allClipped = !1, n.prevEl = null), r && r.length && (hn(t, n), t.save(), rk(r, t, n), s = !0), n.prevElClipPaths = r), n.allClipped) {
    e.__isRendered = !1;
    return;
  }
  e.beforeBrush && e.beforeBrush(), e.innerBeforeBrush();
  var u = n.prevEl;
  u || (l = s = !0);
  var c = e instanceof dt && e.autoBatch && sk(e.style);
  s || ik(a, u.transform) ? (hn(t, n), e5(t, e)) : c || hn(t, n);
  var d = Is(e, n.inHover);
  e instanceof dt ? (n.lastDrawType !== T1 && (l = !0, n.lastDrawType = T1), C1(t, e, u, l, n), (!c || !n.batchFill && !n.batchStroke) && t.beginPath(), tk(t, e, d, c), c && (n.batchFill = d.fill || "", n.batchStroke = d.stroke || "")) : e instanceof hs ? (n.lastDrawType !== k1 && (l = !0, n.lastDrawType = k1), C1(t, e, u, l, n), ok(t, e, d)) : e instanceof no ? (n.lastDrawType !== L1 && (l = !0, n.lastDrawType = L1), ak(t, e, u, l, n), nk(t, e, d)) : e.getTemporalDisplayables && (n.lastDrawType !== E1 && (l = !0, n.lastDrawType = E1), uk(t, e, n)), c && o && hn(t, n), e.innerAfterBrush(), e.afterBrush && e.afterBrush(), n.prevEl = e, e.__dirty = 0, e.__isRendered = !0;
}
function uk(t, e, n) {
  var o = e.getDisplayables(), a = e.getTemporalDisplayables();
  t.save();
  var r = {
    prevElClipPaths: null,
    prevEl: null,
    allClipped: !1,
    viewWidth: n.viewWidth,
    viewHeight: n.viewHeight,
    inHover: n.inHover
  }, i, s;
  for (i = e.getCursor(), s = o.length; i < s; i++) {
    var l = o[i];
    l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), ov(t, l, r, i === s - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), r.prevEl = l;
  }
  for (var u = 0, c = a.length; u < c; u++) {
    var l = a[u];
    l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), ov(t, l, r, u === c - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), r.prevEl = l;
  }
  e.clearTemporalDisplayables(), e.notClear = !0, t.restore();
}
var Ed = new VL(), M1 = new Os(100), A1 = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"];
function av(t, e) {
  if (t === "none")
    return null;
  var n = e.getDevicePixelRatio(), o = e.getZr(), a = o.painter.type === "svg";
  t.dirty && Ed.delete(t);
  var r = Ed.get(t);
  if (r)
    return r;
  var i = rt(t, {
    symbol: "rect",
    symbolSize: 1,
    symbolKeepAspect: !0,
    color: "rgba(0, 0, 0, 0.2)",
    backgroundColor: null,
    dashArrayX: 5,
    dashArrayY: 5,
    rotation: 0,
    maxTileWidth: 512,
    maxTileHeight: 512
  });
  i.backgroundColor === "none" && (i.backgroundColor = null);
  var s = {
    repeat: "repeat"
  };
  return l(s), s.rotation = i.rotation, s.scaleX = s.scaleY = a ? 1 : 1 / n, Ed.set(t, s), t.dirty = !1, s;
  function l(u) {
    for (var c = [n], d = !0, f = 0; f < A1.length; ++f) {
      var v = i[A1[f]];
      if (v != null && !Oe(v) && !ze(v) && !bt(v) && typeof v != "boolean") {
        d = !1;
        break;
      }
      c.push(v);
    }
    var p;
    if (d) {
      p = c.join(",") + (a ? "-svg" : "");
      var h = M1.get(p);
      h && (a ? u.svgElement = h : u.image = h);
    }
    var m = n5(i.dashArrayX), g = ck(i.dashArrayY), y = t5(i.symbol), _ = dk(m), w = o5(g), x = !a && Rs.createCanvas(), S = a && {
      tag: "g",
      attrs: {},
      key: "dcl",
      children: []
    }, L = I(), b;
    x && (x.width = L.width * n, x.height = L.height * n, b = x.getContext("2d")), M(), d && M1.put(p, x || S), u.image = x, u.svgElement = S, u.svgWidth = L.width, u.svgHeight = L.height;
    function I() {
      for (var E = 1, D = 0, O = _.length; D < O; ++D)
        E = Uh(E, _[D]);
      for (var N = 1, D = 0, O = y.length; D < O; ++D)
        N = Uh(N, y[D].length);
      E *= N;
      var P = w * _.length * y.length;
      if (process.env.NODE_ENV !== "production") {
        var $ = function(z) {
          console.warn("Calculated decal size is greater than " + z + " due to decal option settings so " + z + " is used for the decal size. Please consider changing the decal option to make a smaller decal or set " + z + " to be larger to avoid incontinuity.");
        };
        E > i.maxTileWidth && $("maxTileWidth"), P > i.maxTileHeight && $("maxTileHeight");
      }
      return {
        width: Math.max(1, Math.min(E, i.maxTileWidth)),
        height: Math.max(1, Math.min(P, i.maxTileHeight))
      };
    }
    function M() {
      b && (b.clearRect(0, 0, x.width, x.height), i.backgroundColor && (b.fillStyle = i.backgroundColor, b.fillRect(0, 0, x.width, x.height)));
      for (var E = 0, D = 0; D < g.length; ++D)
        E += g[D];
      if (E <= 0)
        return;
      for (var O = -w, N = 0, P = 0, $ = 0; O < L.height; ) {
        if (N % 2 === 0) {
          for (var z = P / 2 % y.length, H = 0, W = 0, oe = 0; H < L.width * 2; ) {
            for (var te = 0, D = 0; D < m[$].length; ++D)
              te += m[$][D];
            if (te <= 0)
              break;
            if (W % 2 === 0) {
              var le = (1 - i.symbolSize) * 0.5, J = H + m[$][W] * le, Q = O + g[N] * le, q = m[$][W] * i.symbolSize, G = g[N] * i.symbolSize, B = oe / 2 % y[z].length;
              ee(J, Q, q, G, y[z][B]);
            }
            H += m[$][W], ++oe, ++W, W === m[$].length && (W = 0);
          }
          ++$, $ === m.length && ($ = 0);
        }
        O += g[N], ++P, ++N, N === g.length && (N = 0);
      }
      function ee(ue, X, Y, U, K) {
        var Z = a ? 1 : n, ae = ca(K, ue * Z, X * Z, Y * Z, U * Z, i.color, i.symbolKeepAspect);
        if (a) {
          var he = o.painter.renderOneToVNode(ae);
          he && S.children.push(he);
        } else
          lk(b, ae);
      }
    }
  }
}
function t5(t) {
  if (!t || t.length === 0)
    return [["rect"]];
  if (ze(t))
    return [[t]];
  for (var e = !0, n = 0; n < t.length; ++n)
    if (!ze(t[n])) {
      e = !1;
      break;
    }
  if (e)
    return t5([t]);
  for (var o = [], n = 0; n < t.length; ++n)
    ze(t[n]) ? o.push([t[n]]) : o.push(t[n]);
  return o;
}
function n5(t) {
  if (!t || t.length === 0)
    return [[0, 0]];
  if (bt(t)) {
    var e = Math.ceil(t);
    return [[e, e]];
  }
  for (var n = !0, o = 0; o < t.length; ++o)
    if (!bt(t[o])) {
      n = !1;
      break;
    }
  if (n)
    return n5([t]);
  for (var a = [], o = 0; o < t.length; ++o)
    if (bt(t[o])) {
      var e = Math.ceil(t[o]);
      a.push([e, e]);
    } else {
      var e = $e(t[o], function(s) {
        return Math.ceil(s);
      });
      e.length % 2 === 1 ? a.push(e.concat(e)) : a.push(e);
    }
  return a;
}
function ck(t) {
  if (!t || typeof t == "object" && t.length === 0)
    return [0, 0];
  if (bt(t)) {
    var e = Math.ceil(t);
    return [e, e];
  }
  var n = $e(t, function(o) {
    return Math.ceil(o);
  });
  return t.length % 2 ? n.concat(n) : n;
}
function dk(t) {
  return $e(t, function(e) {
    return o5(e);
  });
}
function o5(t) {
  for (var e = 0, n = 0; n < t.length; ++n)
    e += t[n];
  return t.length % 2 === 1 ? e * 2 : e;
}
function fk(t, e) {
  t.eachRawSeries(function(n) {
    if (!t.isSeriesFiltered(n)) {
      var o = n.getData();
      o.hasItemVisual() && o.each(function(i) {
        var s = o.getItemVisual(i, "decal");
        if (s) {
          var l = o.ensureUniqueItemVisual(i, "style");
          l.decal = av(s, e);
        }
      });
      var a = o.getVisual("decal");
      if (a) {
        var r = o.getVisual("style");
        r.decal = av(a, e);
      }
    }
  });
}
var qn = new $o(), Tu = {};
function vk(t, e) {
  process.env.NODE_ENV !== "production" && Tu[t] && on("Already has an implementation of " + t + "."), Tu[t] = e;
}
function pk(t) {
  return process.env.NODE_ENV !== "production" && (Tu[t] || on("Implementation of " + t + " doesn't exists.")), Tu[t];
}
var hk = 1, mk = 800, gk = 900, yk = 1e3, _k = 2e3, bk = 5e3, a5 = 1e3, wk = 1100, Lp = 2e3, r5 = 3e3, xk = 4e3, vc = 4500, Sk = 4600, Ik = 5e3, Ck = 6e3, i5 = 7e3, Tk = {
  PROCESSOR: {
    FILTER: yk,
    SERIES_FILTER: mk,
    STATISTIC: bk
  },
  VISUAL: {
    LAYOUT: a5,
    PROGRESSIVE_LAYOUT: wk,
    GLOBAL: Lp,
    CHART: r5,
    POST_CHART_LAYOUT: Sk,
    COMPONENT: xk,
    BRUSH: Ik,
    CHART_ITEM: vc,
    ARIA: Ck,
    DECAL: i5
  }
}, jt = "__flagInMainProcess", fn = "__pendingUpdate", Md = "__needsUpdateStatus", D1 = /^[a-zA-Z0-9_]+$/, Ad = "__connectUpdateStatus", $1 = 0, Lk = 1, kk = 2;
function s5(t) {
  return function() {
    for (var e = [], n = 0; n < arguments.length; n++)
      e[n] = arguments[n];
    if (this.isDisposed()) {
      wn(this.id);
      return;
    }
    return u5(this, t, e);
  };
}
function l5(t) {
  return function() {
    for (var e = [], n = 0; n < arguments.length; n++)
      e[n] = arguments[n];
    return u5(this, t, e);
  };
}
function u5(t, e, n) {
  return n[0] = n[0] && n[0].toLowerCase(), $o.prototype[e].apply(t, n);
}
var c5 = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    return e;
  }($o)
), d5 = c5.prototype;
d5.on = l5("on");
d5.off = l5("off");
var br, Dd, bl, Fo, $d, Pd, Rd, Ti, Li, P1, R1, Od, O1, wl, N1, f5, Mn, B1, v5 = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n, o, a) {
      var r = t.call(this, new DL()) || this;
      r._chartsViews = [], r._chartsMap = {}, r._componentsViews = [], r._componentsMap = {}, r._pendingActions = [], a = a || {}, ze(o) && (o = p5[o]), r._dom = n;
      var i = "canvas", s = "auto", l = !1;
      if (process.env.NODE_ENV !== "production") {
        var u = (
          /* eslint-disable-next-line */
          pt.hasGlobalWindow ? window : global
        );
        u && (i = Ge(u.__ECHARTS__DEFAULT__RENDERER__, i), s = Ge(u.__ECHARTS__DEFAULT__COARSE_POINTER, s), l = Ge(u.__ECHARTS__DEFAULT__USE_DIRTY_RECT__, l));
      }
      a.ssr && qS(function(v) {
        var p = It(v), h = p.dataIndex;
        if (h != null) {
          var m = nt();
          return m.set("series_index", p.seriesIndex), m.set("data_index", h), p.ssrType && m.set("ssr_type", p.ssrType), m;
        }
      });
      var c = r._zr = Hh(n, {
        renderer: a.renderer || i,
        devicePixelRatio: a.devicePixelRatio,
        width: a.width,
        height: a.height,
        ssr: a.ssr,
        useDirtyRect: Ge(a.useDirtyRect, l),
        useCoarsePointer: Ge(a.useCoarsePointer, s),
        pointerSize: a.pointerSize
      });
      r._ssr = a.ssr, r._throttledZrFlush = Gy(Bt(c.flush, c), 17), o = st(o), o && My(o, !0), r._theme = o, r._locale = YC(a.locale || dy), r._coordSysMgr = new wp();
      var d = r._api = N1(r);
      function f(v, p) {
        return v.__prio - p.__prio;
      }
      return Bl(ku, f), Bl(rv, f), r._scheduler = new Xy(r, d, rv, ku), r._messageCenter = new c5(), r._initEvents(), r.resize = Bt(r.resize, r), c.animation.on("frame", r._onframe, r), P1(c, r), R1(c, r), gf(r), r;
    }
    return e.prototype._onframe = function() {
      if (!this._disposed) {
        B1(this);
        var n = this._scheduler;
        if (this[fn]) {
          var o = this[fn].silent;
          this[jt] = !0;
          try {
            br(this), Fo.update.call(this, null, this[fn].updateParams);
          } catch (l) {
            throw this[jt] = !1, this[fn] = null, l;
          }
          this._zr.flush(), this[jt] = !1, this[fn] = null, Ti.call(this, o), Li.call(this, o);
        } else if (n.unfinished) {
          var a = hk, r = this._model, i = this._api;
          n.unfinished = !1;
          do {
            var s = +/* @__PURE__ */ new Date();
            n.performSeriesTasks(r), n.performDataProcessorTasks(r), Pd(this, r), n.performVisualTasks(r), wl(this, this._model, i, "remain", {}), a -= +/* @__PURE__ */ new Date() - s;
          } while (a > 0 && n.unfinished);
          n.unfinished || this._zr.flush();
        }
      }
    }, e.prototype.getDom = function() {
      return this._dom;
    }, e.prototype.getId = function() {
      return this.id;
    }, e.prototype.getZr = function() {
      return this._zr;
    }, e.prototype.isSSR = function() {
      return this._ssr;
    }, e.prototype.setOption = function(n, o, a) {
      if (this[jt]) {
        process.env.NODE_ENV !== "production" && on("`setOption` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        wn(this.id);
        return;
      }
      var r, i, s;
      if (Ue(o) && (a = o.lazyUpdate, r = o.silent, i = o.replaceMerge, s = o.transition, o = o.notMerge), this[jt] = !0, !this._model || o) {
        var l = new ST(this._api), u = this._theme, c = this._model = new bp();
        c.scheduler = this._scheduler, c.ssr = this._ssr, c.init(null, null, null, u, this._locale, l);
      }
      this._model.setOption(n, {
        replaceMerge: i
      }, iv);
      var d = {
        seriesTransition: s,
        optionChanged: !0
      };
      if (a)
        this[fn] = {
          silent: r,
          updateParams: d
        }, this[jt] = !1, this.getZr().wakeUp();
      else {
        try {
          br(this), Fo.update.call(this, null, d);
        } catch (f) {
          throw this[fn] = null, this[jt] = !1, f;
        }
        this._ssr || this._zr.flush(), this[fn] = null, this[jt] = !1, Ti.call(this, r), Li.call(this, r);
      }
    }, e.prototype.setTheme = function() {
      _o("ECharts#setTheme() is DEPRECATED in ECharts 3.0");
    }, e.prototype.getModel = function() {
      return this._model;
    }, e.prototype.getOption = function() {
      return this._model && this._model.getOption();
    }, e.prototype.getWidth = function() {
      return this._zr.getWidth();
    }, e.prototype.getHeight = function() {
      return this._zr.getHeight();
    }, e.prototype.getDevicePixelRatio = function() {
      return this._zr.painter.dpr || pt.hasGlobalWindow && window.devicePixelRatio || 1;
    }, e.prototype.getRenderedCanvas = function(n) {
      return process.env.NODE_ENV !== "production" && Nt("getRenderedCanvas", "renderToCanvas"), this.renderToCanvas(n);
    }, e.prototype.renderToCanvas = function(n) {
      n = n || {};
      var o = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && o.type !== "canvas")
        throw new Error("renderToCanvas can only be used in the canvas renderer.");
      return o.getRenderedCanvas({
        backgroundColor: n.backgroundColor || this._model.get("backgroundColor"),
        pixelRatio: n.pixelRatio || this.getDevicePixelRatio()
      });
    }, e.prototype.renderToSVGString = function(n) {
      n = n || {};
      var o = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && o.type !== "svg")
        throw new Error("renderToSVGString can only be used in the svg renderer.");
      return o.renderToString({
        useViewBox: n.useViewBox
      });
    }, e.prototype.getSvgDataURL = function() {
      if (pt.svgSupported) {
        var n = this._zr, o = n.storage.getDisplayList();
        return se(o, function(a) {
          a.stopAnimation(null, !0);
        }), n.painter.toDataURL();
      }
    }, e.prototype.getDataURL = function(n) {
      if (this._disposed) {
        wn(this.id);
        return;
      }
      n = n || {};
      var o = n.excludeComponents, a = this._model, r = [], i = this;
      se(o, function(l) {
        a.eachComponent({
          mainType: l
        }, function(u) {
          var c = i._componentsMap[u.__viewId];
          c.group.ignore || (r.push(c), c.group.ignore = !0);
        });
      });
      var s = this._zr.painter.getType() === "svg" ? this.getSvgDataURL() : this.renderToCanvas(n).toDataURL("image/" + (n && n.type || "png"));
      return se(r, function(l) {
        l.group.ignore = !1;
      }), s;
    }, e.prototype.getConnectedDataURL = function(n) {
      if (this._disposed) {
        wn(this.id);
        return;
      }
      var o = n.type === "svg", a = this.group, r = Math.min, i = Math.max, s = 1 / 0;
      if (F1[a]) {
        var l = s, u = s, c = -s, d = -s, f = [], v = n && n.pixelRatio || this.getDevicePixelRatio();
        se(ss, function(_, w) {
          if (_.group === a) {
            var x = o ? _.getZr().painter.getSvgDom().innerHTML : _.renderToCanvas(st(n)), S = _.getDom().getBoundingClientRect();
            l = r(S.left, l), u = r(S.top, u), c = i(S.right, c), d = i(S.bottom, d), f.push({
              dom: x,
              left: S.left,
              top: S.top
            });
          }
        }), l *= v, u *= v, c *= v, d *= v;
        var p = c - l, h = d - u, m = Rs.createCanvas(), g = Hh(m, {
          renderer: o ? "svg" : "canvas"
        });
        if (g.resize({
          width: p,
          height: h
        }), o) {
          var y = "";
          return se(f, function(_) {
            var w = _.left - l, x = _.top - u;
            y += '<g transform="translate(' + w + "," + x + ')">' + _.dom + "</g>";
          }), g.painter.getSvgRoot().innerHTML = y, n.connectedBackgroundColor && g.painter.setBackgroundColor(n.connectedBackgroundColor), g.refreshImmediately(), g.painter.toDataURL();
        } else
          return n.connectedBackgroundColor && g.add(new Gt({
            shape: {
              x: 0,
              y: 0,
              width: p,
              height: h
            },
            style: {
              fill: n.connectedBackgroundColor
            }
          })), se(f, function(_) {
            var w = new no({
              style: {
                x: _.left * v - l,
                y: _.top * v - u,
                image: _.dom
              }
            });
            g.add(w);
          }), g.refreshImmediately(), m.toDataURL("image/" + (n && n.type || "png"));
      } else
        return this.getDataURL(n);
    }, e.prototype.convertToPixel = function(n, o) {
      return $d(this, "convertToPixel", n, o);
    }, e.prototype.convertFromPixel = function(n, o) {
      return $d(this, "convertFromPixel", n, o);
    }, e.prototype.containPixel = function(n, o) {
      if (this._disposed) {
        wn(this.id);
        return;
      }
      var a = this._model, r, i = nd(a, n);
      return se(i, function(s, l) {
        l.indexOf("Models") >= 0 && se(s, function(u) {
          var c = u.coordinateSystem;
          if (c && c.containPoint)
            r = r || !!c.containPoint(o);
          else if (l === "seriesModels") {
            var d = this._chartsMap[u.__viewId];
            d && d.containPoint ? r = r || d.containPoint(o, u) : process.env.NODE_ENV !== "production" && nn(l + ": " + (d ? "The found component do not support containPoint." : "No view mapping to the found component."));
          } else
            process.env.NODE_ENV !== "production" && nn(l + ": containPoint is not supported");
        }, this);
      }, this), !!r;
    }, e.prototype.getVisual = function(n, o) {
      var a = this._model, r = nd(a, n, {
        defaultMainType: "series"
      }), i = r.seriesModel;
      process.env.NODE_ENV !== "production" && (i || nn("There is no specified series model"));
      var s = i.getData(), l = r.hasOwnProperty("dataIndexInside") ? r.dataIndexInside : r.hasOwnProperty("dataIndex") ? s.indexOfRawIndex(r.dataIndex) : null;
      return l != null ? RL(s, l, o) : OL(s, o);
    }, e.prototype.getViewOfComponentModel = function(n) {
      return this._componentsMap[n.__viewId];
    }, e.prototype.getViewOfSeriesModel = function(n) {
      return this._chartsMap[n.__viewId];
    }, e.prototype._initEvents = function() {
      var n = this;
      se(Ek, function(o) {
        var a = function(r) {
          var i = n.getModel(), s = r.target, l, u = o === "globalout";
          if (u ? l = {} : s && yl(s, function(p) {
            var h = It(p);
            if (h && h.dataIndex != null) {
              var m = h.dataModel || i.getSeriesByIndex(h.seriesIndex);
              return l = m && m.getDataParams(h.dataIndex, h.dataType, s) || {}, !0;
            } else if (h.eventData)
              return l = Le({}, h.eventData), !0;
          }, !0), l) {
            var c = l.componentType, d = l.componentIndex;
            (c === "markLine" || c === "markPoint" || c === "markArea") && (c = "series", d = l.seriesIndex);
            var f = c && d != null && i.getComponent(c, d), v = f && n[f.mainType === "series" ? "_chartsMap" : "_componentsMap"][f.__viewId];
            process.env.NODE_ENV !== "production" && !u && !(f && v) && nn("model or view can not be found by params"), l.event = r, l.type = o, n._$eventProcessor.eventInfo = {
              targetEl: s,
              packedEvent: l,
              model: f,
              view: v
            }, n.trigger(o, l);
          }
        };
        a.zrEventfulCallAtLast = !0, n._zr.on(o, a, n);
      }), se(is, function(o, a) {
        n._messageCenter.on(a, function(r) {
          this.trigger(a, r);
        }, n);
      }), se(["selectchanged"], function(o) {
        n._messageCenter.on(o, function(a) {
          this.trigger(o, a);
        }, n);
      }), BL(this._messageCenter, this, this._api);
    }, e.prototype.isDisposed = function() {
      return this._disposed;
    }, e.prototype.clear = function() {
      if (this._disposed) {
        wn(this.id);
        return;
      }
      this.setOption({
        series: []
      }, !0);
    }, e.prototype.dispose = function() {
      if (this._disposed) {
        wn(this.id);
        return;
      }
      this._disposed = !0;
      var n = this.getDom();
      n && C2(this.getDom(), Ep, "");
      var o = this, a = o._api, r = o._model;
      se(o._componentsViews, function(i) {
        i.dispose(r, a);
      }), se(o._chartsViews, function(i) {
        i.dispose(r, a);
      }), o._zr.dispose(), o._dom = o._model = o._chartsMap = o._componentsMap = o._chartsViews = o._componentsViews = o._scheduler = o._api = o._zr = o._throttledZrFlush = o._theme = o._coordSysMgr = o._messageCenter = null, delete ss[o.id];
    }, e.prototype.resize = function(n) {
      if (this[jt]) {
        process.env.NODE_ENV !== "production" && on("`resize` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        wn(this.id);
        return;
      }
      this._zr.resize(n);
      var o = this._model;
      if (this._loadingFX && this._loadingFX.resize(), !!o) {
        var a = o.resetOption("media"), r = n && n.silent;
        this[fn] && (r == null && (r = this[fn].silent), a = !0, this[fn] = null), this[jt] = !0;
        try {
          a && br(this), Fo.update.call(this, {
            type: "resize",
            animation: Le({
              // Disable animation
              duration: 0
            }, n && n.animation)
          });
        } catch (i) {
          throw this[jt] = !1, i;
        }
        this[jt] = !1, Ti.call(this, r), Li.call(this, r);
      }
    }, e.prototype.showLoading = function(n, o) {
      if (this._disposed) {
        wn(this.id);
        return;
      }
      if (Ue(n) && (o = n, n = ""), n = n || "default", this.hideLoading(), !sv[n]) {
        process.env.NODE_ENV !== "production" && nn("Loading effects " + n + " not exists.");
        return;
      }
      var a = sv[n](this._api, o), r = this._zr;
      this._loadingFX = a, r.add(a);
    }, e.prototype.hideLoading = function() {
      if (this._disposed) {
        wn(this.id);
        return;
      }
      this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null;
    }, e.prototype.makeActionFromEvent = function(n) {
      var o = Le({}, n);
      return o.type = is[n.type], o;
    }, e.prototype.dispatchAction = function(n, o) {
      if (this._disposed) {
        wn(this.id);
        return;
      }
      if (Ue(o) || (o = {
        silent: !!o
      }), !!Lu[n.type] && this._model) {
        if (this[jt]) {
          this._pendingActions.push(n);
          return;
        }
        var a = o.silent;
        Rd.call(this, n, a);
        var r = o.flush;
        r ? this._zr.flush() : r !== !1 && pt.browser.weChat && this._throttledZrFlush(), Ti.call(this, a), Li.call(this, a);
      }
    }, e.prototype.updateLabelLayout = function() {
      qn.trigger("series:layoutlabels", this._model, this._api, {
        // Not adding series labels.
        // TODO
        updatedSeries: []
      });
    }, e.prototype.appendData = function(n) {
      if (this._disposed) {
        wn(this.id);
        return;
      }
      var o = n.seriesIndex, a = this.getModel(), r = a.getSeriesByIndex(o);
      process.env.NODE_ENV !== "production" && ot(n.data && r), r.appendData(n), this._scheduler.unfinished = !0, this.getZr().wakeUp();
    }, e.internalField = function() {
      br = function(d) {
        var f = d._scheduler;
        f.restorePipelines(d._model), f.prepareStageTasks(), Dd(d, !0), Dd(d, !1), f.plan();
      }, Dd = function(d, f) {
        for (var v = d._model, p = d._scheduler, h = f ? d._componentsViews : d._chartsViews, m = f ? d._componentsMap : d._chartsMap, g = d._zr, y = d._api, _ = 0; _ < h.length; _++)
          h[_].__alive = !1;
        f ? v.eachComponent(function(S, L) {
          S !== "series" && w(L);
        }) : v.eachSeries(w);
        function w(S) {
          var L = S.__requireNewView;
          S.__requireNewView = !1;
          var b = "_ec_" + S.id + "_" + S.type, I = !L && m[b];
          if (!I) {
            var M = mo(S.type), E = f ? Ao.getClass(M.main, M.sub) : (
              // FIXME:TS
              // (ChartView as ChartViewConstructor).getClass('series', classType.sub)
              // For backward compat, still support a chart type declared as only subType
              // like "liquidfill", but recommend "series.liquidfill"
              // But need a base class to make a type series.
              yn.getClass(M.sub)
            );
            process.env.NODE_ENV !== "production" && ot(E, M.sub + " does not exist."), I = new E(), I.init(v, y), m[b] = I, h.push(I), g.add(I.group);
          }
          S.__viewId = I.__id = b, I.__alive = !0, I.__model = S, I.group.__ecComponentInfo = {
            mainType: S.mainType,
            index: S.componentIndex
          }, !f && p.prepareView(I, S, v, y);
        }
        for (var _ = 0; _ < h.length; ) {
          var x = h[_];
          x.__alive ? _++ : (!f && x.renderTask.dispose(), g.remove(x.group), x.dispose(v, y), h.splice(_, 1), m[x.__id] === x && delete m[x.__id], x.__id = x.group.__ecComponentInfo = null);
        }
      }, bl = function(d, f, v, p, h) {
        var m = d._model;
        if (m.setUpdatePayload(v), !p) {
          se([].concat(d._componentsViews).concat(d._chartsViews), x);
          return;
        }
        var g = {};
        g[p + "Id"] = v[p + "Id"], g[p + "Index"] = v[p + "Index"], g[p + "Name"] = v[p + "Name"];
        var y = {
          mainType: p,
          query: g
        };
        h && (y.subType = h);
        var _ = v.excludeSeriesId, w;
        _ != null && (w = nt(), se(un(_), function(S) {
          var L = yo(S, null);
          L != null && w.set(L, !0);
        })), m && m.eachComponent(y, function(S) {
          var L = w && w.get(S.id) != null;
          if (!L)
            if (b0(v))
              if (S instanceof kn)
                v.type === Za && !v.notBlur && !S.get(["emphasis", "disabled"]) && kI(S, v, d._api);
              else {
                var b = ip(S.mainType, S.componentIndex, v.name, d._api), I = b.focusSelf, M = b.dispatchers;
                v.type === Za && I && !v.notBlur && Uf(S.mainType, S.componentIndex, d._api), M && se(M, function(E) {
                  v.type === Za ? vu(E) : pu(E);
                });
              }
            else Xf(v) && S instanceof kn && (AI(S, v, d._api), y0(S), Mn(d));
        }, d), m && m.eachComponent(y, function(S) {
          var L = w && w.get(S.id) != null;
          L || x(d[p === "series" ? "_chartsMap" : "_componentsMap"][S.__viewId]);
        }, d);
        function x(S) {
          S && S.__alive && S[f] && S[f](S.__model, m, d._api, v);
        }
      }, Fo = {
        prepareAndUpdate: function(d) {
          br(this), Fo.update.call(this, d, {
            // Needs to mark option changed if newOption is given.
            // It's from MagicType.
            // TODO If use a separate flag optionChanged in payload?
            optionChanged: d.newOption != null
          });
        },
        update: function(d, f) {
          var v = this._model, p = this._api, h = this._zr, m = this._coordSysMgr, g = this._scheduler;
          if (v) {
            v.setUpdatePayload(d), g.restoreData(v, d), g.performSeriesTasks(v), m.create(v, p), g.performDataProcessorTasks(v, d), Pd(this, v), m.update(v, p), n(v), g.performVisualTasks(v, d), Od(this, v, p, d, f);
            var y = v.get("backgroundColor") || "transparent", _ = v.get("darkMode");
            h.setBackgroundColor(y), _ != null && _ !== "auto" && h.setDarkMode(_), qn.trigger("afterupdate", v, p);
          }
        },
        updateTransform: function(d) {
          var f = this, v = this._model, p = this._api;
          if (v) {
            v.setUpdatePayload(d);
            var h = [];
            v.eachComponent(function(g, y) {
              if (g !== "series") {
                var _ = f.getViewOfComponentModel(y);
                if (_ && _.__alive)
                  if (_.updateTransform) {
                    var w = _.updateTransform(y, v, p, d);
                    w && w.update && h.push(_);
                  } else
                    h.push(_);
              }
            });
            var m = nt();
            v.eachSeries(function(g) {
              var y = f._chartsMap[g.__viewId];
              if (y.updateTransform) {
                var _ = y.updateTransform(g, v, p, d);
                _ && _.update && m.set(g.uid, 1);
              } else
                m.set(g.uid, 1);
            }), n(v), this._scheduler.performVisualTasks(v, d, {
              setDirty: !0,
              dirtyMap: m
            }), wl(this, v, p, d, {}, m), qn.trigger("afterupdate", v, p);
          }
        },
        updateView: function(d) {
          var f = this._model;
          f && (f.setUpdatePayload(d), yn.markUpdateMethod(d, "updateView"), n(f), this._scheduler.performVisualTasks(f, d, {
            setDirty: !0
          }), Od(this, f, this._api, d, {}), qn.trigger("afterupdate", f, this._api));
        },
        updateVisual: function(d) {
          var f = this, v = this._model;
          v && (v.setUpdatePayload(d), v.eachSeries(function(p) {
            p.getData().clearAllVisual();
          }), yn.markUpdateMethod(d, "updateVisual"), n(v), this._scheduler.performVisualTasks(v, d, {
            visualType: "visual",
            setDirty: !0
          }), v.eachComponent(function(p, h) {
            if (p !== "series") {
              var m = f.getViewOfComponentModel(h);
              m && m.__alive && m.updateVisual(h, v, f._api, d);
            }
          }), v.eachSeries(function(p) {
            var h = f._chartsMap[p.__viewId];
            h.updateVisual(p, v, f._api, d);
          }), qn.trigger("afterupdate", v, this._api));
        },
        updateLayout: function(d) {
          Fo.update.call(this, d);
        }
      }, $d = function(d, f, v, p) {
        if (d._disposed) {
          wn(d.id);
          return;
        }
        for (var h = d._model, m = d._coordSysMgr.getCoordinateSystems(), g, y = nd(h, v), _ = 0; _ < m.length; _++) {
          var w = m[_];
          if (w[f] && (g = w[f](h, y, p)) != null)
            return g;
        }
        process.env.NODE_ENV !== "production" && nn("No coordinate system that supports " + f + " found by the given finder.");
      }, Pd = function(d, f) {
        var v = d._chartsMap, p = d._scheduler;
        f.eachSeries(function(h) {
          p.updateStreamModes(h, v[h.__viewId]);
        });
      }, Rd = function(d, f) {
        var v = this, p = this.getModel(), h = d.type, m = d.escapeConnect, g = Lu[h], y = g.actionInfo, _ = (y.update || "update").split(":"), w = _.pop(), x = _[0] != null && mo(_[0]);
        this[jt] = !0;
        var S = [d], L = !1;
        d.batch && (L = !0, S = $e(d.batch, function(N) {
          return N = rt(Le({}, N), d), N.batch = null, N;
        }));
        var b = [], I, M = Xf(d), E = b0(d);
        if (E && W2(this._api), se(S, function(N) {
          if (I = g.action(N, v._model, v._api), I = I || Le({}, N), I.type = y.event || I.type, b.push(I), E) {
            var P = I2(d), $ = P.queryOptionMap, z = P.mainTypeSpecified, H = z ? $.keys()[0] : "series";
            bl(v, w, N, H), Mn(v);
          } else M ? (bl(v, w, N, "series"), Mn(v)) : x && bl(v, w, N, x.main, x.sub);
        }), w !== "none" && !E && !M && !x)
          try {
            this[fn] ? (br(this), Fo.update.call(this, d), this[fn] = null) : Fo[w].call(this, d);
          } catch (N) {
            throw this[jt] = !1, N;
          }
        if (L ? I = {
          type: y.event || h,
          escapeConnect: m,
          batch: b
        } : I = b[0], this[jt] = !1, !f) {
          var D = this._messageCenter;
          if (D.trigger(I.type, I), M) {
            var O = {
              type: "selectchanged",
              escapeConnect: m,
              selected: DI(p),
              isFromClick: d.isFromClick || !1,
              fromAction: d.type,
              fromActionPayload: d
            };
            D.trigger(O.type, O);
          }
        }
      }, Ti = function(d) {
        for (var f = this._pendingActions; f.length; ) {
          var v = f.shift();
          Rd.call(this, v, d);
        }
      }, Li = function(d) {
        !d && this.trigger("updated");
      }, P1 = function(d, f) {
        d.on("rendered", function(v) {
          f.trigger("rendered", v), // Although zr is dirty if initial animation is not finished
          // and this checking is called on frame, we also check
          // animation finished for robustness.
          d.animation.isFinished() && !f[fn] && !f._scheduler.unfinished && !f._pendingActions.length && f.trigger("finished");
        });
      }, R1 = function(d, f) {
        d.on("mouseover", function(v) {
          var p = v.target, h = yl(p, Yr);
          h && (EI(h, v, f._api), Mn(f));
        }).on("mouseout", function(v) {
          var p = v.target, h = yl(p, Yr);
          h && (MI(h, v, f._api), Mn(f));
        }).on("click", function(v) {
          var p = v.target, h = yl(p, function(y) {
            return It(y).dataIndex != null;
          }, !0);
          if (h) {
            var m = h.selected ? "unselect" : "select", g = It(h);
            f._api.dispatchAction({
              type: m,
              dataType: g.dataType,
              dataIndexInside: g.dataIndex,
              seriesIndex: g.seriesIndex,
              isFromClick: !0
            });
          }
        });
      };
      function n(d) {
        d.clearColorPalette(), d.eachSeries(function(f) {
          f.clearColorPalette();
        });
      }
      function o(d) {
        var f = [], v = [], p = !1;
        if (d.eachComponent(function(y, _) {
          var w = _.get("zlevel") || 0, x = _.get("z") || 0, S = _.getZLevelKey();
          p = p || !!S, (y === "series" ? v : f).push({
            zlevel: w,
            z: x,
            idx: _.componentIndex,
            type: y,
            key: S
          });
        }), p) {
          var h = f.concat(v), m, g;
          Bl(h, function(y, _) {
            return y.zlevel === _.zlevel ? y.z - _.z : y.zlevel - _.zlevel;
          }), se(h, function(y) {
            var _ = d.getComponent(y.type, y.idx), w = y.zlevel, x = y.key;
            m != null && (w = Math.max(m, w)), x ? (w === m && x !== g && w++, g = x) : g && (w === m && w++, g = ""), m = w, _.setZLevel(w);
          });
        }
      }
      Od = function(d, f, v, p, h) {
        o(f), O1(d, f, v, p, h), se(d._chartsViews, function(m) {
          m.__alive = !1;
        }), wl(d, f, v, p, h), se(d._chartsViews, function(m) {
          m.__alive || m.remove(f, v);
        });
      }, O1 = function(d, f, v, p, h, m) {
        se(m || d._componentsViews, function(g) {
          var y = g.__model;
          u(y, g), g.render(y, f, v, p), s(y, g), c(y, g);
        });
      }, wl = function(d, f, v, p, h, m) {
        var g = d._scheduler;
        h = Le(h || {}, {
          updatedSeries: f.getSeries()
        }), qn.trigger("series:beforeupdate", f, v, h);
        var y = !1;
        f.eachSeries(function(_) {
          var w = d._chartsMap[_.__viewId];
          w.__alive = !0;
          var x = w.renderTask;
          g.updatePayload(x, p), u(_, w), m && m.get(_.uid) && x.dirty(), x.perform(g.getPerformArgs(x)) && (y = !0), w.group.silent = !!_.get("silent"), i(_, w), y0(_);
        }), g.unfinished = y || g.unfinished, qn.trigger("series:layoutlabels", f, v, h), qn.trigger("series:transition", f, v, h), f.eachSeries(function(_) {
          var w = d._chartsMap[_.__viewId];
          s(_, w), c(_, w);
        }), r(d, f), qn.trigger("series:afterupdate", f, v, h);
      }, Mn = function(d) {
        d[Md] = !0, d.getZr().wakeUp();
      }, B1 = function(d) {
        d[Md] && (d.getZr().storage.traverse(function(f) {
          ns(f) || a(f);
        }), d[Md] = !1);
      };
      function a(d) {
        for (var f = [], v = d.currentStates, p = 0; p < v.length; p++) {
          var h = v[p];
          h === "emphasis" || h === "blur" || h === "select" || f.push(h);
        }
        d.selected && d.states.select && f.push("select"), d.hoverState === Qu && d.states.emphasis ? f.push("emphasis") : d.hoverState === Ku && d.states.blur && f.push("blur"), d.useStates(f);
      }
      function r(d, f) {
        var v = d._zr, p = v.storage, h = 0;
        p.traverse(function(m) {
          m.isGroup || h++;
        }), h > f.get("hoverLayerThreshold") && !pt.node && !pt.worker && f.eachSeries(function(m) {
          if (!m.preventUsingHoverLayer) {
            var g = d._chartsMap[m.__viewId];
            g.__alive && g.eachRendered(function(y) {
              y.states.emphasis && (y.states.emphasis.hoverLayer = !0);
            });
          }
        });
      }
      function i(d, f) {
        var v = d.get("blendMode") || null;
        f.eachRendered(function(p) {
          p.isGroup || (p.style.blend = v);
        });
      }
      function s(d, f) {
        if (!d.preventAutoZ) {
          var v = d.get("z") || 0, p = d.get("zlevel") || 0;
          f.eachRendered(function(h) {
            return l(h, v, p, -1 / 0), !0;
          });
        }
      }
      function l(d, f, v, p) {
        var h = d.getTextContent(), m = d.getTextGuideLine(), g = d.isGroup;
        if (g)
          for (var y = d.childrenRef(), _ = 0; _ < y.length; _++)
            p = Math.max(l(y[_], f, v, p), p);
        else
          d.z = f, d.zlevel = v, p = Math.max(d.z2, p);
        if (h && (h.z = f, h.zlevel = v, isFinite(p) && (h.z2 = p + 2)), m) {
          var w = d.textGuideLineConfig;
          m.z = f, m.zlevel = v, isFinite(p) && (m.z2 = p + (w && w.showAbove ? 1 : -1));
        }
        return p;
      }
      function u(d, f) {
        f.eachRendered(function(v) {
          if (!ns(v)) {
            var p = v.getTextContent(), h = v.getTextGuideLine();
            v.stateTransition && (v.stateTransition = null), p && p.stateTransition && (p.stateTransition = null), h && h.stateTransition && (h.stateTransition = null), v.hasState() ? (v.prevStates = v.currentStates, v.clearStates()) : v.prevStates && (v.prevStates = null);
          }
        });
      }
      function c(d, f) {
        var v = d.getModel("stateAnimation"), p = d.isAnimationEnabled(), h = v.get("duration"), m = h > 0 ? {
          duration: h,
          delay: v.get("delay"),
          easing: v.get("easing")
          // additive: stateAnimationModel.get('additive')
        } : null;
        f.eachRendered(function(g) {
          if (g.states && g.states.emphasis) {
            if (ns(g))
              return;
            if (g instanceof dt && NI(g), g.__dirty) {
              var y = g.prevStates;
              y && g.useStates(y);
            }
            if (p) {
              g.stateTransition = m;
              var _ = g.getTextContent(), w = g.getTextGuideLine();
              _ && (_.stateTransition = m), w && (w.stateTransition = m);
            }
            g.__dirty && a(g);
          }
        });
      }
      N1 = function(d) {
        return new /** @class */
        (function(f) {
          De(v, f);
          function v() {
            return f !== null && f.apply(this, arguments) || this;
          }
          return v.prototype.getCoordinateSystems = function() {
            return d._coordSysMgr.getCoordinateSystems();
          }, v.prototype.getComponentByElement = function(p) {
            for (; p; ) {
              var h = p.__ecComponentInfo;
              if (h != null)
                return d._model.getComponent(h.mainType, h.index);
              p = p.parent;
            }
          }, v.prototype.enterEmphasis = function(p, h) {
            vu(p, h), Mn(d);
          }, v.prototype.leaveEmphasis = function(p, h) {
            pu(p, h), Mn(d);
          }, v.prototype.enterBlur = function(p) {
            LI(p), Mn(d);
          }, v.prototype.leaveBlur = function(p) {
            V2(p), Mn(d);
          }, v.prototype.enterSelect = function(p) {
            H2(p), Mn(d);
          }, v.prototype.leaveSelect = function(p) {
            G2(p), Mn(d);
          }, v.prototype.getModel = function() {
            return d.getModel();
          }, v.prototype.getViewOfComponentModel = function(p) {
            return d.getViewOfComponentModel(p);
          }, v.prototype.getViewOfSeriesModel = function(p) {
            return d.getViewOfSeriesModel(p);
          }, v;
        }(ky))(d);
      }, f5 = function(d) {
        function f(v, p) {
          for (var h = 0; h < v.length; h++) {
            var m = v[h];
            m[Ad] = p;
          }
        }
        se(is, function(v, p) {
          d._messageCenter.on(p, function(h) {
            if (F1[d.group] && d[Ad] !== $1) {
              if (h && h.escapeConnect)
                return;
              var m = d.makeActionFromEvent(h), g = [];
              se(ss, function(y) {
                y !== d && y.group === d.group && g.push(y);
              }), f(g, $1), se(g, function(y) {
                y[Ad] !== Lk && y.dispatchAction(m);
              }), f(g, kk);
            }
          });
        });
      };
    }(), e;
  }($o)
), kp = v5.prototype;
kp.on = s5("on");
kp.off = s5("off");
kp.one = function(t, e, n) {
  var o = this;
  _o("ECharts#one is deprecated.");
  function a() {
    for (var r = [], i = 0; i < arguments.length; i++)
      r[i] = arguments[i];
    e && e.apply && e.apply(this, r), o.off(t, a);
  }
  this.on.call(this, t, a, n);
};
var Ek = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"];
function wn(t) {
  process.env.NODE_ENV !== "production" && nn("Instance " + t + " has been disposed");
}
var Lu = {}, is = {}, rv = [], iv = [], ku = [], p5 = {}, sv = {}, ss = {}, F1 = {}, Mk = +/* @__PURE__ */ new Date() - 0, Ep = "_echarts_instance_";
function Ak(t, e, n) {
  var o = !(n && n.ssr);
  if (o) {
    if (process.env.NODE_ENV !== "production" && !t)
      throw new Error("Initialize failed: invalid dom.");
    var a = Dk(t);
    if (a)
      return process.env.NODE_ENV !== "production" && nn("There is a chart instance already initialized on the dom."), a;
    process.env.NODE_ENV !== "production" && nu(t) && t.nodeName.toUpperCase() !== "CANVAS" && (!t.clientWidth && (!n || n.width == null) || !t.clientHeight && (!n || n.height == null)) && nn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.");
  }
  var r = new v5(t, e, n);
  return r.id = "ec_" + Mk++, ss[r.id] = r, o && C2(t, Ep, r.id), f5(r), qn.trigger("afterinit", r), r;
}
function Dk(t) {
  return ss[_9(t, Ep)];
}
function h5(t, e) {
  p5[t] = e;
}
function m5(t) {
  St(iv, t) < 0 && iv.push(t);
}
function g5(t, e) {
  Ap(rv, t, e, _k);
}
function $k(t) {
  Mp("afterinit", t);
}
function Pk(t) {
  Mp("afterupdate", t);
}
function Mp(t, e) {
  qn.on(t, e);
}
function ai(t, e, n) {
  Je(e) && (n = e, e = "");
  var o = Ue(t) ? t.type : [t, t = {
    event: e
  }][0];
  t.event = (t.event || o).toLowerCase(), e = t.event, !is[e] && (ot(D1.test(o) && D1.test(e)), Lu[o] || (Lu[o] = {
    action: n,
    actionInfo: t
  }), is[e] = o);
}
function Rk(t, e) {
  wp.register(t, e);
}
function Ok(t, e) {
  Ap(ku, t, e, a5, "layout");
}
function ir(t, e) {
  Ap(ku, t, e, r5, "visual");
}
var z1 = [];
function Ap(t, e, n, o, a) {
  if ((Je(e) || Ue(e)) && (n = e, e = o), process.env.NODE_ENV !== "production") {
    if (isNaN(e) || e == null)
      throw new Error("Illegal priority");
    se(t, function(i) {
      ot(i.__raw !== n);
    });
  }
  if (!(St(z1, n) >= 0)) {
    z1.push(n);
    var r = Xy.wrapStageHandler(n, a);
    r.__prio = e, r.__raw = n, t.push(r);
  }
}
function y5(t, e) {
  sv[t] = e;
}
function Nk(t, e, n) {
  var o = pk("registerMap");
  o && o(t, e, n);
}
var Bk = QT;
ir(Lp, yL);
ir(vc, _L);
ir(vc, bL);
ir(Lp, $L);
ir(vc, PL);
ir(i5, fk);
m5(My);
g5(gk, RT);
y5("default", wL);
ai({
  type: Za,
  event: Za,
  update: Za
}, Cn);
ai({
  type: Gl,
  event: Gl,
  update: Gl
}, Cn);
ai({
  type: ji,
  event: ji,
  update: ji
}, Cn);
ai({
  type: Ul,
  event: Ul,
  update: Ul
}, Cn);
ai({
  type: es,
  event: es,
  update: es
}, Cn);
h5("light", AL);
h5("dark", Jy);
function ki(t) {
  return t == null ? 0 : t.length || 1;
}
function V1(t) {
  return t;
}
var Fk = (
  /** @class */
  function() {
    function t(e, n, o, a, r, i) {
      this._old = e, this._new = n, this._oldKeyGetter = o || V1, this._newKeyGetter = a || V1, this.context = r, this._diffModeMultiple = i === "multiple";
    }
    return t.prototype.add = function(e) {
      return this._add = e, this;
    }, t.prototype.update = function(e) {
      return this._update = e, this;
    }, t.prototype.updateManyToOne = function(e) {
      return this._updateManyToOne = e, this;
    }, t.prototype.updateOneToMany = function(e) {
      return this._updateOneToMany = e, this;
    }, t.prototype.updateManyToMany = function(e) {
      return this._updateManyToMany = e, this;
    }, t.prototype.remove = function(e) {
      return this._remove = e, this;
    }, t.prototype.execute = function() {
      this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]();
    }, t.prototype._executeOneToOne = function() {
      var e = this._old, n = this._new, o = {}, a = new Array(e.length), r = new Array(n.length);
      this._initIndexMap(e, null, a, "_oldKeyGetter"), this._initIndexMap(n, o, r, "_newKeyGetter");
      for (var i = 0; i < e.length; i++) {
        var s = a[i], l = o[s], u = ki(l);
        if (u > 1) {
          var c = l.shift();
          l.length === 1 && (o[s] = l[0]), this._update && this._update(c, i);
        } else u === 1 ? (o[s] = null, this._update && this._update(l, i)) : this._remove && this._remove(i);
      }
      this._performRestAdd(r, o);
    }, t.prototype._executeMultiple = function() {
      var e = this._old, n = this._new, o = {}, a = {}, r = [], i = [];
      this._initIndexMap(e, o, r, "_oldKeyGetter"), this._initIndexMap(n, a, i, "_newKeyGetter");
      for (var s = 0; s < r.length; s++) {
        var l = r[s], u = o[l], c = a[l], d = ki(u), f = ki(c);
        if (d > 1 && f === 1)
          this._updateManyToOne && this._updateManyToOne(c, u), a[l] = null;
        else if (d === 1 && f > 1)
          this._updateOneToMany && this._updateOneToMany(c, u), a[l] = null;
        else if (d === 1 && f === 1)
          this._update && this._update(c, u), a[l] = null;
        else if (d > 1 && f > 1)
          this._updateManyToMany && this._updateManyToMany(c, u), a[l] = null;
        else if (d > 1)
          for (var v = 0; v < d; v++)
            this._remove && this._remove(u[v]);
        else
          this._remove && this._remove(u);
      }
      this._performRestAdd(i, a);
    }, t.prototype._performRestAdd = function(e, n) {
      for (var o = 0; o < e.length; o++) {
        var a = e[o], r = n[a], i = ki(r);
        if (i > 1)
          for (var s = 0; s < i; s++)
            this._add && this._add(r[s]);
        else i === 1 && this._add && this._add(r);
        n[a] = null;
      }
    }, t.prototype._initIndexMap = function(e, n, o, a) {
      for (var r = this._diffModeMultiple, i = 0; i < e.length; i++) {
        var s = "_ec_" + this[a](e[i], i);
        if (r || (o[i] = s), !!n) {
          var l = n[s], u = ki(l);
          u === 0 ? (n[s] = i, r && o.push(s)) : u === 1 ? n[s] = [l, i] : l.push(i);
        }
      }
    }, t;
  }()
), zk = (
  /** @class */
  function() {
    function t(e, n) {
      this._encode = e, this._schema = n;
    }
    return t.prototype.get = function() {
      return {
        // Do not generate full dimension name until fist used.
        fullDimensions: this._getFullDimensionNames(),
        encode: this._encode
      };
    }, t.prototype._getFullDimensionNames = function() {
      return this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []), this._cachedDimNames;
    }, t;
  }()
);
function Vk(t, e) {
  var n = {}, o = n.encode = {}, a = nt(), r = [], i = [], s = {};
  se(t.dimensions, function(f) {
    var v = t.getDimensionInfo(f), p = v.coordDim;
    if (p) {
      process.env.NODE_ENV !== "production" && ot(Kf.get(p) == null);
      var h = v.coordDimIndex;
      Nd(o, p)[h] = f, v.isExtraCoord || (a.set(p, 1), Gk(v.type) && (r[0] = f), Nd(s, p)[h] = t.getDimensionIndex(v.name)), v.defaultTooltip && i.push(f);
    }
    Kf.each(function(m, g) {
      var y = Nd(o, g), _ = v.otherDims[g];
      _ != null && _ !== !1 && (y[_] = v.name);
    });
  });
  var l = [], u = {};
  a.each(function(f, v) {
    var p = o[v];
    u[v] = p[0], l = l.concat(p);
  }), n.dataDimsOnCoord = l, n.dataDimIndicesOnCoord = $e(l, function(f) {
    return t.getDimensionInfo(f).storeDimIndex;
  }), n.encodeFirstDimNotExtra = u;
  var c = o.label;
  c && c.length && (r = c.slice());
  var d = o.tooltip;
  return d && d.length ? i = d.slice() : i.length || (i = r.slice()), o.defaultedLabel = r, o.defaultedTooltip = i, n.userOutput = new zk(s, e), n;
}
function Nd(t, e) {
  return t.hasOwnProperty(e) || (t[e] = []), t[e];
}
function Hk(t) {
  return t === "category" ? "ordinal" : t === "time" ? "time" : "float";
}
function Gk(t) {
  return !(t === "ordinal" || t === "time");
}
var Zl = (
  /** @class */
  /* @__PURE__ */ function() {
    function t(e) {
      this.otherDims = {}, e != null && Le(this, e);
    }
    return t;
  }()
), Uk = Wt(), Wk = {
  float: "f",
  int: "i",
  ordinal: "o",
  number: "n",
  time: "t"
}, _5 = (
  /** @class */
  function() {
    function t(e) {
      this.dimensions = e.dimensions, this._dimOmitted = e.dimensionOmitted, this.source = e.source, this._fullDimCount = e.fullDimensionCount, this._updateDimOmitted(e.dimensionOmitted);
    }
    return t.prototype.isDimensionOmitted = function() {
      return this._dimOmitted;
    }, t.prototype._updateDimOmitted = function(e) {
      this._dimOmitted = e, e && (this._dimNameMap || (this._dimNameMap = x5(this.source)));
    }, t.prototype.getSourceDimensionIndex = function(e) {
      return Ge(this._dimNameMap.get(e), -1);
    }, t.prototype.getSourceDimension = function(e) {
      var n = this.source.dimensionsDefine;
      if (n)
        return n[e];
    }, t.prototype.makeStoreSchema = function() {
      for (var e = this._fullDimCount, n = $y(this.source), o = !S5(e), a = "", r = [], i = 0, s = 0; i < e; i++) {
        var l = void 0, u = void 0, c = void 0, d = this.dimensions[s];
        if (d && d.storeDimIndex === i)
          l = n ? d.name : null, u = d.type, c = d.ordinalMeta, s++;
        else {
          var f = this.getSourceDimension(i);
          f && (l = n ? f.name : null, u = f.type);
        }
        r.push({
          property: l,
          type: u,
          ordinalMeta: c
        }), n && l != null && (!d || !d.isCalculationCoord) && (a += o ? l.replace(/\`/g, "`1").replace(/\$/g, "`2") : l), a += "$", a += Wk[u] || "f", c && (a += c.uid), a += "$";
      }
      var v = this.source, p = [v.seriesLayoutBy, v.startIndex, a].join("$$");
      return {
        dimensions: r,
        hash: p
      };
    }, t.prototype.makeOutputDimensionNames = function() {
      for (var e = [], n = 0, o = 0; n < this._fullDimCount; n++) {
        var a = void 0, r = this.dimensions[o];
        if (r && r.storeDimIndex === n)
          r.isCalculationCoord || (a = r.name), o++;
        else {
          var i = this.getSourceDimension(n);
          i && (a = i.name);
        }
        e.push(a);
      }
      return e;
    }, t.prototype.appendCalculationDimension = function(e) {
      this.dimensions.push(e), e.isCalculationCoord = !0, this._fullDimCount++, this._updateDimOmitted(!0);
    }, t;
  }()
);
function b5(t) {
  return t instanceof _5;
}
function w5(t) {
  for (var e = nt(), n = 0; n < (t || []).length; n++) {
    var o = t[n], a = Ue(o) ? o.name : o;
    a != null && e.get(a) == null && e.set(a, n);
  }
  return e;
}
function x5(t) {
  var e = Uk(t);
  return e.dimNameMap || (e.dimNameMap = w5(t.dimensionsDefine));
}
function S5(t) {
  return t > 30;
}
var Ei = Ue, zo = $e, Xk = typeof Int32Array > "u" ? Array : Int32Array, Yk = "e\0\0", H1 = -1, Zk = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"], qk = ["_approximateExtent"], G1, xl, Mi, wr, Bd, Sl, Fd, I5 = (
  /** @class */
  function() {
    function t(e, n) {
      this.type = "list", this._dimOmitted = !1, this._nameList = [], this._idList = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this._itemLayouts = [], this._graphicEls = [], this._approximateExtent = {}, this._calculationInfo = {}, this.hasItemOption = !1, this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "lttbDownSample", "map"], this.CHANGABLE_METHODS = ["filterSelf", "selectRange"], this.DOWNSAMPLE_METHODS = ["downSample", "lttbDownSample"];
      var o, a = !1;
      b5(e) ? (o = e.dimensions, this._dimOmitted = e.isDimensionOmitted(), this._schema = e) : (a = !0, o = e), o = o || ["x", "y"];
      for (var r = {}, i = [], s = {}, l = !1, u = {}, c = 0; c < o.length; c++) {
        var d = o[c], f = ze(d) ? new Zl({
          name: d
        }) : d instanceof Zl ? d : new Zl(d), v = f.name;
        f.type = f.type || "float", f.coordDim || (f.coordDim = v, f.coordDimIndex = 0);
        var p = f.otherDims = f.otherDims || {};
        i.push(v), r[v] = f, u[v] != null && (l = !0), f.createInvertedIndices && (s[v] = []), p.itemName === 0 && (this._nameDimIdx = c), p.itemId === 0 && (this._idDimIdx = c), process.env.NODE_ENV !== "production" && ot(a || f.storeDimIndex >= 0), a && (f.storeDimIndex = c);
      }
      if (this.dimensions = i, this._dimInfos = r, this._initGetDimensionInfo(l), this.hostModel = n, this._invertedIndicesMap = s, this._dimOmitted) {
        var h = this._dimIdxToName = nt();
        se(i, function(m) {
          h.set(r[m].storeDimIndex, m);
        });
      }
    }
    return t.prototype.getDimension = function(e) {
      var n = this._recognizeDimIndex(e);
      if (n == null)
        return e;
      if (n = e, !this._dimOmitted)
        return this.dimensions[n];
      var o = this._dimIdxToName.get(n);
      if (o != null)
        return o;
      var a = this._schema.getSourceDimension(n);
      if (a)
        return a.name;
    }, t.prototype.getDimensionIndex = function(e) {
      var n = this._recognizeDimIndex(e);
      if (n != null)
        return n;
      if (e == null)
        return -1;
      var o = this._getDimInfo(e);
      return o ? o.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(e) : -1;
    }, t.prototype._recognizeDimIndex = function(e) {
      if (bt(e) || e != null && !isNaN(e) && !this._getDimInfo(e) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(e) < 0))
        return +e;
    }, t.prototype._getStoreDimIndex = function(e) {
      var n = this.getDimensionIndex(e);
      if (process.env.NODE_ENV !== "production" && n == null)
        throw new Error("Unknown dimension " + e);
      return n;
    }, t.prototype.getDimensionInfo = function(e) {
      return this._getDimInfo(this.getDimension(e));
    }, t.prototype._initGetDimensionInfo = function(e) {
      var n = this._dimInfos;
      this._getDimInfo = e ? function(o) {
        return n.hasOwnProperty(o) ? n[o] : void 0;
      } : function(o) {
        return n[o];
      };
    }, t.prototype.getDimensionsOnCoord = function() {
      return this._dimSummary.dataDimsOnCoord.slice();
    }, t.prototype.mapDimension = function(e, n) {
      var o = this._dimSummary;
      if (n == null)
        return o.encodeFirstDimNotExtra[e];
      var a = o.encode[e];
      return a ? a[n] : null;
    }, t.prototype.mapDimensionsAll = function(e) {
      var n = this._dimSummary, o = n.encode[e];
      return (o || []).slice();
    }, t.prototype.getStore = function() {
      return this._store;
    }, t.prototype.initData = function(e, n, o) {
      var a = this, r;
      if (e instanceof jf && (r = e), !r) {
        var i = this.dimensions, s = xp(e) || _n(e) ? new Py(e, i.length) : e;
        r = new jf();
        var l = zo(i, function(u) {
          return {
            type: a._dimInfos[u].type,
            property: u
          };
        });
        r.initData(s, l, o);
      }
      this._store = r, this._nameList = (n || []).slice(), this._idList = [], this._nameRepeatCount = {}, this._doInit(0, r.count()), this._dimSummary = Vk(this, this._schema), this.userOutput = this._dimSummary.userOutput;
    }, t.prototype.appendData = function(e) {
      var n = this._store.appendData(e);
      this._doInit(n[0], n[1]);
    }, t.prototype.appendValues = function(e, n) {
      var o = this._store.appendValues(e, n.length), a = o.start, r = o.end, i = this._shouldMakeIdFromName();
      if (this._updateOrdinalMeta(), n)
        for (var s = a; s < r; s++) {
          var l = s - a;
          this._nameList[s] = n[l], i && Fd(this, s);
        }
    }, t.prototype._updateOrdinalMeta = function() {
      for (var e = this._store, n = this.dimensions, o = 0; o < n.length; o++) {
        var a = this._dimInfos[n[o]];
        a.ordinalMeta && e.collectOrdinalMeta(a.storeDimIndex, a.ordinalMeta);
      }
    }, t.prototype._shouldMakeIdFromName = function() {
      var e = this._store.getProvider();
      return this._idDimIdx == null && e.getSource().sourceFormat !== Eo && !e.fillStorage;
    }, t.prototype._doInit = function(e, n) {
      if (!(e >= n)) {
        var o = this._store, a = o.getProvider();
        this._updateOrdinalMeta();
        var r = this._nameList, i = this._idList, s = a.getSource().sourceFormat, l = s === Gn;
        if (l && !a.pure)
          for (var u = [], c = e; c < n; c++) {
            var d = a.getItem(c, u);
            if (!this.hasItemOption && l9(d) && (this.hasItemOption = !0), d) {
              var f = d.name;
              r[c] == null && f != null && (r[c] = yo(f, null));
              var v = d.id;
              i[c] == null && v != null && (i[c] = yo(v, null));
            }
          }
        if (this._shouldMakeIdFromName())
          for (var c = e; c < n; c++)
            Fd(this, c);
        G1(this);
      }
    }, t.prototype.getApproximateExtent = function(e) {
      return this._approximateExtent[e] || this._store.getDataExtent(this._getStoreDimIndex(e));
    }, t.prototype.setApproximateExtent = function(e, n) {
      n = this.getDimension(n), this._approximateExtent[n] = e.slice();
    }, t.prototype.getCalculationInfo = function(e) {
      return this._calculationInfo[e];
    }, t.prototype.setCalculationInfo = function(e, n) {
      Ei(e) ? Le(this._calculationInfo, e) : this._calculationInfo[e] = n;
    }, t.prototype.getName = function(e) {
      var n = this.getRawIndex(e), o = this._nameList[n];
      return o == null && this._nameDimIdx != null && (o = Mi(this, this._nameDimIdx, n)), o == null && (o = ""), o;
    }, t.prototype._getCategory = function(e, n) {
      var o = this._store.get(e, n), a = this._store.getOrdinalMeta(e);
      return a ? a.categories[o] : o;
    }, t.prototype.getId = function(e) {
      return xl(this, this.getRawIndex(e));
    }, t.prototype.count = function() {
      return this._store.count();
    }, t.prototype.get = function(e, n) {
      var o = this._store, a = this._dimInfos[e];
      if (a)
        return o.get(a.storeDimIndex, n);
    }, t.prototype.getByRawIndex = function(e, n) {
      var o = this._store, a = this._dimInfos[e];
      if (a)
        return o.getByRawIndex(a.storeDimIndex, n);
    }, t.prototype.getIndices = function() {
      return this._store.getIndices();
    }, t.prototype.getDataExtent = function(e) {
      return this._store.getDataExtent(this._getStoreDimIndex(e));
    }, t.prototype.getSum = function(e) {
      return this._store.getSum(this._getStoreDimIndex(e));
    }, t.prototype.getMedian = function(e) {
      return this._store.getMedian(this._getStoreDimIndex(e));
    }, t.prototype.getValues = function(e, n) {
      var o = this, a = this._store;
      return Oe(e) ? a.getValues(zo(e, function(r) {
        return o._getStoreDimIndex(r);
      }), n) : a.getValues(e);
    }, t.prototype.hasValue = function(e) {
      for (var n = this._dimSummary.dataDimIndicesOnCoord, o = 0, a = n.length; o < a; o++)
        if (isNaN(this._store.get(n[o], e)))
          return !1;
      return !0;
    }, t.prototype.indexOfName = function(e) {
      for (var n = 0, o = this._store.count(); n < o; n++)
        if (this.getName(n) === e)
          return n;
      return -1;
    }, t.prototype.getRawIndex = function(e) {
      return this._store.getRawIndex(e);
    }, t.prototype.indexOfRawIndex = function(e) {
      return this._store.indexOfRawIndex(e);
    }, t.prototype.rawIndexOf = function(e, n) {
      var o = e && this._invertedIndicesMap[e];
      if (process.env.NODE_ENV !== "production" && !o)
        throw new Error("Do not supported yet");
      var a = o[n];
      return a == null || isNaN(a) ? H1 : a;
    }, t.prototype.indicesOfNearest = function(e, n, o) {
      return this._store.indicesOfNearest(this._getStoreDimIndex(e), n, o);
    }, t.prototype.each = function(e, n, o) {
      Je(e) && (o = n, n = e, e = []);
      var a = o || this, r = zo(wr(e), this._getStoreDimIndex, this);
      this._store.each(r, a ? Bt(n, a) : n);
    }, t.prototype.filterSelf = function(e, n, o) {
      Je(e) && (o = n, n = e, e = []);
      var a = o || this, r = zo(wr(e), this._getStoreDimIndex, this);
      return this._store = this._store.filter(r, a ? Bt(n, a) : n), this;
    }, t.prototype.selectRange = function(e) {
      var n = this, o = {}, a = lt(e);
      return se(a, function(r) {
        var i = n._getStoreDimIndex(r);
        o[i] = e[r];
      }), this._store = this._store.selectRange(o), this;
    }, t.prototype.mapArray = function(e, n, o) {
      Je(e) && (o = n, n = e, e = []), o = o || this;
      var a = [];
      return this.each(e, function() {
        a.push(n && n.apply(this, arguments));
      }, o), a;
    }, t.prototype.map = function(e, n, o, a) {
      var r = o || a || this, i = zo(wr(e), this._getStoreDimIndex, this), s = Sl(this);
      return s._store = this._store.map(i, r ? Bt(n, r) : n), s;
    }, t.prototype.modify = function(e, n, o, a) {
      var r = this, i = o || a || this;
      process.env.NODE_ENV !== "production" && se(wr(e), function(l) {
        var u = r.getDimensionInfo(l);
        u.isCalculationCoord || console.error("Danger: only stack dimension can be modified");
      });
      var s = zo(wr(e), this._getStoreDimIndex, this);
      this._store.modify(s, i ? Bt(n, i) : n);
    }, t.prototype.downSample = function(e, n, o, a) {
      var r = Sl(this);
      return r._store = this._store.downSample(this._getStoreDimIndex(e), n, o, a), r;
    }, t.prototype.lttbDownSample = function(e, n) {
      var o = Sl(this);
      return o._store = this._store.lttbDownSample(this._getStoreDimIndex(e), n), o;
    }, t.prototype.getRawDataItem = function(e) {
      return this._store.getRawDataItem(e);
    }, t.prototype.getItemModel = function(e) {
      var n = this.hostModel, o = this.getRawDataItem(e);
      return new Ut(o, n, n && n.ecModel);
    }, t.prototype.diff = function(e) {
      var n = this;
      return new Fk(e ? e.getStore().getIndices() : [], this.getStore().getIndices(), function(o) {
        return xl(e, o);
      }, function(o) {
        return xl(n, o);
      });
    }, t.prototype.getVisual = function(e) {
      var n = this._visual;
      return n && n[e];
    }, t.prototype.setVisual = function(e, n) {
      this._visual = this._visual || {}, Ei(e) ? Le(this._visual, e) : this._visual[e] = n;
    }, t.prototype.getItemVisual = function(e, n) {
      var o = this._itemVisuals[e], a = o && o[n];
      return a ?? this.getVisual(n);
    }, t.prototype.hasItemVisual = function() {
      return this._itemVisuals.length > 0;
    }, t.prototype.ensureUniqueItemVisual = function(e, n) {
      var o = this._itemVisuals, a = o[e];
      a || (a = o[e] = {});
      var r = a[n];
      return r == null && (r = this.getVisual(n), Oe(r) ? r = r.slice() : Ei(r) && (r = Le({}, r)), a[n] = r), r;
    }, t.prototype.setItemVisual = function(e, n, o) {
      var a = this._itemVisuals[e] || {};
      this._itemVisuals[e] = a, Ei(n) ? Le(a, n) : a[n] = o;
    }, t.prototype.clearAllVisual = function() {
      this._visual = {}, this._itemVisuals = [];
    }, t.prototype.setLayout = function(e, n) {
      Ei(e) ? Le(this._layout, e) : this._layout[e] = n;
    }, t.prototype.getLayout = function(e) {
      return this._layout[e];
    }, t.prototype.getItemLayout = function(e) {
      return this._itemLayouts[e];
    }, t.prototype.setItemLayout = function(e, n, o) {
      this._itemLayouts[e] = o ? Le(this._itemLayouts[e] || {}, n) : n;
    }, t.prototype.clearItemLayouts = function() {
      this._itemLayouts.length = 0;
    }, t.prototype.setItemGraphicEl = function(e, n) {
      var o = this.hostModel && this.hostModel.seriesIndex;
      gI(o, this.dataType, e, n), this._graphicEls[e] = n;
    }, t.prototype.getItemGraphicEl = function(e) {
      return this._graphicEls[e];
    }, t.prototype.eachItemGraphicEl = function(e, n) {
      se(this._graphicEls, function(o, a) {
        o && e && e.call(n, o, a);
      });
    }, t.prototype.cloneShallow = function(e) {
      return e || (e = new t(this._schema ? this._schema : zo(this.dimensions, this._getDimInfo, this), this.hostModel)), Bd(e, this), e._store = this._store, e;
    }, t.prototype.wrapMethod = function(e, n) {
      var o = this[e];
      Je(o) && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(e), this[e] = function() {
        var a = o.apply(this, arguments);
        return n.apply(this, [a].concat(Xv(arguments)));
      });
    }, t.internalField = function() {
      G1 = function(e) {
        var n = e._invertedIndicesMap;
        se(n, function(o, a) {
          var r = e._dimInfos[a], i = r.ordinalMeta, s = e._store;
          if (i) {
            o = n[a] = new Xk(i.categories.length);
            for (var l = 0; l < o.length; l++)
              o[l] = H1;
            for (var l = 0; l < s.count(); l++)
              o[s.get(r.storeDimIndex, l)] = l;
          }
        });
      }, Mi = function(e, n, o) {
        return yo(e._getCategory(n, o), null);
      }, xl = function(e, n) {
        var o = e._idList[n];
        return o == null && e._idDimIdx != null && (o = Mi(e, e._idDimIdx, n)), o == null && (o = Yk + n), o;
      }, wr = function(e) {
        return Oe(e) || (e = e != null ? [e] : []), e;
      }, Sl = function(e) {
        var n = new t(e._schema ? e._schema : zo(e.dimensions, e._getDimInfo, e), e.hostModel);
        return Bd(n, e), n;
      }, Bd = function(e, n) {
        se(Zk.concat(n.__wrappedMethods || []), function(o) {
          n.hasOwnProperty(o) && (e[o] = n[o]);
        }), e.__wrappedMethods = n.__wrappedMethods, se(qk, function(o) {
          e[o] = st(n[o]);
        }), e._calculationInfo = Le({}, n._calculationInfo);
      }, Fd = function(e, n) {
        var o = e._nameList, a = e._idList, r = e._nameDimIdx, i = e._idDimIdx, s = o[n], l = a[n];
        if (s == null && r != null && (o[n] = s = Mi(e, r, n)), l == null && i != null && (a[n] = l = Mi(e, i, n)), l == null && s != null) {
          var u = e._nameRepeatCount, c = u[s] = (u[s] || 0) + 1;
          l = s, c > 1 && (l += "__ec__" + c), a[n] = l;
        }
      };
    }(), t;
  }()
);
function C5(t, e) {
  xp(t) || (t = Ay(t)), e = e || {};
  var n = e.coordDimensions || [], o = e.dimensionsDefine || t.dimensionsDefine || [], a = nt(), r = [], i = Kk(t, n, o, e.dimensionsCount), s = e.canOmitUnusedDimensions && S5(i), l = o === t.dimensionsDefine, u = l ? x5(t) : w5(o), c = e.encodeDefine;
  !c && e.encodeDefaulter && (c = e.encodeDefaulter(t, i));
  for (var d = nt(c), f = new Fy(i), v = 0; v < f.length; v++)
    f[v] = -1;
  function p(I) {
    var M = f[I];
    if (M < 0) {
      var E = o[I], D = Ue(E) ? E : {
        name: E
      }, O = new Zl(), N = D.name;
      N != null && u.get(N) != null && (O.name = O.displayName = N), D.type != null && (O.type = D.type), D.displayName != null && (O.displayName = D.displayName);
      var P = r.length;
      return f[I] = P, O.storeDimIndex = I, r.push(O), O;
    }
    return r[M];
  }
  if (!s)
    for (var v = 0; v < i; v++)
      p(v);
  d.each(function(I, M) {
    var E = un(I).slice();
    if (E.length === 1 && !ze(E[0]) && E[0] < 0) {
      d.set(M, !1);
      return;
    }
    var D = d.set(M, []);
    se(E, function(O, N) {
      var P = ze(O) ? u.get(O) : O;
      P != null && P < i && (D[N] = P, m(p(P), M, N));
    });
  });
  var h = 0;
  se(n, function(I) {
    var M, E, D, O;
    if (ze(I))
      M = I, O = {};
    else {
      O = I, M = O.name;
      var N = O.ordinalMeta;
      O.ordinalMeta = null, O = Le({}, O), O.ordinalMeta = N, E = O.dimsDef, D = O.otherDims, O.name = O.coordDim = O.coordDimIndex = O.dimsDef = O.otherDims = null;
    }
    var P = d.get(M);
    if (P !== !1) {
      if (P = un(P), !P.length)
        for (var $ = 0; $ < (E && E.length || 1); $++) {
          for (; h < i && p(h).coordDim != null; )
            h++;
          h < i && P.push(h++);
        }
      se(P, function(z, H) {
        var W = p(z);
        if (l && O.type != null && (W.type = O.type), m(rt(W, O), M, H), W.name == null && E) {
          var oe = E[H];
          !Ue(oe) && (oe = {
            name: oe
          }), W.name = W.displayName = oe.name, W.defaultTooltip = oe.defaultTooltip;
        }
        D && rt(W.otherDims, D);
      });
    }
  });
  function m(I, M, E) {
    Kf.get(M) != null ? I.otherDims[M] = E : (I.coordDim = M, I.coordDimIndex = E, a.set(M, !0));
  }
  var g = e.generateCoord, y = e.generateCoordCount, _ = y != null;
  y = g ? y || 1 : 0;
  var w = g || "value";
  function x(I) {
    I.name == null && (I.name = I.coordDim);
  }
  if (s)
    se(r, function(I) {
      x(I);
    }), r.sort(function(I, M) {
      return I.storeDimIndex - M.storeDimIndex;
    });
  else
    for (var S = 0; S < i; S++) {
      var L = p(S), b = L.coordDim;
      b == null && (L.coordDim = Qk(w, a, _), L.coordDimIndex = 0, (!g || y <= 0) && (L.isExtraCoord = !0), y--), x(L), L.type == null && (Ty(t, S) === Xt.Must || L.isExtraCoord && (L.otherDims.itemName != null || L.otherDims.seriesName != null)) && (L.type = "ordinal");
    }
  return Jk(r), new _5({
    source: t,
    dimensions: r,
    fullDimensionCount: i,
    dimensionOmitted: s
  });
}
function Jk(t) {
  for (var e = nt(), n = 0; n < t.length; n++) {
    var o = t[n], a = o.name, r = e.get(a) || 0;
    r > 0 && (o.name = a + (r - 1)), r++, e.set(a, r);
  }
}
function Kk(t, e, n, o) {
  var a = Math.max(t.dimensionsDetectedCount || 1, e.length, n.length, o || 0);
  return se(e, function(r) {
    var i;
    Ue(r) && (i = r.dimsDef) && (a = Math.max(a, i.length));
  }), a;
}
function Qk(t, e, n) {
  if (n || e.hasKey(t)) {
    for (var o = 0; e.hasKey(t + o); )
      o++;
    t += o;
  }
  return e.set(t, !0), t;
}
var jk = (
  /** @class */
  /* @__PURE__ */ function() {
    function t(e) {
      this.coordSysDims = [], this.axisMap = nt(), this.categoryAxisMap = nt(), this.coordSysName = e;
    }
    return t;
  }()
);
function eE(t) {
  var e = t.get("coordinateSystem"), n = new jk(e), o = tE[e];
  if (o)
    return o(t, n, n.axisMap, n.categoryAxisMap), n;
}
var tE = {
  cartesian2d: function(t, e, n, o) {
    var a = t.getReferringComponents("xAxis", Kn).models[0], r = t.getReferringComponents("yAxis", Kn).models[0];
    if (process.env.NODE_ENV !== "production") {
      if (!a)
        throw new Error('xAxis "' + tr(t.get("xAxisIndex"), t.get("xAxisId"), 0) + '" not found');
      if (!r)
        throw new Error('yAxis "' + tr(t.get("xAxisIndex"), t.get("yAxisId"), 0) + '" not found');
    }
    e.coordSysDims = ["x", "y"], n.set("x", a), n.set("y", r), xr(a) && (o.set("x", a), e.firstCategoryDimIndex = 0), xr(r) && (o.set("y", r), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1));
  },
  singleAxis: function(t, e, n, o) {
    var a = t.getReferringComponents("singleAxis", Kn).models[0];
    if (process.env.NODE_ENV !== "production" && !a)
      throw new Error("singleAxis should be specified.");
    e.coordSysDims = ["single"], n.set("single", a), xr(a) && (o.set("single", a), e.firstCategoryDimIndex = 0);
  },
  polar: function(t, e, n, o) {
    var a = t.getReferringComponents("polar", Kn).models[0], r = a.findAxisModel("radiusAxis"), i = a.findAxisModel("angleAxis");
    if (process.env.NODE_ENV !== "production") {
      if (!i)
        throw new Error("angleAxis option not found");
      if (!r)
        throw new Error("radiusAxis option not found");
    }
    e.coordSysDims = ["radius", "angle"], n.set("radius", r), n.set("angle", i), xr(r) && (o.set("radius", r), e.firstCategoryDimIndex = 0), xr(i) && (o.set("angle", i), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1));
  },
  geo: function(t, e, n, o) {
    e.coordSysDims = ["lng", "lat"];
  },
  parallel: function(t, e, n, o) {
    var a = t.ecModel, r = a.getComponent("parallel", t.get("parallelIndex")), i = e.coordSysDims = r.dimensions.slice();
    se(r.parallelAxisIndex, function(s, l) {
      var u = a.getComponent("parallelAxis", s), c = i[l];
      n.set(c, u), xr(u) && (o.set(c, u), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = l));
    });
  }
};
function xr(t) {
  return t.get("type") === "category";
}
function nE(t, e, n) {
  n = n || {};
  var o = n.byIndex, a = n.stackedCoordDimension, r, i, s;
  oE(e) ? r = e : (i = e.schema, r = i.dimensions, s = e.store);
  var l = !!(t && t.get("stack")), u, c, d, f;
  if (se(r, function(y, _) {
    ze(y) && (r[_] = y = {
      name: y
    }), l && !y.isExtraCoord && (!o && !u && y.ordinalMeta && (u = y), !c && y.type !== "ordinal" && y.type !== "time" && (!a || a === y.coordDim) && (c = y));
  }), c && !o && !u && (o = !0), c) {
    d = "__\0ecstackresult_" + t.id, f = "__\0ecstackedover_" + t.id, u && (u.createInvertedIndices = !0);
    var v = c.coordDim, p = c.type, h = 0;
    se(r, function(y) {
      y.coordDim === v && h++;
    });
    var m = {
      name: d,
      coordDim: v,
      coordDimIndex: h,
      type: p,
      isExtraCoord: !0,
      isCalculationCoord: !0,
      storeDimIndex: r.length
    }, g = {
      name: f,
      // This dimension contains stack base (generally, 0), so do not set it as
      // `stackedDimCoordDim` to avoid extent calculation, consider log scale.
      coordDim: f,
      coordDimIndex: h + 1,
      type: p,
      isExtraCoord: !0,
      isCalculationCoord: !0,
      storeDimIndex: r.length + 1
    };
    i ? (s && (m.storeDimIndex = s.ensureCalculationDimension(f, p), g.storeDimIndex = s.ensureCalculationDimension(d, p)), i.appendCalculationDimension(m), i.appendCalculationDimension(g)) : (r.push(m), r.push(g));
  }
  return {
    stackedDimension: c && c.name,
    stackedByDimension: u && u.name,
    isStackedByIndex: o,
    stackedOverDimension: f,
    stackResultDimension: d
  };
}
function oE(t) {
  return !b5(t.schema);
}
function Jr(t, e) {
  return !!e && e === t.getCalculationInfo("stackedDimension");
}
function aE(t, e) {
  return Jr(t, e) ? t.getCalculationInfo("stackResultDimension") : e;
}
function rE(t, e) {
  var n = t.get("coordinateSystem"), o = wp.get(n), a;
  return e && e.coordSysDims && (a = $e(e.coordSysDims, function(r) {
    var i = {
      name: r
    }, s = e.axisMap.get(r);
    if (s) {
      var l = s.get("type");
      i.type = Hk(l);
    }
    return i;
  })), a || (a = o && (o.getDimensionsInfo ? o.getDimensionsInfo() : o.dimensions.slice()) || ["x", "y"]), a;
}
function iE(t, e, n) {
  var o, a;
  return n && se(t, function(r, i) {
    var s = r.coordDim, l = n.categoryAxisMap.get(s);
    l && (o == null && (o = i), r.ordinalMeta = l.getOrdinalMeta(), e && (r.createInvertedIndices = !0)), r.otherDims.itemName != null && (a = !0);
  }), !a && o != null && (t[o].otherDims.itemName = 0), o;
}
function pc(t, e, n) {
  n = n || {};
  var o = e.getSourceManager(), a, r = !1;
  a = o.getSource(), r = a.sourceFormat === Gn;
  var i = eE(e), s = rE(e, i), l = n.useEncodeDefaulter, u = Je(l) ? l : l ? In(lT, s, e) : null, c = {
    coordDimensions: s,
    generateCoord: n.generateCoord,
    encodeDefine: e.getEncode(),
    encodeDefaulter: u,
    canOmitUnusedDimensions: !r
  }, d = C5(a, c), f = iE(d.dimensions, n.createInvertedIndices, i), v = r ? null : o.getSharedDataStore(d), p = nE(e, {
    schema: d,
    store: v
  }), h = new I5(d, e);
  h.setCalculationInfo(p);
  var m = f != null && sE(a) ? function(g, y, _, w) {
    return w === f ? _ : this.defaultDimValueGetter(g, y, _, w);
  } : null;
  return h.hasItemOption = !1, h.initData(
    // Try to reuse the data store in sourceManager if using dataset.
    r ? a : v,
    null,
    m
  ), h;
}
function sE(t) {
  if (t.sourceFormat === Gn) {
    var e = lE(t.data || []);
    return !Oe(Ns(e));
  }
}
function lE(t) {
  for (var e = 0; e < t.length && t[e] == null; )
    e++;
  return t[e];
}
var xo = (
  /** @class */
  function() {
    function t(e) {
      this._setting = e || {}, this._extent = [1 / 0, -1 / 0];
    }
    return t.prototype.getSetting = function(e) {
      return this._setting[e];
    }, t.prototype.unionExtent = function(e) {
      var n = this._extent;
      e[0] < n[0] && (n[0] = e[0]), e[1] > n[1] && (n[1] = e[1]);
    }, t.prototype.unionExtentFromData = function(e, n) {
      this.unionExtent(e.getApproximateExtent(n));
    }, t.prototype.getExtent = function() {
      return this._extent.slice();
    }, t.prototype.setExtent = function(e, n) {
      var o = this._extent;
      isNaN(e) || (o[0] = e), isNaN(n) || (o[1] = n);
    }, t.prototype.isInExtentRange = function(e) {
      return this._extent[0] <= e && this._extent[1] >= e;
    }, t.prototype.isBlank = function() {
      return this._isBlank;
    }, t.prototype.setBlank = function(e) {
      this._isBlank = e;
    }, t;
  }()
);
Zu(xo);
var uE = 0, lv = (
  /** @class */
  function() {
    function t(e) {
      this.categories = e.categories || [], this._needCollect = e.needCollect, this._deduplication = e.deduplication, this.uid = ++uE;
    }
    return t.createByAxisModel = function(e) {
      var n = e.option, o = n.data, a = o && $e(o, cE);
      return new t({
        categories: a,
        needCollect: !a,
        // deduplication is default in axis.
        deduplication: n.dedplication !== !1
      });
    }, t.prototype.getOrdinal = function(e) {
      return this._getOrCreateMap().get(e);
    }, t.prototype.parseAndCollect = function(e) {
      var n, o = this._needCollect;
      if (!ze(e) && !o)
        return e;
      if (o && !this._deduplication)
        return n = this.categories.length, this.categories[n] = e, n;
      var a = this._getOrCreateMap();
      return n = a.get(e), n == null && (o ? (n = this.categories.length, this.categories[n] = e, a.set(e, n)) : n = NaN), n;
    }, t.prototype._getOrCreateMap = function() {
      return this._map || (this._map = nt(this.categories));
    }, t;
  }()
);
function cE(t) {
  return Ue(t) && t.value != null ? t.value : t + "";
}
function dE(t) {
  var e = Math.pow(10, Wu(Math.abs(t))), n = Math.abs(t / e);
  return n === 0 || n === 1 || n === 2 || n === 3 || n === 5;
}
function uv(t) {
  return t.type === "interval" || t.type === "log";
}
function fE(t, e, n, o) {
  var a = {}, r = t[1] - t[0], i = a.interval = _2(r / e);
  n != null && i < n && (i = a.interval = n), o != null && i > o && (i = a.interval = o);
  var s = a.intervalPrecision = T5(i), l = a.niceTickExtent = [Pt(Math.ceil(t[0] / i) * i, s), Pt(Math.floor(t[1] / i) * i, s)];
  return vE(l, t), a;
}
function zd(t) {
  var e = Math.pow(10, Wu(t)), n = t / e;
  return n ? n === 2 ? n = 3 : n === 3 ? n = 5 : n *= 2 : n = 1, Pt(n * e);
}
function T5(t) {
  return Lo(t) + 2;
}
function U1(t, e, n) {
  t[e] = Math.max(Math.min(t[e], n[1]), n[0]);
}
function vE(t, e) {
  !isFinite(t[0]) && (t[0] = e[0]), !isFinite(t[1]) && (t[1] = e[1]), U1(t, 0, e), U1(t, 1, e), t[0] > t[1] && (t[0] = t[1]);
}
function hc(t, e) {
  return t >= e[0] && t <= e[1];
}
function mc(t, e) {
  return e[1] === e[0] ? 0.5 : (t - e[0]) / (e[1] - e[0]);
}
function gc(t, e) {
  return t * (e[1] - e[0]) + e[0];
}
var Dp = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n) {
      var o = t.call(this, n) || this;
      o.type = "ordinal";
      var a = o.getSetting("ordinalMeta");
      return a || (a = new lv({})), Oe(a) && (a = new lv({
        categories: $e(a, function(r) {
          return Ue(r) ? r.value : r;
        })
      })), o._ordinalMeta = a, o._extent = o.getSetting("extent") || [0, a.categories.length - 1], o;
    }
    return e.prototype.parse = function(n) {
      return n == null ? NaN : ze(n) ? this._ordinalMeta.getOrdinal(n) : Math.round(n);
    }, e.prototype.contain = function(n) {
      return n = this.parse(n), hc(n, this._extent) && this._ordinalMeta.categories[n] != null;
    }, e.prototype.normalize = function(n) {
      return n = this._getTickNumber(this.parse(n)), mc(n, this._extent);
    }, e.prototype.scale = function(n) {
      return n = Math.round(gc(n, this._extent)), this.getRawOrdinalNumber(n);
    }, e.prototype.getTicks = function() {
      for (var n = [], o = this._extent, a = o[0]; a <= o[1]; )
        n.push({
          value: a
        }), a++;
      return n;
    }, e.prototype.getMinorTicks = function(n) {
    }, e.prototype.setSortInfo = function(n) {
      if (n == null) {
        this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;
        return;
      }
      for (var o = n.ordinalNumbers, a = this._ordinalNumbersByTick = [], r = this._ticksByOrdinalNumber = [], i = 0, s = this._ordinalMeta.categories.length, l = Math.min(s, o.length); i < l; ++i) {
        var u = o[i];
        a[i] = u, r[u] = i;
      }
      for (var c = 0; i < s; ++i) {
        for (; r[c] != null; )
          c++;
        a.push(c), r[c] = i;
      }
    }, e.prototype._getTickNumber = function(n) {
      var o = this._ticksByOrdinalNumber;
      return o && n >= 0 && n < o.length ? o[n] : n;
    }, e.prototype.getRawOrdinalNumber = function(n) {
      var o = this._ordinalNumbersByTick;
      return o && n >= 0 && n < o.length ? o[n] : n;
    }, e.prototype.getLabel = function(n) {
      if (!this.isBlank()) {
        var o = this.getRawOrdinalNumber(n.value), a = this._ordinalMeta.categories[o];
        return a == null ? "" : a + "";
      }
    }, e.prototype.count = function() {
      return this._extent[1] - this._extent[0] + 1;
    }, e.prototype.unionExtentFromData = function(n, o) {
      this.unionExtent(n.getApproximateExtent(o));
    }, e.prototype.isInExtentRange = function(n) {
      return n = this._getTickNumber(n), this._extent[0] <= n && this._extent[1] >= n;
    }, e.prototype.getOrdinalMeta = function() {
      return this._ordinalMeta;
    }, e.prototype.calcNiceTicks = function() {
    }, e.prototype.calcNiceExtent = function() {
    }, e.type = "ordinal", e;
  }(xo)
);
xo.registerClass(Dp);
var za = Pt, da = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = "interval", n._interval = 0, n._intervalPrecision = 2, n;
    }
    return e.prototype.parse = function(n) {
      return n;
    }, e.prototype.contain = function(n) {
      return hc(n, this._extent);
    }, e.prototype.normalize = function(n) {
      return mc(n, this._extent);
    }, e.prototype.scale = function(n) {
      return gc(n, this._extent);
    }, e.prototype.setExtent = function(n, o) {
      var a = this._extent;
      isNaN(n) || (a[0] = parseFloat(n)), isNaN(o) || (a[1] = parseFloat(o));
    }, e.prototype.unionExtent = function(n) {
      var o = this._extent;
      n[0] < o[0] && (o[0] = n[0]), n[1] > o[1] && (o[1] = n[1]), this.setExtent(o[0], o[1]);
    }, e.prototype.getInterval = function() {
      return this._interval;
    }, e.prototype.setInterval = function(n) {
      this._interval = n, this._niceExtent = this._extent.slice(), this._intervalPrecision = T5(n);
    }, e.prototype.getTicks = function(n) {
      var o = this._interval, a = this._extent, r = this._niceExtent, i = this._intervalPrecision, s = [];
      if (!o)
        return s;
      var l = 1e4;
      a[0] < r[0] && (n ? s.push({
        value: za(r[0] - o, i)
      }) : s.push({
        value: a[0]
      }));
      for (var u = r[0]; u <= r[1] && (s.push({
        value: u
      }), u = za(u + o, i), u !== s[s.length - 1].value); )
        if (s.length > l)
          return [];
      var c = s.length ? s[s.length - 1].value : r[1];
      return a[1] > c && (n ? s.push({
        value: za(c + o, i)
      }) : s.push({
        value: a[1]
      })), s;
    }, e.prototype.getMinorTicks = function(n) {
      for (var o = this.getTicks(!0), a = [], r = this.getExtent(), i = 1; i < o.length; i++) {
        for (var s = o[i], l = o[i - 1], u = 0, c = [], d = s.value - l.value, f = d / n; u < n - 1; ) {
          var v = za(l.value + (u + 1) * f);
          v > r[0] && v < r[1] && c.push(v), u++;
        }
        a.push(c);
      }
      return a;
    }, e.prototype.getLabel = function(n, o) {
      if (n == null)
        return "";
      var a = o && o.precision;
      a == null ? a = Lo(n.value) || 0 : a === "auto" && (a = this._intervalPrecision);
      var r = za(n.value, a, !0);
      return eT(r);
    }, e.prototype.calcNiceTicks = function(n, o, a) {
      n = n || 5;
      var r = this._extent, i = r[1] - r[0];
      if (isFinite(i)) {
        i < 0 && (i = -i, r.reverse());
        var s = fE(r, n, o, a);
        this._intervalPrecision = s.intervalPrecision, this._interval = s.interval, this._niceExtent = s.niceTickExtent;
      }
    }, e.prototype.calcNiceExtent = function(n) {
      var o = this._extent;
      if (o[0] === o[1])
        if (o[0] !== 0) {
          var a = Math.abs(o[0]);
          n.fixMax || (o[1] += a / 2), o[0] -= a / 2;
        } else
          o[1] = 1;
      var r = o[1] - o[0];
      isFinite(r) || (o[0] = 0, o[1] = 1), this.calcNiceTicks(n.splitNumber, n.minInterval, n.maxInterval);
      var i = this._interval;
      n.fixMin || (o[0] = za(Math.floor(o[0] / i) * i)), n.fixMax || (o[1] = za(Math.ceil(o[1] / i) * i));
    }, e.prototype.setNiceExtent = function(n, o) {
      this._niceExtent = [n, o];
    }, e.type = "interval", e;
  }(xo)
);
xo.registerClass(da);
var L5 = typeof Float32Array < "u", pE = L5 ? Float32Array : Array;
function ko(t) {
  return Oe(t) ? L5 ? new Float32Array(t) : t : new pE(t);
}
var hE = "__ec_stack_";
function $p(t) {
  return t.get("stack") || hE + t.seriesIndex;
}
function Pp(t) {
  return t.dim + t.index;
}
function k5(t, e) {
  var n = [];
  return e.eachSeriesByType(t, function(o) {
    M5(o) && n.push(o);
  }), n;
}
function mE(t) {
  var e = {};
  se(t, function(l) {
    var u = l.coordinateSystem, c = u.getBaseAxis();
    if (!(c.type !== "time" && c.type !== "value"))
      for (var d = l.getData(), f = c.dim + "_" + c.index, v = d.getDimensionIndex(d.mapDimension(c.dim)), p = d.getStore(), h = 0, m = p.count(); h < m; ++h) {
        var g = p.get(v, h);
        e[f] ? e[f].push(g) : e[f] = [g];
      }
  });
  var n = {};
  for (var o in e)
    if (e.hasOwnProperty(o)) {
      var a = e[o];
      if (a) {
        a.sort(function(l, u) {
          return l - u;
        });
        for (var r = null, i = 1; i < a.length; ++i) {
          var s = a[i] - a[i - 1];
          s > 0 && (r = r === null ? s : Math.min(r, s));
        }
        n[o] = r;
      }
    }
  return n;
}
function E5(t) {
  var e = mE(t), n = [];
  return se(t, function(o) {
    var a = o.coordinateSystem, r = a.getBaseAxis(), i = r.getExtent(), s;
    if (r.type === "category")
      s = r.getBandWidth();
    else if (r.type === "value" || r.type === "time") {
      var l = r.dim + "_" + r.index, u = e[l], c = Math.abs(i[1] - i[0]), d = r.scale.getExtent(), f = Math.abs(d[1] - d[0]);
      s = u ? c / f * u : c;
    } else {
      var v = o.getData();
      s = Math.abs(i[1] - i[0]) / v.count();
    }
    var p = _t(o.get("barWidth"), s), h = _t(o.get("barMaxWidth"), s), m = _t(
      // barMinWidth by default is 0.5 / 1 in cartesian. Because in value axis,
      // the auto-calculated bar width might be less than 0.5 / 1.
      o.get("barMinWidth") || (A5(o) ? 0.5 : 1),
      s
    ), g = o.get("barGap"), y = o.get("barCategoryGap");
    n.push({
      bandWidth: s,
      barWidth: p,
      barMaxWidth: h,
      barMinWidth: m,
      barGap: g,
      barCategoryGap: y,
      axisKey: Pp(r),
      stackId: $p(o)
    });
  }), gE(n);
}
function gE(t) {
  var e = {};
  se(t, function(o, a) {
    var r = o.axisKey, i = o.bandWidth, s = e[r] || {
      bandWidth: i,
      remainedWidth: i,
      autoWidthCount: 0,
      categoryGap: null,
      gap: "20%",
      stacks: {}
    }, l = s.stacks;
    e[r] = s;
    var u = o.stackId;
    l[u] || s.autoWidthCount++, l[u] = l[u] || {
      width: 0,
      maxWidth: 0
    };
    var c = o.barWidth;
    c && !l[u].width && (l[u].width = c, c = Math.min(s.remainedWidth, c), s.remainedWidth -= c);
    var d = o.barMaxWidth;
    d && (l[u].maxWidth = d);
    var f = o.barMinWidth;
    f && (l[u].minWidth = f);
    var v = o.barGap;
    v != null && (s.gap = v);
    var p = o.barCategoryGap;
    p != null && (s.categoryGap = p);
  });
  var n = {};
  return se(e, function(o, a) {
    n[a] = {};
    var r = o.stacks, i = o.bandWidth, s = o.categoryGap;
    if (s == null) {
      var l = lt(r).length;
      s = Math.max(35 - l * 4, 15) + "%";
    }
    var u = _t(s, i), c = _t(o.gap, 1), d = o.remainedWidth, f = o.autoWidthCount, v = (d - u) / (f + (f - 1) * c);
    v = Math.max(v, 0), se(r, function(g) {
      var y = g.maxWidth, _ = g.minWidth;
      if (g.width) {
        var w = g.width;
        y && (w = Math.min(w, y)), _ && (w = Math.max(w, _)), g.width = w, d -= w + c * w, f--;
      } else {
        var w = v;
        y && y < w && (w = Math.min(y, d)), _ && _ > w && (w = _), w !== v && (g.width = w, d -= w + c * w, f--);
      }
    }), v = (d - u) / (f + (f - 1) * c), v = Math.max(v, 0);
    var p = 0, h;
    se(r, function(g, y) {
      g.width || (g.width = v), h = g, p += g.width * (1 + c);
    }), h && (p -= h.width * c);
    var m = -p / 2;
    se(r, function(g, y) {
      n[a][y] = n[a][y] || {
        bandWidth: i,
        offset: m,
        width: g.width
      }, m += g.width * (1 + c);
    });
  }), n;
}
function yE(t, e, n) {
  if (t && e) {
    var o = t[Pp(e)];
    return o != null && n != null ? o[$p(n)] : o;
  }
}
function _E(t, e) {
  var n = k5(t, e), o = E5(n);
  se(n, function(a) {
    var r = a.getData(), i = a.coordinateSystem, s = i.getBaseAxis(), l = $p(a), u = o[Pp(s)][l], c = u.offset, d = u.width;
    r.setLayout({
      bandWidth: u.bandWidth,
      offset: c,
      size: d
    });
  });
}
function bE(t) {
  return {
    seriesType: t,
    plan: Cp(),
    reset: function(e) {
      if (M5(e)) {
        var n = e.getData(), o = e.coordinateSystem, a = o.getBaseAxis(), r = o.getOtherAxis(a), i = n.getDimensionIndex(n.mapDimension(r.dim)), s = n.getDimensionIndex(n.mapDimension(a.dim)), l = e.get("showBackground", !0), u = n.mapDimension(r.dim), c = n.getCalculationInfo("stackResultDimension"), d = Jr(n, u) && !!n.getCalculationInfo("stackedOnSeries"), f = r.isHorizontal(), v = wE(a, r), p = A5(e), h = e.get("barMinHeight") || 0, m = c && n.getDimensionIndex(c), g = n.getLayout("size"), y = n.getLayout("offset");
        return {
          progress: function(_, w) {
            for (var x = _.count, S = p && ko(x * 3), L = p && l && ko(x * 3), b = p && ko(x), I = o.master.getRect(), M = f ? I.width : I.height, E, D = w.getStore(), O = 0; (E = _.next()) != null; ) {
              var N = D.get(d ? m : i, E), P = D.get(s, E), $ = v, z = void 0;
              d && (z = +N - D.get(i, E));
              var H = void 0, W = void 0, oe = void 0, te = void 0;
              if (f) {
                var le = o.dataToPoint([N, P]);
                if (d) {
                  var J = o.dataToPoint([z, P]);
                  $ = J[0];
                }
                H = $, W = le[1] + y, oe = le[0] - $, te = g, Math.abs(oe) < h && (oe = (oe < 0 ? -1 : 1) * h);
              } else {
                var le = o.dataToPoint([P, N]);
                if (d) {
                  var J = o.dataToPoint([P, z]);
                  $ = J[1];
                }
                H = le[0] + y, W = $, oe = g, te = le[1] - $, Math.abs(te) < h && (te = (te <= 0 ? -1 : 1) * h);
              }
              p ? (S[O] = H, S[O + 1] = W, S[O + 2] = f ? oe : te, L && (L[O] = f ? I.x : H, L[O + 1] = f ? W : I.y, L[O + 2] = M), b[E] = E) : w.setItemLayout(E, {
                x: H,
                y: W,
                width: oe,
                height: te
              }), O += 3;
            }
            p && w.setLayout({
              largePoints: S,
              largeDataIndices: b,
              largeBackgroundPoints: L,
              valueAxisHorizontal: f
            });
          }
        };
      }
    }
  };
}
function M5(t) {
  return t.coordinateSystem && t.coordinateSystem.type === "cartesian2d";
}
function A5(t) {
  return t.pipelineContext && t.pipelineContext.large;
}
function wE(t, e) {
  var n = e.model.get("startValue");
  return n || (n = 0), e.toGlobalCoord(e.dataToCoord(e.type === "log" ? n > 0 ? n : 1 : n));
}
var xE = function(t, e, n, o) {
  for (; n < o; ) {
    var a = n + o >>> 1;
    t[a][1] < e ? n = a + 1 : o = a;
  }
  return n;
}, D5 = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n) {
      var o = t.call(this, n) || this;
      return o.type = "time", o;
    }
    return e.prototype.getLabel = function(n) {
      var o = this.getSetting("useUTC");
      return py(n.value, N0[KC(Fr(this._minLevelUnit))] || N0.second, o, this.getSetting("locale"));
    }, e.prototype.getFormattedLabel = function(n, o, a) {
      var r = this.getSetting("useUTC"), i = this.getSetting("locale");
      return QC(n, o, a, i, r);
    }, e.prototype.getTicks = function() {
      var n = this._interval, o = this._extent, a = [];
      if (!n)
        return a;
      a.push({
        value: o[0],
        level: 0
      });
      var r = this.getSetting("useUTC"), i = EE(this._minLevelUnit, this._approxInterval, r, o);
      return a = a.concat(i), a.push({
        value: o[1],
        level: 0
      }), a;
    }, e.prototype.calcNiceExtent = function(n) {
      var o = this._extent;
      if (o[0] === o[1] && (o[0] -= Fn, o[1] += Fn), o[1] === -1 / 0 && o[0] === 1 / 0) {
        var a = /* @__PURE__ */ new Date();
        o[1] = +new Date(a.getFullYear(), a.getMonth(), a.getDate()), o[0] = o[1] - Fn;
      }
      this.calcNiceTicks(n.splitNumber, n.minInterval, n.maxInterval);
    }, e.prototype.calcNiceTicks = function(n, o, a) {
      n = n || 10;
      var r = this._extent, i = r[1] - r[0];
      this._approxInterval = i / n, o != null && this._approxInterval < o && (this._approxInterval = o), a != null && this._approxInterval > a && (this._approxInterval = a);
      var s = Il.length, l = Math.min(xE(Il, this._approxInterval, 0, s), s - 1);
      this._interval = Il[l][1], this._minLevelUnit = Il[Math.max(l - 1, 0)][0];
    }, e.prototype.parse = function(n) {
      return bt(n) ? n : +sa(n);
    }, e.prototype.contain = function(n) {
      return hc(this.parse(n), this._extent);
    }, e.prototype.normalize = function(n) {
      return mc(this.parse(n), this._extent);
    }, e.prototype.scale = function(n) {
      return gc(n, this._extent);
    }, e.type = "time", e;
  }(da)
), Il = [
  // Format                           interval
  ["second", pp],
  ["minute", hp],
  ["hour", os],
  ["quarter-day", os * 6],
  ["half-day", os * 12],
  ["day", Fn * 1.2],
  ["half-week", Fn * 3.5],
  ["week", Fn * 7],
  ["month", Fn * 31],
  ["quarter", Fn * 95],
  ["half-year", O0 / 2],
  ["year", O0]
  // 1Y
];
function SE(t, e, n, o) {
  var a = sa(e), r = sa(n), i = function(p) {
    return B0(a, p, o) === B0(r, p, o);
  }, s = function() {
    return i("year");
  }, l = function() {
    return s() && i("month");
  }, u = function() {
    return l() && i("day");
  }, c = function() {
    return u() && i("hour");
  }, d = function() {
    return c() && i("minute");
  }, f = function() {
    return d() && i("second");
  }, v = function() {
    return f() && i("millisecond");
  };
  switch (t) {
    case "year":
      return s();
    case "month":
      return l();
    case "day":
      return u();
    case "hour":
      return c();
    case "minute":
      return d();
    case "second":
      return f();
    case "millisecond":
      return v();
  }
}
function IE(t, e) {
  return t /= Fn, t > 16 ? 16 : t > 7.5 ? 7 : t > 3.5 ? 4 : t > 1.5 ? 2 : 1;
}
function CE(t) {
  var e = 30 * Fn;
  return t /= e, t > 6 ? 6 : t > 3 ? 3 : t > 2 ? 2 : 1;
}
function TE(t) {
  return t /= os, t > 12 ? 12 : t > 6 ? 6 : t > 3.5 ? 4 : t > 2 ? 2 : 1;
}
function W1(t, e) {
  return t /= e ? hp : pp, t > 30 ? 30 : t > 20 ? 20 : t > 15 ? 15 : t > 10 ? 10 : t > 5 ? 5 : t > 2 ? 2 : 1;
}
function LE(t) {
  return _2(t);
}
function kE(t, e, n) {
  var o = new Date(t);
  switch (Fr(e)) {
    case "year":
    case "month":
      o[my(n)](0);
    case "day":
      o[gy(n)](1);
    case "hour":
      o[yy(n)](0);
    case "minute":
      o[_y(n)](0);
    case "second":
      o[by(n)](0), o[wy(n)](0);
  }
  return o.getTime();
}
function EE(t, e, n, o) {
  var a = 1e4, r = vy, i = 0;
  function s(M, E, D, O, N, P, $) {
    for (var z = new Date(E), H = E, W = z[O](); H < D && H <= o[1]; )
      $.push({
        value: H
      }), W += M, z[N](W), H = z.getTime();
    $.push({
      value: H,
      notAdd: !0
    });
  }
  function l(M, E, D) {
    var O = [], N = !E.length;
    if (!SE(Fr(M), o[0], o[1], n)) {
      N && (E = [{
        // TODO Optimize. Not include so may ticks.
        value: kE(new Date(o[0]), M, n)
      }, {
        value: o[1]
      }]);
      for (var P = 0; P < E.length - 1; P++) {
        var $ = E[P].value, z = E[P + 1].value;
        if ($ !== z) {
          var H = void 0, W = void 0, oe = void 0, te = !1;
          switch (M) {
            case "year":
              H = Math.max(1, Math.round(e / Fn / 365)), W = mp(n), oe = jC(n);
              break;
            case "half-year":
            case "quarter":
            case "month":
              H = CE(e), W = zr(n), oe = my(n);
              break;
            case "week":
            case "half-week":
            case "day":
              H = IE(e), W = ic(n), oe = gy(n), te = !0;
              break;
            case "half-day":
            case "quarter-day":
            case "hour":
              H = TE(e), W = _s(n), oe = yy(n);
              break;
            case "minute":
              H = W1(e, !0), W = sc(n), oe = _y(n);
              break;
            case "second":
              H = W1(e, !1), W = lc(n), oe = by(n);
              break;
            case "millisecond":
              H = LE(e), W = uc(n), oe = wy(n);
              break;
          }
          s(H, $, z, W, oe, te, O), M === "year" && D.length > 1 && P === 0 && D.unshift({
            value: D[0].value - H
          });
        }
      }
      for (var P = 0; P < O.length; P++)
        D.push(O[P]);
      return O;
    }
  }
  for (var u = [], c = [], d = 0, f = 0, v = 0; v < r.length && i++ < a; ++v) {
    var p = Fr(r[v]);
    if (JC(r[v])) {
      l(r[v], u[u.length - 1] || [], c);
      var h = r[v + 1] ? Fr(r[v + 1]) : null;
      if (p !== h) {
        if (c.length) {
          f = d, c.sort(function(M, E) {
            return M.value - E.value;
          });
          for (var m = [], g = 0; g < c.length; ++g) {
            var y = c[g].value;
            (g === 0 || c[g - 1].value !== y) && (m.push(c[g]), y >= o[0] && y <= o[1] && d++);
          }
          var _ = (o[1] - o[0]) / e;
          if (d > _ * 1.5 && f > _ / 1.5 || (u.push(m), d > _ || t === r[v]))
            break;
        }
        c = [];
      }
    }
  }
  process.env.NODE_ENV !== "production" && i >= a && nn("Exceed safe limit.");
  for (var w = tn($e(u, function(M) {
    return tn(M, function(E) {
      return E.value >= o[0] && E.value <= o[1] && !E.notAdd;
    });
  }), function(M) {
    return M.length > 0;
  }), x = [], S = w.length - 1, v = 0; v < w.length; ++v)
    for (var L = w[v], b = 0; b < L.length; ++b)
      x.push({
        value: L[b].value,
        level: S - v
      });
  x.sort(function(M, E) {
    return M.value - E.value;
  });
  for (var I = [], v = 0; v < x.length; ++v)
    (v === 0 || x[v].value !== x[v - 1].value) && I.push(x[v]);
  return I;
}
xo.registerClass(D5);
var X1 = xo.prototype, ls = da.prototype, ME = Pt, AE = Math.floor, DE = Math.ceil, Cl = Math.pow, Wn = Math.log, Rp = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = "log", n.base = 10, n._originalScale = new da(), n._interval = 0, n;
    }
    return e.prototype.getTicks = function(n) {
      var o = this._originalScale, a = this._extent, r = o.getExtent(), i = ls.getTicks.call(this, n);
      return $e(i, function(s) {
        var l = s.value, u = Pt(Cl(this.base, l));
        return u = l === a[0] && this._fixMin ? Tl(u, r[0]) : u, u = l === a[1] && this._fixMax ? Tl(u, r[1]) : u, {
          value: u
        };
      }, this);
    }, e.prototype.setExtent = function(n, o) {
      var a = Wn(this.base);
      n = Wn(Math.max(0, n)) / a, o = Wn(Math.max(0, o)) / a, ls.setExtent.call(this, n, o);
    }, e.prototype.getExtent = function() {
      var n = this.base, o = X1.getExtent.call(this);
      o[0] = Cl(n, o[0]), o[1] = Cl(n, o[1]);
      var a = this._originalScale, r = a.getExtent();
      return this._fixMin && (o[0] = Tl(o[0], r[0])), this._fixMax && (o[1] = Tl(o[1], r[1])), o;
    }, e.prototype.unionExtent = function(n) {
      this._originalScale.unionExtent(n);
      var o = this.base;
      n[0] = Wn(n[0]) / Wn(o), n[1] = Wn(n[1]) / Wn(o), X1.unionExtent.call(this, n);
    }, e.prototype.unionExtentFromData = function(n, o) {
      this.unionExtent(n.getApproximateExtent(o));
    }, e.prototype.calcNiceTicks = function(n) {
      n = n || 10;
      var o = this._extent, a = o[1] - o[0];
      if (!(a === 1 / 0 || a <= 0)) {
        var r = t9(a), i = n / a * r;
        for (i <= 0.5 && (r *= 10); !isNaN(r) && Math.abs(r) < 1 && Math.abs(r) > 0; )
          r *= 10;
        var s = [Pt(DE(o[0] / r) * r), Pt(AE(o[1] / r) * r)];
        this._interval = r, this._niceExtent = s;
      }
    }, e.prototype.calcNiceExtent = function(n) {
      ls.calcNiceExtent.call(this, n), this._fixMin = n.fixMin, this._fixMax = n.fixMax;
    }, e.prototype.parse = function(n) {
      return n;
    }, e.prototype.contain = function(n) {
      return n = Wn(n) / Wn(this.base), hc(n, this._extent);
    }, e.prototype.normalize = function(n) {
      return n = Wn(n) / Wn(this.base), mc(n, this._extent);
    }, e.prototype.scale = function(n) {
      return n = gc(n, this._extent), Cl(this.base, n);
    }, e.type = "log", e;
  }(xo)
), $5 = Rp.prototype;
$5.getMinorTicks = ls.getMinorTicks;
$5.getLabel = ls.getLabel;
function Tl(t, e) {
  return ME(t, Lo(e));
}
xo.registerClass(Rp);
var $E = (
  /** @class */
  function() {
    function t(e, n, o) {
      this._prepareParams(e, n, o);
    }
    return t.prototype._prepareParams = function(e, n, o) {
      o[1] < o[0] && (o = [NaN, NaN]), this._dataMin = o[0], this._dataMax = o[1];
      var a = this._isOrdinal = e.type === "ordinal";
      this._needCrossZero = e.type === "interval" && n.getNeedCrossZero && n.getNeedCrossZero();
      var r = n.get("min", !0);
      r == null && (r = n.get("startValue", !0));
      var i = this._modelMinRaw = r;
      Je(i) ? this._modelMinNum = Ll(e, i({
        min: o[0],
        max: o[1]
      })) : i !== "dataMin" && (this._modelMinNum = Ll(e, i));
      var s = this._modelMaxRaw = n.get("max", !0);
      if (Je(s) ? this._modelMaxNum = Ll(e, s({
        min: o[0],
        max: o[1]
      })) : s !== "dataMax" && (this._modelMaxNum = Ll(e, s)), a)
        this._axisDataLen = n.getCategories().length;
      else {
        var l = n.get("boundaryGap"), u = Oe(l) ? l : [l || 0, l || 0];
        typeof u[0] == "boolean" || typeof u[1] == "boolean" ? (process.env.NODE_ENV !== "production" && console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'), this._boundaryGapInner = [0, 0]) : this._boundaryGapInner = [ia(u[0], 1), ia(u[1], 1)];
      }
    }, t.prototype.calculate = function() {
      var e = this._isOrdinal, n = this._dataMin, o = this._dataMax, a = this._axisDataLen, r = this._boundaryGapInner, i = e ? null : o - n || Math.abs(n), s = this._modelMinRaw === "dataMin" ? n : this._modelMinNum, l = this._modelMaxRaw === "dataMax" ? o : this._modelMaxNum, u = s != null, c = l != null;
      s == null && (s = e ? a ? 0 : NaN : n - r[0] * i), l == null && (l = e ? a ? a - 1 : NaN : o + r[1] * i), (s == null || !isFinite(s)) && (s = NaN), (l == null || !isFinite(l)) && (l = NaN);
      var d = cs(s) || cs(l) || e && !a;
      this._needCrossZero && (s > 0 && l > 0 && !u && (s = 0), s < 0 && l < 0 && !c && (l = 0));
      var f = this._determinedMin, v = this._determinedMax;
      return f != null && (s = f, u = !0), v != null && (l = v, c = !0), {
        min: s,
        max: l,
        minFixed: u,
        maxFixed: c,
        isBlank: d
      };
    }, t.prototype.modifyDataMinMax = function(e, n) {
      process.env.NODE_ENV !== "production" && ot(!this.frozen), this[RE[e]] = n;
    }, t.prototype.setDeterminedMinMax = function(e, n) {
      var o = PE[e];
      process.env.NODE_ENV !== "production" && ot(!this.frozen && this[o] == null), this[o] = n;
    }, t.prototype.freeze = function() {
      this.frozen = !0;
    }, t;
  }()
), PE = {
  min: "_determinedMin",
  max: "_determinedMax"
}, RE = {
  min: "_dataMin",
  max: "_dataMax"
};
function OE(t, e, n) {
  var o = t.rawExtentInfo;
  return o || (o = new $E(t, e, n), t.rawExtentInfo = o, o);
}
function Ll(t, e) {
  return e == null ? null : cs(e) ? NaN : t.parse(e);
}
function P5(t, e) {
  var n = t.type, o = OE(t, e, t.getExtent()).calculate();
  t.setBlank(o.isBlank);
  var a = o.min, r = o.max, i = e.ecModel;
  if (i && n === "time") {
    var s = k5("bar", i), l = !1;
    if (se(s, function(d) {
      l = l || d.getBaseAxis() === e.axis;
    }), l) {
      var u = E5(s), c = NE(a, r, e, u);
      a = c.min, r = c.max;
    }
  }
  return {
    extent: [a, r],
    // "fix" means "fixed", the value should not be
    // changed in the subsequent steps.
    fixMin: o.minFixed,
    fixMax: o.maxFixed
  };
}
function NE(t, e, n, o) {
  var a = n.axis.getExtent(), r = a[1] - a[0], i = yE(o, n.axis);
  if (i === void 0)
    return {
      min: t,
      max: e
    };
  var s = 1 / 0;
  se(i, function(v) {
    s = Math.min(v.offset, s);
  });
  var l = -1 / 0;
  se(i, function(v) {
    l = Math.max(v.offset + v.width, l);
  }), s = Math.abs(s), l = Math.abs(l);
  var u = s + l, c = e - t, d = 1 - (s + l) / r, f = c / d - c;
  return e += f * (l / u), t -= f * (s / u), {
    min: t,
    max: e
  };
}
function Y1(t, e) {
  var n = e, o = P5(t, n), a = o.extent, r = n.get("splitNumber");
  t instanceof Rp && (t.base = n.get("logBase"));
  var i = t.type, s = n.get("interval"), l = i === "interval" || i === "time";
  t.setExtent(a[0], a[1]), t.calcNiceExtent({
    splitNumber: r,
    fixMin: o.fixMin,
    fixMax: o.fixMax,
    minInterval: l ? n.get("minInterval") : null,
    maxInterval: l ? n.get("maxInterval") : null
  }), s != null && t.setInterval && t.setInterval(s);
}
function BE(t, e) {
  if (e = e || t.get("type"), e)
    switch (e) {
      case "category":
        return new Dp({
          ordinalMeta: t.getOrdinalMeta ? t.getOrdinalMeta() : t.getCategories(),
          extent: [1 / 0, -1 / 0]
        });
      case "time":
        return new D5({
          locale: t.ecModel.getLocaleModel(),
          useUTC: t.ecModel.get("useUTC")
        });
      default:
        return new (xo.getClass(e) || da)();
    }
}
function FE(t) {
  var e = t.scale.getExtent(), n = e[0], o = e[1];
  return !(n > 0 && o > 0 || n < 0 && o < 0);
}
function ri(t) {
  var e = t.getLabelModel().get("formatter"), n = t.type === "category" ? t.scale.getExtent()[0] : null;
  return t.scale.type === "time" ? /* @__PURE__ */ function(o) {
    return function(a, r) {
      return t.scale.getFormattedLabel(a, r, o);
    };
  }(e) : ze(e) ? /* @__PURE__ */ function(o) {
    return function(a) {
      var r = t.scale.getLabel(a), i = o.replace("{value}", r ?? "");
      return i;
    };
  }(e) : Je(e) ? /* @__PURE__ */ function(o) {
    return function(a, r) {
      return n != null && (r = a.value - n), o(zE(t, a), r, a.level != null ? {
        level: a.level
      } : null);
    };
  }(e) : function(o) {
    return t.scale.getLabel(o);
  };
}
function zE(t, e) {
  return t.type === "category" ? t.scale.getLabel(e) : e.value;
}
function VE(t) {
  var e = t.model, n = t.scale;
  if (!(!e.get(["axisLabel", "show"]) || n.isBlank())) {
    var o, a, r = n.getExtent();
    n instanceof Dp ? a = n.count() : (o = n.getTicks(), a = o.length);
    var i = t.getLabelModel(), s = ri(t), l, u = 1;
    a > 40 && (u = Math.ceil(a / 40));
    for (var c = 0; c < a; c += u) {
      var d = o ? o[c] : {
        value: r[0] + c
      }, f = s(d, c), v = i.getTextRect(f), p = HE(v, i.get("rotate") || 0);
      l ? l.union(p) : l = p;
    }
    return l;
  }
}
function HE(t, e) {
  var n = e * Math.PI / 180, o = t.width, a = t.height, r = o * Math.abs(Math.cos(n)) + Math.abs(a * Math.sin(n)), i = o * Math.abs(Math.sin(n)) + Math.abs(a * Math.cos(n)), s = new yt(t.x, t.y, r, i);
  return s;
}
function Op(t) {
  var e = t.get("interval");
  return e ?? "auto";
}
function R5(t) {
  return t.type === "category" && Op(t.getLabelModel()) === 0;
}
function GE(t, e) {
  var n = {};
  return se(t.mapDimensionsAll(e), function(o) {
    n[aE(t, o)] = !0;
  }), lt(n);
}
var O5 = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getNeedCrossZero = function() {
      var e = this.option;
      return !e.scale;
    }, t.prototype.getCoordSysModel = function() {
    }, t;
  }()
), Z1 = [], UE = {
  registerPreprocessor: m5,
  registerProcessor: g5,
  registerPostInit: $k,
  registerPostUpdate: Pk,
  registerUpdateLifecycle: Mp,
  registerAction: ai,
  registerCoordinateSystem: Rk,
  registerLayout: Ok,
  registerVisual: ir,
  registerTransform: Bk,
  registerLoading: y5,
  registerMap: Nk,
  registerImpl: vk,
  PRIORITY: Tk,
  ComponentModel: mt,
  ComponentView: Ao,
  SeriesModel: kn,
  ChartView: yn,
  // TODO Use ComponentModel and SeriesModel instead of Constructor
  registerComponentModel: function(t) {
    mt.registerClass(t);
  },
  registerComponentView: function(t) {
    Ao.registerClass(t);
  },
  registerSeriesModel: function(t) {
    kn.registerClass(t);
  },
  registerChartView: function(t) {
    yn.registerClass(t);
  },
  registerSubTypeDefaulter: function(t, e) {
    mt.registerSubTypeDefaulter(t, e);
  },
  registerPainter: function(t, e) {
    YS(t, e);
  }
};
function nr(t) {
  if (Oe(t)) {
    se(t, function(e) {
      nr(e);
    });
    return;
  }
  St(Z1, t) >= 0 || (Z1.push(t), Je(t) && (t = {
    install: t
  }), t.install(UE));
}
var Cs = Wt();
function N5(t, e) {
  var n = $e(e, function(o) {
    return t.scale.parse(o);
  });
  return t.type === "time" && n.length > 0 && (n.sort(), n.unshift(n[0]), n.push(n[n.length - 1])), n;
}
function WE(t) {
  var e = t.getLabelModel().get("customValues");
  if (e) {
    var n = ri(t);
    return {
      labels: N5(t, e).map(function(o) {
        var a = {
          value: o
        };
        return {
          formattedLabel: n(a),
          rawLabel: t.scale.getLabel(a),
          tickValue: o
        };
      })
    };
  }
  return t.type === "category" ? YE(t) : qE(t);
}
function XE(t, e) {
  var n = t.getTickModel().get("customValues");
  return n ? {
    ticks: N5(t, n)
  } : t.type === "category" ? ZE(t, e) : {
    ticks: $e(t.scale.getTicks(), function(o) {
      return o.value;
    })
  };
}
function YE(t) {
  var e = t.getLabelModel(), n = B5(t, e);
  return !e.get("show") || t.scale.isBlank() ? {
    labels: [],
    labelCategoryInterval: n.labelCategoryInterval
  } : n;
}
function B5(t, e) {
  var n = F5(t, "labels"), o = Op(e), a = z5(n, o);
  if (a)
    return a;
  var r, i;
  return Je(o) ? r = G5(t, o) : (i = o === "auto" ? JE(t) : o, r = H5(t, i)), V5(n, o, {
    labels: r,
    labelCategoryInterval: i
  });
}
function ZE(t, e) {
  var n = F5(t, "ticks"), o = Op(e), a = z5(n, o);
  if (a)
    return a;
  var r, i;
  if ((!e.get("show") || t.scale.isBlank()) && (r = []), Je(o))
    r = G5(t, o, !0);
  else if (o === "auto") {
    var s = B5(t, t.getLabelModel());
    i = s.labelCategoryInterval, r = $e(s.labels, function(l) {
      return l.tickValue;
    });
  } else
    i = o, r = H5(t, i, !0);
  return V5(n, o, {
    ticks: r,
    tickCategoryInterval: i
  });
}
function qE(t) {
  var e = t.scale.getTicks(), n = ri(t);
  return {
    labels: $e(e, function(o, a) {
      return {
        level: o.level,
        formattedLabel: n(o, a),
        rawLabel: t.scale.getLabel(o),
        tickValue: o.value
      };
    })
  };
}
function F5(t, e) {
  return Cs(t)[e] || (Cs(t)[e] = []);
}
function z5(t, e) {
  for (var n = 0; n < t.length; n++)
    if (t[n].key === e)
      return t[n].value;
}
function V5(t, e, n) {
  return t.push({
    key: e,
    value: n
  }), n;
}
function JE(t) {
  var e = Cs(t).autoInterval;
  return e ?? (Cs(t).autoInterval = t.calculateCategoryInterval());
}
function KE(t) {
  var e = QE(t), n = ri(t), o = (e.axisRotate - e.labelRotate) / 180 * Math.PI, a = t.scale, r = a.getExtent(), i = a.count();
  if (r[1] - r[0] < 1)
    return 0;
  var s = 1;
  i > 40 && (s = Math.max(1, Math.floor(i / 40)));
  for (var l = r[0], u = t.dataToCoord(l + 1) - t.dataToCoord(l), c = Math.abs(u * Math.cos(o)), d = Math.abs(u * Math.sin(o)), f = 0, v = 0; l <= r[1]; l += s) {
    var p = 0, h = 0, m = p2(n({
      value: l
    }), e.font, "center", "top");
    p = m.width * 1.3, h = m.height * 1.3, f = Math.max(f, p, 7), v = Math.max(v, h, 7);
  }
  var g = f / c, y = v / d;
  isNaN(g) && (g = 1 / 0), isNaN(y) && (y = 1 / 0);
  var _ = Math.max(0, Math.floor(Math.min(g, y))), w = Cs(t.model), x = t.getExtent(), S = w.lastAutoInterval, L = w.lastTickCount;
  return S != null && L != null && Math.abs(S - _) <= 1 && Math.abs(L - i) <= 1 && S > _ && w.axisExtent0 === x[0] && w.axisExtent1 === x[1] ? _ = S : (w.lastTickCount = i, w.lastAutoInterval = _, w.axisExtent0 = x[0], w.axisExtent1 = x[1]), _;
}
function QE(t) {
  var e = t.getLabelModel();
  return {
    axisRotate: t.getRotate ? t.getRotate() : t.isHorizontal && !t.isHorizontal() ? 90 : 0,
    labelRotate: e.get("rotate") || 0,
    font: e.getFont()
  };
}
function H5(t, e, n) {
  var o = ri(t), a = t.scale, r = a.getExtent(), i = t.getLabelModel(), s = [], l = Math.max((e || 0) + 1, 1), u = r[0], c = a.count();
  u !== 0 && l > 1 && c / l > 2 && (u = Math.round(Math.ceil(u / l) * l));
  var d = R5(t), f = i.get("showMinLabel") || d, v = i.get("showMaxLabel") || d;
  f && u !== r[0] && h(r[0]);
  for (var p = u; p <= r[1]; p += l)
    h(p);
  v && p - l !== r[1] && h(r[1]);
  function h(m) {
    var g = {
      value: m
    };
    s.push(n ? m : {
      formattedLabel: o(g),
      rawLabel: a.getLabel(g),
      tickValue: m
    });
  }
  return s;
}
function G5(t, e, n) {
  var o = t.scale, a = ri(t), r = [];
  return se(o.getTicks(), function(i) {
    var s = o.getLabel(i), l = i.value;
    e(i.value, s) && r.push(n ? l : {
      formattedLabel: a(i),
      rawLabel: s,
      tickValue: l
    });
  }), r;
}
var q1 = [0, 1], U5 = (
  /** @class */
  function() {
    function t(e, n, o) {
      this.onBand = !1, this.inverse = !1, this.dim = e, this.scale = n, this._extent = o || [0, 0];
    }
    return t.prototype.contain = function(e) {
      var n = this._extent, o = Math.min(n[0], n[1]), a = Math.max(n[0], n[1]);
      return e >= o && e <= a;
    }, t.prototype.containData = function(e) {
      return this.scale.contain(e);
    }, t.prototype.getExtent = function() {
      return this._extent.slice();
    }, t.prototype.getPixelPrecision = function(e) {
      return KS(e || this.scale.getExtent(), this._extent);
    }, t.prototype.setExtent = function(e, n) {
      var o = this._extent;
      o[0] = e, o[1] = n;
    }, t.prototype.dataToCoord = function(e, n) {
      var o = this._extent, a = this.scale;
      return e = a.normalize(e), this.onBand && a.type === "ordinal" && (o = o.slice(), J1(o, a.count())), Of(e, q1, o, n);
    }, t.prototype.coordToData = function(e, n) {
      var o = this._extent, a = this.scale;
      this.onBand && a.type === "ordinal" && (o = o.slice(), J1(o, a.count()));
      var r = Of(e, o, q1, n);
      return this.scale.scale(r);
    }, t.prototype.pointToData = function(e, n) {
    }, t.prototype.getTicksCoords = function(e) {
      e = e || {};
      var n = e.tickModel || this.getTickModel(), o = XE(this, n), a = o.ticks, r = $e(a, function(s) {
        return {
          coord: this.dataToCoord(this.scale.type === "ordinal" ? this.scale.getRawOrdinalNumber(s) : s),
          tickValue: s
        };
      }, this), i = n.get("alignWithLabel");
      return jE(this, r, i, e.clamp), r;
    }, t.prototype.getMinorTicksCoords = function() {
      if (this.scale.type === "ordinal")
        return [];
      var e = this.model.getModel("minorTick"), n = e.get("splitNumber");
      n > 0 && n < 100 || (n = 5);
      var o = this.scale.getMinorTicks(n), a = $e(o, function(r) {
        return $e(r, function(i) {
          return {
            coord: this.dataToCoord(i),
            tickValue: i
          };
        }, this);
      }, this);
      return a;
    }, t.prototype.getViewLabels = function() {
      return WE(this).labels;
    }, t.prototype.getLabelModel = function() {
      return this.model.getModel("axisLabel");
    }, t.prototype.getTickModel = function() {
      return this.model.getModel("axisTick");
    }, t.prototype.getBandWidth = function() {
      var e = this._extent, n = this.scale.getExtent(), o = n[1] - n[0] + (this.onBand ? 1 : 0);
      o === 0 && (o = 1);
      var a = Math.abs(e[1] - e[0]);
      return Math.abs(a) / o;
    }, t.prototype.calculateCategoryInterval = function() {
      return KE(this);
    }, t;
  }()
);
function J1(t, e) {
  var n = t[1] - t[0], o = e, a = n / o / 2;
  t[0] += a, t[1] -= a;
}
function jE(t, e, n, o) {
  var a = e.length;
  if (!t.onBand || n || !a)
    return;
  var r = t.getExtent(), i, s;
  if (a === 1)
    e[0].coord = r[0], i = e[1] = {
      coord: r[1]
    };
  else {
    var l = e[a - 1].tickValue - e[0].tickValue, u = (e[a - 1].coord - e[0].coord) / l;
    se(e, function(v) {
      v.coord -= u / 2;
    });
    var c = t.scale.getExtent();
    s = 1 + c[1] - e[a - 1].tickValue, i = {
      coord: e[a - 1].coord + u * s
    }, e.push(i);
  }
  var d = r[0] > r[1];
  f(e[0].coord, r[0]) && (o ? e[0].coord = r[0] : e.shift()), o && f(r[0], e[0].coord) && e.unshift({
    coord: r[0]
  }), f(r[1], i.coord) && (o ? i.coord = r[1] : e.pop()), o && f(i.coord, r[1]) && e.push({
    coord: r[1]
  });
  function f(v, p) {
    return v = Pt(v), p = Pt(p), d ? v > p : v < p;
  }
}
function W5(t, e, n, o, a, r, i, s) {
  var l = a - t, u = r - e, c = n - t, d = o - e, f = Math.sqrt(c * c + d * d);
  c /= f, d /= f;
  var v = l * c + u * d, p = v / f;
  p *= f;
  var h = i[0] = t + p * c, m = i[1] = e + p * d;
  return Math.sqrt((h - a) * (h - a) + (m - r) * (m - r));
}
var Jo = new Ye(), Lt = new Ye(), Yt = new Ye(), Ko = new Ye(), ho = new Ye(), Eu = [], ln = new Ye();
function eM(t, e) {
  if (e <= 180 && e > 0) {
    e = e / 180 * Math.PI, Jo.fromArray(t[0]), Lt.fromArray(t[1]), Yt.fromArray(t[2]), Ye.sub(Ko, Jo, Lt), Ye.sub(ho, Yt, Lt);
    var n = Ko.len(), o = ho.len();
    if (!(n < 1e-3 || o < 1e-3)) {
      Ko.scale(1 / n), ho.scale(1 / o);
      var a = Ko.dot(ho), r = Math.cos(e);
      if (r < a) {
        var i = W5(Lt.x, Lt.y, Yt.x, Yt.y, Jo.x, Jo.y, Eu);
        ln.fromArray(Eu), ln.scaleAndAdd(ho, i / Math.tan(Math.PI - e));
        var s = Yt.x !== Lt.x ? (ln.x - Lt.x) / (Yt.x - Lt.x) : (ln.y - Lt.y) / (Yt.y - Lt.y);
        if (isNaN(s))
          return;
        s < 0 ? Ye.copy(ln, Lt) : s > 1 && Ye.copy(ln, Yt), ln.toArray(t[1]);
      }
    }
  }
}
function tM(t, e, n) {
  if (n <= 180 && n > 0) {
    n = n / 180 * Math.PI, Jo.fromArray(t[0]), Lt.fromArray(t[1]), Yt.fromArray(t[2]), Ye.sub(Ko, Lt, Jo), Ye.sub(ho, Yt, Lt);
    var o = Ko.len(), a = ho.len();
    if (!(o < 1e-3 || a < 1e-3)) {
      Ko.scale(1 / o), ho.scale(1 / a);
      var r = Ko.dot(e), i = Math.cos(n);
      if (r < i) {
        var s = W5(Lt.x, Lt.y, Yt.x, Yt.y, Jo.x, Jo.y, Eu);
        ln.fromArray(Eu);
        var l = Math.PI / 2, u = Math.acos(ho.dot(e)), c = l + u - n;
        if (c >= l)
          Ye.copy(ln, Yt);
        else {
          ln.scaleAndAdd(ho, s / Math.tan(Math.PI / 2 - c));
          var d = Yt.x !== Lt.x ? (ln.x - Lt.x) / (Yt.x - Lt.x) : (ln.y - Lt.y) / (Yt.y - Lt.y);
          if (isNaN(d))
            return;
          d < 0 ? Ye.copy(ln, Lt) : d > 1 && Ye.copy(ln, Yt);
        }
        ln.toArray(t[1]);
      }
    }
  }
}
function Vd(t, e, n, o) {
  var a = n === "normal", r = a ? t : t.ensureState(n);
  r.ignore = e;
  var i = o.get("smooth");
  i && i === !0 && (i = 0.3), r.shape = r.shape || {}, i > 0 && (r.shape.smooth = i);
  var s = o.getModel("lineStyle").getLineStyle();
  a ? t.useStyle(s) : r.style = s;
}
function nM(t, e) {
  var n = e.smooth, o = e.points;
  if (o)
    if (t.moveTo(o[0][0], o[0][1]), n > 0 && o.length >= 3) {
      var a = _f(o[0], o[1]), r = _f(o[1], o[2]);
      if (!a || !r) {
        t.lineTo(o[1][0], o[1][1]), t.lineTo(o[2][0], o[2][1]);
        return;
      }
      var i = Math.min(a, r) * n, s = Oc([], o[1], o[0], i / a), l = Oc([], o[1], o[2], i / r), u = Oc([], s, l, 0.5);
      t.bezierCurveTo(s[0], s[1], s[0], s[1], u[0], u[1]), t.bezierCurveTo(l[0], l[1], l[0], l[1], o[2][0], o[2][1]);
    } else
      for (var c = 1; c < o.length; c++)
        t.lineTo(o[c][0], o[c][1]);
}
function oM(t, e, n) {
  var o = t.getTextGuideLine(), a = t.getTextContent();
  if (!a) {
    o && t.removeTextGuideLine();
    return;
  }
  for (var r = e.normal, i = r.get("show"), s = a.ignore, l = 0; l < fu.length; l++) {
    var u = fu[l], c = e[u], d = u === "normal";
    if (c) {
      var f = c.get("show"), v = d ? s : Ge(a.states[u] && a.states[u].ignore, s);
      if (v || !Ge(f, i)) {
        var p = d ? o : o && o.states[u];
        p && (p.ignore = !0), o && Vd(o, !0, u, c);
        continue;
      }
      o || (o = new rr(), t.setTextGuideLine(o), !d && (s || !i) && Vd(o, !0, "normal", e.normal), t.stateProxy && (o.stateProxy = t.stateProxy)), Vd(o, !1, u, c);
    }
  }
  if (o) {
    rt(o.style, n), o.style.fill = null;
    var h = r.get("showAbove"), m = t.textGuideLineConfig = t.textGuideLineConfig || {};
    m.showAbove = h || !1, o.buildPath = nM;
  }
}
function aM(t, e) {
  e = e || "labelLine";
  for (var n = {
    normal: t.getModel(e)
  }, o = 0; o < Vn.length; o++) {
    var a = Vn[o];
    n[a] = t.getModel([a, e]);
  }
  return n;
}
function rM(t) {
  for (var e = [], n = 0; n < t.length; n++) {
    var o = t[n];
    if (!o.defaultAttr.ignore) {
      var a = o.label, r = a.getComputedTransform(), i = a.getBoundingRect(), s = !r || r[1] < 1e-5 && r[2] < 1e-5, l = a.style.margin || 0, u = i.clone();
      u.applyTransform(r), u.x -= l / 2, u.y -= l / 2, u.width += l, u.height += l;
      var c = s ? new hu(i, r) : null;
      e.push({
        label: a,
        labelLine: o.labelLine,
        rect: u,
        localRect: i,
        obb: c,
        priority: o.priority,
        defaultAttr: o.defaultAttr,
        layoutOption: o.computedLayoutOption,
        axisAligned: s,
        transform: r
      });
    }
  }
  return e;
}
function iM(t, e, n, o, a, r) {
  var i = t.length;
  if (i < 2)
    return;
  t.sort(function(b, I) {
    return b.rect[e] - I.rect[e];
  });
  for (var s = 0, l, u = !1, c = 0, d = 0; d < i; d++) {
    var f = t[d], v = f.rect;
    l = v[e] - s, l < 0 && (v[e] -= l, f.label[e] -= l, u = !0);
    var p = Math.max(-l, 0);
    c += p, s = v[e] + v[n];
  }
  c > 0 && r && x(-c / i, 0, i);
  var h = t[0], m = t[i - 1], g, y;
  _(), g < 0 && S(-g, 0.8), y < 0 && S(y, 0.8), _(), w(g, y, 1), w(y, g, -1), _(), g < 0 && L(-g), y < 0 && L(y);
  function _() {
    g = h.rect[e] - o, y = a - m.rect[e] - m.rect[n];
  }
  function w(b, I, M) {
    if (b < 0) {
      var E = Math.min(I, -b);
      if (E > 0) {
        x(E * M, 0, i);
        var D = E + b;
        D < 0 && S(-D * M, 1);
      } else
        S(-b * M, 1);
    }
  }
  function x(b, I, M) {
    b !== 0 && (u = !0);
    for (var E = I; E < M; E++) {
      var D = t[E], O = D.rect;
      O[e] += b, D.label[e] += b;
    }
  }
  function S(b, I) {
    for (var M = [], E = 0, D = 1; D < i; D++) {
      var O = t[D - 1].rect, N = Math.max(t[D].rect[e] - O[e] - O[n], 0);
      M.push(N), E += N;
    }
    if (E) {
      var P = Math.min(Math.abs(b) / E, I);
      if (b > 0)
        for (var D = 0; D < i - 1; D++) {
          var $ = M[D] * P;
          x($, 0, D + 1);
        }
      else
        for (var D = i - 1; D > 0; D--) {
          var $ = M[D - 1] * P;
          x(-$, D, i);
        }
    }
  }
  function L(b) {
    var I = b < 0 ? -1 : 1;
    b = Math.abs(b);
    for (var M = Math.ceil(b / (i - 1)), E = 0; E < i - 1; E++)
      if (I > 0 ? x(M, 0, E + 1) : x(-M, i - E - 1, i), b -= M, b <= 0)
        return;
  }
  return u;
}
function sM(t, e, n, o) {
  return iM(t, "y", "height", e, n, o);
}
function lM(t) {
  var e = [];
  t.sort(function(h, m) {
    return m.priority - h.priority;
  });
  var n = new yt(0, 0, 0, 0);
  function o(h) {
    if (!h.ignore) {
      var m = h.ensureState("emphasis");
      m.ignore == null && (m.ignore = !1);
    }
    h.ignore = !0;
  }
  for (var a = 0; a < t.length; a++) {
    var r = t[a], i = r.axisAligned, s = r.localRect, l = r.transform, u = r.label, c = r.labelLine;
    n.copy(r.rect), n.width -= 0.1, n.height -= 0.1, n.x += 0.05, n.y += 0.05;
    for (var d = r.obb, f = !1, v = 0; v < e.length; v++) {
      var p = e[v];
      if (n.intersect(p.rect)) {
        if (i && p.axisAligned) {
          f = !0;
          break;
        }
        if (p.obb || (p.obb = new hu(p.localRect, p.transform)), d || (d = new hu(s, l)), d.intersect(p.obb)) {
          f = !0;
          break;
        }
      }
    }
    f ? (o(u), c && o(c)) : (u.attr("ignore", r.defaultAttr.ignore), c && c.attr("ignore", r.defaultAttr.labelGuideIgnore), e.push(r));
  }
}
var uM = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n.hasSymbolVisual = !0, n;
    }
    return e.prototype.getInitialData = function(n) {
      if (process.env.NODE_ENV !== "production") {
        var o = n.coordinateSystem;
        if (o !== "polar" && o !== "cartesian2d")
          throw new Error("Line not support coordinateSystem besides cartesian and polar");
      }
      return pc(null, this, {
        useEncodeDefaulter: !0
      });
    }, e.prototype.getLegendIcon = function(n) {
      var o = new zt(), a = ca("line", 0, n.itemHeight / 2, n.itemWidth, 0, n.lineStyle.stroke, !1);
      o.add(a), a.setStyle(n.lineStyle);
      var r = this.getData().getVisual("symbol"), i = this.getData().getVisual("symbolRotate"), s = r === "none" ? "circle" : r, l = n.itemHeight * 0.8, u = ca(s, (n.itemWidth - l) / 2, (n.itemHeight - l) / 2, l, l, n.itemStyle.fill);
      o.add(u), u.setStyle(n.itemStyle);
      var c = n.iconRotate === "inherit" ? i : n.iconRotate || 0;
      return u.rotation = c * Math.PI / 180, u.setOrigin([n.itemWidth / 2, n.itemHeight / 2]), s.indexOf("empty") > -1 && (u.style.stroke = u.style.fill, u.style.fill = "#fff", u.style.lineWidth = 2), o;
    }, e.type = "series.line", e.dependencies = ["grid", "polar"], e.defaultOption = {
      // zlevel: 0,
      z: 3,
      coordinateSystem: "cartesian2d",
      legendHoverLink: !0,
      clip: !0,
      label: {
        position: "top"
      },
      // itemStyle: {
      // },
      endLabel: {
        show: !1,
        valueAnimation: !0,
        distance: 8
      },
      lineStyle: {
        width: 2,
        type: "solid"
      },
      emphasis: {
        scale: !0
      },
      // areaStyle: {
      // origin of areaStyle. Valid values:
      // `'auto'/null/undefined`: from axisLine to data
      // `'start'`: from min to data
      // `'end'`: from data to max
      // origin: 'auto'
      // },
      // false, 'start', 'end', 'middle'
      step: !1,
      // Disabled if step is true
      smooth: !1,
      smoothMonotone: null,
      symbol: "emptyCircle",
      symbolSize: 4,
      symbolRotate: null,
      showSymbol: !0,
      // `false`: follow the label interval strategy.
      // `true`: show all symbols.
      // `'auto'`: If possible, show all symbols, otherwise
      //           follow the label interval strategy.
      showAllSymbol: "auto",
      // Whether to connect break point.
      connectNulls: !1,
      // Sampling for large data. Can be: 'average', 'max', 'min', 'sum', 'lttb'.
      sampling: "none",
      animationEasing: "linear",
      // Disable progressive
      progressive: 0,
      hoverLayerThreshold: 1 / 0,
      universalTransition: {
        divideShape: "clone"
      },
      triggerLineEvent: !1
    }, e;
  }(kn)
);
function Np(t, e) {
  var n = t.mapDimensionsAll("defaultedLabel"), o = n.length;
  if (o === 1) {
    var a = qr(t, e, n[0]);
    return a != null ? a + "" : null;
  } else if (o) {
    for (var r = [], i = 0; i < n.length; i++)
      r.push(qr(t, e, n[i]));
    return r.join(" ");
  }
}
function X5(t, e) {
  var n = t.mapDimensionsAll("defaultedLabel");
  if (!Oe(e))
    return e + "";
  for (var o = [], a = 0; a < n.length; a++) {
    var r = t.getDimensionIndex(n[a]);
    r >= 0 && o.push(e[r]);
  }
  return o.join(" ");
}
var Bp = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n, o, a, r) {
      var i = t.call(this) || this;
      return i.updateData(n, o, a, r), i;
    }
    return e.prototype._createSymbol = function(n, o, a, r, i) {
      this.removeAll();
      var s = ca(n, -1, -1, 2, 2, null, i);
      s.attr({
        z2: 100,
        culling: !0,
        scaleX: r[0] / 2,
        scaleY: r[1] / 2
      }), s.drift = cM, this._symbolType = n, this.add(s);
    }, e.prototype.stopSymbolAnimation = function(n) {
      this.childAt(0).stopAnimation(null, n);
    }, e.prototype.getSymbolType = function() {
      return this._symbolType;
    }, e.prototype.getSymbolPath = function() {
      return this.childAt(0);
    }, e.prototype.highlight = function() {
      vu(this.childAt(0));
    }, e.prototype.downplay = function() {
      pu(this.childAt(0));
    }, e.prototype.setZ = function(n, o) {
      var a = this.childAt(0);
      a.zlevel = n, a.z = o;
    }, e.prototype.setDraggable = function(n, o) {
      var a = this.childAt(0);
      a.draggable = n, a.cursor = !o && n ? "move" : a.cursor;
    }, e.prototype.updateData = function(n, o, a, r) {
      this.silent = !1;
      var i = n.getItemVisual(o, "symbol") || "circle", s = n.hostModel, l = e.getSymbolSize(n, o), u = i !== this._symbolType, c = r && r.disableAnimation;
      if (u) {
        var d = n.getItemVisual(o, "symbolKeepAspect");
        this._createSymbol(i, n, o, l, d);
      } else {
        var f = this.childAt(0);
        f.silent = !1;
        var v = {
          scaleX: l[0] / 2,
          scaleY: l[1] / 2
        };
        c ? f.attr(v) : an(f, v, s, o), ms(f);
      }
      if (this._updateCommon(n, o, l, a, r), u) {
        var f = this.childAt(0);
        if (!c) {
          var v = {
            scaleX: this._sizeX,
            scaleY: this._sizeY,
            style: {
              // Always fadeIn. Because it has fadeOut animation when symbol is removed..
              opacity: f.style.opacity
            }
          };
          f.scaleX = f.scaleY = 0, f.style.opacity = 0, gn(f, v, s, o);
        }
      }
      c && this.childAt(0).stopAnimation("leave");
    }, e.prototype._updateCommon = function(n, o, a, r, i) {
      var s = this.childAt(0), l = n.hostModel, u, c, d, f, v, p, h, m, g;
      if (r && (u = r.emphasisItemStyle, c = r.blurItemStyle, d = r.selectItemStyle, f = r.focus, v = r.blurScope, h = r.labelStatesModels, m = r.hoverScale, g = r.cursorStyle, p = r.emphasisDisabled), !r || n.hasItemOption) {
        var y = r && r.itemModel ? r.itemModel : n.getItemModel(o), _ = y.getModel("emphasis");
        u = _.getModel("itemStyle").getItemStyle(), d = y.getModel(["select", "itemStyle"]).getItemStyle(), c = y.getModel(["blur", "itemStyle"]).getItemStyle(), f = _.get("focus"), v = _.get("blurScope"), p = _.get("disabled"), h = ni(y), m = _.getShallow("scale"), g = y.getShallow("cursor");
      }
      var w = n.getItemVisual(o, "symbolRotate");
      s.attr("rotation", (w || 0) * Math.PI / 180 || 0);
      var x = Qy(n.getItemVisual(o, "symbolOffset"), a);
      x && (s.x = x[0], s.y = x[1]), g && s.attr("cursor", g);
      var S = n.getItemVisual(o, "style"), L = S.fill;
      if (s instanceof no) {
        var b = s.style;
        s.useStyle(Le({
          // TODO other properties like x, y ?
          image: b.image,
          x: b.x,
          y: b.y,
          width: b.width,
          height: b.height
        }, S));
      } else
        s.__isEmptyBrush ? s.useStyle(Le({}, S)) : s.useStyle(S), s.style.decal = null, s.setColor(L, i && i.symbolInnerColor), s.style.strokeNoScale = !0;
      var I = n.getItemVisual(o, "liftZ"), M = this._z2;
      I != null ? M == null && (this._z2 = s.z2, s.z2 += I) : M != null && (s.z2 = M, this._z2 = null);
      var E = i && i.useNameLabel;
      ti(s, h, {
        labelFetcher: l,
        labelDataIndex: o,
        defaultText: D,
        inheritColor: L,
        defaultOpacity: S.opacity
      });
      function D(P) {
        return E ? n.getName(P) : Np(n, P);
      }
      this._sizeX = a[0] / 2, this._sizeY = a[1] / 2;
      var O = s.ensureState("emphasis");
      O.style = u, s.ensureState("select").style = d, s.ensureState("blur").style = c;
      var N = m == null || m === !0 ? Math.max(1.1, 3 / this._sizeY) : isFinite(m) && m > 0 ? +m : 1;
      O.scaleX = this._sizeX * N, O.scaleY = this._sizeY * N, this.setSymbolScale(1), Wr(this, f, v, p);
    }, e.prototype.setSymbolScale = function(n) {
      this.scaleX = this.scaleY = n;
    }, e.prototype.fadeOut = function(n, o, a) {
      var r = this.childAt(0), i = It(this).dataIndex, s = a && a.animation;
      if (this.silent = r.silent = !0, a && a.fadeLabel) {
        var l = r.getTextContent();
        l && mu(l, {
          style: {
            opacity: 0
          }
        }, o, {
          dataIndex: i,
          removeOpt: s,
          cb: function() {
            r.removeTextContent();
          }
        });
      } else
        r.removeTextContent();
      mu(r, {
        style: {
          opacity: 0
        },
        scaleX: 0,
        scaleY: 0
      }, o, {
        dataIndex: i,
        cb: n,
        removeOpt: s
      });
    }, e.getSymbolSize = function(n, o) {
      return Ky(n.getItemVisual(o, "symbolSize"));
    }, e;
  }(zt)
);
function cM(t, e) {
  this.parent.drift(t, e);
}
function Hd(t, e, n, o) {
  return e && !isNaN(e[0]) && !isNaN(e[1]) && !(o.isIgnore && o.isIgnore(n)) && !(o.clipShape && !o.clipShape.contain(e[0], e[1])) && t.getItemVisual(n, "symbol") !== "none";
}
function K1(t) {
  return t != null && !Ue(t) && (t = {
    isIgnore: t
  }), t || {};
}
function Q1(t) {
  var e = t.hostModel, n = e.getModel("emphasis");
  return {
    emphasisItemStyle: n.getModel("itemStyle").getItemStyle(),
    blurItemStyle: e.getModel(["blur", "itemStyle"]).getItemStyle(),
    selectItemStyle: e.getModel(["select", "itemStyle"]).getItemStyle(),
    focus: n.get("focus"),
    blurScope: n.get("blurScope"),
    emphasisDisabled: n.get("disabled"),
    hoverScale: n.get("scale"),
    labelStatesModels: ni(e),
    cursorStyle: e.get("cursor")
  };
}
var Y5 = (
  /** @class */
  function() {
    function t(e) {
      this.group = new zt(), this._SymbolCtor = e || Bp;
    }
    return t.prototype.updateData = function(e, n) {
      this._progressiveEls = null, n = K1(n);
      var o = this.group, a = e.hostModel, r = this._data, i = this._SymbolCtor, s = n.disableAnimation, l = Q1(e), u = {
        disableAnimation: s
      }, c = n.getSymbolPoint || function(d) {
        return e.getItemLayout(d);
      };
      r || o.removeAll(), e.diff(r).add(function(d) {
        var f = c(d);
        if (Hd(e, f, d, n)) {
          var v = new i(e, d, l, u);
          v.setPosition(f), e.setItemGraphicEl(d, v), o.add(v);
        }
      }).update(function(d, f) {
        var v = r.getItemGraphicEl(f), p = c(d);
        if (!Hd(e, p, d, n)) {
          o.remove(v);
          return;
        }
        var h = e.getItemVisual(d, "symbol") || "circle", m = v && v.getSymbolType && v.getSymbolType();
        if (!v || m && m !== h)
          o.remove(v), v = new i(e, d, l, u), v.setPosition(p);
        else {
          v.updateData(e, d, l, u);
          var g = {
            x: p[0],
            y: p[1]
          };
          s ? v.attr(g) : an(v, g, a);
        }
        o.add(v), e.setItemGraphicEl(d, v);
      }).remove(function(d) {
        var f = r.getItemGraphicEl(d);
        f && f.fadeOut(function() {
          o.remove(f);
        }, a);
      }).execute(), this._getSymbolPoint = c, this._data = e;
    }, t.prototype.updateLayout = function() {
      var e = this, n = this._data;
      n && n.eachItemGraphicEl(function(o, a) {
        var r = e._getSymbolPoint(a);
        o.setPosition(r), o.markRedraw();
      });
    }, t.prototype.incrementalPrepareUpdate = function(e) {
      this._seriesScope = Q1(e), this._data = null, this.group.removeAll();
    }, t.prototype.incrementalUpdate = function(e, n, o) {
      this._progressiveEls = [], o = K1(o);
      function a(l) {
        l.isGroup || (l.incremental = !0, l.ensureState("emphasis").hoverLayer = !0);
      }
      for (var r = e.start; r < e.end; r++) {
        var i = n.getItemLayout(r);
        if (Hd(n, i, r, o)) {
          var s = new this._SymbolCtor(n, r, this._seriesScope);
          s.traverse(a), s.setPosition(i), this.group.add(s), n.setItemGraphicEl(r, s), this._progressiveEls.push(s);
        }
      }
    }, t.prototype.eachRendered = function(e) {
      nc(this._progressiveEls || this.group, e);
    }, t.prototype.remove = function(e) {
      var n = this.group, o = this._data;
      o && e ? o.eachItemGraphicEl(function(a) {
        a.fadeOut(function() {
          n.remove(a);
        }, o.hostModel);
      }) : n.removeAll();
    }, t;
  }()
);
function Z5(t, e, n) {
  var o = t.getBaseAxis(), a = t.getOtherAxis(o), r = dM(a, n), i = o.dim, s = a.dim, l = e.mapDimension(s), u = e.mapDimension(i), c = s === "x" || s === "radius" ? 1 : 0, d = $e(t.dimensions, function(p) {
    return e.mapDimension(p);
  }), f = !1, v = e.getCalculationInfo("stackResultDimension");
  return Jr(
    e,
    d[0]
    /* , dims[1] */
  ) && (f = !0, d[0] = v), Jr(
    e,
    d[1]
    /* , dims[0] */
  ) && (f = !0, d[1] = v), {
    dataDimsForPoint: d,
    valueStart: r,
    valueAxisDim: s,
    baseAxisDim: i,
    stacked: !!f,
    valueDim: l,
    baseDim: u,
    baseDataOffset: c,
    stackedOverDimension: e.getCalculationInfo("stackedOverDimension")
  };
}
function dM(t, e) {
  var n = 0, o = t.scale.getExtent();
  return e === "start" ? n = o[0] : e === "end" ? n = o[1] : bt(e) && !isNaN(e) ? n = e : o[0] > 0 ? n = o[0] : o[1] < 0 && (n = o[1]), n;
}
function q5(t, e, n, o) {
  var a = NaN;
  t.stacked && (a = n.get(n.getCalculationInfo("stackedOverDimension"), o)), isNaN(a) && (a = t.valueStart);
  var r = t.baseDataOffset, i = [];
  return i[r] = n.get(t.baseDim, o), i[1 - r] = a, e.dataToPoint(i);
}
function fM(t, e) {
  var n = [];
  return e.diff(t).add(function(o) {
    n.push({
      cmd: "+",
      idx: o
    });
  }).update(function(o, a) {
    n.push({
      cmd: "=",
      idx: a,
      idx1: o
    });
  }).remove(function(o) {
    n.push({
      cmd: "-",
      idx: o
    });
  }).execute(), n;
}
function vM(t, e, n, o, a, r, i, s) {
  for (var l = fM(t, e), u = [], c = [], d = [], f = [], v = [], p = [], h = [], m = Z5(a, e, i), g = t.getLayout("points") || [], y = e.getLayout("points") || [], _ = 0; _ < l.length; _++) {
    var w = l[_], x = !0, S = void 0, L = void 0;
    switch (w.cmd) {
      case "=":
        S = w.idx * 2, L = w.idx1 * 2;
        var b = g[S], I = g[S + 1], M = y[L], E = y[L + 1];
        (isNaN(b) || isNaN(I)) && (b = M, I = E), u.push(b, I), c.push(M, E), d.push(n[S], n[S + 1]), f.push(o[L], o[L + 1]), h.push(e.getRawIndex(w.idx1));
        break;
      case "+":
        var D = w.idx, O = m.dataDimsForPoint, N = a.dataToPoint([e.get(O[0], D), e.get(O[1], D)]);
        L = D * 2, u.push(N[0], N[1]), c.push(y[L], y[L + 1]);
        var P = q5(m, a, e, D);
        d.push(P[0], P[1]), f.push(o[L], o[L + 1]), h.push(e.getRawIndex(D));
        break;
      case "-":
        x = !1;
    }
    x && (v.push(w), p.push(p.length));
  }
  p.sort(function(q, G) {
    return h[q] - h[G];
  });
  for (var $ = u.length, z = ko($), H = ko($), W = ko($), oe = ko($), te = [], _ = 0; _ < p.length; _++) {
    var le = p[_], J = _ * 2, Q = le * 2;
    z[J] = u[Q], z[J + 1] = u[Q + 1], H[J] = c[Q], H[J + 1] = c[Q + 1], W[J] = d[Q], W[J + 1] = d[Q + 1], oe[J] = f[Q], oe[J + 1] = f[Q + 1], te[_] = v[le];
  }
  return {
    current: z,
    next: H,
    stackedOnCurrent: W,
    stackedOnNext: oe,
    status: te
  };
}
var Vo = Math.min, Ho = Math.max;
function qa(t, e) {
  return isNaN(t) || isNaN(e);
}
function cv(t, e, n, o, a, r, i, s, l) {
  for (var u, c, d, f, v, p, h = n, m = 0; m < o; m++) {
    var g = e[h * 2], y = e[h * 2 + 1];
    if (h >= a || h < 0)
      break;
    if (qa(g, y)) {
      if (l) {
        h += r;
        continue;
      }
      break;
    }
    if (h === n)
      t[r > 0 ? "moveTo" : "lineTo"](g, y), d = g, f = y;
    else {
      var _ = g - u, w = y - c;
      if (_ * _ + w * w < 0.5) {
        h += r;
        continue;
      }
      if (i > 0) {
        for (var x = h + r, S = e[x * 2], L = e[x * 2 + 1]; S === g && L === y && m < o; )
          m++, x += r, h += r, S = e[x * 2], L = e[x * 2 + 1], g = e[h * 2], y = e[h * 2 + 1], _ = g - u, w = y - c;
        var b = m + 1;
        if (l)
          for (; qa(S, L) && b < o; )
            b++, x += r, S = e[x * 2], L = e[x * 2 + 1];
        var I = 0.5, M = 0, E = 0, D = void 0, O = void 0;
        if (b >= o || qa(S, L))
          v = g, p = y;
        else {
          M = S - u, E = L - c;
          var N = g - u, P = S - g, $ = y - c, z = L - y, H = void 0, W = void 0;
          if (s === "x") {
            H = Math.abs(N), W = Math.abs(P);
            var oe = M > 0 ? 1 : -1;
            v = g - oe * H * i, p = y, D = g + oe * W * i, O = y;
          } else if (s === "y") {
            H = Math.abs($), W = Math.abs(z);
            var te = E > 0 ? 1 : -1;
            v = g, p = y - te * H * i, D = g, O = y + te * W * i;
          } else
            H = Math.sqrt(N * N + $ * $), W = Math.sqrt(P * P + z * z), I = W / (W + H), v = g - M * i * (1 - I), p = y - E * i * (1 - I), D = g + M * i * I, O = y + E * i * I, D = Vo(D, Ho(S, g)), O = Vo(O, Ho(L, y)), D = Ho(D, Vo(S, g)), O = Ho(O, Vo(L, y)), M = D - g, E = O - y, v = g - M * H / W, p = y - E * H / W, v = Vo(v, Ho(u, g)), p = Vo(p, Ho(c, y)), v = Ho(v, Vo(u, g)), p = Ho(p, Vo(c, y)), M = g - v, E = y - p, D = g + M * W / H, O = y + E * W / H;
        }
        t.bezierCurveTo(d, f, v, p, g, y), d = D, f = O;
      } else
        t.lineTo(g, y);
    }
    u = g, c = y, h += r;
  }
  return m;
}
var J5 = (
  /** @class */
  /* @__PURE__ */ function() {
    function t() {
      this.smooth = 0, this.smoothConstraint = !0;
    }
    return t;
  }()
), pM = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n) {
      var o = t.call(this, n) || this;
      return o.type = "ec-polyline", o;
    }
    return e.prototype.getDefaultStyle = function() {
      return {
        stroke: "#000",
        fill: null
      };
    }, e.prototype.getDefaultShape = function() {
      return new J5();
    }, e.prototype.buildPath = function(n, o) {
      var a = o.points, r = 0, i = a.length / 2;
      if (o.connectNulls) {
        for (; i > 0 && qa(a[i * 2 - 2], a[i * 2 - 1]); i--)
          ;
        for (; r < i && qa(a[r * 2], a[r * 2 + 1]); r++)
          ;
      }
      for (; r < i; )
        r += cv(n, a, r, i, i, 1, o.smooth, o.smoothMonotone, o.connectNulls) + 1;
    }, e.prototype.getPointOn = function(n, o) {
      this.path || (this.createPathProxy(), this.buildPath(this.path, this.shape));
      for (var a = this.path, r = a.data, i = la.CMD, s, l, u = o === "x", c = [], d = 0; d < r.length; ) {
        var f = r[d++], v = void 0, p = void 0, h = void 0, m = void 0, g = void 0, y = void 0, _ = void 0;
        switch (f) {
          case i.M:
            s = r[d++], l = r[d++];
            break;
          case i.L:
            if (v = r[d++], p = r[d++], _ = u ? (n - s) / (v - s) : (n - l) / (p - l), _ <= 1 && _ >= 0) {
              var w = u ? (p - l) * _ + l : (v - s) * _ + s;
              return u ? [n, w] : [w, n];
            }
            s = v, l = p;
            break;
          case i.C:
            v = r[d++], p = r[d++], h = r[d++], m = r[d++], g = r[d++], y = r[d++];
            var x = u ? au(s, v, h, g, n, c) : au(l, p, m, y, n, c);
            if (x > 0)
              for (var S = 0; S < x; S++) {
                var L = c[S];
                if (L <= 1 && L >= 0) {
                  var w = u ? Zt(l, p, m, y, L) : Zt(s, v, h, g, L);
                  return u ? [n, w] : [w, n];
                }
              }
            s = g, l = y;
            break;
        }
      }
    }, e;
  }(dt)
), hM = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    return e;
  }(J5)
), mM = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n) {
      var o = t.call(this, n) || this;
      return o.type = "ec-polygon", o;
    }
    return e.prototype.getDefaultShape = function() {
      return new hM();
    }, e.prototype.buildPath = function(n, o) {
      var a = o.points, r = o.stackedOnPoints, i = 0, s = a.length / 2, l = o.smoothMonotone;
      if (o.connectNulls) {
        for (; s > 0 && qa(a[s * 2 - 2], a[s * 2 - 1]); s--)
          ;
        for (; i < s && qa(a[i * 2], a[i * 2 + 1]); i++)
          ;
      }
      for (; i < s; ) {
        var u = cv(n, a, i, s, s, 1, o.smooth, l, o.connectNulls);
        cv(n, r, i + u - 1, u, s, -1, o.stackedOnSmooth, l, o.connectNulls), i += u + 1, n.closePath();
      }
    }, e;
  }(dt)
);
function K5(t, e, n, o, a) {
  var r = t.getArea(), i = r.x, s = r.y, l = r.width, u = r.height, c = n.get(["lineStyle", "width"]) || 2;
  i -= c / 2, s -= c / 2, l += c, u += c, l = Math.ceil(l), i !== Math.floor(i) && (i = Math.floor(i), l++);
  var d = new Gt({
    shape: {
      x: i,
      y: s,
      width: l,
      height: u
    }
  });
  if (e) {
    var f = t.getBaseAxis(), v = f.isHorizontal(), p = f.inverse;
    v ? (p && (d.shape.x += l), d.shape.width = 0) : (p || (d.shape.y += u), d.shape.height = 0);
    var h = Je(a) ? function(m) {
      a(m, d);
    } : null;
    gn(d, {
      shape: {
        width: l,
        height: u,
        x: i,
        y: s
      }
    }, n, null, o, h);
  }
  return d;
}
function Q5(t, e, n) {
  var o = t.getArea(), a = Pt(o.r0, 1), r = Pt(o.r, 1), i = new ma({
    shape: {
      cx: Pt(t.cx, 1),
      cy: Pt(t.cy, 1),
      r0: a,
      r,
      startAngle: o.startAngle,
      endAngle: o.endAngle,
      clockwise: o.clockwise
    }
  });
  if (e) {
    var s = t.getBaseAxis().dim === "angle";
    s ? i.shape.endAngle = o.startAngle : i.shape.r = a, gn(i, {
      shape: {
        endAngle: o.endAngle,
        r
      }
    }, n);
  }
  return i;
}
function gM(t, e, n, o, a) {
  if (t) {
    if (t.type === "polar")
      return Q5(t, e, n);
    if (t.type === "cartesian2d")
      return K5(t, e, n, o, a);
  } else return null;
  return null;
}
function Fp(t, e) {
  return t.type === e;
}
function j1(t, e) {
  if (t.length === e.length) {
    for (var n = 0; n < t.length; n++)
      if (t[n] !== e[n])
        return;
    return !0;
  }
}
function em(t) {
  for (var e = 1 / 0, n = 1 / 0, o = -1 / 0, a = -1 / 0, r = 0; r < t.length; ) {
    var i = t[r++], s = t[r++];
    isNaN(i) || (e = Math.min(i, e), o = Math.max(i, o)), isNaN(s) || (n = Math.min(s, n), a = Math.max(s, a));
  }
  return [[e, n], [o, a]];
}
function tm(t, e) {
  var n = em(t), o = n[0], a = n[1], r = em(e), i = r[0], s = r[1];
  return Math.max(Math.abs(o[0] - i[0]), Math.abs(o[1] - i[1]), Math.abs(a[0] - s[0]), Math.abs(a[1] - s[1]));
}
function nm(t) {
  return bt(t) ? t : t ? 0.5 : 0;
}
function yM(t, e, n) {
  if (!n.valueDim)
    return [];
  for (var o = e.count(), a = ko(o * 2), r = 0; r < o; r++) {
    var i = q5(n, t, e, r);
    a[r * 2] = i[0], a[r * 2 + 1] = i[1];
  }
  return a;
}
function Go(t, e, n, o) {
  var a = e.getBaseAxis(), r = a.dim === "x" || a.dim === "radius" ? 0 : 1, i = [], s = 0, l = [], u = [], c = [], d = [];
  if (o) {
    for (s = 0; s < t.length; s += 2)
      !isNaN(t[s]) && !isNaN(t[s + 1]) && d.push(t[s], t[s + 1]);
    t = d;
  }
  for (s = 0; s < t.length - 2; s += 2)
    switch (c[0] = t[s + 2], c[1] = t[s + 3], u[0] = t[s], u[1] = t[s + 1], i.push(u[0], u[1]), n) {
      case "end":
        l[r] = c[r], l[1 - r] = u[1 - r], i.push(l[0], l[1]);
        break;
      case "middle":
        var f = (u[r] + c[r]) / 2, v = [];
        l[r] = v[r] = f, l[1 - r] = u[1 - r], v[1 - r] = c[1 - r], i.push(l[0], l[1]), i.push(v[0], v[1]);
        break;
      default:
        l[r] = u[r], l[1 - r] = c[1 - r], i.push(l[0], l[1]);
    }
  return i.push(t[s++], t[s++]), i;
}
function _M(t, e) {
  var n = [], o = t.length, a, r;
  function i(c, d, f) {
    var v = c.coord, p = (f - v) / (d.coord - v), h = mS(p, [c.color, d.color]);
    return {
      coord: f,
      color: h
    };
  }
  for (var s = 0; s < o; s++) {
    var l = t[s], u = l.coord;
    if (u < 0)
      a = l;
    else if (u > e) {
      r ? n.push(i(r, l, e)) : a && n.push(i(a, l, 0), i(a, l, e));
      break;
    } else
      a && (n.push(i(a, l, 0)), a = null), n.push(l), r = l;
  }
  return n;
}
function bM(t, e, n) {
  var o = t.getVisual("visualMeta");
  if (!(!o || !o.length || !t.count())) {
    if (e.type !== "cartesian2d") {
      process.env.NODE_ENV !== "production" && console.warn("Visual map on line style is only supported on cartesian2d.");
      return;
    }
    for (var a, r, i = o.length - 1; i >= 0; i--) {
      var s = t.getDimensionInfo(o[i].dimension);
      if (a = s && s.coordDim, a === "x" || a === "y") {
        r = o[i];
        break;
      }
    }
    if (!r) {
      process.env.NODE_ENV !== "production" && console.warn("Visual map on line style only support x or y dimension.");
      return;
    }
    var l = e.getAxis(a), u = $e(r.stops, function(_) {
      return {
        coord: l.toGlobalCoord(l.dataToCoord(_.value)),
        color: _.color
      };
    }), c = u.length, d = r.outerColors.slice();
    c && u[0].coord > u[c - 1].coord && (u.reverse(), d.reverse());
    var f = _M(u, a === "x" ? n.getWidth() : n.getHeight()), v = f.length;
    if (!v && c)
      return u[0].coord < 0 ? d[1] ? d[1] : u[c - 1].color : d[0] ? d[0] : u[0].color;
    var p = 10, h = f[0].coord - p, m = f[v - 1].coord + p, g = m - h;
    if (g < 1e-3)
      return "transparent";
    se(f, function(_) {
      _.offset = (_.coord - h) / g;
    }), f.push({
      // NOTE: inRangeStopLen may still be 0 if stoplen is zero.
      offset: v ? f[v - 1].offset : 0.5,
      color: d[1] || "transparent"
    }), f.unshift({
      offset: v ? f[0].offset : 0.5,
      color: d[0] || "transparent"
    });
    var y = new ey(0, 0, 0, 0, f, !0);
    return y[a] = h, y[a + "2"] = m, y;
  }
}
function wM(t, e, n) {
  var o = t.get("showAllSymbol"), a = o === "auto";
  if (!(o && !a)) {
    var r = n.getAxesByScale("ordinal")[0];
    if (r && !(a && xM(r, e))) {
      var i = e.mapDimension(r.dim), s = {};
      return se(r.getViewLabels(), function(l) {
        var u = r.scale.getRawOrdinalNumber(l.tickValue);
        s[u] = 1;
      }), function(l) {
        return !s.hasOwnProperty(e.get(i, l));
      };
    }
  }
}
function xM(t, e) {
  var n = t.getExtent(), o = Math.abs(n[1] - n[0]) / t.scale.count();
  isNaN(o) && (o = 0);
  for (var a = e.count(), r = Math.max(1, Math.round(a / 5)), i = 0; i < a; i += r)
    if (Bp.getSymbolSize(
      e,
      i
      // Only for cartesian, where `isHorizontal` exists.
    )[t.isHorizontal() ? 1 : 0] * 1.5 > o)
      return !1;
  return !0;
}
function SM(t, e) {
  return isNaN(t) || isNaN(e);
}
function IM(t) {
  for (var e = t.length / 2; e > 0 && SM(t[e * 2 - 2], t[e * 2 - 1]); e--)
    ;
  return e - 1;
}
function om(t, e) {
  return [t[e * 2], t[e * 2 + 1]];
}
function CM(t, e, n) {
  for (var o = t.length / 2, a = n === "x" ? 0 : 1, r, i, s = 0, l = -1, u = 0; u < o; u++)
    if (i = t[u * 2 + a], !(isNaN(i) || isNaN(t[u * 2 + 1 - a]))) {
      if (u === 0) {
        r = i;
        continue;
      }
      if (r <= e && i >= e || r >= e && i <= e) {
        l = u;
        break;
      }
      s = u, r = i;
    }
  return {
    range: [s, l],
    t: (e - r) / (i - r)
  };
}
function j5(t) {
  if (t.get(["endLabel", "show"]))
    return !0;
  for (var e = 0; e < Vn.length; e++)
    if (t.get([Vn[e], "endLabel", "show"]))
      return !0;
  return !1;
}
function Gd(t, e, n, o) {
  if (Fp(e, "cartesian2d")) {
    var a = o.getModel("endLabel"), r = a.get("valueAnimation"), i = o.getData(), s = {
      lastFrameIndex: 0
    }, l = j5(o) ? function(v, p) {
      t._endLabelOnDuring(v, p, i, s, r, a, e);
    } : null, u = e.getBaseAxis().isHorizontal(), c = K5(e, n, o, function() {
      var v = t._endLabel;
      v && n && s.originalX != null && v.attr({
        x: s.originalX,
        y: s.originalY
      });
    }, l);
    if (!o.get("clip", !0)) {
      var d = c.shape, f = Math.max(d.width, d.height);
      u ? (d.y -= f, d.height += f * 2) : (d.x -= f, d.width += f * 2);
    }
    return l && l(1, c), c;
  } else
    return process.env.NODE_ENV !== "production" && o.get(["endLabel", "show"]) && console.warn("endLabel is not supported for lines in polar systems."), Q5(e, n, o);
}
function TM(t, e) {
  var n = e.getBaseAxis(), o = n.isHorizontal(), a = n.inverse, r = o ? a ? "right" : "left" : "center", i = o ? "middle" : a ? "top" : "bottom";
  return {
    normal: {
      align: t.get("align") || r,
      verticalAlign: t.get("verticalAlign") || i
    }
  };
}
var LM = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    return e.prototype.init = function() {
      var n = new zt(), o = new Y5();
      this.group.add(o.group), this._symbolDraw = o, this._lineGroup = n;
    }, e.prototype.render = function(n, o, a) {
      var r = this, i = n.coordinateSystem, s = this.group, l = n.getData(), u = n.getModel("lineStyle"), c = n.getModel("areaStyle"), d = l.getLayout("points") || [], f = i.type === "polar", v = this._coordSys, p = this._symbolDraw, h = this._polyline, m = this._polygon, g = this._lineGroup, y = !o.ssr && n.get("animation"), _ = !c.isEmpty(), w = c.get("origin"), x = Z5(i, l, w), S = _ && yM(i, l, x), L = n.get("showSymbol"), b = n.get("connectNulls"), I = L && !f && wM(n, l, i), M = this._data;
      M && M.eachItemGraphicEl(function(G, B) {
        G.__temp && (s.remove(G), M.setItemGraphicEl(B, null));
      }), L || p.remove(), s.add(g);
      var E = f ? !1 : n.get("step"), D;
      i && i.getArea && n.get("clip", !0) && (D = i.getArea(), D.width != null ? (D.x -= 0.1, D.y -= 0.1, D.width += 0.2, D.height += 0.2) : D.r0 && (D.r0 -= 0.5, D.r += 0.5)), this._clipShapeForSymbol = D;
      var O = bM(l, i, a) || l.getVisual("style")[l.getVisual("drawType")];
      if (!(h && v.type === i.type && E === this._step))
        L && p.updateData(l, {
          isIgnore: I,
          clipShape: D,
          disableAnimation: !0,
          getSymbolPoint: function(G) {
            return [d[G * 2], d[G * 2 + 1]];
          }
        }), y && this._initSymbolLabelAnimation(l, i, D), E && (d = Go(d, i, E, b), S && (S = Go(S, i, E, b))), h = this._newPolyline(d), _ ? m = this._newPolygon(d, S) : m && (g.remove(m), m = this._polygon = null), f || this._initOrUpdateEndLabel(n, i, Jf(O)), g.setClipPath(Gd(this, i, !0, n));
      else {
        _ && !m ? m = this._newPolygon(d, S) : m && !_ && (g.remove(m), m = this._polygon = null), f || this._initOrUpdateEndLabel(n, i, Jf(O));
        var N = g.getClipPath();
        if (N) {
          var P = Gd(this, i, !1, n);
          gn(N, {
            shape: P.shape
          }, n);
        } else
          g.setClipPath(Gd(this, i, !0, n));
        L && p.updateData(l, {
          isIgnore: I,
          clipShape: D,
          disableAnimation: !0,
          getSymbolPoint: function(G) {
            return [d[G * 2], d[G * 2 + 1]];
          }
        }), (!j1(this._stackedOnPoints, S) || !j1(this._points, d)) && (y ? this._doUpdateAnimation(l, S, i, a, E, w, b) : (E && (d = Go(d, i, E, b), S && (S = Go(S, i, E, b))), h.setShape({
          points: d
        }), m && m.setShape({
          points: d,
          stackedOnPoints: S
        })));
      }
      var $ = n.getModel("emphasis"), z = $.get("focus"), H = $.get("blurScope"), W = $.get("disabled");
      if (h.useStyle(rt(
        // Use color in lineStyle first
        u.getLineStyle(),
        {
          fill: "none",
          stroke: O,
          lineJoin: "bevel"
        }
      )), Xr(h, n, "lineStyle"), h.style.lineWidth > 0 && n.get(["emphasis", "lineStyle", "width"]) === "bolder") {
        var oe = h.getState("emphasis").style;
        oe.lineWidth = +h.style.lineWidth + 1;
      }
      It(h).seriesIndex = n.seriesIndex, Wr(h, z, H, W);
      var te = nm(n.get("smooth")), le = n.get("smoothMonotone");
      if (h.setShape({
        smooth: te,
        smoothMonotone: le,
        connectNulls: b
      }), m) {
        var J = l.getCalculationInfo("stackedOnSeries"), Q = 0;
        m.useStyle(rt(c.getAreaStyle(), {
          fill: O,
          opacity: 0.7,
          lineJoin: "bevel",
          decal: l.getVisual("style").decal
        })), J && (Q = nm(J.get("smooth"))), m.setShape({
          smooth: te,
          stackedOnSmooth: Q,
          smoothMonotone: le,
          connectNulls: b
        }), Xr(m, n, "areaStyle"), It(m).seriesIndex = n.seriesIndex, Wr(m, z, H, W);
      }
      var q = function(G) {
        r._changePolyState(G);
      };
      l.eachItemGraphicEl(function(G) {
        G && (G.onHoverStateChange = q);
      }), this._polyline.onHoverStateChange = q, this._data = l, this._coordSys = i, this._stackedOnPoints = S, this._points = d, this._step = E, this._valueOrigin = w, n.get("triggerLineEvent") && (this.packEventData(n, h), m && this.packEventData(n, m));
    }, e.prototype.packEventData = function(n, o) {
      It(o).eventData = {
        componentType: "series",
        componentSubType: "line",
        componentIndex: n.componentIndex,
        seriesIndex: n.seriesIndex,
        seriesName: n.name,
        seriesType: "line"
      };
    }, e.prototype.highlight = function(n, o, a, r) {
      var i = n.getData(), s = Ur(i, r);
      if (this._changePolyState("emphasis"), !(s instanceof Array) && s != null && s >= 0) {
        var l = i.getLayout("points"), u = i.getItemGraphicEl(s);
        if (!u) {
          var c = l[s * 2], d = l[s * 2 + 1];
          if (isNaN(c) || isNaN(d) || this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(c, d))
            return;
          var f = n.get("zlevel") || 0, v = n.get("z") || 0;
          u = new Bp(i, s), u.x = c, u.y = d, u.setZ(f, v);
          var p = u.getSymbolPath().getTextContent();
          p && (p.zlevel = f, p.z = v, p.z2 = this._polyline.z2 + 1), u.__temp = !0, i.setItemGraphicEl(s, u), u.stopSymbolAnimation(!0), this.group.add(u);
        }
        u.highlight();
      } else
        yn.prototype.highlight.call(this, n, o, a, r);
    }, e.prototype.downplay = function(n, o, a, r) {
      var i = n.getData(), s = Ur(i, r);
      if (this._changePolyState("normal"), s != null && s >= 0) {
        var l = i.getItemGraphicEl(s);
        l && (l.__temp ? (i.setItemGraphicEl(s, null), this.group.remove(l)) : l.downplay());
      } else
        yn.prototype.downplay.call(this, n, o, a, r);
    }, e.prototype._changePolyState = function(n) {
      var o = this._polygon;
      h0(this._polyline, n), o && h0(o, n);
    }, e.prototype._newPolyline = function(n) {
      var o = this._polyline;
      return o && this._lineGroup.remove(o), o = new pM({
        shape: {
          points: n
        },
        segmentIgnoreThreshold: 2,
        z2: 10
      }), this._lineGroup.add(o), this._polyline = o, o;
    }, e.prototype._newPolygon = function(n, o) {
      var a = this._polygon;
      return a && this._lineGroup.remove(a), a = new mM({
        shape: {
          points: n,
          stackedOnPoints: o
        },
        segmentIgnoreThreshold: 2
      }), this._lineGroup.add(a), this._polygon = a, a;
    }, e.prototype._initSymbolLabelAnimation = function(n, o, a) {
      var r, i, s = o.getBaseAxis(), l = s.inverse;
      o.type === "cartesian2d" ? (r = s.isHorizontal(), i = !1) : o.type === "polar" && (r = s.dim === "angle", i = !0);
      var u = n.hostModel, c = u.get("animationDuration");
      Je(c) && (c = c(null));
      var d = u.get("animationDelay") || 0, f = Je(d) ? d(null) : d;
      n.eachItemGraphicEl(function(v, p) {
        var h = v;
        if (h) {
          var m = [v.x, v.y], g = void 0, y = void 0, _ = void 0;
          if (a)
            if (i) {
              var w = a, x = o.pointToCoord(m);
              r ? (g = w.startAngle, y = w.endAngle, _ = -x[1] / 180 * Math.PI) : (g = w.r0, y = w.r, _ = x[0]);
            } else {
              var S = a;
              r ? (g = S.x, y = S.x + S.width, _ = v.x) : (g = S.y + S.height, y = S.y, _ = v.y);
            }
          var L = y === g ? 0 : (_ - g) / (y - g);
          l && (L = 1 - L);
          var b = Je(d) ? d(p) : c * L + f, I = h.getSymbolPath(), M = I.getTextContent();
          h.attr({
            scaleX: 0,
            scaleY: 0
          }), h.animateTo({
            scaleX: 1,
            scaleY: 1
          }, {
            duration: 200,
            setToFinal: !0,
            delay: b
          }), M && M.animateFrom({
            style: {
              opacity: 0
            }
          }, {
            duration: 300,
            delay: b
          }), I.disableLabelAnimation = !0;
        }
      });
    }, e.prototype._initOrUpdateEndLabel = function(n, o, a) {
      var r = n.getModel("endLabel");
      if (j5(n)) {
        var i = n.getData(), s = this._polyline, l = i.getLayout("points");
        if (!l) {
          s.removeTextContent(), this._endLabel = null;
          return;
        }
        var u = this._endLabel;
        u || (u = this._endLabel = new Ln({
          z2: 200
          // should be higher than item symbol
        }), u.ignoreClip = !0, s.setTextContent(this._endLabel), s.disableLabelAnimation = !0);
        var c = IM(l);
        c >= 0 && (ti(s, ni(n, "endLabel"), {
          inheritColor: a,
          labelFetcher: n,
          labelDataIndex: c,
          defaultText: function(d, f, v) {
            return v != null ? X5(i, v) : Np(i, d);
          },
          enableTextSetter: !0
        }, TM(r, o)), s.textConfig.position = null);
      } else this._endLabel && (this._polyline.removeTextContent(), this._endLabel = null);
    }, e.prototype._endLabelOnDuring = function(n, o, a, r, i, s, l) {
      var u = this._endLabel, c = this._polyline;
      if (u) {
        n < 1 && r.originalX == null && (r.originalX = u.x, r.originalY = u.y);
        var d = a.getLayout("points"), f = a.hostModel, v = f.get("connectNulls"), p = s.get("precision"), h = s.get("distance") || 0, m = l.getBaseAxis(), g = m.isHorizontal(), y = m.inverse, _ = o.shape, w = y ? g ? _.x : _.y + _.height : g ? _.x + _.width : _.y, x = (g ? h : 0) * (y ? -1 : 1), S = (g ? 0 : -h) * (y ? -1 : 1), L = g ? "x" : "y", b = CM(d, w, L), I = b.range, M = I[1] - I[0], E = void 0;
        if (M >= 1) {
          if (M > 1 && !v) {
            var D = om(d, I[0]);
            u.attr({
              x: D[0] + x,
              y: D[1] + S
            }), i && (E = f.getRawValue(I[0]));
          } else {
            var D = c.getPointOn(w, L);
            D && u.attr({
              x: D[0] + x,
              y: D[1] + S
            });
            var O = f.getRawValue(I[0]), N = f.getRawValue(I[1]);
            i && (E = b9(a, p, O, N, b.t));
          }
          r.lastFrameIndex = I[0];
        } else {
          var P = n === 1 || r.lastFrameIndex > 0 ? I[0] : 0, D = om(d, P);
          i && (E = f.getRawValue(P)), u.attr({
            x: D[0] + x,
            y: D[1] + S
          });
        }
        if (i) {
          var $ = ac(u);
          typeof $.setLabelText == "function" && $.setLabelText(E);
        }
      }
    }, e.prototype._doUpdateAnimation = function(n, o, a, r, i, s, l) {
      var u = this._polyline, c = this._polygon, d = n.hostModel, f = vM(this._data, n, this._stackedOnPoints, o, this._coordSys, a, this._valueOrigin), v = f.current, p = f.stackedOnCurrent, h = f.next, m = f.stackedOnNext;
      if (i && (v = Go(f.current, a, i, l), p = Go(f.stackedOnCurrent, a, i, l), h = Go(f.next, a, i, l), m = Go(f.stackedOnNext, a, i, l)), tm(v, h) > 3e3 || c && tm(p, m) > 3e3) {
        u.stopAnimation(), u.setShape({
          points: h
        }), c && (c.stopAnimation(), c.setShape({
          points: h,
          stackedOnPoints: m
        }));
        return;
      }
      u.shape.__points = f.current, u.shape.points = v;
      var g = {
        shape: {
          points: h
        }
      };
      f.current !== v && (g.shape.__points = f.next), u.stopAnimation(), an(u, g, d), c && (c.setShape({
        // Reuse the points with polyline.
        points: v,
        stackedOnPoints: p
      }), c.stopAnimation(), an(c, {
        shape: {
          stackedOnPoints: m
        }
      }, d), u.shape.points !== c.shape.points && (c.shape.points = u.shape.points));
      for (var y = [], _ = f.status, w = 0; w < _.length; w++) {
        var x = _[w].cmd;
        if (x === "=") {
          var S = n.getItemGraphicEl(_[w].idx1);
          S && y.push({
            el: S,
            ptIdx: w
            // Index of points
          });
        }
      }
      u.animators && u.animators.length && u.animators[0].during(function() {
        c && c.dirtyShape();
        for (var L = u.shape.__points, b = 0; b < y.length; b++) {
          var I = y[b].el, M = y[b].ptIdx * 2;
          I.x = L[M], I.y = L[M + 1], I.markRedraw();
        }
      });
    }, e.prototype.remove = function(n) {
      var o = this.group, a = this._data;
      this._lineGroup.removeAll(), this._symbolDraw.remove(!0), a && a.eachItemGraphicEl(function(r, i) {
        r.__temp && (o.remove(r), a.setItemGraphicEl(i, null));
      }), this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null;
    }, e.type = "line", e;
  }(yn)
);
function zp(t, e) {
  return {
    seriesType: t,
    plan: Cp(),
    reset: function(n) {
      var o = n.getData(), a = n.coordinateSystem, r = n.pipelineContext, i = e || r.large;
      if (a) {
        var s = $e(a.dimensions, function(v) {
          return o.mapDimension(v);
        }).slice(0, 2), l = s.length, u = o.getCalculationInfo("stackResultDimension");
        Jr(o, s[0]) && (s[0] = u), Jr(o, s[1]) && (s[1] = u);
        var c = o.getStore(), d = o.getDimensionIndex(s[0]), f = o.getDimensionIndex(s[1]);
        return l && {
          progress: function(v, p) {
            for (var h = v.end - v.start, m = i && ko(h * l), g = [], y = [], _ = v.start, w = 0; _ < v.end; _++) {
              var x = void 0;
              if (l === 1) {
                var S = c.get(d, _);
                x = a.dataToPoint(S, null, y);
              } else
                g[0] = c.get(d, _), g[1] = c.get(f, _), x = a.dataToPoint(g, null, y);
              i ? (m[w++] = x[0], m[w++] = x[1]) : p.setItemLayout(_, x.slice());
            }
            i && p.setLayout("points", m);
          }
        };
      }
    }
  };
}
var kM = {
  average: function(t) {
    for (var e = 0, n = 0, o = 0; o < t.length; o++)
      isNaN(t[o]) || (e += t[o], n++);
    return n === 0 ? NaN : e / n;
  },
  sum: function(t) {
    for (var e = 0, n = 0; n < t.length; n++)
      e += t[n] || 0;
    return e;
  },
  max: function(t) {
    for (var e = -1 / 0, n = 0; n < t.length; n++)
      t[n] > e && (e = t[n]);
    return isFinite(e) ? e : NaN;
  },
  min: function(t) {
    for (var e = 1 / 0, n = 0; n < t.length; n++)
      t[n] < e && (e = t[n]);
    return isFinite(e) ? e : NaN;
  },
  minmax: function(t) {
    for (var e = -1 / 0, n = -1 / 0, o = 0; o < t.length; o++) {
      var a = t[o], r = Math.abs(a);
      r > e && (e = r, n = a);
    }
    return isFinite(n) ? n : NaN;
  },
  // TODO
  // Median
  nearest: function(t) {
    return t[0];
  }
}, EM = function(t) {
  return Math.round(t.length / 2);
};
function e_(t) {
  return {
    seriesType: t,
    // FIXME:TS never used, so comment it
    // modifyOutputEnd: true,
    reset: function(e, n, o) {
      var a = e.getData(), r = e.get("sampling"), i = e.coordinateSystem, s = a.count();
      if (s > 10 && i.type === "cartesian2d" && r) {
        var l = i.getBaseAxis(), u = i.getOtherAxis(l), c = l.getExtent(), d = o.getDevicePixelRatio(), f = Math.abs(c[1] - c[0]) * (d || 1), v = Math.round(s / f);
        if (isFinite(v) && v > 1) {
          r === "lttb" && e.setData(a.lttbDownSample(a.mapDimension(u.dim), 1 / v));
          var p = void 0;
          ze(r) ? p = kM[r] : Je(r) && (p = r), p && e.setData(a.downSample(a.mapDimension(u.dim), 1 / v, p, EM));
        }
      }
    }
  };
}
function MM(t) {
  t.registerChartView(LM), t.registerSeriesModel(uM), t.registerLayout(zp("line", !0)), t.registerVisual({
    seriesType: "line",
    reset: function(e) {
      var n = e.getData(), o = e.getModel("lineStyle").getLineStyle();
      o && !o.stroke && (o.stroke = n.getVisual("style").fill), n.setVisual("legendLineStyle", o);
    }
  }), t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, e_("line"));
}
var dv = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n;
    }
    return e.prototype.getInitialData = function(n, o) {
      return pc(null, this, {
        useEncodeDefaulter: !0
      });
    }, e.prototype.getMarkerPosition = function(n, o, a) {
      var r = this.coordinateSystem;
      if (r && r.clampData) {
        var i = r.clampData(n), s = r.dataToPoint(i);
        if (a)
          se(r.getAxes(), function(f, v) {
            if (f.type === "category" && o != null) {
              var p = f.getTicksCoords(), h = f.getTickModel().get("alignWithLabel"), m = i[v], g = o[v] === "x1" || o[v] === "y1";
              if (g && !h && (m += 1), p.length < 2)
                return;
              if (p.length === 2) {
                s[v] = f.toGlobalCoord(f.getExtent()[g ? 1 : 0]);
                return;
              }
              for (var y = void 0, _ = void 0, w = 1, x = 0; x < p.length; x++) {
                var S = p[x].coord, L = x === p.length - 1 ? p[x - 1].tickValue + w : p[x].tickValue;
                if (L === m) {
                  _ = S;
                  break;
                } else if (L < m)
                  y = S;
                else if (y != null && L > m) {
                  _ = (S + y) / 2;
                  break;
                }
                x === 1 && (w = L - p[0].tickValue);
              }
              _ == null && (y ? y && (_ = p[p.length - 1].coord) : _ = p[0].coord), s[v] = f.toGlobalCoord(_);
            }
          });
        else {
          var l = this.getData(), u = l.getLayout("offset"), c = l.getLayout("size"), d = r.getBaseAxis().isHorizontal() ? 0 : 1;
          s[d] += u + c / 2;
        }
        return s;
      }
      return [NaN, NaN];
    }, e.type = "series.__base_bar__", e.defaultOption = {
      // zlevel: 0,
      z: 2,
      coordinateSystem: "cartesian2d",
      legendHoverLink: !0,
      // stack: null
      // Cartesian coordinate system
      // xAxisIndex: 0,
      // yAxisIndex: 0,
      barMinHeight: 0,
      barMinAngle: 0,
      // cursor: null,
      large: !1,
      largeThreshold: 400,
      progressive: 3e3,
      progressiveChunkMode: "mod"
    }, e;
  }(kn)
);
kn.registerClass(dv);
var AM = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n;
    }
    return e.prototype.getInitialData = function() {
      return pc(null, this, {
        useEncodeDefaulter: !0,
        createInvertedIndices: !!this.get("realtimeSort", !0) || null
      });
    }, e.prototype.getProgressive = function() {
      return this.get("large") ? this.get("progressive") : !1;
    }, e.prototype.getProgressiveThreshold = function() {
      var n = this.get("progressiveThreshold"), o = this.get("largeThreshold");
      return o > n && (n = o), n;
    }, e.prototype.brushSelector = function(n, o, a) {
      return a.rect(o.getItemLayout(n));
    }, e.type = "series.bar", e.dependencies = ["grid", "polar"], e.defaultOption = cy(dv.defaultOption, {
      // If clipped
      // Only available on cartesian2d
      clip: !0,
      roundCap: !1,
      showBackground: !1,
      backgroundStyle: {
        color: "rgba(180, 180, 180, 0.2)",
        borderColor: null,
        borderWidth: 0,
        borderType: "solid",
        borderRadius: 0,
        shadowBlur: 0,
        shadowColor: null,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        opacity: 1
      },
      select: {
        itemStyle: {
          borderColor: "#212121"
        }
      },
      realtimeSort: !1
    }), e;
  }(dv)
), DM = (
  /** @class */
  /* @__PURE__ */ function() {
    function t() {
      this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0;
    }
    return t;
  }()
), am = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n) {
      var o = t.call(this, n) || this;
      return o.type = "sausage", o;
    }
    return e.prototype.getDefaultShape = function() {
      return new DM();
    }, e.prototype.buildPath = function(n, o) {
      var a = o.cx, r = o.cy, i = Math.max(o.r0 || 0, 0), s = Math.max(o.r, 0), l = (s - i) * 0.5, u = i + l, c = o.startAngle, d = o.endAngle, f = o.clockwise, v = Math.PI * 2, p = f ? d - c < v : c - d < v;
      p || (c = d - (f ? v : -v));
      var h = Math.cos(c), m = Math.sin(c), g = Math.cos(d), y = Math.sin(d);
      p ? (n.moveTo(h * i + a, m * i + r), n.arc(h * u + a, m * u + r, l, -Math.PI + c, c, !f)) : n.moveTo(h * s + a, m * s + r), n.arc(a, r, s, c, d, !f), n.arc(g * u + a, y * u + r, l, d - Math.PI * 2, d - Math.PI, !f), i !== 0 && n.arc(a, r, i, d, c, f);
    }, e;
  }(dt)
);
function $M(t, e) {
  e = e || {};
  var n = e.isRoundCap;
  return function(o, a, r) {
    var i = a.position;
    if (!i || i instanceof Array)
      return uu(o, a, r);
    var s = t(i), l = a.distance != null ? a.distance : 5, u = this.shape, c = u.cx, d = u.cy, f = u.r, v = u.r0, p = (f + v) / 2, h = u.startAngle, m = u.endAngle, g = (h + m) / 2, y = n ? Math.abs(f - v) / 2 : 0, _ = Math.cos, w = Math.sin, x = c + f * _(h), S = d + f * w(h), L = "left", b = "top";
    switch (s) {
      case "startArc":
        x = c + (v - l) * _(g), S = d + (v - l) * w(g), L = "center", b = "top";
        break;
      case "insideStartArc":
        x = c + (v + l) * _(g), S = d + (v + l) * w(g), L = "center", b = "bottom";
        break;
      case "startAngle":
        x = c + p * _(h) + kl(h, l + y, !1), S = d + p * w(h) + El(h, l + y, !1), L = "right", b = "middle";
        break;
      case "insideStartAngle":
        x = c + p * _(h) + kl(h, -l + y, !1), S = d + p * w(h) + El(h, -l + y, !1), L = "left", b = "middle";
        break;
      case "middle":
        x = c + p * _(g), S = d + p * w(g), L = "center", b = "middle";
        break;
      case "endArc":
        x = c + (f + l) * _(g), S = d + (f + l) * w(g), L = "center", b = "bottom";
        break;
      case "insideEndArc":
        x = c + (f - l) * _(g), S = d + (f - l) * w(g), L = "center", b = "top";
        break;
      case "endAngle":
        x = c + p * _(m) + kl(m, l + y, !0), S = d + p * w(m) + El(m, l + y, !0), L = "left", b = "middle";
        break;
      case "insideEndAngle":
        x = c + p * _(m) + kl(m, -l + y, !0), S = d + p * w(m) + El(m, -l + y, !0), L = "right", b = "middle";
        break;
      default:
        return uu(o, a, r);
    }
    return o = o || {}, o.x = x, o.y = S, o.align = L, o.verticalAlign = b, o;
  };
}
function PM(t, e, n, o) {
  if (bt(o)) {
    t.setTextConfig({
      rotation: o
    });
    return;
  } else if (Oe(e)) {
    t.setTextConfig({
      rotation: 0
    });
    return;
  }
  var a = t.shape, r = a.clockwise ? a.startAngle : a.endAngle, i = a.clockwise ? a.endAngle : a.startAngle, s = (r + i) / 2, l, u = n(e);
  switch (u) {
    case "startArc":
    case "insideStartArc":
    case "middle":
    case "insideEndArc":
    case "endArc":
      l = s;
      break;
    case "startAngle":
    case "insideStartAngle":
      l = r;
      break;
    case "endAngle":
    case "insideEndAngle":
      l = i;
      break;
    default:
      t.setTextConfig({
        rotation: 0
      });
      return;
  }
  var c = Math.PI * 1.5 - l;
  u === "middle" && c > Math.PI / 2 && c < Math.PI * 1.5 && (c -= Math.PI), t.setTextConfig({
    rotation: c
  });
}
function kl(t, e, n) {
  return e * Math.sin(t) * (n ? -1 : 1);
}
function El(t, e, n) {
  return e * Math.cos(t) * (n ? 1 : -1);
}
function Xi(t, e, n) {
  var o = t.get("borderRadius");
  if (o == null)
    return n ? {
      cornerRadius: 0
    } : null;
  Oe(o) || (o = [o, o, o, o]);
  var a = Math.abs(e.r || 0 - e.r0 || 0);
  return {
    cornerRadius: $e(o, function(r) {
      return ia(r, a);
    })
  };
}
var Ud = Math.max, Wd = Math.min;
function RM(t, e) {
  var n = t.getArea && t.getArea();
  if (Fp(t, "cartesian2d")) {
    var o = t.getBaseAxis();
    if (o.type !== "category" || !o.onBand) {
      var a = e.getLayout("bandWidth");
      o.isHorizontal() ? (n.x -= a, n.width += a * 2) : (n.y -= a, n.height += a * 2);
    }
  }
  return n;
}
var OM = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t.call(this) || this;
      return n.type = e.type, n._isFirstFrame = !0, n;
    }
    return e.prototype.render = function(n, o, a, r) {
      this._model = n, this._removeOnRenderedListener(a), this._updateDrawMode(n);
      var i = n.get("coordinateSystem");
      i === "cartesian2d" || i === "polar" ? (this._progressiveEls = null, this._isLargeDraw ? this._renderLarge(n, o, a) : this._renderNormal(n, o, a, r)) : process.env.NODE_ENV !== "production" && nn("Only cartesian2d and polar supported for bar.");
    }, e.prototype.incrementalPrepareRender = function(n) {
      this._clear(), this._updateDrawMode(n), this._updateLargeClip(n);
    }, e.prototype.incrementalRender = function(n, o) {
      this._progressiveEls = [], this._incrementalRenderLarge(n, o);
    }, e.prototype.eachRendered = function(n) {
      nc(this._progressiveEls || this.group, n);
    }, e.prototype._updateDrawMode = function(n) {
      var o = n.pipelineContext.large;
      (this._isLargeDraw == null || o !== this._isLargeDraw) && (this._isLargeDraw = o, this._clear());
    }, e.prototype._renderNormal = function(n, o, a, r) {
      var i = this.group, s = n.getData(), l = this._data, u = n.coordinateSystem, c = u.getBaseAxis(), d;
      u.type === "cartesian2d" ? d = c.isHorizontal() : u.type === "polar" && (d = c.dim === "angle");
      var f = n.isAnimationEnabled() ? n : null, v = NM(n, u);
      v && this._enableRealtimeSort(v, s, a);
      var p = n.get("clip", !0) || v, h = RM(u, s);
      i.removeClipPath();
      var m = n.get("roundCap", !0), g = n.get("showBackground", !0), y = n.getModel("backgroundStyle"), _ = y.get("borderRadius") || 0, w = [], x = this._backgroundEls, S = r && r.isInitSort, L = r && r.type === "changeAxisOrder";
      function b(E) {
        var D = Ml[u.type](s, E), O = UM(u, d, D);
        return O.useStyle(y.getItemStyle()), u.type === "cartesian2d" ? O.setShape("r", _) : O.setShape("cornerRadius", _), w[E] = O, O;
      }
      s.diff(l).add(function(E) {
        var D = s.getItemModel(E), O = Ml[u.type](s, E, D);
        if (g && b(E), !(!s.hasValue(E) || !um[u.type](O))) {
          var N = !1;
          p && (N = rm[u.type](h, O));
          var P = im[u.type](n, s, E, O, d, f, c.model, !1, m);
          v && (P.forceLabelAnimation = !0), cm(P, s, E, D, O, n, d, u.type === "polar"), S ? P.attr({
            shape: O
          }) : v ? sm(v, f, P, O, E, d, !1, !1) : gn(P, {
            shape: O
          }, n, E), s.setItemGraphicEl(E, P), i.add(P), P.ignore = N;
        }
      }).update(function(E, D) {
        var O = s.getItemModel(E), N = Ml[u.type](s, E, O);
        if (g) {
          var P = void 0;
          x.length === 0 ? P = b(D) : (P = x[D], P.useStyle(y.getItemStyle()), u.type === "cartesian2d" ? P.setShape("r", _) : P.setShape("cornerRadius", _), w[E] = P);
          var $ = Ml[u.type](s, E), z = n_(d, $, u);
          an(P, {
            shape: z
          }, f, E);
        }
        var H = l.getItemGraphicEl(D);
        if (!s.hasValue(E) || !um[u.type](N)) {
          i.remove(H);
          return;
        }
        var W = !1;
        if (p && (W = rm[u.type](h, N), W && i.remove(H)), H ? ms(H) : H = im[u.type](n, s, E, N, d, f, c.model, !!H, m), v && (H.forceLabelAnimation = !0), L) {
          var oe = H.getTextContent();
          if (oe) {
            var te = ac(oe);
            te.prevValue != null && (te.prevValue = te.value);
          }
        } else
          cm(H, s, E, O, N, n, d, u.type === "polar");
        S ? H.attr({
          shape: N
        }) : v ? sm(v, f, H, N, E, d, !0, L) : an(H, {
          shape: N
        }, n, E, null), s.setItemGraphicEl(E, H), H.ignore = W, i.add(H);
      }).remove(function(E) {
        var D = l.getItemGraphicEl(E);
        D && gu(D, n, E);
      }).execute();
      var I = this._backgroundGroup || (this._backgroundGroup = new zt());
      I.removeAll();
      for (var M = 0; M < w.length; ++M)
        I.add(w[M]);
      i.add(I), this._backgroundEls = w, this._data = s;
    }, e.prototype._renderLarge = function(n, o, a) {
      this._clear(), fm(n, this.group), this._updateLargeClip(n);
    }, e.prototype._incrementalRenderLarge = function(n, o) {
      this._removeBackground(), fm(o, this.group, this._progressiveEls, !0);
    }, e.prototype._updateLargeClip = function(n) {
      var o = n.get("clip", !0) && gM(n.coordinateSystem, !1, n), a = this.group;
      o ? a.setClipPath(o) : a.removeClipPath();
    }, e.prototype._enableRealtimeSort = function(n, o, a) {
      var r = this;
      if (o.count()) {
        var i = n.baseAxis;
        if (this._isFirstFrame)
          this._dispatchInitSort(o, n, a), this._isFirstFrame = !1;
        else {
          var s = function(l) {
            var u = o.getItemGraphicEl(l), c = u && u.shape;
            return c && // The result should be consistent with the initial sort by data value.
            // Do not support the case that both positive and negative exist.
            Math.abs(i.isHorizontal() ? c.height : c.width) || 0;
          };
          this._onRendered = function() {
            r._updateSortWithinSameData(o, s, i, a);
          }, a.getZr().on("rendered", this._onRendered);
        }
      }
    }, e.prototype._dataSort = function(n, o, a) {
      var r = [];
      return n.each(n.mapDimension(o.dim), function(i, s) {
        var l = a(s);
        l = l ?? NaN, r.push({
          dataIndex: s,
          mappedValue: l,
          ordinalNumber: i
        });
      }), r.sort(function(i, s) {
        return s.mappedValue - i.mappedValue;
      }), {
        ordinalNumbers: $e(r, function(i) {
          return i.ordinalNumber;
        })
      };
    }, e.prototype._isOrderChangedWithinSameData = function(n, o, a) {
      for (var r = a.scale, i = n.mapDimension(a.dim), s = Number.MAX_VALUE, l = 0, u = r.getOrdinalMeta().categories.length; l < u; ++l) {
        var c = n.rawIndexOf(i, r.getRawOrdinalNumber(l)), d = c < 0 ? Number.MIN_VALUE : o(n.indexOfRawIndex(c));
        if (d > s)
          return !0;
        s = d;
      }
      return !1;
    }, e.prototype._isOrderDifferentInView = function(n, o) {
      for (var a = o.scale, r = a.getExtent(), i = Math.max(0, r[0]), s = Math.min(r[1], a.getOrdinalMeta().categories.length - 1); i <= s; ++i)
        if (n.ordinalNumbers[i] !== a.getRawOrdinalNumber(i))
          return !0;
    }, e.prototype._updateSortWithinSameData = function(n, o, a, r) {
      if (this._isOrderChangedWithinSameData(n, o, a)) {
        var i = this._dataSort(n, a, o);
        this._isOrderDifferentInView(i, a) && (this._removeOnRenderedListener(r), r.dispatchAction({
          type: "changeAxisOrder",
          componentType: a.dim + "Axis",
          axisId: a.index,
          sortInfo: i
        }));
      }
    }, e.prototype._dispatchInitSort = function(n, o, a) {
      var r = o.baseAxis, i = this._dataSort(n, r, function(s) {
        return n.get(n.mapDimension(o.otherAxis.dim), s);
      });
      a.dispatchAction({
        type: "changeAxisOrder",
        componentType: r.dim + "Axis",
        isInitSort: !0,
        axisId: r.index,
        sortInfo: i
      });
    }, e.prototype.remove = function(n, o) {
      this._clear(this._model), this._removeOnRenderedListener(o);
    }, e.prototype.dispose = function(n, o) {
      this._removeOnRenderedListener(o);
    }, e.prototype._removeOnRenderedListener = function(n) {
      this._onRendered && (n.getZr().off("rendered", this._onRendered), this._onRendered = null);
    }, e.prototype._clear = function(n) {
      var o = this.group, a = this._data;
      n && n.isAnimationEnabled() && a && !this._isLargeDraw ? (this._removeBackground(), this._backgroundEls = [], a.eachItemGraphicEl(function(r) {
        gu(r, n, It(r).dataIndex);
      })) : o.removeAll(), this._data = null, this._isFirstFrame = !0;
    }, e.prototype._removeBackground = function() {
      this.group.remove(this._backgroundGroup), this._backgroundGroup = null;
    }, e.type = "bar", e;
  }(yn)
), rm = {
  cartesian2d: function(t, e) {
    var n = e.width < 0 ? -1 : 1, o = e.height < 0 ? -1 : 1;
    n < 0 && (e.x += e.width, e.width = -e.width), o < 0 && (e.y += e.height, e.height = -e.height);
    var a = t.x + t.width, r = t.y + t.height, i = Ud(e.x, t.x), s = Wd(e.x + e.width, a), l = Ud(e.y, t.y), u = Wd(e.y + e.height, r), c = s < i, d = u < l;
    return e.x = c && i > a ? s : i, e.y = d && l > r ? u : l, e.width = c ? 0 : s - i, e.height = d ? 0 : u - l, n < 0 && (e.x += e.width, e.width = -e.width), o < 0 && (e.y += e.height, e.height = -e.height), c || d;
  },
  polar: function(t, e) {
    var n = e.r0 <= e.r ? 1 : -1;
    if (n < 0) {
      var o = e.r;
      e.r = e.r0, e.r0 = o;
    }
    var a = Wd(e.r, t.r), r = Ud(e.r0, t.r0);
    e.r = a, e.r0 = r;
    var i = a - r < 0;
    if (n < 0) {
      var o = e.r;
      e.r = e.r0, e.r0 = o;
    }
    return i;
  }
}, im = {
  cartesian2d: function(t, e, n, o, a, r, i, s, l) {
    var u = new Gt({
      shape: Le({}, o),
      z2: 1
    });
    if (u.__dataIndex = n, u.name = "item", r) {
      var c = u.shape, d = a ? "height" : "width";
      c[d] = 0;
    }
    return u;
  },
  polar: function(t, e, n, o, a, r, i, s, l) {
    var u = !a && l ? am : ma, c = new u({
      shape: o,
      z2: 1
    });
    c.name = "item";
    var d = t_(a);
    if (c.calculateTextPosition = $M(d, {
      isRoundCap: u === am
    }), r) {
      var f = c.shape, v = a ? "r" : "endAngle", p = {};
      f[v] = a ? o.r0 : o.startAngle, p[v] = o[v], (s ? an : gn)(c, {
        shape: p
        // __value: typeof dataValue === 'string' ? parseInt(dataValue, 10) : dataValue
      }, r);
    }
    return c;
  }
};
function NM(t, e) {
  var n = t.get("realtimeSort", !0), o = e.getBaseAxis();
  if (process.env.NODE_ENV !== "production" && n && (o.type !== "category" && nn("`realtimeSort` will not work because this bar series is not based on a category axis."), e.type !== "cartesian2d" && nn("`realtimeSort` will not work because this bar series is not on cartesian2d.")), n && o.type === "category" && e.type === "cartesian2d")
    return {
      baseAxis: o,
      otherAxis: e.getOtherAxis(o)
    };
}
function sm(t, e, n, o, a, r, i, s) {
  var l, u;
  r ? (u = {
    x: o.x,
    width: o.width
  }, l = {
    y: o.y,
    height: o.height
  }) : (u = {
    y: o.y,
    height: o.height
  }, l = {
    x: o.x,
    width: o.width
  }), s || (i ? an : gn)(n, {
    shape: l
  }, e, a, null);
  var c = e ? t.baseAxis.model : null;
  (i ? an : gn)(n, {
    shape: u
  }, c, a);
}
function lm(t, e) {
  for (var n = 0; n < e.length; n++)
    if (!isFinite(t[e[n]]))
      return !0;
  return !1;
}
var BM = ["x", "y", "width", "height"], FM = ["cx", "cy", "r", "startAngle", "endAngle"], um = {
  cartesian2d: function(t) {
    return !lm(t, BM);
  },
  polar: function(t) {
    return !lm(t, FM);
  }
}, Ml = {
  // itemModel is only used to get borderWidth, which is not needed
  // when calculating bar background layout.
  cartesian2d: function(t, e, n) {
    var o = t.getItemLayout(e), a = n ? VM(n, o) : 0, r = o.width > 0 ? 1 : -1, i = o.height > 0 ? 1 : -1;
    return {
      x: o.x + r * a / 2,
      y: o.y + i * a / 2,
      width: o.width - r * a,
      height: o.height - i * a
    };
  },
  polar: function(t, e, n) {
    var o = t.getItemLayout(e);
    return {
      cx: o.cx,
      cy: o.cy,
      r0: o.r0,
      r: o.r,
      startAngle: o.startAngle,
      endAngle: o.endAngle,
      clockwise: o.clockwise
    };
  }
};
function zM(t) {
  return t.startAngle != null && t.endAngle != null && t.startAngle === t.endAngle;
}
function t_(t) {
  return /* @__PURE__ */ function(e) {
    var n = e ? "Arc" : "Angle";
    return function(o) {
      switch (o) {
        case "start":
        case "insideStart":
        case "end":
        case "insideEnd":
          return o + n;
        default:
          return o;
      }
    };
  }(t);
}
function cm(t, e, n, o, a, r, i, s) {
  var l = e.getItemVisual(n, "style");
  if (s) {
    if (!r.get("roundCap")) {
      var c = t.shape, d = Xi(o.getModel("itemStyle"), c, !0);
      Le(c, d), t.setShape(c);
    }
  } else {
    var u = o.get(["itemStyle", "borderRadius"]) || 0;
    t.setShape("r", u);
  }
  t.useStyle(l);
  var f = o.getShallow("cursor");
  f && t.attr("cursor", f);
  var v = s ? i ? a.r >= a.r0 ? "endArc" : "startArc" : a.endAngle >= a.startAngle ? "endAngle" : "startAngle" : i ? a.height >= 0 ? "bottom" : "top" : a.width >= 0 ? "right" : "left", p = ni(o);
  ti(t, p, {
    labelFetcher: r,
    labelDataIndex: n,
    defaultText: Np(r.getData(), n),
    inheritColor: l.fill,
    defaultOpacity: l.opacity,
    defaultOutsidePosition: v
  });
  var h = t.getTextContent();
  if (s && h) {
    var m = o.get(["label", "position"]);
    t.textConfig.inside = m === "middle" ? !0 : null, PM(t, m === "outside" ? v : m, t_(i), o.get(["label", "rotate"]));
  }
  RC(h, p, r.getRawValue(n), function(y) {
    return X5(e, y);
  });
  var g = o.getModel(["emphasis"]);
  Wr(t, g.get("focus"), g.get("blurScope"), g.get("disabled")), Xr(t, o), zM(a) && (t.style.fill = "none", t.style.stroke = "none", se(t.states, function(y) {
    y.style && (y.style.fill = y.style.stroke = "none");
  }));
}
function VM(t, e) {
  var n = t.get(["itemStyle", "borderColor"]);
  if (!n || n === "none")
    return 0;
  var o = t.get(["itemStyle", "borderWidth"]) || 0, a = isNaN(e.width) ? Number.MAX_VALUE : Math.abs(e.width), r = isNaN(e.height) ? Number.MAX_VALUE : Math.abs(e.height);
  return Math.min(o, a, r);
}
var HM = (
  /** @class */
  /* @__PURE__ */ function() {
    function t() {
    }
    return t;
  }()
), dm = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n) {
      var o = t.call(this, n) || this;
      return o.type = "largeBar", o;
    }
    return e.prototype.getDefaultShape = function() {
      return new HM();
    }, e.prototype.buildPath = function(n, o) {
      for (var a = o.points, r = this.baseDimIdx, i = 1 - this.baseDimIdx, s = [], l = [], u = this.barWidth, c = 0; c < a.length; c += 3)
        l[r] = u, l[i] = a[c + 2], s[r] = a[c + r], s[i] = a[c + i], n.rect(s[0], s[1], l[0], l[1]);
    }, e;
  }(dt)
);
function fm(t, e, n, o) {
  var a = t.getData(), r = a.getLayout("valueAxisHorizontal") ? 1 : 0, i = a.getLayout("largeDataIndices"), s = a.getLayout("size"), l = t.getModel("backgroundStyle"), u = a.getLayout("largeBackgroundPoints");
  if (u) {
    var c = new dm({
      shape: {
        points: u
      },
      incremental: !!o,
      silent: !0,
      z2: 0
    });
    c.baseDimIdx = r, c.largeDataIndices = i, c.barWidth = s, c.useStyle(l.getItemStyle()), e.add(c), n && n.push(c);
  }
  var d = new dm({
    shape: {
      points: a.getLayout("largePoints")
    },
    incremental: !!o,
    ignoreCoarsePointer: !0,
    z2: 1
  });
  d.baseDimIdx = r, d.largeDataIndices = i, d.barWidth = s, e.add(d), d.useStyle(a.getVisual("style")), It(d).seriesIndex = t.seriesIndex, t.get("silent") || (d.on("mousedown", vm), d.on("mousemove", vm)), n && n.push(d);
}
var vm = Gy(function(t) {
  var e = this, n = GM(e, t.offsetX, t.offsetY);
  It(e).dataIndex = n >= 0 ? n : null;
}, 30, !1);
function GM(t, e, n) {
  for (var o = t.baseDimIdx, a = 1 - o, r = t.shape.points, i = t.largeDataIndices, s = [], l = [], u = t.barWidth, c = 0, d = r.length / 3; c < d; c++) {
    var f = c * 3;
    if (l[o] = u, l[a] = r[f + 2], s[o] = r[f + o], s[a] = r[f + a], l[a] < 0 && (s[a] += l[a], l[a] = -l[a]), e >= s[0] && e <= s[0] + l[0] && n >= s[1] && n <= s[1] + l[1])
      return i[c];
  }
  return -1;
}
function n_(t, e, n) {
  if (Fp(n, "cartesian2d")) {
    var o = e, a = n.getArea();
    return {
      x: t ? o.x : a.x,
      y: t ? a.y : o.y,
      width: t ? o.width : a.width,
      height: t ? a.height : o.height
    };
  } else {
    var a = n.getArea(), r = e;
    return {
      cx: a.cx,
      cy: a.cy,
      r0: t ? a.r0 : r.r0,
      r: t ? a.r : r.r,
      startAngle: t ? r.startAngle : 0,
      endAngle: t ? r.endAngle : Math.PI * 2
    };
  }
}
function UM(t, e, n) {
  var o = t.type === "polar" ? ma : Gt;
  return new o({
    shape: n_(e, n, t),
    silent: !0,
    z2: 0
  });
}
function WM(t) {
  t.registerChartView(OM), t.registerSeriesModel(AM), t.registerLayout(t.PRIORITY.VISUAL.LAYOUT, In(_E, "bar")), t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, bE("bar")), t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, e_("bar")), t.registerAction({
    type: "changeAxisOrder",
    event: "changeAxisOrder",
    update: "update"
  }, function(e, n) {
    var o = e.componentType || "series";
    n.eachComponent({
      mainType: o,
      query: e
    }, function(a) {
      e.sortInfo && a.axis.setCategorySortInfo(e.sortInfo);
    });
  });
}
var pm = Math.PI * 2, Al = Math.PI / 180;
function o_(t, e) {
  return wu(t.getBoxLayoutParams(), {
    width: e.getWidth(),
    height: e.getHeight()
  });
}
function a_(t, e) {
  var n = o_(t, e), o = t.get("center"), a = t.get("radius");
  Oe(a) || (a = [0, a]);
  var r = _t(n.width, e.getWidth()), i = _t(n.height, e.getHeight()), s = Math.min(r, i), l = _t(a[0], s / 2), u = _t(a[1], s / 2), c, d, f = t.coordinateSystem;
  if (f) {
    var v = f.dataToPoint(o);
    c = v[0] || 0, d = v[1] || 0;
  } else
    Oe(o) || (o = [o, o]), c = _t(o[0], r) + n.x, d = _t(o[1], i) + n.y;
  return {
    cx: c,
    cy: d,
    r0: l,
    r: u
  };
}
function XM(t, e, n) {
  e.eachSeriesByType(t, function(o) {
    var a = o.getData(), r = a.mapDimension("value"), i = o_(o, n), s = a_(o, n), l = s.cx, u = s.cy, c = s.r, d = s.r0, f = -o.get("startAngle") * Al, v = o.get("endAngle"), p = o.get("padAngle") * Al;
    v = v === "auto" ? f - pm : -v * Al;
    var h = o.get("minAngle") * Al, m = h + p, g = 0;
    a.each(r, function(z) {
      !isNaN(z) && g++;
    });
    var y = a.getSum(r), _ = Math.PI / (y || g) * 2, w = o.get("clockwise"), x = o.get("roseType"), S = o.get("stillShowZeroSum"), L = a.getDataExtent(r);
    L[0] = 0;
    var b = w ? 1 : -1, I = [f, v], M = b * p / 2;
    A2(I, !w), f = I[0], v = I[1];
    var E = r_(o);
    E.startAngle = f, E.endAngle = v, E.clockwise = w;
    var D = Math.abs(v - f), O = D, N = 0, P = f;
    if (a.setLayout({
      viewRect: i,
      r: c
    }), a.each(r, function(z, H) {
      var W;
      if (isNaN(z)) {
        a.setItemLayout(H, {
          angle: NaN,
          startAngle: NaN,
          endAngle: NaN,
          clockwise: w,
          cx: l,
          cy: u,
          r0: d,
          r: x ? NaN : c
        });
        return;
      }
      x !== "area" ? W = y === 0 && S ? _ : z * _ : W = D / g, W < m ? (W = m, O -= m) : N += z;
      var oe = P + b * W, te = 0, le = 0;
      p > W ? (te = P + b * W / 2, le = te) : (te = P + M, le = oe - M), a.setItemLayout(H, {
        angle: W,
        startAngle: te,
        endAngle: le,
        clockwise: w,
        cx: l,
        cy: u,
        r0: d,
        r: x ? Of(z, L, [d, c]) : c
      }), P = oe;
    }), O < pm && g)
      if (O <= 1e-3) {
        var $ = D / g;
        a.each(r, function(z, H) {
          if (!isNaN(z)) {
            var W = a.getItemLayout(H);
            W.angle = $;
            var oe = 0, te = 0;
            $ < p ? (oe = f + b * (H + 1 / 2) * $, te = oe) : (oe = f + b * H * $ + M, te = f + b * (H + 1) * $ - M), W.startAngle = oe, W.endAngle = te;
          }
        });
      } else
        _ = O / N, P = f, a.each(r, function(z, H) {
          if (!isNaN(z)) {
            var W = a.getItemLayout(H), oe = W.angle === m ? m : z * _, te = 0, le = 0;
            oe < p ? (te = P + b * oe / 2, le = te) : (te = P + M, le = P + b * oe - M), W.startAngle = te, W.endAngle = le, P += b * oe;
          }
        });
  });
}
var r_ = Wt();
function i_(t) {
  return {
    seriesType: t,
    reset: function(e, n) {
      var o = n.findComponents({
        mainType: "legend"
      });
      if (!(!o || !o.length)) {
        var a = e.getData();
        a.filterSelf(function(r) {
          for (var i = a.getName(r), s = 0; s < o.length; s++)
            if (!o[s].isSelected(i))
              return !1;
          return !0;
        });
      }
    }
  };
}
var YM = Math.PI / 180;
function hm(t, e, n, o, a, r, i, s, l, u) {
  if (t.length < 2)
    return;
  function c(h) {
    for (var m = h.rB, g = m * m, y = 0; y < h.list.length; y++) {
      var _ = h.list[y], w = Math.abs(_.label.y - n), x = o + _.len, S = x * x, L = Math.sqrt((1 - Math.abs(w * w / g)) * S), b = e + (L + _.len2) * a, I = b - _.label.x, M = _.targetTextWidth - I * a;
      s_(_, M, !0), _.label.x = b;
    }
  }
  function d(h) {
    for (var m = {
      list: [],
      maxY: 0
    }, g = {
      list: [],
      maxY: 0
    }, y = 0; y < h.length; y++)
      if (h[y].labelAlignTo === "none") {
        var _ = h[y], w = _.label.y > n ? g : m, x = Math.abs(_.label.y - n);
        if (x >= w.maxY) {
          var S = _.label.x - e - _.len2 * a, L = o + _.len, b = Math.abs(S) < L ? Math.sqrt(x * x / (1 - S * S / L / L)) : L;
          w.rB = b, w.maxY = x;
        }
        w.list.push(_);
      }
    c(m), c(g);
  }
  for (var f = t.length, v = 0; v < f; v++)
    if (t[v].position === "outer" && t[v].labelAlignTo === "labelLine") {
      var p = t[v].label.x - u;
      t[v].linePoints[1][0] += p, t[v].label.x = u;
    }
  sM(t, l, l + i) && d(t);
}
function ZM(t, e, n, o, a, r, i, s) {
  for (var l = [], u = [], c = Number.MAX_VALUE, d = -Number.MAX_VALUE, f = 0; f < t.length; f++) {
    var v = t[f].label;
    Xd(t[f]) || (v.x < e ? (c = Math.min(c, v.x), l.push(t[f])) : (d = Math.max(d, v.x), u.push(t[f])));
  }
  for (var f = 0; f < t.length; f++) {
    var p = t[f];
    if (!Xd(p) && p.linePoints) {
      if (p.labelStyleWidth != null)
        continue;
      var v = p.label, h = p.linePoints, m = void 0;
      p.labelAlignTo === "edge" ? v.x < e ? m = h[2][0] - p.labelDistance - i - p.edgeDistance : m = i + a - p.edgeDistance - h[2][0] - p.labelDistance : p.labelAlignTo === "labelLine" ? v.x < e ? m = c - i - p.bleedMargin : m = i + a - d - p.bleedMargin : v.x < e ? m = v.x - i - p.bleedMargin : m = i + a - v.x - p.bleedMargin, p.targetTextWidth = m, s_(p, m);
    }
  }
  hm(u, e, n, o, 1, a, r, i, s, d), hm(l, e, n, o, -1, a, r, i, s, c);
  for (var f = 0; f < t.length; f++) {
    var p = t[f];
    if (!Xd(p) && p.linePoints) {
      var v = p.label, h = p.linePoints, g = p.labelAlignTo === "edge", y = v.style.padding, _ = y ? y[1] + y[3] : 0, w = v.style.backgroundColor ? 0 : _, x = p.rect.width + w, S = h[1][0] - h[2][0];
      g ? v.x < e ? h[2][0] = i + p.edgeDistance + x + p.labelDistance : h[2][0] = i + a - p.edgeDistance - x - p.labelDistance : (v.x < e ? h[2][0] = v.x + p.labelDistance : h[2][0] = v.x - p.labelDistance, h[1][0] = h[2][0] + S), h[1][1] = h[2][1] = v.y;
    }
  }
}
function s_(t, e, n) {
  if (n === void 0 && (n = !1), t.labelStyleWidth == null) {
    var o = t.label, a = o.style, r = t.rect, i = a.backgroundColor, s = a.padding, l = s ? s[1] + s[3] : 0, u = a.overflow, c = r.width + (i ? 0 : l);
    if (e < c || n) {
      var d = r.height;
      if (u && u.match("break")) {
        o.setStyle("backgroundColor", null), o.setStyle("width", e - l);
        var f = o.getBoundingRect();
        o.setStyle("width", Math.ceil(f.width)), o.setStyle("backgroundColor", i);
      } else {
        var v = e - l, p = e < c ? v : (
          // Current available width is enough, but the text may have
          // already been wrapped with a smaller available width.
          n ? v > t.unconstrainedWidth ? null : v : null
        );
        o.setStyle("width", p);
      }
      var h = o.getBoundingRect();
      r.width = h.width;
      var m = (o.style.margin || 0) + 2.1;
      r.height = h.height + m, r.y -= (r.height - d) / 2;
    }
  }
}
function Xd(t) {
  return t.position === "center";
}
function qM(t) {
  var e = t.getData(), n = [], o, a, r = !1, i = (t.get("minShowLabelAngle") || 0) * YM, s = e.getLayout("viewRect"), l = e.getLayout("r"), u = s.width, c = s.x, d = s.y, f = s.height;
  function v(S) {
    S.ignore = !0;
  }
  function p(S) {
    if (!S.ignore)
      return !0;
    for (var L in S.states)
      if (S.states[L].ignore === !1)
        return !0;
    return !1;
  }
  e.each(function(S) {
    var L = e.getItemGraphicEl(S), b = L.shape, I = L.getTextContent(), M = L.getTextGuideLine(), E = e.getItemModel(S), D = E.getModel("label"), O = D.get("position") || E.get(["emphasis", "label", "position"]), N = D.get("distanceToLabelLine"), P = D.get("alignTo"), $ = _t(D.get("edgeDistance"), u), z = D.get("bleedMargin"), H = E.getModel("labelLine"), W = H.get("length");
    W = _t(W, u);
    var oe = H.get("length2");
    if (oe = _t(oe, u), Math.abs(b.endAngle - b.startAngle) < i) {
      se(I.states, v), I.ignore = !0, M && (se(M.states, v), M.ignore = !0);
      return;
    }
    if (p(I)) {
      var te = (b.startAngle + b.endAngle) / 2, le = Math.cos(te), J = Math.sin(te), Q, q, G, B;
      o = b.cx, a = b.cy;
      var ee = O === "inside" || O === "inner";
      if (O === "center")
        Q = b.cx, q = b.cy, B = "center";
      else {
        var ue = (ee ? (b.r + b.r0) / 2 * le : b.r * le) + o, X = (ee ? (b.r + b.r0) / 2 * J : b.r * J) + a;
        if (Q = ue + le * 3, q = X + J * 3, !ee) {
          var Y = ue + le * (W + l - b.r), U = X + J * (W + l - b.r), K = Y + (le < 0 ? -1 : 1) * oe, Z = U;
          P === "edge" ? Q = le < 0 ? c + $ : c + u - $ : Q = K + (le < 0 ? -N : N), q = Z, G = [[ue, X], [Y, U], [K, Z]];
        }
        B = ee ? "center" : P === "edge" ? le > 0 ? "right" : "left" : le > 0 ? "left" : "right";
      }
      var ae = Math.PI, he = 0, Ce = D.get("rotate");
      if (bt(Ce))
        he = Ce * (ae / 180);
      else if (O === "center")
        he = 0;
      else if (Ce === "radial" || Ce === !0) {
        var ke = le < 0 ? -te + ae : -te;
        he = ke;
      } else if (Ce === "tangential" && O !== "outside" && O !== "outer") {
        var Se = Math.atan2(le, J);
        Se < 0 && (Se = ae * 2 + Se);
        var be = J > 0;
        be && (Se = ae + Se), he = Se - ae;
      }
      if (r = !!he, I.x = Q, I.y = q, I.rotation = he, I.setStyle({
        verticalAlign: "middle"
      }), ee) {
        I.setStyle({
          align: B
        });
        var We = I.states.select;
        We && (We.x += I.x, We.y += I.y);
      } else {
        var we = I.getBoundingRect().clone();
        we.applyTransform(I.getComputedTransform());
        var je = (I.style.margin || 0) + 2.1;
        we.y -= je / 2, we.height += je, n.push({
          label: I,
          labelLine: M,
          position: O,
          len: W,
          len2: oe,
          minTurnAngle: H.get("minTurnAngle"),
          maxSurfaceAngle: H.get("maxSurfaceAngle"),
          surfaceNormal: new Ye(le, J),
          linePoints: G,
          textAlign: B,
          labelDistance: N,
          labelAlignTo: P,
          edgeDistance: $,
          bleedMargin: z,
          rect: we,
          unconstrainedWidth: we.width,
          labelStyleWidth: I.style.width
        });
      }
      L.setTextConfig({
        inside: ee
      });
    }
  }), !r && t.get("avoidLabelOverlap") && ZM(n, o, a, l, u, f, c, d);
  for (var h = 0; h < n.length; h++) {
    var m = n[h], g = m.label, y = m.labelLine, _ = isNaN(g.x) || isNaN(g.y);
    if (g) {
      g.setStyle({
        align: m.textAlign
      }), _ && (se(g.states, v), g.ignore = !0);
      var w = g.states.select;
      w && (w.x += g.x, w.y += g.y);
    }
    if (y) {
      var x = m.linePoints;
      _ || !x ? (se(y.states, v), y.ignore = !0) : (eM(x, m.minTurnAngle), tM(x, m.surfaceNormal, m.maxSurfaceAngle), y.setShape({
        points: x
      }), g.__hostTarget.textGuideLineConfig = {
        anchor: new Ye(x[0][0], x[0][1])
      });
    }
  }
}
var JM = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n, o, a) {
      var r = t.call(this) || this;
      r.z2 = 2;
      var i = new Ln();
      return r.setTextContent(i), r.updateData(n, o, a, !0), r;
    }
    return e.prototype.updateData = function(n, o, a, r) {
      var i = this, s = n.hostModel, l = n.getItemModel(o), u = l.getModel("emphasis"), c = n.getItemLayout(o), d = Le(Xi(l.getModel("itemStyle"), c, !0), c);
      if (isNaN(d.startAngle)) {
        i.setShape(d);
        return;
      }
      if (r) {
        i.setShape(d);
        var f = s.getShallow("animationType");
        s.ecModel.ssr ? (gn(i, {
          scaleX: 0,
          scaleY: 0
        }, s, {
          dataIndex: o,
          isFrom: !0
        }), i.originX = d.cx, i.originY = d.cy) : f === "scale" ? (i.shape.r = c.r0, gn(i, {
          shape: {
            r: c.r
          }
        }, s, o)) : a != null ? (i.setShape({
          startAngle: a,
          endAngle: a
        }), gn(i, {
          shape: {
            startAngle: c.startAngle,
            endAngle: c.endAngle
          }
        }, s, o)) : (i.shape.endAngle = c.startAngle, an(i, {
          shape: {
            endAngle: c.endAngle
          }
        }, s, o));
      } else
        ms(i), an(i, {
          shape: d
        }, s, o);
      i.useStyle(n.getItemVisual(o, "style")), Xr(i, l);
      var v = (c.startAngle + c.endAngle) / 2, p = s.get("selectedOffset"), h = Math.cos(v) * p, m = Math.sin(v) * p, g = l.getShallow("cursor");
      g && i.attr("cursor", g), this._updateLabel(s, n, o), i.ensureState("emphasis").shape = Le({
        r: c.r + (u.get("scale") && u.get("scaleSize") || 0)
      }, Xi(u.getModel("itemStyle"), c)), Le(i.ensureState("select"), {
        x: h,
        y: m,
        shape: Xi(l.getModel(["select", "itemStyle"]), c)
      }), Le(i.ensureState("blur"), {
        shape: Xi(l.getModel(["blur", "itemStyle"]), c)
      });
      var y = i.getTextGuideLine(), _ = i.getTextContent();
      y && Le(y.ensureState("select"), {
        x: h,
        y: m
      }), Le(_.ensureState("select"), {
        x: h,
        y: m
      }), Wr(this, u.get("focus"), u.get("blurScope"), u.get("disabled"));
    }, e.prototype._updateLabel = function(n, o, a) {
      var r = this, i = o.getItemModel(a), s = i.getModel("labelLine"), l = o.getItemVisual(a, "style"), u = l && l.fill, c = l && l.opacity;
      ti(r, ni(i), {
        labelFetcher: o.hostModel,
        labelDataIndex: a,
        inheritColor: u,
        defaultOpacity: c,
        defaultText: n.getFormattedLabel(a, "normal") || o.getName(a)
      });
      var d = r.getTextContent();
      r.setTextConfig({
        // reset position, rotation
        position: null,
        rotation: null
      }), d.attr({
        z2: 10
      });
      var f = n.get(["label", "position"]);
      if (f !== "outside" && f !== "outer")
        r.removeTextGuideLine();
      else {
        var v = this.getTextGuideLine();
        v || (v = new rr(), this.setTextGuideLine(v)), oM(this, aM(i), {
          stroke: u,
          opacity: Xa(s.get(["lineStyle", "opacity"]), c, 1)
        });
      }
    }, e;
  }(ma)
), KM = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.ignoreLabelLineUpdate = !0, n;
    }
    return e.prototype.render = function(n, o, a, r) {
      var i = n.getData(), s = this._data, l = this.group, u;
      if (!s && i.count() > 0) {
        for (var c = i.getItemLayout(0), d = 1; isNaN(c && c.startAngle) && d < i.count(); ++d)
          c = i.getItemLayout(d);
        c && (u = c.startAngle);
      }
      if (this._emptyCircleSector && l.remove(this._emptyCircleSector), i.count() === 0 && n.get("showEmptyCircle")) {
        var f = r_(n), v = new ma({
          shape: Le(a_(n, a), f)
        });
        v.useStyle(n.getModel("emptyCircleStyle").getItemStyle()), this._emptyCircleSector = v, l.add(v);
      }
      i.diff(s).add(function(p) {
        var h = new JM(i, p, u);
        i.setItemGraphicEl(p, h), l.add(h);
      }).update(function(p, h) {
        var m = s.getItemGraphicEl(h);
        m.updateData(i, p, u), m.off("click"), l.add(m), i.setItemGraphicEl(p, m);
      }).remove(function(p) {
        var h = s.getItemGraphicEl(p);
        gu(h, n, p);
      }).execute(), qM(n), n.get("animationTypeUpdate") !== "expansion" && (this._data = i);
    }, e.prototype.dispose = function() {
    }, e.prototype.containPoint = function(n, o) {
      var a = o.getData(), r = a.getItemLayout(0);
      if (r) {
        var i = n[0] - r.cx, s = n[1] - r.cy, l = Math.sqrt(i * i + s * s);
        return l <= r.r && l >= r.r0;
      }
    }, e.type = "pie", e;
  }(yn)
);
function l_(t, e, n) {
  e = Oe(e) && {
    coordDimensions: e
  } || Le({
    encodeDefine: t.getEncode()
  }, e);
  var o = t.getSource(), a = C5(o, e).dimensions, r = new I5(a, t);
  return r.initData(o, n), r;
}
var u_ = (
  /** @class */
  function() {
    function t(e, n) {
      this._getDataWithEncodedVisual = e, this._getRawData = n;
    }
    return t.prototype.getAllNames = function() {
      var e = this._getRawData();
      return e.mapArray(e.getName);
    }, t.prototype.containName = function(e) {
      var n = this._getRawData();
      return n.indexOfName(e) >= 0;
    }, t.prototype.indexOfName = function(e) {
      var n = this._getDataWithEncodedVisual();
      return n.indexOfName(e);
    }, t.prototype.getItemVisual = function(e, n) {
      var o = this._getDataWithEncodedVisual();
      return o.getItemVisual(e, n);
    }, t;
  }()
), QM = Wt(), jM = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    return e.prototype.init = function(n) {
      t.prototype.init.apply(this, arguments), this.legendVisualProvider = new u_(Bt(this.getData, this), Bt(this.getRawData, this)), this._defaultLabelLine(n);
    }, e.prototype.mergeOption = function() {
      t.prototype.mergeOption.apply(this, arguments);
    }, e.prototype.getInitialData = function() {
      return l_(this, {
        coordDimensions: ["value"],
        encodeDefaulter: In(uT, this)
      });
    }, e.prototype.getDataParams = function(n) {
      var o = this.getData(), a = QM(o), r = a.seats;
      if (!r) {
        var i = [];
        o.each(o.mapDimension("value"), function(l) {
          i.push(l);
        }), r = a.seats = QS(i, o.hostModel.get("percentPrecision"));
      }
      var s = t.prototype.getDataParams.call(this, n);
      return s.percent = r[n] || 0, s.$vars.push("percent"), s;
    }, e.prototype._defaultLabelLine = function(n) {
      Ff(n, "labelLine", ["show"]);
      var o = n.labelLine, a = n.emphasis.labelLine;
      o.show = o.show && n.label.show, a.show = a.show && n.emphasis.label.show;
    }, e.type = "series.pie", e.defaultOption = {
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      colorBy: "data",
      // 默认全局居中
      center: ["50%", "50%"],
      radius: [0, "75%"],
      // 默认顺时针
      clockwise: !0,
      startAngle: 90,
      endAngle: "auto",
      padAngle: 0,
      // 最小角度改为0
      minAngle: 0,
      // If the angle of a sector less than `minShowLabelAngle`,
      // the label will not be displayed.
      minShowLabelAngle: 0,
      // 选中时扇区偏移量
      selectedOffset: 10,
      // 选择模式，默认关闭，可选single，multiple
      // selectedMode: false,
      // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）
      // roseType: null,
      percentPrecision: 2,
      // If still show when all data zero.
      stillShowZeroSum: !0,
      // cursor: null,
      left: 0,
      top: 0,
      right: 0,
      bottom: 0,
      width: null,
      height: null,
      label: {
        // color: 'inherit',
        // If rotate around circle
        rotate: 0,
        show: !0,
        overflow: "truncate",
        // 'outer', 'inside', 'center'
        position: "outer",
        // 'none', 'labelLine', 'edge'. Works only when position is 'outer'
        alignTo: "none",
        // Closest distance between label and chart edge.
        // Works only position is 'outer' and alignTo is 'edge'.
        edgeDistance: "25%",
        // Works only position is 'outer' and alignTo is not 'edge'.
        bleedMargin: 10,
        // Distance between text and label line.
        distanceToLabelLine: 5
        // formatter: 标签文本格式器，同 tooltip.formatter，不支持异步回调
        // 默认使用全局文本样式，详见 textStyle
        // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数
      },
      // Enabled when label.normal.position is 'outer'
      labelLine: {
        show: !0,
        // 引导线两段中的第一段长度
        length: 15,
        // 引导线两段中的第二段长度
        length2: 15,
        smooth: !1,
        minTurnAngle: 90,
        maxSurfaceAngle: 90,
        lineStyle: {
          // color: 各异,
          width: 1,
          type: "solid"
        }
      },
      itemStyle: {
        borderWidth: 1,
        borderJoin: "round"
      },
      showEmptyCircle: !0,
      emptyCircleStyle: {
        color: "lightgray",
        opacity: 1
      },
      labelLayout: {
        // Hide the overlapped label.
        hideOverlap: !0
      },
      emphasis: {
        scale: !0,
        scaleSize: 5
      },
      // If use strategy to avoid label overlapping
      avoidLabelOverlap: !0,
      // Animation type. Valid values: expansion, scale
      animationType: "expansion",
      animationDuration: 1e3,
      // Animation type when update. Valid values: transition, expansion
      animationTypeUpdate: "transition",
      animationEasingUpdate: "cubicInOut",
      animationDurationUpdate: 500,
      animationEasing: "cubicInOut"
    }, e;
  }(kn)
);
function eA(t) {
  return {
    seriesType: t,
    reset: function(e, n) {
      var o = e.getData();
      o.filterSelf(function(a) {
        var r = o.mapDimension("value"), i = o.get(r, a);
        return !(bt(i) && !isNaN(i) && i < 0);
      });
    }
  };
}
function tA(t) {
  t.registerChartView(KM), t.registerSeriesModel(jM), NL("pie", t.registerAction), t.registerLayout(In(XM, "pie")), t.registerProcessor(i_("pie")), t.registerProcessor(eA("pie"));
}
var nA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n.hasSymbolVisual = !0, n;
    }
    return e.prototype.getInitialData = function(n, o) {
      return pc(null, this, {
        useEncodeDefaulter: !0
      });
    }, e.prototype.getProgressive = function() {
      var n = this.option.progressive;
      return n ?? (this.option.large ? 5e3 : this.get("progressive"));
    }, e.prototype.getProgressiveThreshold = function() {
      var n = this.option.progressiveThreshold;
      return n ?? (this.option.large ? 1e4 : this.get("progressiveThreshold"));
    }, e.prototype.brushSelector = function(n, o, a) {
      return a.point(o.getItemLayout(n));
    }, e.prototype.getZLevelKey = function() {
      return this.getData().count() > this.getProgressiveThreshold() ? this.id : "";
    }, e.type = "series.scatter", e.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar"], e.defaultOption = {
      coordinateSystem: "cartesian2d",
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      symbolSize: 10,
      // symbolRotate: null,  // 图形旋转控制
      large: !1,
      // Available when large is true
      largeThreshold: 2e3,
      // cursor: null,
      itemStyle: {
        opacity: 0.8
        // color: 各异
      },
      emphasis: {
        scale: !0
      },
      // If clip the overflow graphics
      // Works on cartesian / polar series
      clip: !0,
      select: {
        itemStyle: {
          borderColor: "#212121"
        }
      },
      universalTransition: {
        divideShape: "clone"
      }
      // progressive: null
    }, e;
  }(kn)
), c_ = 4, oA = (
  /** @class */
  /* @__PURE__ */ function() {
    function t() {
    }
    return t;
  }()
), aA = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n) {
      var o = t.call(this, n) || this;
      return o._off = 0, o.hoverDataIdx = -1, o;
    }
    return e.prototype.getDefaultShape = function() {
      return new oA();
    }, e.prototype.reset = function() {
      this.notClear = !1, this._off = 0;
    }, e.prototype.buildPath = function(n, o) {
      var a = o.points, r = o.size, i = this.symbolProxy, s = i.shape, l = n.getContext ? n.getContext() : n, u = l && r[0] < c_, c = this.softClipShape, d;
      if (u) {
        this._ctx = l;
        return;
      }
      for (this._ctx = null, d = this._off; d < a.length; ) {
        var f = a[d++], v = a[d++];
        isNaN(f) || isNaN(v) || c && !c.contain(f, v) || (s.x = f - r[0] / 2, s.y = v - r[1] / 2, s.width = r[0], s.height = r[1], i.buildPath(n, s, !0));
      }
      this.incremental && (this._off = d, this.notClear = !0);
    }, e.prototype.afterBrush = function() {
      var n = this.shape, o = n.points, a = n.size, r = this._ctx, i = this.softClipShape, s;
      if (r) {
        for (s = this._off; s < o.length; ) {
          var l = o[s++], u = o[s++];
          isNaN(l) || isNaN(u) || i && !i.contain(l, u) || r.fillRect(l - a[0] / 2, u - a[1] / 2, a[0], a[1]);
        }
        this.incremental && (this._off = s, this.notClear = !0);
      }
    }, e.prototype.findDataIndex = function(n, o) {
      for (var a = this.shape, r = a.points, i = a.size, s = Math.max(i[0], 4), l = Math.max(i[1], 4), u = r.length / 2 - 1; u >= 0; u--) {
        var c = u * 2, d = r[c] - s / 2, f = r[c + 1] - l / 2;
        if (n >= d && o >= f && n <= d + s && o <= f + l)
          return u;
      }
      return -1;
    }, e.prototype.contain = function(n, o) {
      var a = this.transformCoordToLocal(n, o), r = this.getBoundingRect();
      if (n = a[0], o = a[1], r.contain(n, o)) {
        var i = this.hoverDataIdx = this.findDataIndex(n, o);
        return i >= 0;
      }
      return this.hoverDataIdx = -1, !1;
    }, e.prototype.getBoundingRect = function() {
      var n = this._rect;
      if (!n) {
        for (var o = this.shape, a = o.points, r = o.size, i = r[0], s = r[1], l = 1 / 0, u = 1 / 0, c = -1 / 0, d = -1 / 0, f = 0; f < a.length; ) {
          var v = a[f++], p = a[f++];
          l = Math.min(v, l), c = Math.max(v, c), u = Math.min(p, u), d = Math.max(p, d);
        }
        n = this._rect = new yt(l - i / 2, u - s / 2, c - l + i, d - u + s);
      }
      return n;
    }, e;
  }(dt)
), rA = (
  /** @class */
  function() {
    function t() {
      this.group = new zt();
    }
    return t.prototype.updateData = function(e, n) {
      this._clear();
      var o = this._create();
      o.setShape({
        points: e.getLayout("points")
      }), this._setCommon(o, e, n);
    }, t.prototype.updateLayout = function(e) {
      var n = e.getLayout("points");
      this.group.eachChild(function(o) {
        if (o.startIndex != null) {
          var a = (o.endIndex - o.startIndex) * 2, r = o.startIndex * 4 * 2;
          n = new Float32Array(n.buffer, r, a);
        }
        o.setShape("points", n), o.reset();
      });
    }, t.prototype.incrementalPrepareUpdate = function(e) {
      this._clear();
    }, t.prototype.incrementalUpdate = function(e, n, o) {
      var a = this._newAdded[0], r = n.getLayout("points"), i = a && a.shape.points;
      if (i && i.length < 2e4) {
        var s = i.length, l = new Float32Array(s + r.length);
        l.set(i), l.set(r, s), a.endIndex = e.end, a.setShape({
          points: l
        });
      } else {
        this._newAdded = [];
        var u = this._create();
        u.startIndex = e.start, u.endIndex = e.end, u.incremental = !0, u.setShape({
          points: r
        }), this._setCommon(u, n, o);
      }
    }, t.prototype.eachRendered = function(e) {
      this._newAdded[0] && e(this._newAdded[0]);
    }, t.prototype._create = function() {
      var e = new aA({
        cursor: "default"
      });
      return e.ignoreCoarsePointer = !0, this.group.add(e), this._newAdded.push(e), e;
    }, t.prototype._setCommon = function(e, n, o) {
      var a = n.hostModel;
      o = o || {};
      var r = n.getVisual("symbolSize");
      e.setShape("size", r instanceof Array ? r : [r, r]), e.softClipShape = o.clipShape || null, e.symbolProxy = ca(n.getVisual("symbol"), 0, 0, 0, 0), e.setColor = e.symbolProxy.setColor;
      var i = e.shape.size[0] < c_;
      e.useStyle(
        // Draw shadow when doing fillRect is extremely slow.
        a.getModel("itemStyle").getItemStyle(i ? ["color", "shadowBlur", "shadowColor"] : ["color"])
      );
      var s = n.getVisual("style"), l = s && s.fill;
      l && e.setColor(l);
      var u = It(e);
      u.seriesIndex = a.seriesIndex, e.on("mousemove", function(c) {
        u.dataIndex = null;
        var d = e.hoverDataIdx;
        d >= 0 && (u.dataIndex = d + (e.startIndex || 0));
      });
    }, t.prototype.remove = function() {
      this._clear();
    }, t.prototype._clear = function() {
      this._newAdded = [], this.group.removeAll();
    }, t;
  }()
), iA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n;
    }
    return e.prototype.render = function(n, o, a) {
      var r = n.getData(), i = this._updateSymbolDraw(r, n);
      i.updateData(r, {
        // TODO
        // If this parameter should be a shape or a bounding volume
        // shape will be more general.
        // But bounding volume like bounding rect will be much faster in the contain calculation
        clipShape: this._getClipShape(n)
      }), this._finished = !0;
    }, e.prototype.incrementalPrepareRender = function(n, o, a) {
      var r = n.getData(), i = this._updateSymbolDraw(r, n);
      i.incrementalPrepareUpdate(r), this._finished = !1;
    }, e.prototype.incrementalRender = function(n, o, a) {
      this._symbolDraw.incrementalUpdate(n, o.getData(), {
        clipShape: this._getClipShape(o)
      }), this._finished = n.end === o.getData().count();
    }, e.prototype.updateTransform = function(n, o, a) {
      var r = n.getData();
      if (this.group.dirty(), !this._finished || r.count() > 1e4)
        return {
          update: !0
        };
      var i = zp("").reset(n, o, a);
      i.progress && i.progress({
        start: 0,
        end: r.count(),
        count: r.count()
      }, r), this._symbolDraw.updateLayout(r);
    }, e.prototype.eachRendered = function(n) {
      this._symbolDraw && this._symbolDraw.eachRendered(n);
    }, e.prototype._getClipShape = function(n) {
      if (n.get("clip", !0)) {
        var o = n.coordinateSystem;
        return o && o.getArea && o.getArea(0.1);
      }
    }, e.prototype._updateSymbolDraw = function(n, o) {
      var a = this._symbolDraw, r = o.pipelineContext, i = r.large;
      return (!a || i !== this._isLargeDraw) && (a && a.remove(), a = this._symbolDraw = i ? new rA() : new Y5(), this._isLargeDraw = i, this.group.removeAll()), this.group.add(a.group), a;
    }, e.prototype.remove = function(n, o) {
      this._symbolDraw && this._symbolDraw.remove(!0), this._symbolDraw = null;
    }, e.prototype.dispose = function() {
    }, e.type = "scatter", e;
  }(yn)
), sA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    return e.type = "grid", e.dependencies = ["xAxis", "yAxis"], e.layoutMode = "box", e.defaultOption = {
      show: !1,
      // zlevel: 0,
      z: 0,
      left: "10%",
      top: 60,
      right: "10%",
      bottom: 70,
      // If grid size contain label
      containLabel: !1,
      // width: {totalWidth} - left - right,
      // height: {totalHeight} - top - bottom,
      backgroundColor: "rgba(0,0,0,0)",
      borderWidth: 1,
      borderColor: "#ccc"
    }, e;
  }(mt)
), fv = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    return e.prototype.getCoordSysModel = function() {
      return this.getReferringComponents("grid", Kn).models[0];
    }, e.type = "cartesian2dAxis", e;
  }(mt)
);
to(fv, O5);
var d_ = {
  show: !0,
  // zlevel: 0,
  z: 0,
  // Inverse the axis.
  inverse: !1,
  // Axis name displayed.
  name: "",
  // 'start' | 'middle' | 'end'
  nameLocation: "end",
  // By degree. By default auto rotate by nameLocation.
  nameRotate: null,
  nameTruncate: {
    maxWidth: null,
    ellipsis: "...",
    placeholder: "."
  },
  // Use global text style by default.
  nameTextStyle: {},
  // The gap between axisName and axisLine.
  nameGap: 15,
  // Default `false` to support tooltip.
  silent: !1,
  // Default `false` to avoid legacy user event listener fail.
  triggerEvent: !1,
  tooltip: {
    show: !1
  },
  axisPointer: {},
  axisLine: {
    show: !0,
    onZero: !0,
    onZeroAxisIndex: null,
    lineStyle: {
      color: "#6E7079",
      width: 1,
      type: "solid"
    },
    // The arrow at both ends the the axis.
    symbol: ["none", "none"],
    symbolSize: [10, 15]
  },
  axisTick: {
    show: !0,
    // Whether axisTick is inside the grid or outside the grid.
    inside: !1,
    // The length of axisTick.
    length: 5,
    lineStyle: {
      width: 1
    }
  },
  axisLabel: {
    show: !0,
    // Whether axisLabel is inside the grid or outside the grid.
    inside: !1,
    rotate: 0,
    // true | false | null/undefined (auto)
    showMinLabel: null,
    // true | false | null/undefined (auto)
    showMaxLabel: null,
    margin: 8,
    // formatter: null,
    fontSize: 12
  },
  splitLine: {
    show: !0,
    lineStyle: {
      color: ["#E0E6F1"],
      width: 1,
      type: "solid"
    }
  },
  splitArea: {
    show: !1,
    areaStyle: {
      color: ["rgba(250,250,250,0.2)", "rgba(210,219,238,0.2)"]
    }
  }
}, lA = gt({
  // The gap at both ends of the axis. For categoryAxis, boolean.
  boundaryGap: !0,
  // Set false to faster category collection.
  deduplication: null,
  // splitArea: {
  // show: false
  // },
  splitLine: {
    show: !1
  },
  axisTick: {
    // If tick is align with label when boundaryGap is true
    alignWithLabel: !1,
    interval: "auto"
  },
  axisLabel: {
    interval: "auto"
  }
}, d_), Vp = gt({
  boundaryGap: [0, 0],
  axisLine: {
    // Not shown when other axis is categoryAxis in cartesian
    show: "auto"
  },
  axisTick: {
    // Not shown when other axis is categoryAxis in cartesian
    show: "auto"
  },
  // TODO
  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]
  splitNumber: 5,
  minorTick: {
    // Minor tick, not available for cateogry axis.
    show: !1,
    // Split number of minor ticks. The value should be in range of (0, 100)
    splitNumber: 5,
    // Length of minor tick
    length: 3,
    // Line style
    lineStyle: {
      // Default to be same with axisTick
    }
  },
  minorSplitLine: {
    show: !1,
    lineStyle: {
      color: "#F4F7FD",
      width: 1
    }
  }
}, d_), uA = gt({
  splitNumber: 6,
  axisLabel: {
    // To eliminate labels that are not nice
    showMinLabel: !1,
    showMaxLabel: !1,
    rich: {
      primary: {
        fontWeight: "bold"
      }
    }
  },
  splitLine: {
    show: !1
  }
}, Vp), cA = rt({
  logBase: 10
}, Vp);
const f_ = {
  category: lA,
  value: Vp,
  time: uA,
  log: cA
};
var dA = {
  value: 1,
  category: 1,
  time: 1,
  log: 1
};
function mm(t, e, n, o) {
  se(dA, function(a, r) {
    var i = gt(gt({}, f_[r], !0), o, !0), s = (
      /** @class */
      function(l) {
        De(u, l);
        function u() {
          var c = l !== null && l.apply(this, arguments) || this;
          return c.type = e + "Axis." + r, c;
        }
        return u.prototype.mergeDefaultAndTheme = function(c, d) {
          var f = bs(this), v = f ? cc(c) : {}, p = d.getTheme();
          gt(c, p.get(r + "Axis")), gt(c, this.getDefaultOption()), c.type = gm(c), f && Zr(c, v, f);
        }, u.prototype.optionUpdated = function() {
          var c = this.option;
          c.type === "category" && (this.__ordinalMeta = lv.createByAxisModel(this));
        }, u.prototype.getCategories = function(c) {
          var d = this.option;
          if (d.type === "category")
            return c ? d.data : this.__ordinalMeta.categories;
        }, u.prototype.getOrdinalMeta = function() {
          return this.__ordinalMeta;
        }, u.type = e + "Axis." + r, u.defaultOption = i, u;
      }(n)
    );
    t.registerComponentModel(s);
  }), t.registerSubTypeDefaulter(e + "Axis", gm);
}
function gm(t) {
  return t.type || (t.data ? "category" : "value");
}
var fA = (
  /** @class */
  function() {
    function t(e) {
      this.type = "cartesian", this._dimList = [], this._axes = {}, this.name = e || "";
    }
    return t.prototype.getAxis = function(e) {
      return this._axes[e];
    }, t.prototype.getAxes = function() {
      return $e(this._dimList, function(e) {
        return this._axes[e];
      }, this);
    }, t.prototype.getAxesByScale = function(e) {
      return e = e.toLowerCase(), tn(this.getAxes(), function(n) {
        return n.scale.type === e;
      });
    }, t.prototype.addAxis = function(e) {
      var n = e.dim;
      this._axes[n] = e, this._dimList.push(n);
    }, t;
  }()
), vv = ["x", "y"];
function ym(t) {
  return t.type === "interval" || t.type === "time";
}
var vA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = "cartesian2d", n.dimensions = vv, n;
    }
    return e.prototype.calcAffineTransform = function() {
      this._transform = this._invTransform = null;
      var n = this.getAxis("x").scale, o = this.getAxis("y").scale;
      if (!(!ym(n) || !ym(o))) {
        var a = n.getExtent(), r = o.getExtent(), i = this.dataToPoint([a[0], r[0]]), s = this.dataToPoint([a[1], r[1]]), l = a[1] - a[0], u = r[1] - r[0];
        if (!(!l || !u)) {
          var c = (s[0] - i[0]) / l, d = (s[1] - i[1]) / u, f = i[0] - a[0] * c, v = i[1] - r[0] * d, p = this._transform = [c, 0, 0, d, f, v];
          this._invTransform = qv([], p);
        }
      }
    }, e.prototype.getBaseAxis = function() {
      return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAxis("x");
    }, e.prototype.containPoint = function(n) {
      var o = this.getAxis("x"), a = this.getAxis("y");
      return o.contain(o.toLocalCoord(n[0])) && a.contain(a.toLocalCoord(n[1]));
    }, e.prototype.containData = function(n) {
      return this.getAxis("x").containData(n[0]) && this.getAxis("y").containData(n[1]);
    }, e.prototype.containZone = function(n, o) {
      var a = this.dataToPoint(n), r = this.dataToPoint(o), i = this.getArea(), s = new yt(a[0], a[1], r[0] - a[0], r[1] - a[1]);
      return i.intersect(s);
    }, e.prototype.dataToPoint = function(n, o, a) {
      a = a || [];
      var r = n[0], i = n[1];
      if (this._transform && r != null && isFinite(r) && i != null && isFinite(i))
        return zn(a, n, this._transform);
      var s = this.getAxis("x"), l = this.getAxis("y");
      return a[0] = s.toGlobalCoord(s.dataToCoord(r, o)), a[1] = l.toGlobalCoord(l.dataToCoord(i, o)), a;
    }, e.prototype.clampData = function(n, o) {
      var a = this.getAxis("x").scale, r = this.getAxis("y").scale, i = a.getExtent(), s = r.getExtent(), l = a.parse(n[0]), u = r.parse(n[1]);
      return o = o || [], o[0] = Math.min(Math.max(Math.min(i[0], i[1]), l), Math.max(i[0], i[1])), o[1] = Math.min(Math.max(Math.min(s[0], s[1]), u), Math.max(s[0], s[1])), o;
    }, e.prototype.pointToData = function(n, o) {
      var a = [];
      if (this._invTransform)
        return zn(a, n, this._invTransform);
      var r = this.getAxis("x"), i = this.getAxis("y");
      return a[0] = r.coordToData(r.toLocalCoord(n[0]), o), a[1] = i.coordToData(i.toLocalCoord(n[1]), o), a;
    }, e.prototype.getOtherAxis = function(n) {
      return this.getAxis(n.dim === "x" ? "y" : "x");
    }, e.prototype.getArea = function(n) {
      n = n || 0;
      var o = this.getAxis("x").getGlobalExtent(), a = this.getAxis("y").getGlobalExtent(), r = Math.min(o[0], o[1]) - n, i = Math.min(a[0], a[1]) - n, s = Math.max(o[0], o[1]) - r + n, l = Math.max(a[0], a[1]) - i + n;
      return new yt(r, i, s, l);
    }, e;
  }(fA)
), pA = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n, o, a, r, i) {
      var s = t.call(this, n, o, a) || this;
      return s.index = 0, s.type = r || "value", s.position = i || "bottom", s;
    }
    return e.prototype.isHorizontal = function() {
      var n = this.position;
      return n === "top" || n === "bottom";
    }, e.prototype.getGlobalExtent = function(n) {
      var o = this.getExtent();
      return o[0] = this.toGlobalCoord(o[0]), o[1] = this.toGlobalCoord(o[1]), n && o[0] > o[1] && o.reverse(), o;
    }, e.prototype.pointToData = function(n, o) {
      return this.coordToData(this.toLocalCoord(n[this.dim === "x" ? 0 : 1]), o);
    }, e.prototype.setCategorySortInfo = function(n) {
      if (this.type !== "category")
        return !1;
      this.model.option.categorySortInfo = n, this.scale.setSortInfo(n);
    }, e;
  }(U5)
);
function hA(t, e, n) {
  n = n || {};
  var o = t.coordinateSystem, a = e.axis, r = {}, i = a.getAxesOnZeroOf()[0], s = a.position, l = i ? "onZero" : s, u = a.dim, c = o.getRect(), d = [c.x, c.x + c.width, c.y, c.y + c.height], f = {
    left: 0,
    right: 1,
    top: 0,
    bottom: 1,
    onZero: 2
  }, v = e.get("offset") || 0, p = u === "x" ? [d[2] - v, d[3] + v] : [d[0] - v, d[1] + v];
  if (i) {
    var h = i.toGlobalCoord(i.dataToCoord(0));
    p[f.onZero] = Math.max(Math.min(h, p[1]), p[0]);
  }
  r.position = [u === "y" ? p[f[l]] : d[0], u === "x" ? p[f[l]] : d[3]], r.rotation = Math.PI / 2 * (u === "x" ? 0 : 1);
  var m = {
    top: -1,
    bottom: 1,
    left: -1,
    right: 1
  };
  r.labelDirection = r.tickDirection = r.nameDirection = m[s], r.labelOffset = i ? p[f[s]] - p[f.onZero] : 0, e.get(["axisTick", "inside"]) && (r.tickDirection = -r.tickDirection), tr(n.labelInside, e.get(["axisLabel", "inside"])) && (r.labelDirection = -r.labelDirection);
  var g = e.get(["axisLabel", "rotate"]);
  return r.labelRotate = l === "top" ? -g : g, r.z2 = 1, r;
}
function _m(t) {
  return t.get("coordinateSystem") === "cartesian2d";
}
function bm(t) {
  var e = {
    xAxisModel: null,
    yAxisModel: null
  };
  return se(e, function(n, o) {
    var a = o.replace(/Model$/, ""), r = t.getReferringComponents(a, Kn).models[0];
    if (process.env.NODE_ENV !== "production" && !r)
      throw new Error(a + ' "' + Xa(t.get(a + "Index"), t.get(a + "Id"), 0) + '" not found');
    e[o] = r;
  }), e;
}
var Yd = Math.log;
function v_(t, e, n) {
  var o = da.prototype, a = o.getTicks.call(n), r = o.getTicks.call(n, !0), i = a.length - 1, s = o.getInterval.call(n), l = P5(t, e), u = l.extent, c = l.fixMin, d = l.fixMax;
  if (t.type === "log") {
    var f = Yd(t.base);
    u = [Yd(u[0]) / f, Yd(u[1]) / f];
  }
  t.setExtent(u[0], u[1]), t.calcNiceExtent({
    splitNumber: i,
    fixMin: c,
    fixMax: d
  });
  var v = o.getExtent.call(t);
  c && (u[0] = v[0]), d && (u[1] = v[1]);
  var p = o.getInterval.call(t), h = u[0], m = u[1];
  if (c && d)
    p = (m - h) / i;
  else if (c)
    for (m = u[0] + p * i; m < u[1] && isFinite(m) && isFinite(u[1]); )
      p = zd(p), m = u[0] + p * i;
  else if (d)
    for (h = u[1] - p * i; h > u[0] && isFinite(h) && isFinite(u[0]); )
      p = zd(p), h = u[1] - p * i;
  else {
    var g = t.getTicks().length - 1;
    g > i && (p = zd(p));
    var y = p * i;
    m = Math.ceil(u[1] / p) * p, h = Pt(m - y), h < 0 && u[0] >= 0 ? (h = 0, m = Pt(y)) : m > 0 && u[1] <= 0 && (m = 0, h = -Pt(y));
  }
  var _ = (a[0].value - r[0].value) / s, w = (a[i].value - r[i].value) / s;
  if (o.setExtent.call(t, h + p * _, m + p * w), o.setInterval.call(t, p), (_ || w) && o.setNiceExtent.call(t, h + p, m - p), process.env.NODE_ENV !== "production") {
    var x = o.getTicks.call(t);
    x[1] && (!dE(p) || Nf(x[1].value) > Nf(p)) && nn(
      // eslint-disable-next-line
      "The ticks may be not readable when set min: " + e.get("min") + ", max: " + e.get("max") + " and alignTicks: true"
    );
  }
}
var mA = (
  /** @class */
  function() {
    function t(e, n, o) {
      this.type = "grid", this._coordsMap = {}, this._coordsList = [], this._axesMap = {}, this._axesList = [], this.axisPointerEnabled = !0, this.dimensions = vv, this._initCartesian(e, n, o), this.model = e;
    }
    return t.prototype.getRect = function() {
      return this._rect;
    }, t.prototype.update = function(e, n) {
      var o = this._axesMap;
      this._updateScale(e, this.model);
      function a(i) {
        var s, l = lt(i), u = l.length;
        if (u) {
          for (var c = [], d = u - 1; d >= 0; d--) {
            var f = +l[d], v = i[f], p = v.model, h = v.scale;
            // Only value and log axis without interval support alignTicks.
            uv(h) && p.get("alignTicks") && p.get("interval") == null ? c.push(v) : (Y1(h, p), uv(h) && (s = v));
          }
          c.length && (s || (s = c.pop(), Y1(s.scale, s.model)), se(c, function(m) {
            v_(m.scale, m.model, s.scale);
          }));
        }
      }
      a(o.x), a(o.y);
      var r = {};
      se(o.x, function(i) {
        wm(o, "y", i, r);
      }), se(o.y, function(i) {
        wm(o, "x", i, r);
      }), this.resize(this.model, n);
    }, t.prototype.resize = function(e, n, o) {
      var a = e.getBoxLayoutParams(), r = !o && e.get("containLabel"), i = wu(a, {
        width: n.getWidth(),
        height: n.getHeight()
      });
      this._rect = i;
      var s = this._axesList;
      l(), r && (se(s, function(u) {
        if (!u.model.get(["axisLabel", "inside"])) {
          var c = VE(u);
          if (c) {
            var d = u.isHorizontal() ? "height" : "width", f = u.model.get(["axisLabel", "margin"]);
            i[d] -= c[d] + f, u.position === "top" ? i.y += c.height + f : u.position === "left" && (i.x += c.width + f);
          }
        }
      }), l()), se(this._coordsList, function(u) {
        u.calcAffineTransform();
      });
      function l() {
        se(s, function(u) {
          var c = u.isHorizontal(), d = c ? [0, i.width] : [0, i.height], f = u.inverse ? 1 : 0;
          u.setExtent(d[f], d[1 - f]), gA(u, c ? i.x : i.y);
        });
      }
    }, t.prototype.getAxis = function(e, n) {
      var o = this._axesMap[e];
      if (o != null)
        return o[n || 0];
    }, t.prototype.getAxes = function() {
      return this._axesList.slice();
    }, t.prototype.getCartesian = function(e, n) {
      if (e != null && n != null) {
        var o = "x" + e + "y" + n;
        return this._coordsMap[o];
      }
      Ue(e) && (n = e.yAxisIndex, e = e.xAxisIndex);
      for (var a = 0, r = this._coordsList; a < r.length; a++)
        if (r[a].getAxis("x").index === e || r[a].getAxis("y").index === n)
          return r[a];
    }, t.prototype.getCartesians = function() {
      return this._coordsList.slice();
    }, t.prototype.convertToPixel = function(e, n, o) {
      var a = this._findConvertTarget(n);
      return a.cartesian ? a.cartesian.dataToPoint(o) : a.axis ? a.axis.toGlobalCoord(a.axis.dataToCoord(o)) : null;
    }, t.prototype.convertFromPixel = function(e, n, o) {
      var a = this._findConvertTarget(n);
      return a.cartesian ? a.cartesian.pointToData(o) : a.axis ? a.axis.coordToData(a.axis.toLocalCoord(o)) : null;
    }, t.prototype._findConvertTarget = function(e) {
      var n = e.seriesModel, o = e.xAxisModel || n && n.getReferringComponents("xAxis", Kn).models[0], a = e.yAxisModel || n && n.getReferringComponents("yAxis", Kn).models[0], r = e.gridModel, i = this._coordsList, s, l;
      if (n)
        s = n.coordinateSystem, St(i, s) < 0 && (s = null);
      else if (o && a)
        s = this.getCartesian(o.componentIndex, a.componentIndex);
      else if (o)
        l = this.getAxis("x", o.componentIndex);
      else if (a)
        l = this.getAxis("y", a.componentIndex);
      else if (r) {
        var u = r.coordinateSystem;
        u === this && (s = this._coordsList[0]);
      }
      return {
        cartesian: s,
        axis: l
      };
    }, t.prototype.containPoint = function(e) {
      var n = this._coordsList[0];
      if (n)
        return n.containPoint(e);
    }, t.prototype._initCartesian = function(e, n, o) {
      var a = this, r = this, i = {
        left: !1,
        right: !1,
        top: !1,
        bottom: !1
      }, s = {
        x: {},
        y: {}
      }, l = {
        x: 0,
        y: 0
      };
      if (n.eachComponent("xAxis", u("x"), this), n.eachComponent("yAxis", u("y"), this), !l.x || !l.y) {
        this._axesMap = {}, this._axesList = [];
        return;
      }
      this._axesMap = s, se(s.x, function(c, d) {
        se(s.y, function(f, v) {
          var p = "x" + d + "y" + v, h = new vA(p);
          h.master = a, h.model = e, a._coordsMap[p] = h, a._coordsList.push(h), h.addAxis(c), h.addAxis(f);
        });
      });
      function u(c) {
        return function(d, f) {
          if (Zd(d, e)) {
            var v = d.get("position");
            c === "x" ? v !== "top" && v !== "bottom" && (v = i.bottom ? "top" : "bottom") : v !== "left" && v !== "right" && (v = i.left ? "right" : "left"), i[v] = !0;
            var p = new pA(c, BE(d), [0, 0], d.get("type"), v), h = p.type === "category";
            p.onBand = h && d.get("boundaryGap"), p.inverse = d.get("inverse"), d.axis = p, p.model = d, p.grid = r, p.index = f, r._axesList.push(p), s[c][f] = p, l[c]++;
          }
        };
      }
    }, t.prototype._updateScale = function(e, n) {
      se(this._axesList, function(a) {
        if (a.scale.setExtent(1 / 0, -1 / 0), a.type === "category") {
          var r = a.model.get("categorySortInfo");
          a.scale.setSortInfo(r);
        }
      }), e.eachSeries(function(a) {
        if (_m(a)) {
          var r = bm(a), i = r.xAxisModel, s = r.yAxisModel;
          if (!Zd(i, n) || !Zd(s, n))
            return;
          var l = this.getCartesian(i.componentIndex, s.componentIndex), u = a.getData(), c = l.getAxis("x"), d = l.getAxis("y");
          o(u, c), o(u, d);
        }
      }, this);
      function o(a, r) {
        se(GE(a, r.dim), function(i) {
          r.scale.unionExtentFromData(a, i);
        });
      }
    }, t.prototype.getTooltipAxes = function(e) {
      var n = [], o = [];
      return se(this.getCartesians(), function(a) {
        var r = e != null && e !== "auto" ? a.getAxis(e) : a.getBaseAxis(), i = a.getOtherAxis(r);
        St(n, r) < 0 && n.push(r), St(o, i) < 0 && o.push(i);
      }), {
        baseAxes: n,
        otherAxes: o
      };
    }, t.create = function(e, n) {
      var o = [];
      return e.eachComponent("grid", function(a, r) {
        var i = new t(a, e, n);
        i.name = "grid_" + r, i.resize(a, n, !0), a.coordinateSystem = i, o.push(i);
      }), e.eachSeries(function(a) {
        if (_m(a)) {
          var r = bm(a), i = r.xAxisModel, s = r.yAxisModel, l = i.getCoordSysModel();
          if (process.env.NODE_ENV !== "production") {
            if (!l)
              throw new Error('Grid "' + Xa(i.get("gridIndex"), i.get("gridId"), 0) + '" not found');
            if (i.getCoordSysModel() !== s.getCoordSysModel())
              throw new Error("xAxis and yAxis must use the same grid");
          }
          var u = l.coordinateSystem;
          a.coordinateSystem = u.getCartesian(i.componentIndex, s.componentIndex);
        }
      }), o;
    }, t.dimensions = vv, t;
  }()
);
function Zd(t, e) {
  return t.getCoordSysModel() === e;
}
function wm(t, e, n, o) {
  n.getAxesOnZeroOf = function() {
    return r ? [r] : [];
  };
  var a = t[e], r, i = n.model, s = i.get(["axisLine", "onZero"]), l = i.get(["axisLine", "onZeroAxisIndex"]);
  if (!s)
    return;
  if (l != null)
    xm(a[l]) && (r = a[l]);
  else
    for (var u in a)
      if (a.hasOwnProperty(u) && xm(a[u]) && !o[c(a[u])]) {
        r = a[u];
        break;
      }
  r && (o[c(r)] = !0);
  function c(d) {
    return d.dim + "_" + d.index;
  }
}
function xm(t) {
  return t && t.type !== "category" && t.type !== "time" && FE(t);
}
function gA(t, e) {
  var n = t.getExtent(), o = n[0] + n[1];
  t.toGlobalCoord = t.dim === "x" ? function(a) {
    return a + e;
  } : function(a) {
    return o - a + e;
  }, t.toLocalCoord = t.dim === "x" ? function(a) {
    return a - e;
  } : function(a) {
    return o - a + e;
  };
}
var Qo = Math.PI, ta = (
  /** @class */
  function() {
    function t(e, n) {
      this.group = new zt(), this.opt = n, this.axisModel = e, rt(n, {
        labelOffset: 0,
        nameDirection: 1,
        tickDirection: 1,
        labelDirection: 1,
        silent: !0,
        handleAutoShown: function() {
          return !0;
        }
      });
      var o = new zt({
        x: n.position[0],
        y: n.position[1],
        rotation: n.rotation
      });
      o.updateTransform(), this._transformGroup = o;
    }
    return t.prototype.hasBuilder = function(e) {
      return !!Sm[e];
    }, t.prototype.add = function(e) {
      Sm[e](this.opt, this.axisModel, this.group, this._transformGroup);
    }, t.prototype.getGroup = function() {
      return this.group;
    }, t.innerTextLayout = function(e, n, o) {
      var a = y2(n - e), r, i;
      return cu(a) ? (i = o > 0 ? "top" : "bottom", r = "center") : cu(a - Qo) ? (i = o > 0 ? "bottom" : "top", r = "center") : (i = "middle", a > 0 && a < Qo ? r = o > 0 ? "right" : "left" : r = o > 0 ? "left" : "right"), {
        rotation: a,
        textAlign: r,
        textVerticalAlign: i
      };
    }, t.makeAxisEventDataBase = function(e) {
      var n = {
        componentType: e.mainType,
        componentIndex: e.componentIndex
      };
      return n[e.mainType + "Index"] = e.componentIndex, n;
    }, t.isLabelSilent = function(e) {
      var n = e.get("tooltip");
      return e.get("silent") || !(e.get("triggerEvent") || n && n.show);
    }, t;
  }()
), Sm = {
  axisLine: function(t, e, n, o) {
    var a = e.get(["axisLine", "show"]);
    if (a === "auto" && t.handleAutoShown && (a = t.handleAutoShown("axisLine")), !!a) {
      var r = e.axis.getExtent(), i = o.transform, s = [r[0], 0], l = [r[1], 0], u = s[0] > l[0];
      i && (zn(s, s, i), zn(l, l, i));
      var c = Le({
        lineCap: "round"
      }, e.getModel(["axisLine", "lineStyle"]).getLineStyle()), d = new ua({
        shape: {
          x1: s[0],
          y1: s[1],
          x2: l[0],
          y2: l[1]
        },
        style: c,
        strokeContainThreshold: t.strokeContainThreshold || 5,
        silent: !0,
        z2: 1
      });
      gs(d.shape, d.style.lineWidth), d.anid = "line", n.add(d);
      var f = e.get(["axisLine", "symbol"]);
      if (f != null) {
        var v = e.get(["axisLine", "symbolSize"]);
        ze(f) && (f = [f, f]), (ze(v) || bt(v)) && (v = [v, v]);
        var p = Qy(e.get(["axisLine", "symbolOffset"]) || 0, v), h = v[0], m = v[1];
        se([{
          rotate: t.rotation + Math.PI / 2,
          offset: p[0],
          r: 0
        }, {
          rotate: t.rotation - Math.PI / 2,
          offset: p[1],
          r: Math.sqrt((s[0] - l[0]) * (s[0] - l[0]) + (s[1] - l[1]) * (s[1] - l[1]))
        }], function(g, y) {
          if (f[y] !== "none" && f[y] != null) {
            var _ = ca(f[y], -h / 2, -m / 2, h, m, c.stroke, !0), w = g.r + g.offset, x = u ? l : s;
            _.attr({
              rotation: g.rotate,
              x: x[0] + w * Math.cos(t.rotation),
              y: x[1] - w * Math.sin(t.rotation),
              silent: !0,
              z2: 11
            }), n.add(_);
          }
        });
      }
    }
  },
  axisTickLabel: function(t, e, n, o) {
    var a = bA(n, o, e, t), r = xA(n, o, e, t);
    if (_A(e, r, a), wA(n, o, e, t.tickDirection), e.get(["axisLabel", "hideOverlap"])) {
      var i = rM($e(r, function(s) {
        return {
          label: s,
          priority: s.z2,
          defaultAttr: {
            ignore: s.ignore
          }
        };
      }));
      lM(i);
    }
  },
  axisName: function(t, e, n, o) {
    var a = tr(t.axisName, e.get("name"));
    if (a) {
      var r = e.get("nameLocation"), i = t.nameDirection, s = e.getModel("nameTextStyle"), l = e.get("nameGap") || 0, u = e.axis.getExtent(), c = u[0] > u[1] ? -1 : 1, d = [
        r === "start" ? u[0] - c * l : r === "end" ? u[1] + c * l : (u[0] + u[1]) / 2,
        // Reuse labelOffset.
        Cm(r) ? t.labelOffset + i * l : 0
      ], f, v = e.get("nameRotate");
      v != null && (v = v * Qo / 180);
      var p;
      Cm(r) ? f = ta.innerTextLayout(
        t.rotation,
        v ?? t.rotation,
        // Adapt to axis.
        i
      ) : (f = yA(t.rotation, r, v || 0, u), p = t.axisNameAvailableWidth, p != null && (p = Math.abs(p / Math.sin(f.rotation)), !isFinite(p) && (p = null)));
      var h = s.getFont(), m = e.get("nameTruncate", !0) || {}, g = m.ellipsis, y = tr(t.nameTruncateMaxWidth, m.maxWidth, p), _ = new Ln({
        x: d[0],
        y: d[1],
        rotation: f.rotation,
        silent: ta.isLabelSilent(e),
        style: ys(s, {
          text: a,
          font: h,
          overflow: "truncate",
          width: y,
          ellipsis: g,
          fill: s.getTextColor() || e.get(["axisLine", "lineStyle", "color"]),
          align: s.get("align") || f.textAlign,
          verticalAlign: s.get("verticalAlign") || f.textVerticalAlign
        }),
        z2: 1
      });
      if (dp({
        el: _,
        componentModel: e,
        itemName: a
      }), _.__fullText = a, _.anid = "name", e.get("triggerEvent")) {
        var w = ta.makeAxisEventDataBase(e);
        w.targetType = "axisName", w.name = a, It(_).eventData = w;
      }
      o.add(_), _.updateTransform(), n.add(_), _.decomposeTransform();
    }
  }
};
function yA(t, e, n, o) {
  var a = y2(n - t), r, i, s = o[0] > o[1], l = e === "start" && !s || e !== "start" && s;
  return cu(a - Qo / 2) ? (i = l ? "bottom" : "top", r = "center") : cu(a - Qo * 1.5) ? (i = l ? "top" : "bottom", r = "center") : (i = "middle", a < Qo * 1.5 && a > Qo / 2 ? r = l ? "left" : "right" : r = l ? "right" : "left"), {
    rotation: a,
    textAlign: r,
    textVerticalAlign: i
  };
}
function _A(t, e, n) {
  if (!R5(t.axis)) {
    var o = t.get(["axisLabel", "showMinLabel"]), a = t.get(["axisLabel", "showMaxLabel"]);
    e = e || [], n = n || [];
    var r = e[0], i = e[1], s = e[e.length - 1], l = e[e.length - 2], u = n[0], c = n[1], d = n[n.length - 1], f = n[n.length - 2];
    o === !1 ? (An(r), An(u)) : Im(r, i) && (o ? (An(i), An(c)) : (An(r), An(u))), a === !1 ? (An(s), An(d)) : Im(l, s) && (a ? (An(l), An(f)) : (An(s), An(d)));
  }
}
function An(t) {
  t && (t.ignore = !0);
}
function Im(t, e) {
  var n = t && t.getBoundingRect().clone(), o = e && e.getBoundingRect().clone();
  if (!(!n || !o)) {
    var a = Zv([]);
    return Yg(a, a, -t.rotation), n.applyTransform(Or([], a, t.getLocalTransform())), o.applyTransform(Or([], a, e.getLocalTransform())), n.intersect(o);
  }
}
function Cm(t) {
  return t === "middle" || t === "center";
}
function p_(t, e, n, o, a) {
  for (var r = [], i = [], s = [], l = 0; l < t.length; l++) {
    var u = t[l].coord;
    i[0] = u, i[1] = 0, s[0] = u, s[1] = n, e && (zn(i, i, e), zn(s, s, e));
    var c = new ua({
      shape: {
        x1: i[0],
        y1: i[1],
        x2: s[0],
        y2: s[1]
      },
      style: o,
      z2: 2,
      autoBatch: !0,
      silent: !0
    });
    gs(c.shape, c.style.lineWidth), c.anid = a + "_" + t[l].tickValue, r.push(c);
  }
  return r;
}
function bA(t, e, n, o) {
  var a = n.axis, r = n.getModel("axisTick"), i = r.get("show");
  if (i === "auto" && o.handleAutoShown && (i = o.handleAutoShown("axisTick")), !(!i || a.scale.isBlank())) {
    for (var s = r.getModel("lineStyle"), l = o.tickDirection * r.get("length"), u = a.getTicksCoords(), c = p_(u, e.transform, l, rt(s.getLineStyle(), {
      stroke: n.get(["axisLine", "lineStyle", "color"])
    }), "ticks"), d = 0; d < c.length; d++)
      t.add(c[d]);
    return c;
  }
}
function wA(t, e, n, o) {
  var a = n.axis, r = n.getModel("minorTick");
  if (!(!r.get("show") || a.scale.isBlank())) {
    var i = a.getMinorTicksCoords();
    if (i.length)
      for (var s = r.getModel("lineStyle"), l = o * r.get("length"), u = rt(s.getLineStyle(), rt(n.getModel("axisTick").getLineStyle(), {
        stroke: n.get(["axisLine", "lineStyle", "color"])
      })), c = 0; c < i.length; c++)
        for (var d = p_(i[c], e.transform, l, u, "minorticks_" + c), f = 0; f < d.length; f++)
          t.add(d[f]);
  }
}
function xA(t, e, n, o) {
  var a = n.axis, r = tr(o.axisLabelShow, n.get(["axisLabel", "show"]));
  if (!(!r || a.scale.isBlank())) {
    var i = n.getModel("axisLabel"), s = i.get("margin"), l = a.getViewLabels(), u = (tr(o.labelRotate, i.get("rotate")) || 0) * Qo / 180, c = ta.innerTextLayout(o.rotation, u, o.labelDirection), d = n.getCategories && n.getCategories(!0), f = [], v = ta.isLabelSilent(n), p = n.get("triggerEvent");
    return se(l, function(h, m) {
      var g = a.scale.type === "ordinal" ? a.scale.getRawOrdinalNumber(h.tickValue) : h.tickValue, y = h.formattedLabel, _ = h.rawLabel, w = i;
      if (d && d[g]) {
        var x = d[g];
        Ue(x) && x.textStyle && (w = new Ut(x.textStyle, i, n.ecModel));
      }
      var S = w.getTextColor() || n.get(["axisLine", "lineStyle", "color"]), L = a.dataToCoord(g), b = w.getShallow("align", !0) || c.textAlign, I = Ge(w.getShallow("alignMinLabel", !0), b), M = Ge(w.getShallow("alignMaxLabel", !0), b), E = w.getShallow("verticalAlign", !0) || w.getShallow("baseline", !0) || c.textVerticalAlign, D = Ge(w.getShallow("verticalAlignMinLabel", !0), E), O = Ge(w.getShallow("verticalAlignMaxLabel", !0), E), N = new Ln({
        x: L,
        y: o.labelOffset + o.labelDirection * s,
        rotation: c.rotation,
        silent: v,
        z2: 10 + (h.level || 0),
        style: ys(w, {
          text: y,
          align: m === 0 ? I : m === l.length - 1 ? M : b,
          verticalAlign: m === 0 ? D : m === l.length - 1 ? O : E,
          fill: Je(S) ? S(
            // (1) In category axis with data zoom, tick is not the original
            // index of axis.data. So tick should not be exposed to user
            // in category axis.
            // (2) Compatible with previous version, which always use formatted label as
            // input. But in interval scale the formatted label is like '223,445', which
            // maked user replace ','. So we modify it to return original val but remain
            // it as 'string' to avoid error in replacing.
            a.type === "category" ? _ : a.type === "value" ? g + "" : g,
            m
          ) : S
        })
      });
      if (N.anid = "label_" + g, p) {
        var P = ta.makeAxisEventDataBase(n);
        P.targetType = "axisLabel", P.value = _, P.tickIndex = m, a.type === "category" && (P.dataIndex = g), It(N).eventData = P;
      }
      e.add(N), N.updateTransform(), f.push(N), t.add(N), N.decomposeTransform();
    }), f;
  }
}
function SA(t) {
  var e = h_(t);
  if (e) {
    var n = e.axisPointerModel, o = e.axis.scale, a = n.option, r = n.get("status"), i = n.get("value");
    i != null && (i = o.parse(i));
    var s = CA(n);
    r == null && (a.status = s ? "show" : "hide");
    var l = o.getExtent().slice();
    l[0] > l[1] && l.reverse(), // Pick a value on axis when initializing.
    (i == null || i > l[1]) && (i = l[1]), i < l[0] && (i = l[0]), a.value = i, s && (a.status = e.axis.scale.isBlank() ? "hide" : "show");
  }
}
function h_(t) {
  var e = (t.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo;
  return e && e.axesInfo[TA(t)];
}
function IA(t) {
  var e = h_(t);
  return e && e.axisPointerModel;
}
function CA(t) {
  return !!t.get(["handle", "show"]);
}
function TA(t) {
  return t.type + "||" + t.id;
}
var qd = {}, LA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n;
    }
    return e.prototype.render = function(n, o, a, r) {
      this.axisPointerClass && SA(n), t.prototype.render.apply(this, arguments), this._doUpdateAxisPointerClass(n, a, !0);
    }, e.prototype.updateAxisPointer = function(n, o, a, r) {
      this._doUpdateAxisPointerClass(n, a, !1);
    }, e.prototype.remove = function(n, o) {
      var a = this._axisPointer;
      a && a.remove(o);
    }, e.prototype.dispose = function(n, o) {
      this._disposeAxisPointer(o), t.prototype.dispose.apply(this, arguments);
    }, e.prototype._doUpdateAxisPointerClass = function(n, o, a) {
      var r = e.getAxisPointerClass(this.axisPointerClass);
      if (r) {
        var i = IA(n);
        i ? (this._axisPointer || (this._axisPointer = new r())).render(n, i, o, a) : this._disposeAxisPointer(o);
      }
    }, e.prototype._disposeAxisPointer = function(n) {
      this._axisPointer && this._axisPointer.dispose(n), this._axisPointer = null;
    }, e.registerAxisPointerClass = function(n, o) {
      if (process.env.NODE_ENV !== "production" && qd[n])
        throw new Error("axisPointer " + n + " exists");
      qd[n] = o;
    }, e.getAxisPointerClass = function(n) {
      return n && qd[n];
    }, e.type = "axis", e;
  }(Ao)
), pv = Wt();
function kA(t, e, n, o) {
  var a = n.axis;
  if (!a.scale.isBlank()) {
    var r = n.getModel("splitArea"), i = r.getModel("areaStyle"), s = i.get("color"), l = o.coordinateSystem.getRect(), u = a.getTicksCoords({
      tickModel: r,
      clamp: !0
    });
    if (u.length) {
      var c = s.length, d = pv(t).splitAreaColors, f = nt(), v = 0;
      if (d)
        for (var p = 0; p < u.length; p++) {
          var h = d.get(u[p].tickValue);
          if (h != null) {
            v = (h + (c - 1) * p) % c;
            break;
          }
        }
      var m = a.toGlobalCoord(u[0].coord), g = i.getAreaStyle();
      s = Oe(s) ? s : [s];
      for (var p = 1; p < u.length; p++) {
        var y = a.toGlobalCoord(u[p].coord), _ = void 0, w = void 0, x = void 0, S = void 0;
        a.isHorizontal() ? (_ = m, w = l.y, x = y - _, S = l.height, m = _ + x) : (_ = l.x, w = m, x = l.width, S = y - w, m = w + S);
        var L = u[p - 1].tickValue;
        L != null && f.set(L, v), e.add(new Gt({
          anid: L != null ? "area_" + L : null,
          shape: {
            x: _,
            y: w,
            width: x,
            height: S
          },
          style: rt({
            fill: s[v]
          }, g),
          autoBatch: !0,
          silent: !0
        })), v = (v + 1) % c;
      }
      pv(t).splitAreaColors = f;
    }
  }
}
function EA(t) {
  pv(t).splitAreaColors = null;
}
var MA = ["axisLine", "axisTickLabel", "axisName"], AA = ["splitArea", "splitLine", "minorSplitLine"], m_ = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n.axisPointerClass = "CartesianAxisPointer", n;
    }
    return e.prototype.render = function(n, o, a, r) {
      this.group.removeAll();
      var i = this._axisGroup;
      if (this._axisGroup = new zt(), this.group.add(this._axisGroup), !!n.get("show")) {
        var s = n.getCoordSysModel(), l = hA(s, n), u = new ta(n, Le({
          handleAutoShown: function(d) {
            for (var f = s.coordinateSystem.getCartesians(), v = 0; v < f.length; v++)
              if (uv(f[v].getOtherAxis(n.axis).scale))
                return !0;
            return !1;
          }
        }, l));
        se(MA, u.add, u), this._axisGroup.add(u.getGroup()), se(AA, function(d) {
          n.get([d, "show"]) && DA[d](this, this._axisGroup, n, s);
        }, this);
        var c = r && r.type === "changeAxisOrder" && r.isInitSort;
        c || ry(i, this._axisGroup, n), t.prototype.render.call(this, n, o, a, r);
      }
    }, e.prototype.remove = function() {
      EA(this);
    }, e.type = "cartesianAxis", e;
  }(LA)
), DA = {
  splitLine: function(t, e, n, o) {
    var a = n.axis;
    if (!a.scale.isBlank()) {
      var r = n.getModel("splitLine"), i = r.getModel("lineStyle"), s = i.get("color");
      s = Oe(s) ? s : [s];
      for (var l = o.coordinateSystem.getRect(), u = a.isHorizontal(), c = 0, d = a.getTicksCoords({
        tickModel: r
      }), f = [], v = [], p = i.getLineStyle(), h = 0; h < d.length; h++) {
        var m = a.toGlobalCoord(d[h].coord);
        u ? (f[0] = m, f[1] = l.y, v[0] = m, v[1] = l.y + l.height) : (f[0] = l.x, f[1] = m, v[0] = l.x + l.width, v[1] = m);
        var g = c++ % s.length, y = d[h].tickValue, _ = new ua({
          anid: y != null ? "line_" + d[h].tickValue : null,
          autoBatch: !0,
          shape: {
            x1: f[0],
            y1: f[1],
            x2: v[0],
            y2: v[1]
          },
          style: rt({
            stroke: s[g]
          }, p),
          silent: !0
        });
        gs(_.shape, p.lineWidth), e.add(_);
      }
    }
  },
  minorSplitLine: function(t, e, n, o) {
    var a = n.axis, r = n.getModel("minorSplitLine"), i = r.getModel("lineStyle"), s = o.coordinateSystem.getRect(), l = a.isHorizontal(), u = a.getMinorTicksCoords();
    if (u.length)
      for (var c = [], d = [], f = i.getLineStyle(), v = 0; v < u.length; v++)
        for (var p = 0; p < u[v].length; p++) {
          var h = a.toGlobalCoord(u[v][p].coord);
          l ? (c[0] = h, c[1] = s.y, d[0] = h, d[1] = s.y + s.height) : (c[0] = s.x, c[1] = h, d[0] = s.x + s.width, d[1] = h);
          var m = new ua({
            anid: "minor_line_" + u[v][p].tickValue,
            autoBatch: !0,
            shape: {
              x1: c[0],
              y1: c[1],
              x2: d[0],
              y2: d[1]
            },
            style: f,
            silent: !0
          });
          gs(m.shape, f.lineWidth), e.add(m);
        }
  },
  splitArea: function(t, e, n, o) {
    kA(t, e, n, o);
  }
}, g_ = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n;
    }
    return e.type = "xAxis", e;
  }(m_)
), $A = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = g_.type, n;
    }
    return e.type = "yAxis", e;
  }(m_)
), PA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = "grid", n;
    }
    return e.prototype.render = function(n, o) {
      this.group.removeAll(), n.get("show") && this.group.add(new Gt({
        shape: n.coordinateSystem.getRect(),
        style: rt({
          fill: n.get("backgroundColor")
        }, n.getItemStyle()),
        silent: !0,
        z2: -1
      }));
    }, e.type = "grid", e;
  }(Ao)
), Tm = {
  // gridIndex: 0,
  // gridId: '',
  offset: 0
};
function RA(t) {
  t.registerComponentView(PA), t.registerComponentModel(sA), t.registerCoordinateSystem("cartesian2d", mA), mm(t, "x", fv, Tm), mm(t, "y", fv, Tm), t.registerComponentView(g_), t.registerComponentView($A), t.registerPreprocessor(function(e) {
    e.xAxis && e.yAxis && !e.grid && (e.grid = {});
  });
}
function OA(t) {
  nr(RA), t.registerSeriesModel(nA), t.registerChartView(iA), t.registerLayout(zp("scatter"));
}
function NA(t) {
  t.eachSeriesByType("radar", function(e) {
    var n = e.getData(), o = [], a = e.coordinateSystem;
    if (a) {
      var r = a.getIndicatorAxes();
      se(r, function(i, s) {
        n.each(n.mapDimension(r[s].dim), function(l, u) {
          o[u] = o[u] || [];
          var c = a.dataToPoint(l, s);
          o[u][s] = Lm(c) ? c : km(a);
        });
      }), n.each(function(i) {
        var s = bx(o[i], function(l) {
          return Lm(l);
        }) || km(a);
        o[i].push(s.slice()), n.setItemLayout(i, o[i]);
      });
    }
  });
}
function Lm(t) {
  return !isNaN(t[0]) && !isNaN(t[1]);
}
function km(t) {
  return [t.cx, t.cy];
}
function BA(t) {
  var e = t.polar;
  if (e) {
    Oe(e) || (e = [e]);
    var n = [];
    se(e, function(o, a) {
      o.indicator ? (o.type && !o.shape && (o.shape = o.type), t.radar = t.radar || [], Oe(t.radar) || (t.radar = [t.radar]), t.radar.push(o)) : n.push(o);
    }), t.polar = n;
  }
  se(t.series, function(o) {
    o && o.type === "radar" && o.polarIndex && (o.radarIndex = o.polarIndex);
  });
}
var FA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n;
    }
    return e.prototype.render = function(n, o, a) {
      var r = n.coordinateSystem, i = this.group, s = n.getData(), l = this._data;
      function u(f, v) {
        var p = f.getItemVisual(v, "symbol") || "circle";
        if (p !== "none") {
          var h = Ky(f.getItemVisual(v, "symbolSize")), m = ca(p, -1, -1, 2, 2), g = f.getItemVisual(v, "symbolRotate") || 0;
          return m.attr({
            style: {
              strokeNoScale: !0
            },
            z2: 100,
            scaleX: h[0] / 2,
            scaleY: h[1] / 2,
            rotation: g * Math.PI / 180 || 0
          }), m;
        }
      }
      function c(f, v, p, h, m, g) {
        p.removeAll();
        for (var y = 0; y < v.length - 1; y++) {
          var _ = u(h, m);
          _ && (_.__dimIdx = y, f[y] ? (_.setPosition(f[y]), MC[g ? "initProps" : "updateProps"](_, {
            x: v[y][0],
            y: v[y][1]
          }, n, m)) : _.setPosition(v[y]), p.add(_));
        }
      }
      function d(f) {
        return $e(f, function(v) {
          return [r.cx, r.cy];
        });
      }
      s.diff(l).add(function(f) {
        var v = s.getItemLayout(f);
        if (v) {
          var p = new zs(), h = new rr(), m = {
            shape: {
              points: v
            }
          };
          p.shape.points = d(v), h.shape.points = d(v), gn(p, m, n, f), gn(h, m, n, f);
          var g = new zt(), y = new zt();
          g.add(h), g.add(p), g.add(y), c(h.shape.points, v, y, s, f, !0), s.setItemGraphicEl(f, g);
        }
      }).update(function(f, v) {
        var p = l.getItemGraphicEl(v), h = p.childAt(0), m = p.childAt(1), g = p.childAt(2), y = {
          shape: {
            points: s.getItemLayout(f)
          }
        };
        y.shape.points && (c(h.shape.points, y.shape.points, g, s, f, !1), ms(m), ms(h), an(h, y, n), an(m, y, n), s.setItemGraphicEl(f, p));
      }).remove(function(f) {
        i.remove(l.getItemGraphicEl(f));
      }).execute(), s.eachItemGraphicEl(function(f, v) {
        var p = s.getItemModel(v), h = f.childAt(0), m = f.childAt(1), g = f.childAt(2), y = s.getItemVisual(v, "style"), _ = y.fill;
        i.add(f), h.useStyle(rt(p.getModel("lineStyle").getLineStyle(), {
          fill: "none",
          stroke: _
        })), Xr(h, p, "lineStyle"), Xr(m, p, "areaStyle");
        var w = p.getModel("areaStyle"), x = w.isEmpty() && w.parentModel.isEmpty();
        m.ignore = x, se(["emphasis", "select", "blur"], function(b) {
          var I = p.getModel([b, "areaStyle"]), M = I.isEmpty() && I.parentModel.isEmpty();
          m.ensureState(b).ignore = M && x;
        }), m.useStyle(rt(w.getAreaStyle(), {
          fill: _,
          opacity: 0.7,
          decal: y.decal
        }));
        var S = p.getModel("emphasis"), L = S.getModel("itemStyle").getItemStyle();
        g.eachChild(function(b) {
          if (b instanceof no) {
            var I = b.style;
            b.useStyle(Le({
              // TODO other properties like x, y ?
              image: I.image,
              x: I.x,
              y: I.y,
              width: I.width,
              height: I.height
            }, y));
          } else
            b.useStyle(y), b.setColor(_), b.style.strokeNoScale = !0;
          var M = b.ensureState("emphasis");
          M.style = st(L);
          var E = s.getStore().get(s.getDimensionIndex(b.__dimIdx), v);
          (E == null || isNaN(E)) && (E = ""), ti(b, ni(p), {
            labelFetcher: s.hostModel,
            labelDataIndex: v,
            labelDimIndex: b.__dimIdx,
            defaultText: E,
            inheritColor: _,
            defaultOpacity: y.opacity
          });
        }), Wr(f, S.get("focus"), S.get("blurScope"), S.get("disabled"));
      }), this._data = s;
    }, e.prototype.remove = function() {
      this.group.removeAll(), this._data = null;
    }, e.type = "radar", e;
  }(yn)
), zA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n.hasSymbolVisual = !0, n;
    }
    return e.prototype.init = function(n) {
      t.prototype.init.apply(this, arguments), this.legendVisualProvider = new u_(Bt(this.getData, this), Bt(this.getRawData, this));
    }, e.prototype.getInitialData = function(n, o) {
      return l_(this, {
        generateCoord: "indicator_",
        generateCoordCount: 1 / 0
      });
    }, e.prototype.formatTooltip = function(n, o, a) {
      var r = this.getData(), i = this.coordinateSystem, s = i.getIndicatorAxes(), l = this.getData().getName(n), u = l === "" ? this.name : l, c = Vy(this, n);
      return xs("section", {
        header: u,
        sortBlocks: !0,
        blocks: $e(s, function(d) {
          var f = r.get(r.mapDimension(d.dim), n);
          return xs("nameValue", {
            markerType: "subItem",
            markerColor: c,
            name: d.name,
            value: f,
            sortParam: f
          });
        })
      });
    }, e.prototype.getTooltipPosition = function(n) {
      if (n != null) {
        for (var o = this.getData(), a = this.coordinateSystem, r = o.getValues($e(a.dimensions, function(u) {
          return o.mapDimension(u);
        }), n), i = 0, s = r.length; i < s; i++)
          if (!isNaN(r[i])) {
            var l = a.getIndicatorAxes();
            return a.coordToPoint(l[i].dataToCoord(r[i]), i);
          }
      }
    }, e.type = "series.radar", e.dependencies = ["radar"], e.defaultOption = {
      // zlevel: 0,
      z: 2,
      colorBy: "data",
      coordinateSystem: "radar",
      legendHoverLink: !0,
      radarIndex: 0,
      lineStyle: {
        width: 2,
        type: "solid",
        join: "round"
      },
      label: {
        position: "top"
      },
      // areaStyle: {
      // },
      // itemStyle: {}
      symbolSize: 8
      // symbolRotate: null
    }, e;
  }(kn)
), Ai = f_.value;
function Dl(t, e) {
  return rt({
    show: e
  }, t);
}
var VA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n;
    }
    return e.prototype.optionUpdated = function() {
      var n = this.get("boundaryGap"), o = this.get("splitNumber"), a = this.get("scale"), r = this.get("axisLine"), i = this.get("axisTick"), s = this.get("axisLabel"), l = this.get("axisName"), u = this.get(["axisName", "show"]), c = this.get(["axisName", "formatter"]), d = this.get("axisNameGap"), f = this.get("triggerEvent"), v = $e(this.get("indicator") || [], function(p) {
        p.max != null && p.max > 0 && !p.min ? p.min = 0 : p.min != null && p.min < 0 && !p.max && (p.max = 0);
        var h = l;
        p.color != null && (h = rt({
          color: p.color
        }, l));
        var m = gt(st(p), {
          boundaryGap: n,
          splitNumber: o,
          scale: a,
          axisLine: r,
          axisTick: i,
          // axisType: axisType,
          axisLabel: s,
          // Compatible with 2 and use text
          name: p.text,
          showName: u,
          nameLocation: "end",
          nameGap: d,
          // min: 0,
          nameTextStyle: h,
          triggerEvent: f
        }, !1);
        if (ze(c)) {
          var g = m.name;
          m.name = c.replace("{value}", g ?? "");
        } else Je(c) && (m.name = c(m.name, m));
        var y = new Ut(m, null, this.ecModel);
        return to(y, O5.prototype), y.mainType = "radar", y.componentIndex = this.componentIndex, y;
      }, this);
      this._indicatorModels = v;
    }, e.prototype.getIndicatorModels = function() {
      return this._indicatorModels;
    }, e.type = "radar", e.defaultOption = {
      // zlevel: 0,
      z: 0,
      center: ["50%", "50%"],
      radius: "75%",
      startAngle: 90,
      axisName: {
        show: !0
        // formatter: null
        // textStyle: {}
      },
      boundaryGap: [0, 0],
      splitNumber: 5,
      axisNameGap: 15,
      scale: !1,
      // Polygon or circle
      shape: "polygon",
      axisLine: gt({
        lineStyle: {
          color: "#bbb"
        }
      }, Ai.axisLine),
      axisLabel: Dl(Ai.axisLabel, !1),
      axisTick: Dl(Ai.axisTick, !1),
      // axisType: 'value',
      splitLine: Dl(Ai.splitLine, !0),
      splitArea: Dl(Ai.splitArea, !0),
      // {text, min, max}
      indicator: []
    }, e;
  }(mt)
), HA = ["axisLine", "axisTickLabel", "axisName"], GA = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n;
    }
    return e.prototype.render = function(n, o, a) {
      var r = this.group;
      r.removeAll(), this._buildAxes(n), this._buildSplitLineAndArea(n);
    }, e.prototype._buildAxes = function(n) {
      var o = n.coordinateSystem, a = o.getIndicatorAxes(), r = $e(a, function(i) {
        var s = i.model.get("showName") ? i.name : "", l = new ta(i.model, {
          axisName: s,
          position: [o.cx, o.cy],
          rotation: i.angle,
          labelDirection: -1,
          tickDirection: -1,
          nameDirection: 1
        });
        return l;
      });
      se(r, function(i) {
        se(HA, i.add, i), this.group.add(i.getGroup());
      }, this);
    }, e.prototype._buildSplitLineAndArea = function(n) {
      var o = n.coordinateSystem, a = o.getIndicatorAxes();
      if (!a.length)
        return;
      var r = n.get("shape"), i = n.getModel("splitLine"), s = n.getModel("splitArea"), l = i.getModel("lineStyle"), u = s.getModel("areaStyle"), c = i.get("show"), d = s.get("show"), f = l.get("color"), v = u.get("color"), p = Oe(f) ? f : [f], h = Oe(v) ? v : [v], m = [], g = [];
      function y(P, $, z) {
        var H = z % $.length;
        return P[H] = P[H] || [], H;
      }
      if (r === "circle")
        for (var _ = a[0].getTicksCoords(), w = o.cx, x = o.cy, S = 0; S < _.length; S++) {
          if (c) {
            var L = y(m, p, S);
            m[L].push(new Fs({
              shape: {
                cx: w,
                cy: x,
                r: _[S].coord
              }
            }));
          }
          if (d && S < _.length - 1) {
            var L = y(g, h, S);
            g[L].push(new ec({
              shape: {
                cx: w,
                cy: x,
                r0: _[S].coord,
                r: _[S + 1].coord
              }
            }));
          }
        }
      else
        for (var b, I = $e(a, function(P, $) {
          var z = P.getTicksCoords();
          return b = b == null ? z.length - 1 : Math.min(z.length - 1, b), $e(z, function(H) {
            return o.coordToPoint(H.coord, $);
          });
        }), M = [], S = 0; S <= b; S++) {
          for (var E = [], D = 0; D < a.length; D++)
            E.push(I[D][S]);
          if (E[0] ? E.push(E[0].slice()) : process.env.NODE_ENV !== "production" && console.error("Can't draw value axis " + S), c) {
            var L = y(m, p, S);
            m[L].push(new rr({
              shape: {
                points: E
              }
            }));
          }
          if (d && M) {
            var L = y(g, h, S - 1);
            g[L].push(new zs({
              shape: {
                points: E.concat(M)
              }
            }));
          }
          M = E.slice().reverse();
        }
      var O = l.getLineStyle(), N = u.getAreaStyle();
      se(g, function(P, $) {
        this.group.add(qf(P, {
          style: rt({
            stroke: "none",
            fill: h[$ % h.length]
          }, N),
          silent: !0
        }));
      }, this), se(m, function(P, $) {
        this.group.add(qf(P, {
          style: rt({
            fill: "none",
            stroke: p[$ % p.length]
          }, O),
          silent: !0
        }));
      }, this);
    }, e.type = "radar", e;
  }(Ao)
), UA = (
  /** @class */
  function(t) {
    De(e, t);
    function e(n, o, a) {
      var r = t.call(this, n, o, a) || this;
      return r.type = "value", r.angle = 0, r.name = "", r;
    }
    return e;
  }(U5)
), WA = (
  /** @class */
  function() {
    function t(e, n, o) {
      this.dimensions = [], this._model = e, this._indicatorAxes = $e(e.getIndicatorModels(), function(a, r) {
        var i = "indicator_" + r, s = new UA(
          i,
          new da()
          // (indicatorModel.get('axisType') === 'log') ? new LogScale() : new IntervalScale()
        );
        return s.name = a.get("name"), s.model = a, a.axis = s, this.dimensions.push(i), s;
      }, this), this.resize(e, o);
    }
    return t.prototype.getIndicatorAxes = function() {
      return this._indicatorAxes;
    }, t.prototype.dataToPoint = function(e, n) {
      var o = this._indicatorAxes[n];
      return this.coordToPoint(o.dataToCoord(e), n);
    }, t.prototype.coordToPoint = function(e, n) {
      var o = this._indicatorAxes[n], a = o.angle, r = this.cx + e * Math.cos(a), i = this.cy - e * Math.sin(a);
      return [r, i];
    }, t.prototype.pointToData = function(e) {
      var n = e[0] - this.cx, o = e[1] - this.cy, a = Math.sqrt(n * n + o * o);
      n /= a, o /= a;
      for (var r = Math.atan2(-o, n), i = 1 / 0, s, l = -1, u = 0; u < this._indicatorAxes.length; u++) {
        var c = this._indicatorAxes[u], d = Math.abs(r - c.angle);
        d < i && (s = c, l = u, i = d);
      }
      return [l, +(s && s.coordToData(a))];
    }, t.prototype.resize = function(e, n) {
      var o = e.get("center"), a = n.getWidth(), r = n.getHeight(), i = Math.min(a, r) / 2;
      this.cx = _t(o[0], a), this.cy = _t(o[1], r), this.startAngle = e.get("startAngle") * Math.PI / 180;
      var s = e.get("radius");
      (ze(s) || bt(s)) && (s = [0, s]), this.r0 = _t(s[0], i), this.r = _t(s[1], i), se(this._indicatorAxes, function(l, u) {
        l.setExtent(this.r0, this.r);
        var c = this.startAngle + u * Math.PI * 2 / this._indicatorAxes.length;
        c = Math.atan2(Math.sin(c), Math.cos(c)), l.angle = c;
      }, this);
    }, t.prototype.update = function(e, n) {
      var o = this._indicatorAxes, a = this._model;
      se(o, function(s) {
        s.scale.setExtent(1 / 0, -1 / 0);
      }), e.eachSeriesByType("radar", function(s, l) {
        if (!(s.get("coordinateSystem") !== "radar" || e.getComponent("radar", s.get("radarIndex")) !== a)) {
          var u = s.getData();
          se(o, function(c) {
            c.scale.unionExtentFromData(u, u.mapDimension(c.dim));
          });
        }
      }, this);
      var r = a.get("splitNumber"), i = new da();
      i.setExtent(0, r), i.setInterval(1), se(o, function(s, l) {
        v_(s.scale, s.model, i);
      });
    }, t.prototype.convertToPixel = function(e, n, o) {
      return console.warn("Not implemented."), null;
    }, t.prototype.convertFromPixel = function(e, n, o) {
      return console.warn("Not implemented."), null;
    }, t.prototype.containPoint = function(e) {
      return console.warn("Not implemented."), !1;
    }, t.create = function(e, n) {
      var o = [];
      return e.eachComponent("radar", function(a) {
        var r = new t(a, e, n);
        o.push(r), a.coordinateSystem = r;
      }), e.eachSeriesByType("radar", function(a) {
        a.get("coordinateSystem") === "radar" && (a.coordinateSystem = o[a.get("radarIndex") || 0]);
      }), o;
    }, t.dimensions = [], t;
  }()
);
function XA(t) {
  t.registerCoordinateSystem("radar", WA), t.registerComponentModel(VA), t.registerComponentView(GA), t.registerVisual({
    seriesType: "radar",
    reset: function(e) {
      var n = e.getData();
      n.each(function(o) {
        n.setItemVisual(o, "legendIcon", "roundRect");
      }), n.setVisual("legendIcon", "roundRect");
    }
  });
}
function YA(t) {
  nr(XA), t.registerChartView(FA), t.registerSeriesModel(zA), t.registerLayout(NA), t.registerProcessor(i_("radar")), t.registerPreprocessor(BA);
}
function ZA(t, e) {
  var n = xy(e.get("padding")), o = e.getItemStyle(["color", "opacity"]);
  return o.fill = e.get("backgroundColor"), t = new Gt({
    shape: {
      x: t.x - n[3],
      y: t.y - n[0],
      width: t.width + n[1] + n[3],
      height: t.height + n[0] + n[2],
      r: e.get("borderRadius")
    },
    style: o,
    silent: !0,
    z2: -1
  }), t;
}
var qA = function(t, e) {
  if (e === "all")
    return {
      type: "all",
      title: t.getLocaleModel().get(["legend", "selector", "all"])
    };
  if (e === "inverse")
    return {
      type: "inverse",
      title: t.getLocaleModel().get(["legend", "selector", "inverse"])
    };
}, hv = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n.layoutMode = {
        type: "box",
        // legend.width/height are maxWidth/maxHeight actually,
        // whereas real width/height is calculated by its content.
        // (Setting {left: 10, right: 10} does not make sense).
        // So consider the case:
        // `setOption({legend: {left: 10});`
        // then `setOption({legend: {right: 10});`
        // The previous `left` should be cleared by setting `ignoreSize`.
        ignoreSize: !0
      }, n;
    }
    return e.prototype.init = function(n, o, a) {
      this.mergeDefaultAndTheme(n, a), n.selected = n.selected || {}, this._updateSelector(n);
    }, e.prototype.mergeOption = function(n, o) {
      t.prototype.mergeOption.call(this, n, o), this._updateSelector(n);
    }, e.prototype._updateSelector = function(n) {
      var o = n.selector, a = this.ecModel;
      o === !0 && (o = n.selector = ["all", "inverse"]), Oe(o) && se(o, function(r, i) {
        ze(r) && (r = {
          type: r
        }), o[i] = gt(r, qA(a, r.type));
      });
    }, e.prototype.optionUpdated = function() {
      this._updateData(this.ecModel);
      var n = this._data;
      if (n[0] && this.get("selectedMode") === "single") {
        for (var o = !1, a = 0; a < n.length; a++) {
          var r = n[a].get("name");
          if (this.isSelected(r)) {
            this.select(r), o = !0;
            break;
          }
        }
        !o && this.select(n[0].get("name"));
      }
    }, e.prototype._updateData = function(n) {
      var o = [], a = [];
      n.eachRawSeries(function(l) {
        var u = l.name;
        a.push(u);
        var c;
        if (l.legendVisualProvider) {
          var d = l.legendVisualProvider, f = d.getAllNames();
          n.isSeriesFiltered(l) || (a = a.concat(f)), f.length ? o = o.concat(f) : c = !0;
        } else
          c = !0;
        c && ep(l) && o.push(l.name);
      }), this._availableNames = a;
      var r = this.get("data") || o, i = nt(), s = $e(r, function(l) {
        return (ze(l) || bt(l)) && (l = {
          name: l
        }), i.get(l.name) ? null : (i.set(l.name, !0), new Ut(l, this, this.ecModel));
      }, this);
      this._data = tn(s, function(l) {
        return !!l;
      });
    }, e.prototype.getData = function() {
      return this._data;
    }, e.prototype.select = function(n) {
      var o = this.option.selected, a = this.get("selectedMode");
      if (a === "single") {
        var r = this._data;
        se(r, function(i) {
          o[i.get("name")] = !1;
        });
      }
      o[n] = !0;
    }, e.prototype.unSelect = function(n) {
      this.get("selectedMode") !== "single" && (this.option.selected[n] = !1);
    }, e.prototype.toggleSelected = function(n) {
      var o = this.option.selected;
      o.hasOwnProperty(n) || (o[n] = !0), this[o[n] ? "unSelect" : "select"](n);
    }, e.prototype.allSelect = function() {
      var n = this._data, o = this.option.selected;
      se(n, function(a) {
        o[a.get("name", !0)] = !0;
      });
    }, e.prototype.inverseSelect = function() {
      var n = this._data, o = this.option.selected;
      se(n, function(a) {
        var r = a.get("name", !0);
        o.hasOwnProperty(r) || (o[r] = !0), o[r] = !o[r];
      });
    }, e.prototype.isSelected = function(n) {
      var o = this.option.selected;
      return !(o.hasOwnProperty(n) && !o[n]) && St(this._availableNames, n) >= 0;
    }, e.prototype.getOrient = function() {
      return this.get("orient") === "vertical" ? {
        index: 1,
        name: "vertical"
      } : {
        index: 0,
        name: "horizontal"
      };
    }, e.type = "legend.plain", e.dependencies = ["series"], e.defaultOption = {
      // zlevel: 0,
      z: 4,
      show: !0,
      orient: "horizontal",
      left: "center",
      // right: 'center',
      top: 0,
      // bottom: null,
      align: "auto",
      backgroundColor: "rgba(0,0,0,0)",
      borderColor: "#ccc",
      borderRadius: 0,
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      itemWidth: 25,
      itemHeight: 14,
      symbolRotate: "inherit",
      symbolKeepAspect: !0,
      inactiveColor: "#ccc",
      inactiveBorderColor: "#ccc",
      inactiveBorderWidth: "auto",
      itemStyle: {
        color: "inherit",
        opacity: "inherit",
        borderColor: "inherit",
        borderWidth: "auto",
        borderCap: "inherit",
        borderJoin: "inherit",
        borderDashOffset: "inherit",
        borderMiterLimit: "inherit"
      },
      lineStyle: {
        width: "auto",
        color: "inherit",
        inactiveColor: "#ccc",
        inactiveWidth: 2,
        opacity: "inherit",
        type: "inherit",
        cap: "inherit",
        join: "inherit",
        dashOffset: "inherit",
        miterLimit: "inherit"
      },
      textStyle: {
        color: "#333"
      },
      selectedMode: !0,
      selector: !1,
      selectorLabel: {
        show: !0,
        borderRadius: 10,
        padding: [3, 5, 3, 5],
        fontSize: 12,
        fontFamily: "sans-serif",
        color: "#666",
        borderWidth: 1,
        borderColor: "#666"
      },
      emphasis: {
        selectorLabel: {
          show: !0,
          color: "#eee",
          backgroundColor: "#666"
        }
      },
      selectorPosition: "auto",
      selectorItemGap: 7,
      selectorButtonGap: 10,
      tooltip: {
        show: !1
      }
    }, e;
  }(mt)
), Sr = In, mv = se, $l = zt, y_ = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n.newlineDisabled = !1, n;
    }
    return e.prototype.init = function() {
      this.group.add(this._contentGroup = new $l()), this.group.add(this._selectorGroup = new $l()), this._isFirstRender = !0;
    }, e.prototype.getContentGroup = function() {
      return this._contentGroup;
    }, e.prototype.getSelectorGroup = function() {
      return this._selectorGroup;
    }, e.prototype.render = function(n, o, a) {
      var r = this._isFirstRender;
      if (this._isFirstRender = !1, this.resetInner(), !!n.get("show", !0)) {
        var i = n.get("align"), s = n.get("orient");
        (!i || i === "auto") && (i = n.get("left") === "right" && s === "vertical" ? "right" : "left");
        var l = n.get("selector", !0), u = n.get("selectorPosition", !0);
        l && (!u || u === "auto") && (u = s === "horizontal" ? "end" : "start"), this.renderInner(i, n, o, a, l, s, u);
        var c = n.getBoxLayoutParams(), d = {
          width: a.getWidth(),
          height: a.getHeight()
        }, f = n.get("padding"), v = wu(c, d, f), p = this.layoutInner(n, i, v, r, l, u), h = wu(rt({
          width: p.width,
          height: p.height
        }, c), d, f);
        this.group.x = h.x - p.x, this.group.y = h.y - p.y, this.group.markRedraw(), this.group.add(this._backgroundEl = ZA(p, n));
      }
    }, e.prototype.resetInner = function() {
      this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll();
    }, e.prototype.renderInner = function(n, o, a, r, i, s, l) {
      var u = this.getContentGroup(), c = nt(), d = o.get("selectedMode"), f = [];
      a.eachRawSeries(function(v) {
        !v.get("legendHoverLink") && f.push(v.id);
      }), mv(o.getData(), function(v, p) {
        var h = v.get("name");
        if (!this.newlineDisabled && (h === "" || h === `
`)) {
          var m = new $l();
          m.newline = !0, u.add(m);
          return;
        }
        var g = a.getSeriesByName(h)[0];
        if (!c.get(h)) {
          if (g) {
            var y = g.getData(), _ = y.getVisual("legendLineStyle") || {}, w = y.getVisual("legendIcon"), x = y.getVisual("style"), S = this._createItem(g, h, p, v, o, n, _, x, w, d, r);
            S.on("click", Sr(Em, h, null, r, f)).on("mouseover", Sr(gv, g.name, null, r, f)).on("mouseout", Sr(yv, g.name, null, r, f)), a.ssr && S.eachChild(function(L) {
              var b = It(L);
              b.seriesIndex = g.seriesIndex, b.dataIndex = p, b.ssrType = "legend";
            }), c.set(h, !0);
          } else
            a.eachRawSeries(function(L) {
              if (!c.get(h) && L.legendVisualProvider) {
                var b = L.legendVisualProvider;
                if (!b.containName(h))
                  return;
                var I = b.indexOfName(h), M = b.getItemVisual(I, "style"), E = b.getItemVisual(I, "legendIcon"), D = go(M.fill);
                D && D[3] === 0 && (D[3] = 0.2, M = Le(Le({}, M), {
                  fill: Vu(D, "rgba")
                }));
                var O = this._createItem(L, h, p, v, o, n, {}, M, E, d, r);
                O.on("click", Sr(Em, null, h, r, f)).on("mouseover", Sr(gv, null, h, r, f)).on("mouseout", Sr(yv, null, h, r, f)), a.ssr && O.eachChild(function(N) {
                  var P = It(N);
                  P.seriesIndex = L.seriesIndex, P.dataIndex = p, P.ssrType = "legend";
                }), c.set(h, !0);
              }
            }, this);
          process.env.NODE_ENV !== "production" && (c.get(h) || console.warn(h + " series not exists. Legend data should be same with series name or data name."));
        }
      }, this), i && this._createSelector(i, o, r, s, l);
    }, e.prototype._createSelector = function(n, o, a, r, i) {
      var s = this.getSelectorGroup();
      mv(n, function(u) {
        var c = u.type, d = new Ln({
          style: {
            x: 0,
            y: 0,
            align: "center",
            verticalAlign: "middle"
          },
          onclick: function() {
            a.dispatchAction({
              type: c === "all" ? "legendAllSelect" : "legendInverseSelect"
            });
          }
        });
        s.add(d);
        var f = o.getModel("selectorLabel"), v = o.getModel(["emphasis", "selectorLabel"]);
        ti(d, {
          normal: f,
          emphasis: v
        }, {
          defaultText: u.title
        }), Wf(d);
      });
    }, e.prototype._createItem = function(n, o, a, r, i, s, l, u, c, d, f) {
      var v = n.visualDrawType, p = i.get("itemWidth"), h = i.get("itemHeight"), m = i.isSelected(o), g = r.get("symbolRotate"), y = r.get("symbolKeepAspect"), _ = r.get("icon");
      c = _ || c || "roundRect";
      var w = JA(c, r, l, u, v, m, f), x = new $l(), S = r.getModel("textStyle");
      if (Je(n.getLegendIcon) && (!_ || _ === "inherit"))
        x.add(n.getLegendIcon({
          itemWidth: p,
          itemHeight: h,
          icon: c,
          iconRotate: g,
          itemStyle: w.itemStyle,
          lineStyle: w.lineStyle,
          symbolKeepAspect: y
        }));
      else {
        var L = _ === "inherit" && n.getData().getVisual("symbol") ? g === "inherit" ? n.getData().getVisual("symbolRotate") : g : 0;
        x.add(KA({
          itemWidth: p,
          itemHeight: h,
          icon: c,
          iconRotate: L,
          itemStyle: w.itemStyle,
          lineStyle: w.lineStyle,
          symbolKeepAspect: y
        }));
      }
      var b = s === "left" ? p + 5 : -5, I = s, M = i.get("formatter"), E = o;
      ze(M) && M ? E = M.replace("{name}", o ?? "") : Je(M) && (E = M(o));
      var D = m ? S.getTextColor() : r.get("inactiveColor");
      x.add(new Ln({
        style: ys(S, {
          text: E,
          x: b,
          y: h / 2,
          fill: D,
          align: I,
          verticalAlign: "middle"
        }, {
          inheritColor: D
        })
      }));
      var O = new Gt({
        shape: x.getBoundingRect(),
        style: {
          // Cannot use 'invisible' because SVG SSR will miss the node
          fill: "transparent"
        }
      }), N = r.getModel("tooltip");
      return N.get("show") && dp({
        el: O,
        componentModel: i,
        itemName: o,
        itemTooltipOption: N.option
      }), x.add(O), x.eachChild(function(P) {
        P.silent = !0;
      }), O.silent = !d, this.getContentGroup().add(x), Wf(x), x.__legendDataIndex = a, x;
    }, e.prototype.layoutInner = function(n, o, a, r, i, s) {
      var l = this.getContentGroup(), u = this.getSelectorGroup();
      as(n.get("orient"), l, n.get("itemGap"), a.width, a.height);
      var c = l.getBoundingRect(), d = [-c.x, -c.y];
      if (u.markRedraw(), l.markRedraw(), i) {
        as(
          // Buttons in selectorGroup always layout horizontally
          "horizontal",
          u,
          n.get("selectorItemGap", !0)
        );
        var f = u.getBoundingRect(), v = [-f.x, -f.y], p = n.get("selectorButtonGap", !0), h = n.getOrient().index, m = h === 0 ? "width" : "height", g = h === 0 ? "height" : "width", y = h === 0 ? "y" : "x";
        s === "end" ? v[h] += c[m] + p : d[h] += f[m] + p, v[1 - h] += c[g] / 2 - f[g] / 2, u.x = v[0], u.y = v[1], l.x = d[0], l.y = d[1];
        var _ = {
          x: 0,
          y: 0
        };
        return _[m] = c[m] + p + f[m], _[g] = Math.max(c[g], f[g]), _[y] = Math.min(0, f[y] + v[1 - h]), _;
      } else
        return l.x = d[0], l.y = d[1], this.group.getBoundingRect();
    }, e.prototype.remove = function() {
      this.getContentGroup().removeAll(), this._isFirstRender = !0;
    }, e.type = "legend.plain", e;
  }(Ao)
);
function JA(t, e, n, o, a, r, i) {
  function s(m, g) {
    m.lineWidth === "auto" && (m.lineWidth = g.lineWidth > 0 ? 2 : 0), mv(m, function(y, _) {
      m[_] === "inherit" && (m[_] = g[_]);
    });
  }
  var l = e.getModel("itemStyle"), u = l.getItemStyle(), c = t.lastIndexOf("empty", 0) === 0 ? "fill" : "stroke", d = l.getShallow("decal");
  u.decal = !d || d === "inherit" ? o.decal : av(d, i), u.fill === "inherit" && (u.fill = o[a]), u.stroke === "inherit" && (u.stroke = o[c]), u.opacity === "inherit" && (u.opacity = (a === "fill" ? o : n).opacity), s(u, o);
  var f = e.getModel("lineStyle"), v = f.getLineStyle();
  if (s(v, n), u.fill === "auto" && (u.fill = o.fill), u.stroke === "auto" && (u.stroke = o.fill), v.stroke === "auto" && (v.stroke = o.fill), !r) {
    var p = e.get("inactiveBorderWidth"), h = u[c];
    u.lineWidth = p === "auto" ? o.lineWidth > 0 && h ? 2 : 0 : u.lineWidth, u.fill = e.get("inactiveColor"), u.stroke = e.get("inactiveBorderColor"), v.stroke = f.get("inactiveColor"), v.lineWidth = f.get("inactiveWidth");
  }
  return {
    itemStyle: u,
    lineStyle: v
  };
}
function KA(t) {
  var e = t.icon || "roundRect", n = ca(e, 0, 0, t.itemWidth, t.itemHeight, t.itemStyle.fill, t.symbolKeepAspect);
  return n.setStyle(t.itemStyle), n.rotation = (t.iconRotate || 0) * Math.PI / 180, n.setOrigin([t.itemWidth / 2, t.itemHeight / 2]), e.indexOf("empty") > -1 && (n.style.stroke = n.style.fill, n.style.fill = "#fff", n.style.lineWidth = 2), n;
}
function Em(t, e, n, o) {
  yv(t, e, n, o), n.dispatchAction({
    type: "legendToggleSelect",
    name: t ?? e
  }), gv(t, e, n, o);
}
function __(t) {
  for (var e = t.getZr().storage.getDisplayList(), n, o = 0, a = e.length; o < a && !(n = e[o].states.emphasis); )
    o++;
  return n && n.hoverLayer;
}
function gv(t, e, n, o) {
  __(n) || n.dispatchAction({
    type: "highlight",
    seriesName: t,
    name: e,
    excludeSeriesId: o
  });
}
function yv(t, e, n, o) {
  __(n) || n.dispatchAction({
    type: "downplay",
    seriesName: t,
    name: e,
    excludeSeriesId: o
  });
}
function QA(t) {
  var e = t.findComponents({
    mainType: "legend"
  });
  e && e.length && t.filterSeries(function(n) {
    for (var o = 0; o < e.length; o++)
      if (!e[o].isSelected(n.name))
        return !1;
    return !0;
  });
}
function Di(t, e, n) {
  var o = {}, a = t === "toggleSelected", r;
  return n.eachComponent("legend", function(i) {
    a && r != null ? i[r ? "select" : "unSelect"](e.name) : t === "allSelect" || t === "inverseSelect" ? i[t]() : (i[t](e.name), r = i.isSelected(e.name));
    var s = i.getData();
    se(s, function(l) {
      var u = l.get("name");
      if (!(u === `
` || u === "")) {
        var c = i.isSelected(u);
        o.hasOwnProperty(u) ? o[u] = o[u] && c : o[u] = c;
      }
    });
  }), t === "allSelect" || t === "inverseSelect" ? {
    selected: o
  } : {
    name: e.name,
    selected: o
  };
}
function jA(t) {
  t.registerAction("legendToggleSelect", "legendselectchanged", In(Di, "toggleSelected")), t.registerAction("legendAllSelect", "legendselectall", In(Di, "allSelect")), t.registerAction("legendInverseSelect", "legendinverseselect", In(Di, "inverseSelect")), t.registerAction("legendSelect", "legendselected", In(Di, "select")), t.registerAction("legendUnSelect", "legendunselected", In(Di, "unSelect"));
}
function b_(t) {
  t.registerComponentModel(hv), t.registerComponentView(y_), t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER, QA), t.registerSubTypeDefaulter("legend", function() {
    return "plain";
  }), jA(t);
}
var eD = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n;
    }
    return e.prototype.setScrollDataIndex = function(n) {
      this.option.scrollDataIndex = n;
    }, e.prototype.init = function(n, o, a) {
      var r = cc(n);
      t.prototype.init.call(this, n, o, a), Mm(this, n, r);
    }, e.prototype.mergeOption = function(n, o) {
      t.prototype.mergeOption.call(this, n, o), Mm(this, this.option, n);
    }, e.type = "legend.scroll", e.defaultOption = cy(hv.defaultOption, {
      scrollDataIndex: 0,
      pageButtonItemGap: 5,
      pageButtonGap: null,
      pageButtonPosition: "end",
      pageFormatter: "{current}/{total}",
      pageIcons: {
        horizontal: ["M0,0L12,-10L12,10z", "M0,0L-12,-10L-12,10z"],
        vertical: ["M0,0L20,0L10,-20z", "M0,0L20,0L10,20z"]
      },
      pageIconColor: "#2f4554",
      pageIconInactiveColor: "#aaa",
      pageIconSize: 15,
      pageTextStyle: {
        color: "#333"
      },
      animationDurationUpdate: 800
    }), e;
  }(hv)
);
function Mm(t, e, n) {
  var o = t.getOrient(), a = [1, 1];
  a[o.index] = 0, Zr(e, n, {
    type: "box",
    ignoreSize: !!a
  });
}
var Am = zt, Jd = ["width", "height"], Kd = ["x", "y"], tD = (
  /** @class */
  function(t) {
    De(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = e.type, n.newlineDisabled = !0, n._currentIndex = 0, n;
    }
    return e.prototype.init = function() {
      t.prototype.init.call(this), this.group.add(this._containerGroup = new Am()), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new Am());
    }, e.prototype.resetInner = function() {
      t.prototype.resetInner.call(this), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null;
    }, e.prototype.renderInner = function(n, o, a, r, i, s, l) {
      var u = this;
      t.prototype.renderInner.call(this, n, o, a, r, i, s, l);
      var c = this._controllerGroup, d = o.get("pageIconSize", !0), f = Oe(d) ? d : [d, d];
      p("pagePrev", 0);
      var v = o.getModel("pageTextStyle");
      c.add(new Ln({
        name: "pageText",
        style: {
          // Placeholder to calculate a proper layout.
          text: "xx/xx",
          fill: v.getTextColor(),
          font: v.getFont(),
          verticalAlign: "middle",
          align: "center"
        },
        silent: !0
      })), p("pageNext", 1);
      function p(h, m) {
        var g = h + "DataIndex", y = iy(o.get("pageIcons", !0)[o.getOrient().name][m], {
          // Buttons will be created in each render, so we do not need
          // to worry about avoiding using legendModel kept in scope.
          onclick: Bt(u._pageGo, u, g, o, r)
        }, {
          x: -f[0] / 2,
          y: -f[1] / 2,
          width: f[0],
          height: f[1]
        });
        y.name = h, c.add(y);
      }
    }, e.prototype.layoutInner = function(n, o, a, r, i, s) {
      var l = this.getSelectorGroup(), u = n.getOrient().index, c = Jd[u], d = Kd[u], f = Jd[1 - u], v = Kd[1 - u];
      i && as(
        // Buttons in selectorGroup always layout horizontally
        "horizontal",
        l,
        n.get("selectorItemGap", !0)
      );
      var p = n.get("selectorButtonGap", !0), h = l.getBoundingRect(), m = [-h.x, -h.y], g = st(a);
      i && (g[c] = a[c] - h[c] - p);
      var y = this._layoutContentAndController(n, r, g, u, c, f, v, d);
      if (i) {
        if (s === "end")
          m[u] += y[c] + p;
        else {
          var _ = h[c] + p;
          m[u] -= _, y[d] -= _;
        }
        y[c] += h[c] + p, m[1 - u] += y[v] + y[f] / 2 - h[f] / 2, y[f] = Math.max(y[f], h[f]), y[v] = Math.min(y[v], h[v] + m[1 - u]), l.x = m[0], l.y = m[1], l.markRedraw();
      }
      return y;
    }, e.prototype._layoutContentAndController = function(n, o, a, r, i, s, l, u) {
      var c = this.getContentGroup(), d = this._containerGroup, f = this._controllerGroup;
      as(n.get("orient"), c, n.get("itemGap"), r ? a.width : null, r ? null : a.height), as(
        // Buttons in controller are layout always horizontally.
        "horizontal",
        f,
        n.get("pageButtonItemGap", !0)
      );
      var v = c.getBoundingRect(), p = f.getBoundingRect(), h = this._showController = v[i] > a[i], m = [-v.x, -v.y];
      o || (m[r] = c[u]);
      var g = [0, 0], y = [-p.x, -p.y], _ = Ge(n.get("pageButtonGap", !0), n.get("itemGap", !0));
      if (h) {
        var w = n.get("pageButtonPosition", !0);
        w === "end" ? y[r] += a[i] - p[i] : g[r] += p[i] + _;
      }
      y[1 - r] += v[s] / 2 - p[s] / 2, c.setPosition(m), d.setPosition(g), f.setPosition(y);
      var x = {
        x: 0,
        y: 0
      };
      if (x[i] = h ? a[i] : v[i], x[s] = Math.max(v[s], p[s]), x[l] = Math.min(0, p[l] + y[1 - r]), d.__rectSize = a[i], h) {
        var S = {
          x: 0,
          y: 0
        };
        S[i] = Math.max(a[i] - p[i] - _, 0), S[s] = x[s], d.setClipPath(new Gt({
          shape: S
        })), d.__rectSize = S[i];
      } else
        f.eachChild(function(b) {
          b.attr({
            invisible: !0,
            silent: !0
          });
        });
      var L = this._getPageInfo(n);
      return L.pageIndex != null && an(
        c,
        {
          x: L.contentPosition[0],
          y: L.contentPosition[1]
        },
        // When switch from "show controller" to "not show controller", view should be
        // updated immediately without animation, otherwise causes weird effect.
        h ? n : null
      ), this._updatePageInfoView(n, L), x;
    }, e.prototype._pageGo = function(n, o, a) {
      var r = this._getPageInfo(o)[n];
      r != null && a.dispatchAction({
        type: "legendScroll",
        scrollDataIndex: r,
        legendId: o.id
      });
    }, e.prototype._updatePageInfoView = function(n, o) {
      var a = this._controllerGroup;
      se(["pagePrev", "pageNext"], function(c) {
        var d = c + "DataIndex", f = o[d] != null, v = a.childOfName(c);
        v && (v.setStyle("fill", f ? n.get("pageIconColor", !0) : n.get("pageIconInactiveColor", !0)), v.cursor = f ? "pointer" : "default");
      });
      var r = a.childOfName("pageText"), i = n.get("pageFormatter"), s = o.pageIndex, l = s != null ? s + 1 : 0, u = o.pageCount;
      r && i && r.setStyle("text", ze(i) ? i.replace("{current}", l == null ? "" : l + "").replace("{total}", u == null ? "" : u + "") : i({
        current: l,
        total: u
      }));
    }, e.prototype._getPageInfo = function(n) {
      var o = n.get("scrollDataIndex", !0), a = this.getContentGroup(), r = this._containerGroup.__rectSize, i = n.getOrient().index, s = Jd[i], l = Kd[i], u = this._findTargetItemIndex(o), c = a.children(), d = c[u], f = c.length, v = f ? 1 : 0, p = {
        contentPosition: [a.x, a.y],
        pageCount: v,
        pageIndex: v - 1,
        pagePrevDataIndex: null,
        pageNextDataIndex: null
      };
      if (!d)
        return p;
      var h = w(d);
      p.contentPosition[i] = -h.s;
      for (var m = u + 1, g = h, y = h, _ = null; m <= f; ++m)
        _ = w(c[m]), // Half of the last item is out of the window.
        (!_ && y.e > g.s + r || _ && !x(_, g.s)) && (y.i > g.i ? g = y : g = _, g && (p.pageNextDataIndex == null && (p.pageNextDataIndex = g.i), ++p.pageCount)), y = _;
      for (var m = u - 1, g = h, y = h, _ = null; m >= -1; --m)
        _ = w(c[m]), // If the the end item does not intersect with the window started
        // from the current item, a page can be settled.
        (!_ || !x(y, _.s)) && g.i < y.i && (y = g, p.pagePrevDataIndex == null && (p.pagePrevDataIndex = g.i), ++p.pageCount, ++p.pageIndex), g = _;
      return p;
      function w(S) {
        if (S) {
          var L = S.getBoundingRect(), b = L[l] + S[l];
          return {
            s: b,
            e: b + L[s],
            i: S.__legendDataIndex
          };
        }
      }
      function x(S, L) {
        return S.e >= L && S.s <= L + r;
      }
    }, e.prototype._findTargetItemIndex = function(n) {
      if (!this._showController)
        return 0;
      var o, a = this.getContentGroup(), r;
      return a.eachChild(function(i, s) {
        var l = i.__legendDataIndex;
        r == null && l != null && (r = s), l === n && (o = s);
      }), o ?? r;
    }, e.type = "legend.scroll", e;
  }(y_)
);
function nD(t) {
  t.registerAction("legendScroll", "legendscroll", function(e, n) {
    var o = e.scrollDataIndex;
    o != null && n.eachComponent({
      mainType: "legend",
      subType: "scroll",
      query: e
    }, function(a) {
      a.setScrollDataIndex(o);
    });
  });
}
function oD(t) {
  nr(b_), t.registerComponentModel(eD), t.registerComponentView(tD), nD(t);
}
function aD(t) {
  nr(b_), nr(oD);
}
var Qd = Math.sin, jd = Math.cos, w_ = Math.PI, Va = Math.PI * 2, rD = 180 / w_, x_ = function() {
  function t() {
  }
  return t.prototype.reset = function(e) {
    this._start = !0, this._d = [], this._str = "", this._p = Math.pow(10, e || 4);
  }, t.prototype.moveTo = function(e, n) {
    this._add("M", e, n);
  }, t.prototype.lineTo = function(e, n) {
    this._add("L", e, n);
  }, t.prototype.bezierCurveTo = function(e, n, o, a, r, i) {
    this._add("C", e, n, o, a, r, i);
  }, t.prototype.quadraticCurveTo = function(e, n, o, a) {
    this._add("Q", e, n, o, a);
  }, t.prototype.arc = function(e, n, o, a, r, i) {
    this.ellipse(e, n, o, o, 0, a, r, i);
  }, t.prototype.ellipse = function(e, n, o, a, r, i, s, l) {
    var u = s - i, c = !l, d = Math.abs(u), f = qo(d - Va) || (c ? u >= Va : -u >= Va), v = u > 0 ? u % Va : u % Va + Va, p = !1;
    f ? p = !0 : qo(d) ? p = !1 : p = v >= w_ == !!c;
    var h = e + o * jd(i), m = n + a * Qd(i);
    this._start && this._add("M", h, m);
    var g = Math.round(r * rD);
    if (f) {
      var y = 1 / this._p, _ = (c ? 1 : -1) * (Va - y);
      this._add("A", o, a, g, 1, +c, e + o * jd(i + _), n + a * Qd(i + _)), y > 0.01 && this._add("A", o, a, g, 0, +c, h, m);
    } else {
      var w = e + o * jd(s), x = n + a * Qd(s);
      this._add("A", o, a, g, +p, +c, w, x);
    }
  }, t.prototype.rect = function(e, n, o, a) {
    this._add("M", e, n), this._add("l", o, 0), this._add("l", 0, a), this._add("l", -o, 0), this._add("Z");
  }, t.prototype.closePath = function() {
    this._d.length > 0 && this._add("Z");
  }, t.prototype._add = function(e, n, o, a, r, i, s, l, u) {
    for (var c = [], d = this._p, f = 1; f < arguments.length; f++) {
      var v = arguments[f];
      if (isNaN(v)) {
        this._invalid = !0;
        return;
      }
      c.push(Math.round(v * d) / d);
    }
    this._d.push(e + c.join(" ")), this._start = e === "Z";
  }, t.prototype.generateStr = function() {
    this._str = this._invalid ? "" : this._d.join(""), this._d = [];
  }, t.prototype.getStr = function() {
    return this._str;
  }, t;
}(), Hp = "none", iD = Math.round;
function sD(t) {
  var e = t.fill;
  return e != null && e !== Hp;
}
function lD(t) {
  var e = t.stroke;
  return e != null && e !== Hp;
}
var _v = ["lineCap", "miterLimit", "lineJoin"], uD = $e(_v, function(t) {
  return "stroke-" + t.toLowerCase();
});
function cD(t, e, n, o) {
  var a = e.opacity == null ? 1 : e.opacity;
  if (n instanceof no) {
    t("opacity", a);
    return;
  }
  if (sD(e)) {
    var r = fs(e.fill);
    t("fill", r.color);
    var i = e.fillOpacity != null ? e.fillOpacity * r.opacity * a : r.opacity * a;
    i < 1 && t("fill-opacity", i);
  } else
    t("fill", Hp);
  if (lD(e)) {
    var s = fs(e.stroke);
    t("stroke", s.color);
    var l = e.strokeNoScale ? n.getLineScale() : 1, u = l ? (e.lineWidth || 0) / l : 0, c = e.strokeOpacity != null ? e.strokeOpacity * s.opacity * a : s.opacity * a, d = e.strokeFirst;
    if (u !== 1 && t("stroke-width", u), d && t("paint-order", d ? "stroke" : "fill"), c < 1 && t("stroke-opacity", c), e.lineDash) {
      var f = Tp(n), v = f[0], p = f[1];
      v && (p = iD(p || 0), t("stroke-dasharray", v.join(",")), (p || o) && t("stroke-dashoffset", p));
    }
    for (var h = 0; h < _v.length; h++) {
      var m = _v[h];
      if (e[m] !== du[m]) {
        var g = e[m] || du[m];
        g && t(uD[h], g);
      }
    }
  }
}
var S_ = "http://www.w3.org/2000/svg", I_ = "http://www.w3.org/1999/xlink", dD = "http://www.w3.org/2000/xmlns/", fD = "http://www.w3.org/XML/1998/namespace", Dm = "ecmeta_";
function C_(t) {
  return document.createElementNS(S_, t);
}
function Ft(t, e, n, o, a) {
  return {
    tag: t,
    attrs: n || {},
    children: o,
    text: a,
    key: e
  };
}
function vD(t, e) {
  var n = [];
  if (e)
    for (var o in e) {
      var a = e[o], r = o;
      a !== !1 && (a !== !0 && a != null && (r += '="' + a + '"'), n.push(r));
    }
  return "<" + t + " " + n.join(" ") + ">";
}
function pD(t) {
  return "</" + t + ">";
}
function Gp(t, e) {
  e = e || {};
  var n = e.newline ? `
` : "";
  function o(a) {
    var r = a.children, i = a.tag, s = a.attrs, l = a.text;
    return vD(i, s) + (i !== "style" ? Hx(l) : l || "") + (r ? "" + n + $e(r, function(u) {
      return o(u);
    }).join(n) + n : "") + pD(i);
  }
  return o(t);
}
function hD(t, e, n) {
  n = n || {};
  var o = n.newline ? `
` : "", a = " {" + o, r = o + "}", i = $e(lt(t), function(l) {
    return l + a + $e(lt(t[l]), function(u) {
      return u + ":" + t[l][u] + ";";
    }).join(o) + r;
  }).join(o), s = $e(lt(e), function(l) {
    return "@keyframes " + l + a + $e(lt(e[l]), function(u) {
      return u + a + $e(lt(e[l][u]), function(c) {
        var d = e[l][u][c];
        return c === "d" && (d = 'path("' + d + '")'), c + ":" + d + ";";
      }).join(o) + r;
    }).join(o) + r;
  }).join(o);
  return !i && !s ? "" : ["<![CDATA[", i, s, "]]>"].join(o);
}
function bv(t) {
  return {
    zrId: t,
    shadowCache: {},
    patternCache: {},
    gradientCache: {},
    clipPathCache: {},
    defs: {},
    cssNodes: {},
    cssAnims: {},
    cssStyleCache: {},
    cssAnimIdx: 0,
    shadowIdx: 0,
    gradientIdx: 0,
    patternIdx: 0,
    clipPathIdx: 0
  };
}
function $m(t, e, n, o) {
  return Ft("svg", "root", {
    width: t,
    height: e,
    xmlns: S_,
    "xmlns:xlink": I_,
    version: "1.1",
    baseProfile: "full",
    viewBox: o ? "0 0 " + t + " " + e : !1
  }, n);
}
var mD = 0;
function T_() {
  return mD++;
}
var Pm = {
  cubicIn: "0.32,0,0.67,0",
  cubicOut: "0.33,1,0.68,1",
  cubicInOut: "0.65,0,0.35,1",
  quadraticIn: "0.11,0,0.5,0",
  quadraticOut: "0.5,1,0.89,1",
  quadraticInOut: "0.45,0,0.55,1",
  quarticIn: "0.5,0,0.75,0",
  quarticOut: "0.25,1,0.5,1",
  quarticInOut: "0.76,0,0.24,1",
  quinticIn: "0.64,0,0.78,0",
  quinticOut: "0.22,1,0.36,1",
  quinticInOut: "0.83,0,0.17,1",
  sinusoidalIn: "0.12,0,0.39,0",
  sinusoidalOut: "0.61,1,0.88,1",
  sinusoidalInOut: "0.37,0,0.63,1",
  exponentialIn: "0.7,0,0.84,0",
  exponentialOut: "0.16,1,0.3,1",
  exponentialInOut: "0.87,0,0.13,1",
  circularIn: "0.55,0,1,0.45",
  circularOut: "0,0.55,0.45,1",
  circularInOut: "0.85,0,0.15,1"
}, Ha = "transform-origin";
function gD(t, e, n) {
  var o = Le({}, t.shape);
  Le(o, e), t.buildPath(n, o);
  var a = new x_();
  return a.reset(l2(t)), n.rebuildPath(a, 1), a.generateStr(), a.getStr();
}
function yD(t, e) {
  var n = e.originX, o = e.originY;
  (n || o) && (t[Ha] = n + "px " + o + "px");
}
var _D = {
  fill: "fill",
  opacity: "opacity",
  lineWidth: "stroke-width",
  lineDashOffset: "stroke-dashoffset"
};
function L_(t, e) {
  var n = e.zrId + "-ani-" + e.cssAnimIdx++;
  return e.cssAnims[n] = t, n;
}
function bD(t, e, n) {
  var o = t.shape.paths, a = {}, r, i;
  if (se(o, function(l) {
    var u = bv(n.zrId);
    u.animation = !0, yc(l, {}, u, !0);
    var c = u.cssAnims, d = u.cssNodes, f = lt(c), v = f.length;
    if (v) {
      i = f[v - 1];
      var p = c[i];
      for (var h in p) {
        var m = p[h];
        a[h] = a[h] || { d: "" }, a[h].d += m.d || "";
      }
      for (var g in d) {
        var y = d[g].animation;
        y.indexOf(i) >= 0 && (r = y);
      }
    }
  }), !!r) {
    e.d = !1;
    var s = L_(a, n);
    return r.replace(i, s);
  }
}
function Rm(t) {
  return ze(t) ? Pm[t] ? "cubic-bezier(" + Pm[t] + ")" : Jv(t) ? t : "" : "";
}
function yc(t, e, n, o) {
  var a = t.animators, r = a.length, i = [];
  if (t instanceof Q2) {
    var s = bD(t, e, n);
    if (s)
      i.push(s);
    else if (!r)
      return;
  } else if (!r)
    return;
  for (var l = {}, u = 0; u < r; u++) {
    var c = a[u], d = [c.getMaxTime() / 1e3 + "s"], f = Rm(c.getClip().easing), v = c.getDelay();
    f ? d.push(f) : d.push("linear"), v && d.push(v / 1e3 + "s"), c.getLoop() && d.push("infinite");
    var p = d.join(" ");
    l[p] = l[p] || [p, []], l[p][1].push(c);
  }
  function h(y) {
    var _ = y[1], w = _.length, x = {}, S = {}, L = {}, b = "animation-timing-function";
    function I(ee, ue, X) {
      for (var Y = ee.getTracks(), U = ee.getMaxTime(), K = 0; K < Y.length; K++) {
        var Z = Y[K];
        if (Z.needsAnimate()) {
          var ae = Z.keyframes, he = Z.propName;
          if (X && (he = X(he)), he)
            for (var Ce = 0; Ce < ae.length; Ce++) {
              var ke = ae[Ce], Se = Math.round(ke.time / U * 100) + "%", be = Rm(ke.easing), we = ke.rawValue;
              (ze(we) || bt(we)) && (ue[Se] = ue[Se] || {}, ue[Se][he] = ke.rawValue, be && (ue[Se][b] = be));
            }
        }
      }
    }
    for (var M = 0; M < w; M++) {
      var E = _[M], D = E.targetName;
      D ? D === "shape" && I(E, S) : !o && I(E, x);
    }
    for (var O in x) {
      var N = {};
      v2(N, t), Le(N, x[O]);
      var P = u2(N), $ = x[O][b];
      L[O] = P ? {
        transform: P
      } : {}, yD(L[O], N), $ && (L[O][b] = $);
    }
    var z, H = !0;
    for (var O in S) {
      L[O] = L[O] || {};
      var W = !z, $ = S[O][b];
      W && (z = new la());
      var oe = z.len();
      z.reset(), L[O].d = gD(t, S[O], z);
      var te = z.len();
      if (!W && oe !== te) {
        H = !1;
        break;
      }
      $ && (L[O][b] = $);
    }
    if (!H)
      for (var O in L)
        delete L[O].d;
    if (!o)
      for (var M = 0; M < w; M++) {
        var E = _[M], D = E.targetName;
        D === "style" && I(E, L, function(Y) {
          return _D[Y];
        });
      }
    for (var le = lt(L), J = !0, Q, M = 1; M < le.length; M++) {
      var q = le[M - 1], G = le[M];
      if (L[q][Ha] !== L[G][Ha]) {
        J = !1;
        break;
      }
      Q = L[q][Ha];
    }
    if (J && Q) {
      for (var O in L)
        L[O][Ha] && delete L[O][Ha];
      e[Ha] = Q;
    }
    if (tn(le, function(ee) {
      return lt(L[ee]).length > 0;
    }).length) {
      var B = L_(L, n);
      return B + " " + y[0] + " both";
    }
  }
  for (var m in l) {
    var s = h(l[m]);
    s && i.push(s);
  }
  if (i.length) {
    var g = n.zrId + "-cls-" + T_();
    n.cssNodes["." + g] = {
      animation: i.join(",")
    }, e.class = g;
  }
}
function wD(t, e, n) {
  if (!t.ignore)
    if (t.isSilent()) {
      var o = {
        "pointer-events": "none"
      };
      Om(o, e, n);
    } else {
      var a = t.states.emphasis && t.states.emphasis.style ? t.states.emphasis.style : {}, r = a.fill;
      if (!r) {
        var i = t.style && t.style.fill, s = t.states.select && t.states.select.style && t.states.select.style.fill, l = t.currentStates.indexOf("select") >= 0 && s || i;
        l && (r = Cf(l));
      }
      var u = a.lineWidth;
      if (u) {
        var c = !a.strokeNoScale && t.transform ? t.transform[0] : 1;
        u = u / c;
      }
      var o = {
        cursor: "pointer"
      };
      r && (o.fill = r), a.stroke && (o.stroke = a.stroke), u && (o["stroke-width"] = u), Om(o, e, n);
    }
}
function Om(t, e, n, o) {
  var a = JSON.stringify(t), r = n.cssStyleCache[a];
  r || (r = n.zrId + "-cls-" + T_(), n.cssStyleCache[a] = r, n.cssNodes["." + r + ":hover"] = t), e.class = e.class ? e.class + " " + r : r;
}
var Ts = Math.round;
function k_(t) {
  return t && ze(t.src);
}
function E_(t) {
  return t && Je(t.toDataURL);
}
function Up(t, e, n, o) {
  cD(function(a, r) {
    var i = a === "fill" || a === "stroke";
    i && s2(r) ? A_(e, t, a, o) : i && Kv(r) ? D_(n, t, a, o) : i && r === "none" ? t[a] = "transparent" : t[a] = r;
  }, e, n, !1), kD(n, t, o);
}
function Wp(t, e) {
  var n = ZS(e);
  n && (n.each(function(o, a) {
    o != null && (t[(Dm + a).toLowerCase()] = o + "");
  }), e.isSilent() && (t[Dm + "silent"] = "true"));
}
function Nm(t) {
  return qo(t[0] - 1) && qo(t[1]) && qo(t[2]) && qo(t[3] - 1);
}
function xD(t) {
  return qo(t[4]) && qo(t[5]);
}
function Xp(t, e, n) {
  if (e && !(xD(e) && Nm(e))) {
    var o = 1e4;
    t.transform = Nm(e) ? "translate(" + Ts(e[4] * o) / o + " " + Ts(e[5] * o) / o + ")" : gS(e);
  }
}
function Bm(t, e, n) {
  for (var o = t.points, a = [], r = 0; r < o.length; r++)
    a.push(Ts(o[r][0] * n) / n), a.push(Ts(o[r][1] * n) / n);
  e.points = a.join(" ");
}
function Fm(t) {
  return !t.smooth;
}
function SD(t) {
  var e = $e(t, function(n) {
    return typeof n == "string" ? [n, n] : n;
  });
  return function(n, o, a) {
    for (var r = 0; r < e.length; r++) {
      var i = e[r], s = n[i[0]];
      s != null && (o[i[1]] = Ts(s * a) / a);
    }
  };
}
var ID = {
  circle: [SD(["cx", "cy", "r"])],
  polyline: [Bm, Fm],
  polygon: [Bm, Fm]
};
function CD(t) {
  for (var e = t.animators, n = 0; n < e.length; n++)
    if (e[n].targetName === "shape")
      return !0;
  return !1;
}
function M_(t, e) {
  var n = t.style, o = t.shape, a = ID[t.type], r = {}, i = e.animation, s = "path", l = t.style.strokePercent, u = e.compress && l2(t) || 4;
  if (a && !e.willUpdate && !(a[1] && !a[1](o)) && !(i && CD(t)) && !(l < 1)) {
    s = t.type;
    var c = Math.pow(10, u);
    a[0](o, r, c);
  } else {
    var d = !t.path || t.shapeChanged();
    t.path || t.createPathProxy();
    var f = t.path;
    d && (f.beginPath(), t.buildPath(f, t.shape), t.pathUpdated());
    var v = f.getVersion(), p = t, h = p.__svgPathBuilder;
    (p.__svgPathVersion !== v || !h || l !== p.__svgPathStrokePercent) && (h || (h = p.__svgPathBuilder = new x_()), h.reset(u), f.rebuildPath(h, l), h.generateStr(), p.__svgPathVersion = v, p.__svgPathStrokePercent = l), r.d = h.getStr();
  }
  return Xp(r, t.transform), Up(r, n, t, e), Wp(r, t), e.animation && yc(t, r, e), e.emphasis && wD(t, r, e), Ft(s, t.id + "", r);
}
function TD(t, e) {
  var n = t.style, o = n.image;
  if (o && !ze(o) && (k_(o) ? o = o.src : E_(o) && (o = o.toDataURL())), !!o) {
    var a = n.x || 0, r = n.y || 0, i = n.width, s = n.height, l = {
      href: o,
      width: i,
      height: s
    };
    return a && (l.x = a), r && (l.y = r), Xp(l, t.transform), Up(l, n, t, e), Wp(l, t), e.animation && yc(t, l, e), Ft("image", t.id + "", l);
  }
}
function LD(t, e) {
  var n = t.style, o = n.text;
  if (o != null && (o += ""), !(!o || isNaN(n.x) || isNaN(n.y))) {
    var a = n.font || aa, r = n.x || 0, i = _S(n.y || 0, Gu(a), n.textBaseline), s = yS[n.textAlign] || n.textAlign, l = {
      "dominant-baseline": "central",
      "text-anchor": s
    };
    if (O2(n)) {
      var u = "", c = n.fontStyle, d = R2(n.fontSize);
      if (!parseFloat(d))
        return;
      var f = n.fontFamily || Bg, v = n.fontWeight;
      u += "font-size:" + d + ";font-family:" + f + ";", c && c !== "normal" && (u += "font-style:" + c + ";"), v && v !== "normal" && (u += "font-weight:" + v + ";"), l.style = u;
    } else
      l.style = "font: " + a;
    return o.match(/\s/) && (l["xml:space"] = "preserve"), r && (l.x = r), i && (l.y = i), Xp(l, t.transform), Up(l, n, t, e), Wp(l, t), e.animation && yc(t, l, e), Ft("text", t.id + "", l, void 0, o);
  }
}
function zm(t, e) {
  if (t instanceof dt)
    return M_(t, e);
  if (t instanceof no)
    return TD(t, e);
  if (t instanceof hs)
    return LD(t, e);
}
function kD(t, e, n) {
  var o = t.style;
  if (bS(o)) {
    var a = wS(t), r = n.shadowCache, i = r[a];
    if (!i) {
      var s = t.getGlobalScale(), l = s[0], u = s[1];
      if (!l || !u)
        return;
      var c = o.shadowOffsetX || 0, d = o.shadowOffsetY || 0, f = o.shadowBlur, v = fs(o.shadowColor), p = v.opacity, h = v.color, m = f / 2 / l, g = f / 2 / u, y = m + " " + g;
      i = n.zrId + "-s" + n.shadowIdx++, n.defs[i] = Ft("filter", i, {
        id: i,
        x: "-100%",
        y: "-100%",
        width: "300%",
        height: "300%"
      }, [
        Ft("feDropShadow", "", {
          dx: c / l,
          dy: d / u,
          stdDeviation: y,
          "flood-color": h,
          "flood-opacity": p
        })
      ]), r[a] = i;
    }
    e.filter = Hu(i);
  }
}
function A_(t, e, n, o) {
  var a = t[n], r, i = {
    gradientUnits: a.global ? "userSpaceOnUse" : "objectBoundingBox"
  };
  if (r2(a))
    r = "linearGradient", i.x1 = a.x, i.y1 = a.y, i.x2 = a.x2, i.y2 = a.y2;
  else if (i2(a))
    r = "radialGradient", i.cx = Ge(a.x, 0.5), i.cy = Ge(a.y, 0.5), i.r = Ge(a.r, 0.5);
  else {
    process.env.NODE_ENV !== "production" && Hr("Illegal gradient type.");
    return;
  }
  for (var s = a.colorStops, l = [], u = 0, c = s.length; u < c; ++u) {
    var d = Tf(s[u].offset) * 100 + "%", f = s[u].color, v = fs(f), p = v.color, h = v.opacity, m = {
      offset: d
    };
    m["stop-color"] = p, h < 1 && (m["stop-opacity"] = h), l.push(Ft("stop", u + "", m));
  }
  var g = Ft(r, "", i, l), y = Gp(g), _ = o.gradientCache, w = _[y];
  w || (w = o.zrId + "-g" + o.gradientIdx++, _[y] = w, i.id = w, o.defs[w] = Ft(r, w, i, l)), e[n] = Hu(w);
}
function D_(t, e, n, o) {
  var a = t.style[n], r = t.getBoundingRect(), i = {}, s = a.repeat, l = s === "no-repeat", u = s === "repeat-x", c = s === "repeat-y", d;
  if (a2(a)) {
    var f = a.imageWidth, v = a.imageHeight, p = void 0, h = a.image;
    if (ze(h) ? p = h : k_(h) ? p = h.src : E_(h) && (p = h.toDataURL()), typeof Image > "u") {
      var m = "Image width/height must been given explictly in svg-ssr renderer.";
      ot(f, m), ot(v, m);
    } else if (f == null || v == null) {
      var g = function(M, E) {
        if (M) {
          var D = M.elm, O = f || E.width, N = v || E.height;
          M.tag === "pattern" && (u ? (N = 1, O /= r.width) : c && (O = 1, N /= r.height)), M.attrs.width = O, M.attrs.height = N, D && (D.setAttribute("width", O), D.setAttribute("height", N));
        }
      }, y = np(p, null, t, function(M) {
        l || g(S, M), g(d, M);
      });
      y && y.width && y.height && (f = f || y.width, v = v || y.height);
    }
    d = Ft("image", "img", {
      href: p,
      width: f,
      height: v
    }), i.width = f, i.height = v;
  } else a.svgElement && (d = st(a.svgElement), i.width = a.svgWidth, i.height = a.svgHeight);
  if (d) {
    var _, w;
    l ? _ = w = 1 : u ? (w = 1, _ = i.width / r.width) : c ? (_ = 1, w = i.height / r.height) : i.patternUnits = "userSpaceOnUse", _ != null && !isNaN(_) && (i.width = _), w != null && !isNaN(w) && (i.height = w);
    var x = u2(a);
    x && (i.patternTransform = x);
    var S = Ft("pattern", "", i, [d]), L = Gp(S), b = o.patternCache, I = b[L];
    I || (I = o.zrId + "-p" + o.patternIdx++, b[L] = I, i.id = I, S = o.defs[I] = Ft("pattern", I, i, [d])), e[n] = Hu(I);
  }
}
function ED(t, e, n) {
  var o = n.clipPathCache, a = n.defs, r = o[t.id];
  if (!r) {
    r = n.zrId + "-c" + n.clipPathIdx++;
    var i = {
      id: r
    };
    o[t.id] = r, a[r] = Ft("clipPath", r, i, [M_(t, n)]);
  }
  e["clip-path"] = Hu(r);
}
function Vm(t) {
  return document.createTextNode(t);
}
function Ga(t, e, n) {
  t.insertBefore(e, n);
}
function Hm(t, e) {
  t.removeChild(e);
}
function Gm(t, e) {
  t.appendChild(e);
}
function $_(t) {
  return t.parentNode;
}
function P_(t) {
  return t.nextSibling;
}
function ef(t, e) {
  t.textContent = e;
}
var Um = 58, MD = 120, AD = Ft("", "");
function wv(t) {
  return t === void 0;
}
function fo(t) {
  return t !== void 0;
}
function DD(t, e, n) {
  for (var o = {}, a = e; a <= n; ++a) {
    var r = t[a].key;
    r !== void 0 && (process.env.NODE_ENV !== "production" && o[r] != null && console.error("Duplicate key " + r), o[r] = a);
  }
  return o;
}
function Yi(t, e) {
  var n = t.key === e.key, o = t.tag === e.tag;
  return o && n;
}
function Ls(t) {
  var e, n = t.children, o = t.tag;
  if (fo(o)) {
    var a = t.elm = C_(o);
    if (Yp(AD, t), Oe(n))
      for (e = 0; e < n.length; ++e) {
        var r = n[e];
        r != null && Gm(a, Ls(r));
      }
    else fo(t.text) && !Ue(t.text) && Gm(a, Vm(t.text));
  } else
    t.elm = Vm(t.text);
  return t.elm;
}
function R_(t, e, n, o, a) {
  for (; o <= a; ++o) {
    var r = n[o];
    r != null && Ga(t, Ls(r), e);
  }
}
function Mu(t, e, n, o) {
  for (; n <= o; ++n) {
    var a = e[n];
    if (a != null)
      if (fo(a.tag)) {
        var r = $_(a.elm);
        Hm(r, a.elm);
      } else
        Hm(t, a.elm);
  }
}
function Yp(t, e) {
  var n, o = e.elm, a = t && t.attrs || {}, r = e.attrs || {};
  if (a !== r) {
    for (n in r) {
      var i = r[n], s = a[n];
      s !== i && (i === !0 ? o.setAttribute(n, "") : i === !1 ? o.removeAttribute(n) : n === "style" ? o.style.cssText = i : n.charCodeAt(0) !== MD ? o.setAttribute(n, i) : n === "xmlns:xlink" || n === "xmlns" ? o.setAttributeNS(dD, n, i) : n.charCodeAt(3) === Um ? o.setAttributeNS(fD, n, i) : n.charCodeAt(5) === Um ? o.setAttributeNS(I_, n, i) : o.setAttribute(n, i));
    }
    for (n in a)
      n in r || o.removeAttribute(n);
  }
}
function $D(t, e, n) {
  for (var o = 0, a = 0, r = e.length - 1, i = e[0], s = e[r], l = n.length - 1, u = n[0], c = n[l], d, f, v, p; o <= r && a <= l; )
    i == null ? i = e[++o] : s == null ? s = e[--r] : u == null ? u = n[++a] : c == null ? c = n[--l] : Yi(i, u) ? (Lr(i, u), i = e[++o], u = n[++a]) : Yi(s, c) ? (Lr(s, c), s = e[--r], c = n[--l]) : Yi(i, c) ? (Lr(i, c), Ga(t, i.elm, P_(s.elm)), i = e[++o], c = n[--l]) : Yi(s, u) ? (Lr(s, u), Ga(t, s.elm, i.elm), s = e[--r], u = n[++a]) : (wv(d) && (d = DD(e, o, r)), f = d[u.key], wv(f) ? Ga(t, Ls(u), i.elm) : (v = e[f], v.tag !== u.tag ? Ga(t, Ls(u), i.elm) : (Lr(v, u), e[f] = void 0, Ga(t, v.elm, i.elm))), u = n[++a]);
  (o <= r || a <= l) && (o > r ? (p = n[l + 1] == null ? null : n[l + 1].elm, R_(t, p, n, a, l)) : Mu(t, e, o, r));
}
function Lr(t, e) {
  var n = e.elm = t.elm, o = t.children, a = e.children;
  t !== e && (Yp(t, e), wv(e.text) ? fo(o) && fo(a) ? o !== a && $D(n, o, a) : fo(a) ? (fo(t.text) && ef(n, ""), R_(n, null, a, 0, a.length - 1)) : fo(o) ? Mu(n, o, 0, o.length - 1) : fo(t.text) && ef(n, "") : t.text !== e.text && (fo(o) && Mu(n, o, 0, o.length - 1), ef(n, e.text)));
}
function PD(t, e) {
  if (Yi(t, e))
    Lr(t, e);
  else {
    var n = t.elm, o = $_(n);
    Ls(e), o !== null && (Ga(o, e.elm, P_(n)), Mu(o, [t], 0, 0));
  }
  return e;
}
var RD = 0, OD = function() {
  function t(e, n, o) {
    if (this.type = "svg", this.refreshHover = Wm("refreshHover"), this.configLayer = Wm("configLayer"), this.storage = n, this._opts = o = Le({}, o), this.root = e, this._id = "zr" + RD++, this._oldVNode = $m(o.width, o.height), e && !o.ssr) {
      var a = this._viewport = document.createElement("div");
      a.style.cssText = "position:relative;overflow:hidden";
      var r = this._svgDom = this._oldVNode.elm = C_("svg");
      Yp(null, this._oldVNode), a.appendChild(r), e.appendChild(a);
    }
    this.resize(o.width, o.height);
  }
  return t.prototype.getType = function() {
    return this.type;
  }, t.prototype.getViewportRoot = function() {
    return this._viewport;
  }, t.prototype.getViewportRootOffset = function() {
    var e = this.getViewportRoot();
    if (e)
      return {
        offsetLeft: e.offsetLeft || 0,
        offsetTop: e.offsetTop || 0
      };
  }, t.prototype.getSvgDom = function() {
    return this._svgDom;
  }, t.prototype.refresh = function() {
    if (this.root) {
      var e = this.renderToVNode({
        willUpdate: !0
      });
      e.attrs.style = "position:absolute;left:0;top:0;user-select:none", PD(this._oldVNode, e), this._oldVNode = e;
    }
  }, t.prototype.renderOneToVNode = function(e) {
    return zm(e, bv(this._id));
  }, t.prototype.renderToVNode = function(e) {
    e = e || {};
    var n = this.storage.getDisplayList(!0), o = this._width, a = this._height, r = bv(this._id);
    r.animation = e.animation, r.willUpdate = e.willUpdate, r.compress = e.compress, r.emphasis = e.emphasis;
    var i = [], s = this._bgVNode = ND(o, a, this._backgroundColor, r);
    s && i.push(s);
    var l = e.compress ? null : this._mainVNode = Ft("g", "main", {}, []);
    this._paintList(n, r, l ? l.children : i), l && i.push(l);
    var u = $e(lt(r.defs), function(f) {
      return r.defs[f];
    });
    if (u.length && i.push(Ft("defs", "defs", {}, u)), e.animation) {
      var c = hD(r.cssNodes, r.cssAnims, { newline: !0 });
      if (c) {
        var d = Ft("style", "stl", {}, [], c);
        i.push(d);
      }
    }
    return $m(o, a, i, e.useViewBox);
  }, t.prototype.renderToString = function(e) {
    return e = e || {}, Gp(this.renderToVNode({
      animation: Ge(e.cssAnimation, !0),
      emphasis: Ge(e.cssEmphasis, !0),
      willUpdate: !1,
      compress: !0,
      useViewBox: Ge(e.useViewBox, !0)
    }), { newline: !0 });
  }, t.prototype.setBackgroundColor = function(e) {
    this._backgroundColor = e;
  }, t.prototype.getSvgRoot = function() {
    return this._mainVNode && this._mainVNode.elm;
  }, t.prototype._paintList = function(e, n, o) {
    for (var a = e.length, r = [], i = 0, s, l, u = 0, c = 0; c < a; c++) {
      var d = e[c];
      if (!d.invisible) {
        var f = d.__clipPaths, v = f && f.length || 0, p = l && l.length || 0, h = void 0;
        for (h = Math.max(v - 1, p - 1); h >= 0 && !(f && l && f[h] === l[h]); h--)
          ;
        for (var m = p - 1; m > h; m--)
          i--, s = r[i - 1];
        for (var g = h + 1; g < v; g++) {
          var y = {};
          ED(f[g], y, n);
          var _ = Ft("g", "clip-g-" + u++, y, []);
          (s ? s.children : o).push(_), r[i++] = _, s = _;
        }
        l = f;
        var w = zm(d, n);
        w && (s ? s.children : o).push(w);
      }
    }
  }, t.prototype.resize = function(e, n) {
    var o = this._opts, a = this.root, r = this._viewport;
    if (e != null && (o.width = e), n != null && (o.height = n), a && r && (r.style.display = "none", e = y1(a, 0, o), n = y1(a, 1, o), r.style.display = ""), this._width !== e || this._height !== n) {
      if (this._width = e, this._height = n, r) {
        var i = r.style;
        i.width = e + "px", i.height = n + "px";
      }
      if (Kv(this._backgroundColor))
        this.refresh();
      else {
        var s = this._svgDom;
        s && (s.setAttribute("width", e), s.setAttribute("height", n));
        var l = this._bgVNode && this._bgVNode.elm;
        l && (l.setAttribute("width", e), l.setAttribute("height", n));
      }
    }
  }, t.prototype.getWidth = function() {
    return this._width;
  }, t.prototype.getHeight = function() {
    return this._height;
  }, t.prototype.dispose = function() {
    this.root && (this.root.innerHTML = ""), this._svgDom = this._viewport = this.storage = this._oldVNode = this._bgVNode = this._mainVNode = null;
  }, t.prototype.clear = function() {
    this._svgDom && (this._svgDom.innerHTML = null), this._oldVNode = null;
  }, t.prototype.toDataURL = function(e) {
    var n = this.renderToString(), o = "data:image/svg+xml;";
    return e ? (n = SS(n), n && o + "base64," + n) : o + "charset=UTF-8," + encodeURIComponent(n);
  }, t;
}();
function Wm(t) {
  return function() {
    process.env.NODE_ENV !== "production" && Hr('In SVG mode painter not support method "' + t + '"');
  };
}
function ND(t, e, n, o) {
  var a;
  if (n && n !== "none")
    if (a = Ft("rect", "bg", {
      width: t,
      height: e,
      x: "0",
      y: "0"
    }), s2(n))
      A_({ fill: n }, a.attrs, "fill", o);
    else if (Kv(n))
      D_({
        style: {
          fill: n
        },
        dirty: Cn,
        getBoundingRect: function() {
          return { width: t, height: e };
        }
      }, a.attrs, "fill", o);
    else {
      var r = fs(n), i = r.color, s = r.opacity;
      a.attrs.fill = i, s < 1 && (a.attrs["fill-opacity"] = s);
    }
  return a;
}
function BD(t) {
  t.registerPainter("svg", OD);
}
const FD = /* @__PURE__ */ ce({
  __name: "Chart",
  props: {
    width: {},
    height: {},
    type: {},
    data: {},
    themeColors: {},
    textColor: {},
    options: {}
  },
  setup(t) {
    nr([
      WM,
      MM,
      tA,
      OA,
      YA,
      aD,
      BD
    ]);
    const e = t;
    let n = null;
    const o = V(), a = ne(() => {
      let i = [];
      if (e.themeColors.length >= 10) i = e.themeColors;
      else if (e.themeColors.length === 1) i = He(e.themeColors[0]).analogous(10).map((s) => s.toRgbString());
      else {
        const s = e.themeColors.length, l = He(e.themeColors[s - 1]).analogous(11 - s).map((u) => u.toRgbString());
        i = [...e.themeColors.slice(0, s - 1), ...l];
      }
      return i;
    }), r = () => {
      var s, l;
      const i = ix({
        type: e.type,
        data: e.data,
        themeColors: a.value,
        textColor: e.textColor,
        lineSmooth: ((s = e.options) == null ? void 0 : s.lineSmooth) || !1,
        stack: ((l = e.options) == null ? void 0 : l.stack) || !1
      });
      i && n.setOption(i, !0);
    };
    return Qe(() => {
      n = Ak(o.value, null, { renderer: "svg" }), r();
      const i = () => n.resize();
      new ResizeObserver(i).observe(o.value);
    }), Re(() => e.type, r), Re(() => e.data, r), Re(() => e.themeColors, r), Re(() => e.textColor, r), (i, s) => (k(), R("div", {
      class: "chart",
      ref_key: "chartRef",
      ref: o
    }, null, 512));
  }
}), O_ = /* @__PURE__ */ ve(FD, [["__scopeId", "data-v-a77f2c9e"]]), zD = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    selectElement: { type: Function },
    contextmenus: { type: Function }
  },
  setup(t) {
    const e = t, n = (a) => {
      e.elementInfo.lock || (a.stopPropagation(), e.selectElement(a, e.elementInfo));
    }, o = () => {
      qt.emit(Ht.OPEN_CHART_DATA_EDITOR);
    };
    return (a, r) => {
      const i = it("contextmenu");
      return k(), R("div", {
        class: ye(["editable-element-chart", { lock: a.elementInfo.lock }]),
        style: re({
          top: a.elementInfo.top + "px",
          left: a.elementInfo.left + "px",
          width: a.elementInfo.width + "px",
          height: a.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${a.elementInfo.rotate}deg)` })
        }, [
          ge((k(), R("div", {
            class: "element-content",
            style: re({
              backgroundColor: a.elementInfo.fill
            }),
            onMousedown: r[0] || (r[0] = (s) => n(s)),
            onTouchstart: r[1] || (r[1] = (s) => n(s)),
            onDblclick: r[2] || (r[2] = (s) => o())
          }, [
            T(Bu, {
              width: a.elementInfo.width,
              height: a.elementInfo.height,
              outline: a.elementInfo.outline
            }, null, 8, ["width", "height", "outline"]),
            T(O_, {
              width: a.elementInfo.width,
              height: a.elementInfo.height,
              type: a.elementInfo.chartType,
              data: a.elementInfo.data,
              themeColors: a.elementInfo.themeColors,
              textColor: a.elementInfo.textColor,
              options: a.elementInfo.options
            }, null, 8, ["width", "height", "type", "data", "themeColors", "textColor", "options"])
          ], 36)), [
            [i, a.contextmenus]
          ])
        ], 4)
      ], 6);
    };
  }
}), N_ = /* @__PURE__ */ ve(zD, [["__scopeId", "data-v-3b1105a2"]]), B_ = (t) => {
  if (!t) return {};
  const {
    bold: e,
    em: n,
    underline: o,
    strikethrough: a,
    color: r,
    backcolor: i,
    fontsize: s,
    fontname: l,
    align: u
  } = t;
  let c = `${o ? "underline" : ""} ${a ? "line-through" : ""}`;
  return c === " " && (c = "none"), {
    fontWeight: e ? "bold" : "normal",
    fontStyle: n ? "italic" : "normal",
    textDecoration: c,
    color: r || "#000",
    backgroundColor: i || "",
    fontSize: s || "14px",
    fontFamily: l || "微软雅黑",
    textAlign: u || "left"
  };
}, F_ = (t) => t.replace(/\n/g, "</br>").replace(/ /g, "&nbsp;"), z_ = (t) => ({
  hideCells: ne(() => {
    const n = [];
    for (let o = 0; o < t.value.length; o++) {
      const a = t.value[o];
      for (let r = 0; r < a.length; r++) {
        const i = a[r];
        if (i.colspan > 1 || i.rowspan > 1)
          for (let s = o; s < o + i.rowspan; s++)
            for (let l = s === o ? r + 1 : r; l < r + i.colspan; l++)
              n.push(`${s}_${l}`);
      }
    }
    return n;
  })
}), V_ = (t) => {
  const e = V(["", ""]);
  return Re(() => t.value, () => {
    t.value && (e.value = mg(t.value.color));
  }, { immediate: !0 }), {
    subThemeColor: e
  };
}, VD = ["innerHTML"], HD = /* @__PURE__ */ ce({
  __name: "CustomTextarea",
  props: {
    value: { default: "" }
  },
  emits: ["updateValue", "insertExcelData"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = V(), r = V(""), i = V(!1);
    Re(() => n.value, () => {
      i.value || (r.value = n.value, a.value && (a.value.innerHTML = n.value));
    }, { immediate: !0 });
    const s = () => {
      if (!a.value) return;
      const c = a.value.innerHTML;
      o("updateValue", c);
    }, l = () => {
      i.value = !0, a.value && (a.value.onpaste = (c) => {
        if (c.preventDefault(), !c.clipboardData) return;
        const d = c.clipboardData.items[0];
        d && d.kind === "string" && d.type === "text/plain" && d.getAsString((f) => {
          if (typeof Mv(f) == "object") return;
          const p = hg(f);
          if (p) {
            o("insertExcelData", p), a.value && (a.value.innerHTML = p[0][0]);
            return;
          }
          document.execCommand("insertText", !1, f);
        });
      });
    }, u = () => {
      i.value = !1, a.value && (a.value.onpaste = null);
    };
    return Iv(() => {
      a.value && (a.value.onpaste = null);
    }), (c, d) => (k(), R("div", {
      class: "custom-textarea",
      ref_key: "textareaRef",
      ref: a,
      contenteditable: !0,
      onFocus: d[0] || (d[0] = (f) => l()),
      onBlur: d[1] || (d[1] = (f) => u()),
      onInput: d[2] || (d[2] = (f) => s()),
      innerHTML: r.value
    }, null, 40, VD));
  }
}), GD = /* @__PURE__ */ ve(HD, [["__scopeId", "data-v-738bec9b"]]), UD = {
  key: 0,
  class: "handler"
}, WD = ["onMousedown"], XD = ["width"], YD = ["rowspan", "colspan", "data-cell-index", "onMousedown", "onMouseenter"], ZD = ["innerHTML"], qD = /* @__PURE__ */ ce({
  __name: "EditableTable",
  props: {
    data: {},
    width: {},
    cellMinHeight: {},
    colWidths: {},
    outline: {},
    theme: {},
    editable: { type: Boolean, default: !0 }
  },
  emits: ["change", "changeColWidths", "changeSelectedCells"],
  setup(t, { emit: e }) {
    const n = t, o = e, { canvasScale: a } = de(Te()), r = V(!1), i = V([]), s = V([]), l = ne({
      get() {
        return n.data;
      },
      set(X) {
        o("change", X);
      }
    }), u = ne(() => n.theme), { subThemeColor: c } = V_(u), d = V([]), f = ne(() => d.value.reduce((X, Y) => X + Y));
    Re(
      [() => n.colWidths, () => n.width],
      () => {
        d.value = n.colWidths.map((X) => X * n.width);
      },
      { immediate: !0 }
    );
    const v = () => {
      i.value = [], s.value = [];
    };
    Re(
      () => n.editable,
      () => {
        n.editable || v();
      }
    );
    const p = ne(() => {
      const X = [];
      for (let Y = 1; Y < d.value.length + 1; Y++) {
        const U = d.value.slice(0, Y).reduce((K, Z) => K + Z);
        X.push(U);
      }
      return X;
    }), h = ne(() => n.data), { hideCells: m } = z_(h), g = ne(() => {
      if (!i.value.length) return [];
      const [X, Y] = i.value;
      if (!s.value.length) return [`${X}_${Y}`];
      const [U, K] = s.value;
      if (X === U && Y === K) return [`${X}_${Y}`];
      const Z = [], ae = Math.min(X, U), he = Math.min(Y, K), Ce = Math.max(X, U), ke = Math.max(Y, K);
      for (let Se = 0; Se < l.value.length; Se++) {
        const be = l.value[Se];
        for (let we = 0; we < be.length; we++)
          Se >= ae && Se <= Ce && we >= he && we <= ke && Z.push(`${Se}_${we}`);
      }
      return Z;
    });
    Re(g, (X, Y) => {
      p6(X, Y) || o("changeSelectedCells", g.value);
    });
    const y = ne(() => g.value.length > 1 ? null : g.value[0]), _ = () => r.value = !1, w = (X, Y, U) => {
      X.button === 0 && (s.value = [], r.value = !0, i.value = [Y, U]);
    }, x = (X, Y) => {
      r.value && (s.value = [X, Y]);
    };
    Qe(() => {
      document.addEventListener("mouseup", _);
    }), ht(() => {
      document.removeEventListener("mouseup", _);
    });
    const S = (X, Y) => m.value.includes(`${X}_${Y}`), L = (X) => {
      const Y = l.value.length - 1;
      i.value = [0, X], s.value = [Y, X];
    }, b = (X) => {
      const Y = l.value[X].length - 1;
      i.value = [X, 0], s.value = [X, Y];
    }, I = () => {
      const X = l.value.length - 1, Y = l.value[X].length - 1;
      i.value = [0, 0], s.value = [X, Y];
    }, M = (X) => {
      const Y = JSON.parse(
        JSON.stringify(l.value)
      ), U = l.value[X], K = [];
      for (let Z = 0; Z < U.length; Z++)
        S(X, Z) && K.push(Z);
      for (const Z of K)
        for (let ae = X; ae >= 0; ae--)
          if (!S(ae, Z)) {
            Y[ae][Z].rowspan = Y[ae][Z].rowspan - 1;
            break;
          }
      Y.splice(X, 1), l.value = Y;
    }, E = (X) => {
      const Y = JSON.parse(
        JSON.stringify(l.value)
      ), U = [];
      for (let K = 0; K < l.value.length; K++)
        S(K, X) && U.push(K);
      for (const K of U)
        for (let Z = X; Z >= 0; Z--)
          if (!S(K, Z)) {
            Y[K][Z].colspan = Y[K][Z].colspan - 1;
            break;
          }
      l.value = Y.map((K) => (K.splice(X, 1), K)), d.value.splice(X, 1), o("changeColWidths", d.value);
    }, D = (X) => {
      const Y = JSON.parse(
        JSON.stringify(l.value)
      ), U = [];
      for (let K = 0; K < Y[0].length; K++)
        U.push({
          colspan: 1,
          rowspan: 1,
          text: "",
          id: tt(10)
        });
      Y.splice(X, 0, U), l.value = Y;
    }, O = (X) => {
      l.value = l.value.map((Y) => {
        const U = {
          colspan: 1,
          rowspan: 1,
          text: "",
          id: tt(10)
        };
        return Y.splice(X, 0, U), Y;
      }), d.value.splice(X, 0, 100), o("changeColWidths", d.value);
    }, N = (X, Y) => {
      let U = JSON.parse(JSON.stringify(l.value));
      const K = { colspan: 1, rowspan: 1, text: "" };
      if (X) {
        const Z = [];
        for (let ae = 0; ae < X; ae++) {
          const he = [];
          for (let Ce = 0; Ce < U[0].length; Ce++)
            he.push({
              ...K,
              id: tt(10)
            });
          Z.push(he);
        }
        U = [...U, ...Z];
      }
      Y && (U = U.map((Z) => {
        const ae = [];
        for (let he = 0; he < Y; he++) {
          const Ce = {
            ...K,
            id: tt(10)
          };
          ae.push(Ce);
        }
        return [...Z, ...ae];
      }), d.value = [
        ...d.value,
        ...new Array(Y).fill(100)
      ], o("changeColWidths", d.value)), l.value = U;
    }, P = () => {
      const [X, Y] = i.value, [U, K] = s.value, Z = Math.min(X, U), ae = Math.min(Y, K), he = Math.max(X, U), Ce = Math.max(Y, K), ke = JSON.parse(
        JSON.stringify(l.value)
      );
      ke[Z][ae].rowspan = he - Z + 1, ke[Z][ae].colspan = Ce - ae + 1, l.value = ke, v();
    }, $ = (X, Y) => {
      const U = JSON.parse(
        JSON.stringify(l.value)
      );
      U[X][Y].rowspan = 1, U[X][Y].colspan = 1, l.value = U, v();
    }, z = (X, Y) => {
      v();
      let U = !0;
      const K = d.value[Y], Z = X.pageX, ae = 50;
      document.onmousemove = (he) => {
        if (!U) return;
        const Ce = (he.pageX - Z) / a.value, ke = K + Ce < ae ? ae : Math.round(K + Ce);
        d.value[Y] = ke;
      }, document.onmouseup = () => {
        U = !1, document.onmousemove = null, document.onmouseup = null, console.log("😄:", d.value), o("changeColWidths", d.value);
      };
    }, H = () => {
      const X = JSON.parse(
        JSON.stringify(l.value)
      );
      for (let Y = 0; Y < X.length; Y++)
        for (let U = 0; U < X[Y].length; U++)
          g.value.includes(`${Y}_${U}`) && (X[Y][U].text = "");
      l.value = X;
    }, W = () => {
      Kt(() => {
        const X = document.querySelector(
          ".cell-text.active"
        );
        X && X.focus();
      });
    }, oe = () => {
      const X = (Z, ae) => l.value[Z] ? l.value[Z][ae] ? S(Z, ae) ? X(Z, ae + 1) : [Z, ae] : X(Z + 1, 0) : null;
      s.value = [];
      const Y = i.value[0], U = i.value[1] + 1, K = X(Y, U);
      K ? i.value = K : (D(Y + 1), i.value = [Y + 1, 0]), W();
    }, te = (X) => {
      const Y = +g.value[0].split("_")[0], U = +g.value[0].split("_")[1], K = l.value.length, Z = l.value[0].length, ae = (he) => {
        if (he[0] < 0 || he[1] < 0 || he[0] > K - 1 || he[1] > Z - 1)
          return [0, 0];
        const Ce = `${he[0]}_${he[1]}`;
        return m.value.includes(Ce) ? X === "UP" ? ae([he[0], he[1] - 1]) : X === "DOWN" ? ae([he[0], he[1] - 1]) : X === "LEFT" ? ae([he[0] - 1, he[1]]) : X === "RIGHT" ? ae([he[0] - 1, he[1]]) : [0, 0] : he;
      };
      if (X === "UP") {
        const he = Y - 1;
        if (he < 0) return;
        s.value = [], i.value = ae([he, U]);
      } else if (X === "DOWN") {
        const he = Y + 1;
        if (he > K - 1) return;
        s.value = [], i.value = ae([he, U]);
      } else if (X === "LEFT") {
        const he = U - 1;
        if (he < 0) return;
        s.value = [], i.value = ae([Y, he]);
      } else if (X === "RIGHT") {
        const he = U + 1;
        if (he > Z - 1) return;
        s.value = [], i.value = ae([Y, he]);
      }
      W();
    }, le = (X) => {
      var U;
      const Y = window.getSelection();
      if (Y && Y.rangeCount > 0) {
        const K = Y.getRangeAt(0), Z = K.cloneRange();
        Z.selectNodeContents(X), Z.setEnd(K.startContainer, K.startOffset);
        const ae = Z.toString().length;
        Z.setEnd(K.endContainer, K.endOffset);
        const he = Z.toString().length, Ce = ((U = X.textContent) == null ? void 0 : U.length) || 0;
        return { start: ae, end: he, len: Ce };
      }
      return null;
    }, J = (X) => {
      if (!n.editable || !g.value.length) return;
      const Y = X.key.toUpperCase();
      if (g.value.length < 2) {
        if (Y === Me.TAB)
          X.preventDefault(), oe();
        else if (X.ctrlKey && Y === Me.UP) {
          X.preventDefault();
          const U = +g.value[0].split("_")[0];
          D(U);
        } else if (X.ctrlKey && Y === Me.DOWN) {
          X.preventDefault();
          const U = +g.value[0].split("_")[0];
          D(U + 1);
        } else if (X.ctrlKey && Y === Me.LEFT) {
          X.preventDefault();
          const U = +g.value[0].split("_")[1];
          O(U);
        } else if (X.ctrlKey && Y === Me.RIGHT) {
          X.preventDefault();
          const U = +g.value[0].split("_")[1];
          O(U + 1);
        } else if (Y === Me.UP) {
          const U = le(X.target);
          U && U.start === U.end && U.start === 0 && te("UP");
        } else if (Y === Me.DOWN) {
          const U = le(X.target);
          U && U.start === U.end && U.start === U.len && te("DOWN");
        } else if (Y === Me.LEFT) {
          const U = le(X.target);
          U && U.start === U.end && U.start === 0 && te("LEFT");
        } else if (Y === Me.RIGHT) {
          const U = le(X.target);
          U && U.start === U.end && U.start === U.len && te("RIGHT");
        }
      } else Y === Me.DELETE && H();
    };
    Qe(() => {
      document.addEventListener("keydown", J);
    }), ht(() => {
      document.removeEventListener("keydown", J);
    });
    const Q = Qa(
      function(X, Y, U) {
        l.value[Y][U].text = X, o("change", l.value);
      },
      300,
      { trailing: !0 }
    ), q = (X, Y, U) => {
      const K = X.length, Z = X[0].length;
      let ae = 0, he = 0;
      Y + K > l.value.length && (ae = Y + K - l.value.length), U + Z > l.value[0].length && (he = U + Z - l.value[0].length), (ae || he) && N(ae, he), Kt(() => {
        for (let Ce = 0; Ce < K; Ce++)
          for (let ke = 0; ke < Z; ke++)
            l.value[Y + Ce][U + ke] && (l.value[Y + Ce][U + ke].text = X[Ce][ke]);
        o("change", l.value);
      });
    }, G = () => {
      const X = [];
      for (let Y = 0; Y < l.value.length; Y++) {
        const U = l.value[Y], K = [];
        for (let Z = 0; Z < U.length; Z++)
          S(Y, Z) || K.push(U[Z]);
        K.length && X.push(K);
      }
      return X;
    }, B = () => {
      const X = G(), Y = X.length > 1, U = X[0].length > 1;
      return { canDeleteRow: Y, canDeleteCol: U };
    }, ee = (X, Y) => {
      const U = g.value.length > 1, K = l.value[X][Y], Z = U, ae = !U && (K.rowspan > 1 || K.colspan > 1);
      return { canMerge: Z, canSplit: ae };
    }, ue = (X) => {
      const Y = X.dataset.cellIndex, U = +Y.split("_")[0], K = +Y.split("_")[1];
      g.value.includes(`${U}_${K}`) || (i.value = [U, K], s.value = []);
      const { canMerge: Z, canSplit: ae } = ee(U, K), { canDeleteRow: he, canDeleteCol: Ce } = B();
      return [
        {
          text: "插入列",
          children: [
            { text: "到左侧", handler: () => O(K) },
            { text: "到右侧", handler: () => O(K + 1) }
          ]
        },
        {
          text: "插入行",
          children: [
            { text: "到上方", handler: () => D(U) },
            { text: "到下方", handler: () => D(U + 1) }
          ]
        },
        {
          text: "删除列",
          disable: !Ce,
          handler: () => E(K)
        },
        {
          text: "删除行",
          disable: !he,
          handler: () => M(U)
        },
        { divider: !0 },
        {
          text: "合并单元格",
          disable: !Z,
          handler: P
        },
        {
          text: "取消合并单元格",
          disable: !ae,
          handler: () => $(U, K)
        },
        { divider: !0 },
        {
          text: "选中当前列",
          handler: () => L(K)
        },
        {
          text: "选中当前行",
          handler: () => b(U)
        },
        {
          text: "选中全部单元格",
          handler: I
        }
      ];
    };
    return (X, Y) => {
      var K, Z, ae, he, Ce;
      const U = it("contextmenu");
      return k(), R("div", {
        class: "editable-table",
        style: re({ width: f.value + "px" })
      }, [
        X.editable ? (k(), R("div", UD, [
          (k(!0), R(pe, null, xe(p.value, (ke, Se) => (k(), R("div", {
            class: "drag-line",
            key: Se,
            style: re({ left: ke + "px" }),
            onMousedown: (be) => z(be, Se)
          }, null, 44, WD))), 128))
        ])) : me("", !0),
        C("table", {
          class: ye({
            theme: u.value,
            "row-header": (K = u.value) == null ? void 0 : K.rowHeader,
            "row-footer": (Z = u.value) == null ? void 0 : Z.rowFooter,
            "col-header": (ae = u.value) == null ? void 0 : ae.colHeader,
            "col-footer": (he = u.value) == null ? void 0 : he.colFooter
          }),
          style: re(`--themeColor: ${(Ce = u.value) == null ? void 0 : Ce.color}; --subThemeColor1: ${A(c)[0]}; --subThemeColor2: ${A(c)[1]}`)
        }, [
          C("colgroup", null, [
            (k(!0), R(pe, null, xe(d.value, (ke, Se) => (k(), R("col", {
              span: "1",
              key: Se,
              width: ke
            }, null, 8, XD))), 128))
          ]),
          C("tbody", null, [
            (k(!0), R(pe, null, xe(l.value, (ke, Se) => (k(), R("tr", {
              key: Se,
              style: re({ height: X.cellMinHeight + "px" })
            }, [
              (k(!0), R(pe, null, xe(ke, (be, we) => ge((k(), R("td", {
                class: ye(["cell", {
                  selected: g.value.includes(`${Se}_${we}`) && g.value.length > 1,
                  active: y.value === `${Se}_${we}`
                }]),
                style: re({
                  borderStyle: X.outline.style,
                  borderColor: X.outline.color,
                  borderWidth: X.outline.width + "px",
                  ...A(B_)(be.style)
                }),
                key: be.id,
                rowspan: be.rowspan,
                colspan: be.colspan,
                "data-cell-index": `${Se}_${we}`,
                onMousedown: (je) => w(je, Se, we),
                onMouseenter: (je) => x(Se, we)
              }, [
                y.value === `${Se}_${we}` ? (k(), ie(GD, {
                  key: 0,
                  class: ye(["cell-text", { active: y.value === `${Se}_${we}` }]),
                  style: re({ minHeight: X.cellMinHeight - 4 + "px" }),
                  value: be.text,
                  onUpdateValue: (je) => A(Q)(je, Se, we),
                  onInsertExcelData: (je) => q(je, Se, we)
                }, null, 8, ["class", "style", "value", "onUpdateValue", "onInsertExcelData"])) : (k(), R("div", {
                  key: 1,
                  class: "cell-text",
                  style: re({ minHeight: X.cellMinHeight - 4 + "px" }),
                  innerHTML: A(F_)(be.text)
                }, null, 12, ZD))
              ], 46, YD)), [
                [Ka, !A(m).includes(`${Se}_${we}`)],
                [U, (je) => ue(je)]
              ])), 128))
            ], 4))), 128))
          ])
        ], 6)
      ], 4);
    };
  }
}), JD = /* @__PURE__ */ ve(qD, [["__scopeId", "data-v-53e971d1"]]), KD = { class: "element-content" }, QD = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    selectElement: { type: Function },
    contextmenus: { type: Function }
  },
  setup(t) {
    const e = t, n = Te(), o = Ie(), { canvasScale: a, handleElementId: r, isScaling: i } = de(n), s = V(), { addHistorySnapshot: l } = Xe(), u = (y) => {
      e.elementInfo.lock || (y.stopPropagation(), e.selectElement(y, e.elementInfo));
    }, c = V(!1);
    Re(r, () => {
      r.value !== e.elementInfo.id && (c.value = !1);
    }), Re(c, () => {
      n.setDisableHotkeysState(c.value);
    });
    const d = () => {
      e.elementInfo.lock || (c.value = !0);
    }, f = V(-1);
    Re(i, () => {
      r.value === e.elementInfo.id && (i.value && (c.value = !1), !i.value && f.value !== -1 && (o.updateElement({
        id: e.elementInfo.id,
        props: { height: f.value }
      }), f.value = -1));
    });
    const v = (y) => {
      const _ = y[0].contentRect;
      if (!s.value) return;
      const w = _.height;
      e.elementInfo.height !== w && (i.value ? f.value = w : o.updateElement({
        id: e.elementInfo.id,
        props: { height: w }
      }));
    }, p = new ResizeObserver(v);
    Qe(() => {
      s.value && p.observe(s.value);
    }), ht(() => {
      s.value && p.unobserve(s.value);
    });
    const h = (y) => {
      o.updateElement({
        id: e.elementInfo.id,
        props: { data: y }
      }), l();
    }, m = (y) => {
      const _ = y.reduce((x, S) => x + S), w = y.map((x) => x / _);
      o.updateElement({
        id: e.elementInfo.id,
        props: { width: _, colWidths: w }
      }), l();
    }, g = (y) => {
      Kt(() => n.setSelectedTableCells(y));
    };
    return (y, _) => {
      const w = it("contextmenu");
      return k(), R("div", {
        class: ye(["editable-element-table", { lock: y.elementInfo.lock }]),
        ref_key: "elementRef",
        ref: s,
        style: re({
          top: y.elementInfo.top + "px",
          left: y.elementInfo.left + "px",
          width: y.elementInfo.width + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${y.elementInfo.rotate}deg)` })
        }, [
          ge((k(), R("div", KD, [
            T(JD, {
              onMousedown: _[0] || (_[0] = Fe(() => {
              }, ["stop"])),
              data: y.elementInfo.data,
              width: y.elementInfo.width,
              cellMinHeight: y.elementInfo.cellMinHeight,
              colWidths: y.elementInfo.colWidths,
              outline: y.elementInfo.outline,
              theme: y.elementInfo.theme,
              editable: c.value,
              onChange: _[1] || (_[1] = (x) => h(x)),
              onChangeColWidths: _[2] || (_[2] = (x) => m(x)),
              onChangeSelectedCells: _[3] || (_[3] = (x) => g(x))
            }, null, 8, ["data", "width", "cellMinHeight", "colWidths", "outline", "theme", "editable"]),
            !c.value || y.elementInfo.lock ? (k(), R("div", {
              key: 0,
              class: ye(["table-mask", { lock: y.elementInfo.lock }]),
              onDblclick: _[4] || (_[4] = (x) => d()),
              onMousedown: _[5] || (_[5] = (x) => u(x)),
              onTouchstart: _[6] || (_[6] = (x) => u(x))
            }, [
              A(r) === y.elementInfo.id ? (k(), R("div", {
                key: 0,
                class: "mask-tip",
                style: re({ transform: `scale(${1 / A(a)})` })
              }, "双击编辑", 4)) : me("", !0)
            ], 34)) : me("", !0)
          ])), [
            [w, y.contextmenus]
          ])
        ], 4)
      ], 6);
    };
  }
}), H_ = /* @__PURE__ */ ve(QD, [["__scopeId", "data-v-c58bc4e2"]]), jD = ["width", "height", "stroke", "stroke-width"], e$ = ["transform"], t$ = ["d"], n$ = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    selectElement: { type: Function },
    contextmenus: { type: Function }
  },
  setup(t) {
    const e = t, n = (a) => {
      e.elementInfo.lock || (a.stopPropagation(), e.selectElement(a, e.elementInfo));
    }, o = () => {
      qt.emit(Ht.OPEN_LATEX_EDITOR);
    };
    return (a, r) => {
      const i = it("contextmenu");
      return k(), R("div", {
        class: ye(["editable-element-latex", { lock: a.elementInfo.lock }]),
        style: re({
          top: a.elementInfo.top + "px",
          left: a.elementInfo.left + "px",
          width: a.elementInfo.width + "px",
          height: a.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${a.elementInfo.rotate}deg)` })
        }, [
          ge((k(), R("div", {
            class: "element-content",
            onMousedown: r[0] || (r[0] = (s) => n(s)),
            onTouchstart: r[1] || (r[1] = (s) => n(s)),
            onDblclick: r[2] || (r[2] = (s) => o())
          }, [
            (k(), R("svg", {
              overflow: "visible",
              width: a.elementInfo.width,
              height: a.elementInfo.height,
              stroke: a.elementInfo.color,
              "stroke-width": a.elementInfo.strokeWidth,
              fill: "none",
              "stroke-linecap": "round",
              "stroke-linejoin": "round"
            }, [
              C("g", {
                transform: `scale(${a.elementInfo.width / a.elementInfo.viewBox[0]}, ${a.elementInfo.height / a.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`
              }, [
                C("path", {
                  d: a.elementInfo.path
                }, null, 8, t$)
              ], 8, e$)
            ], 8, jD))
          ], 32)), [
            [i, a.contextmenus]
          ])
        ], 4)
      ], 6);
    };
  }
}), G_ = /* @__PURE__ */ ve(n$, [["__scopeId", "data-v-5bce8e7e"]]), o$ = (t, e) => {
  Qe(() => {
    if (!e.value) return;
    let n = "normal";
    if (/m3u8(#|\?|$)/i.exec(t) ? n = "hls" : /.flv(#|\?|$)/i.exec(t) && (n = "flv"), e.value && n === "hls" && (e.value.canPlayType("application/x-mpegURL") || e.value.canPlayType("application/vnd.apple.mpegURL")) && (n = "normal"), n === "hls") {
      const o = window.Hls;
      if (o && o.isSupported()) {
        const a = new o();
        a.loadSource(t), a.attachMedia(e.value);
      }
    } else if (n === "flv") {
      const o = window.flvjs;
      if (o && o.isSupported()) {
        const a = o.createPlayer({
          type: "flv",
          url: t
        });
        a.attachMediaElement(e.value), a.load();
      }
    }
  });
}, Zp = (t) => (Ze("data-v-6dd1d953"), t = t(), qe(), t), a$ = {
  key: 0,
  class: "load-error"
}, r$ = ["src", "autoplay", "poster"], i$ = { class: "bezel" }, s$ = /* @__PURE__ */ Zp(() => /* @__PURE__ */ C("div", { class: "controller-mask" }, null, -1)), l$ = { class: "controller" }, u$ = { class: "icons icons-left" }, c$ = { class: "icon-content" }, d$ = { class: "volume" }, f$ = { class: "icon-content" }, v$ = /* @__PURE__ */ Zp(() => /* @__PURE__ */ C("span", { class: "thumb" }, null, -1)), p$ = [
  v$
], h$ = { class: "time" }, m$ = { class: "ptime" }, g$ = { class: "dtime" }, y$ = { class: "icons icons-right" }, _$ = { class: "speed" }, b$ = { class: "icon speed-icon" }, w$ = ["onClick"], x$ = { class: "icon-content" }, S$ = { class: "bar" }, I$ = /* @__PURE__ */ Zp(() => /* @__PURE__ */ C("span", { class: "thumb" }, null, -1)), C$ = [
  I$
], T$ = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    width: {},
    height: {},
    src: {},
    poster: { default: "" },
    autoplay: { type: Boolean, default: !1 },
    scale: { default: 1 }
  },
  setup(t) {
    const e = t, n = (Z = 0) => {
      if (Z === 0 || isNaN(Z)) return "00:00";
      const ae = (Se) => Se < 10 ? "0" + Se : "" + Se, he = Math.floor(Z / 3600), Ce = Math.floor((Z - he * 3600) / 60), ke = Math.floor(Z - he * 3600 - Ce * 60);
      return (he > 0 ? [he, Ce, ke] : [Ce, ke]).map(ae).join(":");
    }, o = (Z) => Z.getBoundingClientRect().left, a = V(), r = V(), i = V(), s = V(0.5), l = V(!0), u = V(0), c = V(0), d = V(0), f = V(!1), v = V(!1), p = V(1), h = V(!1), m = V("00:00"), g = V("0"), y = ne(() => n(u.value)), _ = ne(() => n(c.value)), w = ne(() => u.value / c.value * 100 + "%"), x = ne(() => d.value / c.value * 100 + "%"), S = ne(() => s.value * 100 + "%"), L = V(!1), b = [
      { label: "2x", value: 2 },
      { label: "1.5x", value: 1.5 },
      { label: "1.25x", value: 1.25 },
      { label: "1x", value: 1 },
      { label: "0.75x", value: 0.75 },
      { label: "0.5x", value: 0.5 }
    ], I = (Z) => {
      a.value && (Z = Math.max(Z, 0), Z = Math.min(Z, c.value), a.value.currentTime = Z, u.value = Z);
    }, M = () => {
      a.value && (l.value = !1, a.value.play(), v.value = !0);
    }, E = () => {
      a.value && (l.value = !0, a.value.pause(), v.value = !0);
    }, D = () => {
      l.value ? M() : E();
    }, O = (Z) => {
      a.value && (Z = Math.max(Z, 0), Z = Math.min(Z, 1), a.value.volume = Z, s.value = Z, a.value.muted && Z !== 0 && (a.value.muted = !1));
    }, N = (Z) => {
      a.value && (a.value.playbackRate = Z), p.value = Z;
    }, P = () => {
      var Z;
      c.value = ((Z = a.value) == null ? void 0 : Z.duration) || 0;
    }, $ = () => {
      var Z;
      u.value = ((Z = a.value) == null ? void 0 : Z.currentTime) || 0;
    }, z = () => {
      f.value ? (I(0), M()) : E();
    }, H = () => {
      var Z;
      d.value = (Z = a.value) != null && Z.buffered.length ? a.value.buffered.end(a.value.buffered.length - 1) : 0;
    }, W = V(!1), oe = () => W.value = !0, te = (Z) => {
      if (!a.value || !r.value) return;
      let he = (("clientX" in Z ? Z.clientX : Z.changedTouches[0].clientX) - o(r.value)) / r.value.clientWidth;
      he = Math.max(he, 0), he = Math.min(he, 1);
      const Ce = he * c.value;
      a.value.currentTime = Ce, u.value = Ce;
    }, le = (Z) => {
      if (!a.value || !r.value) return;
      let he = (("clientX" in Z ? Z.clientX : Z.changedTouches[0].clientX) - o(r.value)) / r.value.clientWidth;
      he = Math.max(he, 0), he = Math.min(he, 1);
      const Ce = he * c.value;
      a.value.currentTime = Ce, u.value = Ce, document.removeEventListener("mousemove", te), document.removeEventListener("touchmove", te), document.removeEventListener("mouseup", le), document.removeEventListener("touchend", le);
    }, J = () => {
      document.addEventListener("mousemove", te), document.addEventListener("touchmove", te), document.addEventListener("mouseup", le), document.addEventListener("touchend", le);
    }, Q = (Z) => {
      if (!i.value) return;
      const he = (("clientX" in Z ? Z.clientX : Z.changedTouches[0].clientX) - o(i.value)) / 45;
      O(he);
    }, q = () => {
      document.removeEventListener("mousemove", Q), document.removeEventListener("touchmove", Q), document.removeEventListener("mouseup", q), document.removeEventListener("touchend", q);
    }, G = () => {
      document.addEventListener("mousemove", Q), document.addEventListener("touchmove", Q), document.addEventListener("mouseup", q), document.addEventListener("touchend", q);
    }, B = (Z) => {
      if (!i.value) return;
      const ae = (Z.clientX - o(i.value)) / 45;
      O(ae);
    }, ee = (Z) => {
      if (c.value && r.value) {
        const ae = r.value.getBoundingClientRect().left, he = Z.clientX - ae;
        if (he < 0 || he > r.value.offsetWidth) return;
        const Ce = c.value * (he / r.value.offsetWidth);
        g.value = `${he - (Ce >= 3600 ? 25 : 20)}px`, m.value = n(Ce), h.value = !0;
      }
    }, ue = () => {
      a.value && (a.value.muted ? (a.value.muted = !1, O(0.5)) : (a.value.muted = !0, O(0)));
    }, X = () => {
      f.value = !f.value;
    }, Y = V(-1), U = V(!1), K = () => {
      U.value = !1, clearTimeout(Y.value), Y.value = setTimeout(() => {
        var Z;
        (Z = a.value) != null && Z.played.length && (U.value = !0);
      }, 3e3);
    };
    return o$(e.src, a), (Z, ae) => {
      const he = j("IconPause"), Ce = j("IconPlayOne"), ke = j("IconVolumeMute"), Se = j("IconVolumeNotice"), be = j("IconVolumeSmall");
      return k(), R("div", {
        class: ye(["video-player", { "hide-controller": U.value }]),
        style: re({
          width: Z.width * Z.scale + "px",
          height: Z.height * Z.scale + "px",
          transform: `scale(${1 / Z.scale})`
        }),
        onMousemove: ae[22] || (ae[22] = (we) => K()),
        onClick: ae[23] || (ae[23] = (we) => K())
      }, [
        C("div", {
          class: "video-wrap",
          onClick: ae[8] || (ae[8] = (we) => D())
        }, [
          W.value ? (k(), R("div", a$, "视频加载失败")) : me("", !0),
          C("video", {
            class: "video",
            ref_key: "videoRef",
            ref: a,
            src: Z.src,
            autoplay: Z.autoplay,
            poster: Z.poster,
            "webkit-playsinline": "",
            playsinline: "",
            onDurationchange: ae[0] || (ae[0] = (we) => P()),
            onTimeupdate: ae[1] || (ae[1] = (we) => $()),
            onEnded: ae[2] || (ae[2] = (we) => z()),
            onProgress: ae[3] || (ae[3] = (we) => H()),
            onPlay: ae[4] || (ae[4] = (we) => {
              K(), l.value = !1;
            }),
            onPause: ae[5] || (ae[5] = (we) => K()),
            onError: ae[6] || (ae[6] = (we) => oe())
          }, null, 40, r$),
          C("div", i$, [
            C("span", {
              class: ye(["bezel-icon", { "bezel-transition": v.value }]),
              onAnimationend: ae[7] || (ae[7] = (we) => v.value = !1)
            }, [
              l.value ? (k(), ie(he, { key: 0 })) : (k(), ie(Ce, { key: 1 }))
            ], 34)
          ])
        ]),
        s$,
        C("div", l$, [
          C("div", u$, [
            C("div", {
              class: "icon play-icon",
              onClick: ae[9] || (ae[9] = (we) => D())
            }, [
              C("span", c$, [
                l.value ? (k(), ie(Ce, { key: 0 })) : (k(), ie(he, { key: 1 }))
              ])
            ]),
            C("div", d$, [
              C("div", {
                class: "icon volume-icon",
                onClick: ae[10] || (ae[10] = (we) => ue())
              }, [
                C("span", f$, [
                  s.value === 0 ? (k(), ie(ke, { key: 0 })) : s.value === 1 ? (k(), ie(Se, { key: 1 })) : (k(), ie(be, { key: 2 }))
                ])
              ]),
              C("div", {
                class: "volume-bar-wrap",
                onMousedown: ae[11] || (ae[11] = (we) => G()),
                onTouchstart: ae[12] || (ae[12] = (we) => G()),
                onClick: ae[13] || (ae[13] = (we) => B(we))
              }, [
                C("div", {
                  class: "volume-bar",
                  ref_key: "volumeBarRef",
                  ref: i
                }, [
                  C("div", {
                    class: "volume-bar-inner",
                    style: re({ width: S.value })
                  }, p$, 4)
                ], 512)
              ], 32)
            ]),
            C("span", h$, [
              C("span", m$, Ee(y.value), 1),
              fe(" / "),
              C("span", g$, Ee(_.value), 1)
            ])
          ]),
          C("div", y$, [
            C("div", _$, [
              C("div", b$, [
                C("span", {
                  class: "icon-content",
                  onClick: ae[14] || (ae[14] = (we) => L.value = !L.value)
                }, Ee(p.value === 1 ? "倍速" : p.value + "x"), 1),
                L.value ? (k(), R("div", {
                  key: 0,
                  class: "speed-menu",
                  onMouseleave: ae[15] || (ae[15] = (we) => L.value = !1)
                }, [
                  (k(), R(pe, null, xe(b, (we) => C("div", {
                    class: ye(["speed-menu-item", { active: we.value === p.value }]),
                    key: we.label,
                    onClick: (je) => N(we.value)
                  }, Ee(we.label), 11, w$)), 64))
                ], 32)) : me("", !0)
              ])
            ]),
            C("div", {
              class: "loop",
              onClick: ae[16] || (ae[16] = (we) => X())
            }, [
              C("div", {
                class: ye(["icon loop-icon", { active: f.value }])
              }, [
                C("span", x$, "循环" + Ee(f.value ? "开" : "关"), 1)
              ], 2)
            ])
          ]),
          C("div", {
            class: "bar-wrap",
            ref_key: "playBarWrap",
            ref: r,
            onMousedown: ae[17] || (ae[17] = (we) => J()),
            onTouchstart: ae[18] || (ae[18] = (we) => J()),
            onMousemove: ae[19] || (ae[19] = (we) => ee(we)),
            onMouseenter: ae[20] || (ae[20] = (we) => h.value = !0),
            onMouseleave: ae[21] || (ae[21] = (we) => h.value = !1)
          }, [
            C("div", {
              class: ye(["bar-time", { hidden: !h.value }]),
              style: re({ left: g.value })
            }, Ee(m.value), 7),
            C("div", S$, [
              C("div", {
                class: "loaded",
                style: re({ width: x.value })
              }, null, 4),
              C("div", {
                class: "played",
                style: re({ width: w.value })
              }, C$, 4)
            ])
          ], 544)
        ])
      ], 38);
    };
  }
}), U_ = /* @__PURE__ */ ve(T$, [["__scopeId", "data-v-6dd1d953"]]), L$ = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    selectElement: { type: Function },
    contextmenus: { type: Function }
  },
  setup(t) {
    const e = t, { canvasScale: n } = de(Te()), o = (a, r = !0) => {
      e.elementInfo.lock || (a.stopPropagation(), e.selectElement(a, e.elementInfo, r));
    };
    return (a, r) => {
      const i = it("contextmenu");
      return k(), R("div", {
        class: ye(["editable-element-video", { lock: a.elementInfo.lock }]),
        style: re({
          top: a.elementInfo.top + "px",
          left: a.elementInfo.left + "px",
          width: a.elementInfo.width + "px",
          height: a.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${a.elementInfo.rotate}deg)` })
        }, [
          ge((k(), R("div", {
            class: "element-content",
            onMousedown: r[2] || (r[2] = (s) => o(s, !1)),
            onTouchstart: r[3] || (r[3] = (s) => o(s, !1))
          }, [
            T(U_, {
              width: a.elementInfo.width,
              height: a.elementInfo.height,
              src: a.elementInfo.src,
              poster: a.elementInfo.poster,
              scale: A(n)
            }, null, 8, ["width", "height", "src", "poster", "scale"]),
            (k(), R(pe, null, xe(["t", "b", "l", "r"], (s) => C("div", {
              class: ye(["handler-border", s]),
              key: s,
              onMousedown: r[0] || (r[0] = (l) => o(l)),
              onTouchstart: r[1] || (r[1] = (l) => o(l))
            }, null, 34)), 64))
          ], 32)), [
            [i, a.contextmenus]
          ])
        ], 4)
      ], 6);
    };
  }
}), W_ = /* @__PURE__ */ ve(L$, [["__scopeId", "data-v-1d545cfa"]]), X_ = (t) => (Ze("data-v-800d7e1a"), t = t(), qe(), t), k$ = ["src", "autoplay"], E$ = { class: "controller" }, M$ = { class: "icons" }, A$ = { class: "icon-content" }, D$ = { class: "volume" }, $$ = { class: "icon-content" }, P$ = /* @__PURE__ */ X_(() => /* @__PURE__ */ C("span", { class: "thumb" }, null, -1)), R$ = [
  P$
], O$ = { class: "time" }, N$ = { class: "ptime" }, B$ = { class: "dtime" }, F$ = { class: "bar" }, z$ = /* @__PURE__ */ X_(() => /* @__PURE__ */ C("span", { class: "thumb" }, null, -1)), V$ = [
  z$
], H$ = /* @__PURE__ */ ce({
  __name: "AudioPlayer",
  props: {
    src: {},
    loop: { type: Boolean },
    autoplay: { type: Boolean, default: !1 },
    scale: { default: 1 }
  },
  setup(t, { expose: e }) {
    const n = t, o = (q = 0) => {
      if (q === 0 || isNaN(q)) return "00:00";
      const G = (X) => X < 10 ? "0" + X : "" + X, B = Math.floor(q / 3600), ee = Math.floor((q - B * 3600) / 60), ue = Math.floor(q - B * 3600 - ee * 60);
      return (B > 0 ? [B, ee, ue] : [ee, ue]).map(G).join(":");
    }, a = (q) => q.getBoundingClientRect().left, r = V(), i = V(), s = V(), l = V(0.5), u = V(!0), c = V(0), d = V(0), f = V(0), v = V(!1), p = V("00:00"), h = V("0"), m = ne(() => o(c.value)), g = ne(() => o(d.value)), y = ne(() => c.value / d.value * 100 + "%"), _ = ne(() => f.value / d.value * 100 + "%"), w = ne(() => l.value * 100 + "%"), x = (q) => {
      r.value && (q = Math.max(q, 0), q = Math.min(q, d.value), r.value.currentTime = q, c.value = q);
    }, S = () => {
      r.value && (u.value = !1, r.value.play());
    }, L = () => {
      r.value && (u.value = !0, r.value.pause());
    }, b = () => {
      u.value ? S() : L();
    }, I = (q) => {
      r.value && (q = Math.max(q, 0), q = Math.min(q, 1), r.value.volume = q, l.value = q, r.value.muted && q !== 0 && (r.value.muted = !1));
    }, M = () => {
      var q;
      d.value = ((q = r.value) == null ? void 0 : q.duration) || 0;
    }, E = () => {
      var q;
      c.value = ((q = r.value) == null ? void 0 : q.currentTime) || 0;
    }, D = () => {
      u.value = !1;
    }, O = () => {
      n.loop ? (x(0), S()) : L();
    }, N = () => {
      var q;
      f.value = (q = r.value) != null && q.buffered.length ? r.value.buffered.end(r.value.buffered.length - 1) : 0;
    }, P = () => at.error("视频加载失败"), $ = (q) => {
      if (!r.value || !i.value) return;
      let B = (("clientX" in q ? q.clientX : q.changedTouches[0].clientX) - a(i.value)) / i.value.clientWidth;
      B = Math.max(B, 0), B = Math.min(B, 1);
      const ee = B * d.value;
      r.value.currentTime = ee, c.value = ee;
    }, z = (q) => {
      if (!r.value || !i.value) return;
      let B = (("clientX" in q ? q.clientX : q.changedTouches[0].clientX) - a(i.value)) / i.value.clientWidth;
      B = Math.max(B, 0), B = Math.min(B, 1);
      const ee = B * d.value;
      r.value.currentTime = ee, c.value = ee, document.removeEventListener("mousemove", $), document.removeEventListener("touchmove", $), document.removeEventListener("mouseup", z), document.removeEventListener("touchend", z);
    }, H = () => {
      document.addEventListener("mousemove", $), document.addEventListener("touchmove", $), document.addEventListener("mouseup", z), document.addEventListener("touchend", z);
    }, W = (q) => {
      if (!s.value) return;
      const B = (("clientX" in q ? q.clientX : q.changedTouches[0].clientX) - a(s.value)) / 45;
      I(B);
    }, oe = () => {
      document.removeEventListener("mousemove", W), document.removeEventListener("touchmove", W), document.removeEventListener("mouseup", oe), document.removeEventListener("touchend", oe);
    }, te = () => {
      document.addEventListener("mousemove", W), document.addEventListener("touchmove", W), document.addEventListener("mouseup", oe), document.addEventListener("touchend", oe);
    }, le = (q) => {
      if (!s.value) return;
      const G = (q.clientX - a(s.value)) / 45;
      I(G);
    }, J = (q) => {
      if (d.value && i.value) {
        const G = i.value.getBoundingClientRect().left, B = q.clientX - G;
        if (B < 0 || B > i.value.offsetWidth) return;
        const ee = d.value * (B / i.value.offsetWidth);
        h.value = `${B - (ee >= 3600 ? 25 : 20)}px`, p.value = o(ee), v.value = !0;
      }
    }, Q = () => {
      r.value && (r.value.muted ? (r.value.muted = !1, I(0.5)) : (r.value.muted = !0, I(0)));
    };
    return e({
      toggle: b
    }), (q, G) => {
      const B = j("IconPlayOne"), ee = j("IconPause"), ue = j("IconVolumeMute"), X = j("IconVolumeNotice"), Y = j("IconVolumeSmall");
      return k(), R("div", {
        class: "audio-player",
        style: re({ transform: `scale(${1 / q.scale})` })
      }, [
        C("audio", {
          class: "audio",
          ref_key: "audioRef",
          ref: r,
          src: q.src,
          autoplay: q.autoplay,
          onDurationchange: G[0] || (G[0] = (U) => M()),
          onTimeupdate: G[1] || (G[1] = (U) => E()),
          onPlay: G[2] || (G[2] = (U) => D()),
          onEnded: G[3] || (G[3] = (U) => O()),
          onProgress: G[4] || (G[4] = (U) => N()),
          onError: G[5] || (G[5] = (U) => P())
        }, null, 40, k$),
        C("div", E$, [
          C("div", M$, [
            C("div", {
              class: "icon play-icon",
              onClick: G[6] || (G[6] = (U) => b())
            }, [
              C("span", A$, [
                u.value ? (k(), ie(B, { key: 0 })) : (k(), ie(ee, { key: 1 }))
              ])
            ]),
            C("div", D$, [
              C("div", {
                class: "icon volume-icon",
                onClick: G[7] || (G[7] = (U) => Q())
              }, [
                C("span", $$, [
                  l.value === 0 ? (k(), ie(ue, { key: 0 })) : l.value === 1 ? (k(), ie(X, { key: 1 })) : (k(), ie(Y, { key: 2 }))
                ])
              ]),
              C("div", {
                class: "volume-bar-wrap",
                onMousedown: G[8] || (G[8] = (U) => te()),
                onTouchstart: G[9] || (G[9] = (U) => te()),
                onClick: G[10] || (G[10] = (U) => le(U))
              }, [
                C("div", {
                  class: "volume-bar",
                  ref_key: "volumeBarRef",
                  ref: s
                }, [
                  C("div", {
                    class: "volume-bar-inner",
                    style: re({ width: w.value })
                  }, R$, 4)
                ], 512)
              ], 32)
            ])
          ]),
          C("span", O$, [
            C("span", N$, Ee(m.value), 1),
            fe(" / "),
            C("span", B$, Ee(g.value), 1)
          ]),
          C("div", {
            class: "bar-wrap",
            ref_key: "playBarWrap",
            ref: i,
            onMousedown: G[11] || (G[11] = (U) => H()),
            onTouchstart: G[12] || (G[12] = (U) => H()),
            onMousemove: G[13] || (G[13] = (U) => J(U)),
            onMouseenter: G[14] || (G[14] = (U) => v.value = !0),
            onMouseleave: G[15] || (G[15] = (U) => v.value = !1)
          }, [
            C("div", {
              class: ye(["bar-time", { hidden: !v.value }]),
              style: re({ left: h.value })
            }, Ee(p.value), 7),
            C("div", F$, [
              C("div", {
                class: "loaded",
                style: re({ width: _.value })
              }, null, 4),
              C("div", {
                class: "played",
                style: re({ width: y.value })
              }, V$, 4)
            ])
          ], 544)
        ])
      ], 4);
    };
  }
}), Y_ = /* @__PURE__ */ ve(H$, [["__scopeId", "data-v-800d7e1a"]]), G$ = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    selectElement: { type: Function },
    contextmenus: { type: Function }
  },
  setup(t) {
    const e = t, { canvasScale: n, handleElementId: o } = de(Te()), { viewportRatio: a, viewportSize: r } = de(Ie()), i = ne(() => Math.min(e.elementInfo.width, e.elementInfo.height) + "px"), s = ne(() => {
      const u = r.value, c = r.value * a.value, d = 280 / n.value, f = 50 / n.value, v = e.elementInfo.width, p = e.elementInfo.height, h = e.elementInfo.left, m = e.elementInfo.top;
      let g = 0, y = p;
      return h + d >= u && (g = v - d), m + p + f >= c && (y = -f), {
        left: g + "px",
        top: y + "px"
      };
    }), l = (u) => {
      e.elementInfo.lock || (u.stopPropagation(), e.selectElement(u, e.elementInfo));
    };
    return (u, c) => {
      const d = j("IconVolumeNotice"), f = it("contextmenu");
      return k(), R("div", {
        class: ye(["editable-element-audio", { lock: u.elementInfo.lock }]),
        style: re({
          top: u.elementInfo.top + "px",
          left: u.elementInfo.left + "px",
          width: u.elementInfo.width + "px",
          height: u.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${u.elementInfo.rotate}deg)` })
        }, [
          ge((k(), R("div", {
            class: "element-content",
            onMousedown: c[1] || (c[1] = (v) => l(v)),
            onTouchstart: c[2] || (c[2] = (v) => l(v))
          }, [
            T(d, {
              class: "audio-icon",
              style: re({
                fontSize: i.value,
                color: u.elementInfo.color
              })
            }, null, 8, ["style"]),
            A(o) === u.elementInfo.id ? (k(), ie(Y_, {
              key: 0,
              class: "audio-player",
              style: re({ ...s.value }),
              src: u.elementInfo.src,
              loop: u.elementInfo.loop,
              scale: A(n),
              onMousedown: c[0] || (c[0] = Fe(() => {
              }, ["stop"]))
            }, null, 8, ["style", "src", "loop", "scale"])) : me("", !0)
          ], 32)), [
            [f, u.contextmenus]
          ])
        ], 4)
      ], 6);
    };
  }
}), Z_ = /* @__PURE__ */ ve(G$, [["__scopeId", "data-v-620c29b4"]]), U$ = ["id"], W$ = /* @__PURE__ */ ce({
  __name: "EditableElement",
  props: {
    elementInfo: {},
    elementIndex: {},
    isMultiSelect: { type: Boolean },
    selectElement: { type: Function },
    openLinkDialog: { type: Function }
  },
  setup(t) {
    const e = t, n = ne(() => ({
      [Ne.IMAGE]: kg,
      [Ne.TEXT]: Pg,
      [Ne.SHAPE]: Og,
      [Ne.LINE]: Ng,
      [Ne.CHART]: N_,
      [Ne.TABLE]: H_,
      [Ne.LATEX]: G_,
      [Ne.VIDEO]: W_,
      [Ne.AUDIO]: Z_
    })[e.elementInfo.type] || null), { orderElement: o } = $s(), { alignElementToCanvas: a } = Ou(), { combineElements: r, uncombineElements: i } = Pv(), { deleteElement: s } = Ds(), { lockElement: l, unlockElement: u } = gg(), { copyElement: c, pasteElement: d, cutElement: f } = Rv(), { selectAllElements: v } = Ru(), p = () => e.elementInfo.lock ? [{
      text: "解锁",
      handler: () => u(e.elementInfo)
    }] : [
      {
        text: "剪切",
        subText: "Ctrl + X",
        handler: f
      },
      {
        text: "复制",
        subText: "Ctrl + C",
        handler: c
      },
      {
        text: "粘贴",
        subText: "Ctrl + V",
        handler: d
      },
      { divider: !0 },
      {
        text: "水平居中",
        handler: () => a(Ke.HORIZONTAL),
        children: [
          { text: "水平垂直居中", handler: () => a(Ke.CENTER) },
          { text: "水平居中", handler: () => a(Ke.HORIZONTAL) },
          { text: "左对齐", handler: () => a(Ke.LEFT) },
          { text: "右对齐", handler: () => a(Ke.RIGHT) }
        ]
      },
      {
        text: "垂直居中",
        handler: () => a(Ke.VERTICAL),
        children: [
          { text: "水平垂直居中", handler: () => a(Ke.CENTER) },
          { text: "垂直居中", handler: () => a(Ke.VERTICAL) },
          { text: "顶部对齐", handler: () => a(Ke.TOP) },
          { text: "底部对齐", handler: () => a(Ke.BOTTOM) }
        ]
      },
      { divider: !0 },
      {
        text: "置于顶层",
        disable: e.isMultiSelect && !e.elementInfo.groupId,
        handler: () => o(e.elementInfo, Ct.TOP),
        children: [
          { text: "置于顶层", handler: () => o(e.elementInfo, Ct.TOP) },
          { text: "上移一层", handler: () => o(e.elementInfo, Ct.UP) }
        ]
      },
      {
        text: "置于底层",
        disable: e.isMultiSelect && !e.elementInfo.groupId,
        handler: () => o(e.elementInfo, Ct.BOTTOM),
        children: [
          { text: "置于底层", handler: () => o(e.elementInfo, Ct.BOTTOM) },
          { text: "下移一层", handler: () => o(e.elementInfo, Ct.DOWN) }
        ]
      },
      { divider: !0 },
      {
        text: "设置链接",
        handler: e.openLinkDialog
      },
      {
        text: e.elementInfo.groupId ? "取消组合" : "组合",
        subText: "Ctrl + G",
        handler: e.elementInfo.groupId ? i : r,
        hide: !e.isMultiSelect
      },
      {
        text: "全选",
        subText: "Ctrl + A",
        handler: v
      },
      {
        text: "锁定",
        subText: "Ctrl + L",
        handler: l
      },
      {
        text: "删除",
        subText: "Delete",
        handler: s
      }
    ];
    return (h, m) => (k(), R("div", {
      class: "editable-element",
      ref: "elementRef",
      id: `editable-element-${h.elementInfo.id}`,
      style: re({
        zIndex: h.elementIndex
      })
    }, [
      (k(), ie(Do(n.value), {
        elementInfo: h.elementInfo,
        selectElement: h.selectElement,
        contextmenus: p
      }, null, 8, ["elementInfo", "selectElement"]))
    ], 12, U$));
  }
}), X$ = /* @__PURE__ */ ce({
  __name: "MouseSelection",
  props: {
    top: {},
    left: {},
    width: {},
    height: {},
    quadrant: {}
  },
  setup(t) {
    return (e, n) => (k(), R("div", {
      class: ye(`mouse-selection quadrant-${e.quadrant}`),
      style: re({
        top: e.top + "px",
        left: e.left + "px",
        width: e.width + "px",
        height: e.height + "px"
      })
    }, null, 6));
  }
}), Y$ = /* @__PURE__ */ ve(X$, [["__scopeId", "data-v-c1acfb75"]]), Z$ = { class: "grid-lines" }, q$ = ["d", "stroke"], J$ = /* @__PURE__ */ ce({
  __name: "GridLines",
  setup(t) {
    const { canvasScale: e, gridLineSize: n } = de(Te()), { currentSlide: o, viewportRatio: a, viewportSize: r } = de(Ie()), i = ne(() => {
      var u;
      return (u = o.value) == null ? void 0 : u.background;
    }), s = ne(() => {
      var d;
      const u = ((d = i.value) == null ? void 0 : d.color) || "#fff", c = ["#000", "#fff"];
      return He.mostReadable(u, c, { includeFallbackColors: !0 }).setAlpha(0.5).toRgbString();
    }), l = ne(() => {
      const u = r.value, c = r.value * a.value;
      let d = "";
      for (let f = 0; f <= Math.floor(c / n.value); f++)
        d += `M0 ${f * n.value} L${u} ${f * n.value} `;
      for (let f = 0; f <= Math.floor(u / n.value); f++)
        d += `M${f * n.value} 0 L${f * n.value} ${c} `;
      return d;
    });
    return (u, c) => (k(), R("svg", Z$, [
      C("path", {
        style: re({
          transform: `scale(${A(e)})`
        }),
        d: l.value,
        fill: "none",
        stroke: s.value,
        "stroke-width": "0.3",
        "stroke-dasharray": "5"
      }, null, 12, q$)
    ]));
  }
}), K$ = /* @__PURE__ */ ve(J$, [["__scopeId", "data-v-a0656213"]]), _c = (t) => ({
  backgroundStyle: ne(() => {
    if (!t.value) return { backgroundColor: "#fff" };
    const {
      type: n,
      color: o,
      image: a,
      gradient: r
    } = t.value;
    if (n === "solid") return { backgroundColor: o };
    if (n === "image" && a) {
      const { src: i, size: s } = a;
      return i ? s === "repeat" ? {
        backgroundImage: `url(${i}`,
        backgroundRepeat: "repeat",
        backgroundSize: "contain"
      } : {
        backgroundImage: `url(${i}`,
        backgroundRepeat: "no-repeat",
        backgroundSize: s || "cover"
      } : { backgroundColor: "#fff" };
    } else if (n === "gradient" && r) {
      const { type: i, colors: s, rotate: l } = r, u = s.map((c) => `${c.color} ${c.pos}%`);
      return i === "radial" ? { backgroundImage: `radial-gradient(${u.join(",")}` } : { backgroundImage: `linear-gradient(${l}deg, ${u.join(",")}` };
    }
    return { backgroundColor: "#fff" };
  })
}), Q$ = /* @__PURE__ */ ce({
  __name: "ViewportBackground",
  setup(t) {
    const { gridLineSize: e } = de(Te()), { currentSlide: n } = de(Ie()), o = ne(() => {
      var r;
      return (r = n.value) == null ? void 0 : r.background;
    }), { backgroundStyle: a } = _c(o);
    return (r, i) => (k(), R("div", {
      class: "viewport-background",
      style: re(A(a))
    }, [
      A(e) ? (k(), ie(K$, { key: 0 })) : me("", !0)
    ], 4));
  }
}), j$ = /* @__PURE__ */ ve(Q$, [["__scopeId", "data-v-af32677c"]]), eP = /* @__PURE__ */ ce({
  __name: "AlignmentLine",
  props: {
    type: {},
    axis: {},
    length: {},
    canvasScale: {}
  },
  setup(t) {
    const e = t, n = ne(() => e.axis.x * e.canvasScale + "px"), o = ne(() => e.axis.y * e.canvasScale + "px"), a = ne(() => e.type === "vertical" ? { height: e.length * e.canvasScale + "px" } : { width: e.length * e.canvasScale + "px" });
    return (r, i) => (k(), R("div", {
      class: "alignment-line",
      style: re({ left: n.value, top: o.value })
    }, [
      C("div", {
        class: ye(["line", r.type]),
        style: re(a.value)
      }, null, 6)
    ], 4));
  }
}), q_ = /* @__PURE__ */ ve(eP, [["__scopeId", "data-v-b479d842"]]), tP = { class: "ruler" }, nP = { key: 0 }, oP = { key: 0 }, aP = /* @__PURE__ */ ce({
  __name: "Ruler",
  props: {
    viewportStyles: {},
    elementList: {}
  },
  setup(t) {
    const e = t, { canvasScale: n, activeElementIdList: o } = de(Te()), { viewportRatio: a, viewportSize: r } = de(Ie()), i = V(null);
    ks(() => {
      const l = e.elementList.filter((u) => o.value.includes(u.id));
      if (!l.length) return i.value = null;
      i.value = To(l);
    });
    const s = ne(() => e.viewportStyles.width * n.value / (r.value / 100));
    return (l, u) => (k(), R("div", tP, [
      C("div", {
        class: "h",
        style: re({
          width: l.viewportStyles.width * A(n) + "px",
          left: l.viewportStyles.left + "px"
        })
      }, [
        (k(), R(pe, null, xe(20, (c) => C("div", {
          class: ye(["ruler-marker-100", { hide: s.value < 36, omit: s.value < 72 }]),
          key: `h-marker-100-${c}`,
          style: re({ width: s.value + "px" })
        }, [
          c * 100 <= A(r) ? (k(), R("span", nP, Ee(c * 100), 1)) : me("", !0)
        ], 6)), 64)),
        i.value ? (k(), R("div", {
          key: 0,
          class: "range",
          style: re({
            left: i.value.minX * A(n) + "px",
            width: (i.value.maxX - i.value.minX) * A(n) + "px"
          })
        }, null, 4)) : me("", !0)
      ], 4),
      C("div", {
        class: "v",
        style: re({
          height: l.viewportStyles.height * A(n) + "px",
          top: l.viewportStyles.top + "px"
        })
      }, [
        (k(), R(pe, null, xe(20, (c) => C("div", {
          class: ye(["ruler-marker-100", { hide: s.value < 36, omit: s.value < 72 }]),
          key: `v-marker-100-${c}`,
          style: re({ height: s.value + "px" })
        }, [
          c * 100 <= A(r) * A(a) ? (k(), R("span", oP, Ee(c * 100), 1)) : me("", !0)
        ], 6)), 64)),
        i.value ? (k(), R("div", {
          key: 0,
          class: "range",
          style: re({
            top: i.value.minY * A(n) + "px",
            height: (i.value.maxY - i.value.minY) * A(n) + "px"
          })
        }, null, 4)) : me("", !0)
      ], 4)
    ]));
  }
}), rP = /* @__PURE__ */ ve(aP, [["__scopeId", "data-v-dba47cf5"]]), iP = ["width", "height"], sP = ["d"], lP = /* @__PURE__ */ ce({
  __name: "ElementCreateSelection",
  emits: ["created"],
  setup(t, { emit: e }) {
    const n = e, o = Te(), { creatingElement: a } = de(o), { ctrlOrShiftKeyActive: r } = de(eo()), i = V(), s = V(), l = V(), u = V({
      x: 0,
      y: 0
    });
    Qe(() => {
      if (!l.value) return;
      const { x: v, y: p } = l.value.getBoundingClientRect();
      u.value = { x: v, y: p };
    });
    const c = (v) => {
      let p = !0;
      const h = v.pageX, m = v.pageY;
      i.value = [h, m], document.onmousemove = (g) => {
        if (!a.value || !p) return;
        let y = g.pageX, _ = g.pageY;
        if (r.value) {
          const w = y - h, x = _ - m, S = Math.abs(w), L = Math.abs(x);
          if (a.value.type === "shape") {
            const b = x > 0 && w < 0 || x < 0 && w > 0;
            S > L ? _ = b ? m - w : m + w : y = b ? h - x : h + x;
          } else a.value.type === "line" && (S > L ? _ = m : y = h);
        }
        s.value = [y, _];
      }, document.onmouseup = (g) => {
        var x, S;
        if (document.onmousemove = null, document.onmouseup = null, g.button === 2) {
          setTimeout(() => o.setCreatingElement(null), 0);
          return;
        }
        p = !1;
        const y = g.pageX, _ = g.pageY, w = 30;
        if (((x = a.value) == null ? void 0 : x.type) === "line" && (Math.abs(y - h) >= w || Math.abs(_ - m) >= w))
          n("created", {
            start: i.value,
            end: s.value
          });
        else if (((S = a.value) == null ? void 0 : S.type) !== "line" && Math.abs(y - h) >= w && Math.abs(_ - m) >= w)
          n("created", {
            start: i.value,
            end: s.value
          });
        else {
          const b = Math.min(y, h), I = Math.min(_, m), M = Math.max(y, h), E = Math.max(_, m), D = M - b >= w ? M - b : 200, O = E - I >= w ? E - I : 200;
          n("created", {
            start: [b, I],
            end: [b + D, I + O]
          });
        }
      };
    }, d = ne(() => {
      if (!i.value || !s.value || !a.value || a.value.type !== "line") return null;
      const [v, p] = i.value, [h, m] = s.value, g = Math.min(v, h), y = Math.max(v, h), _ = Math.min(p, m), w = Math.max(p, m), x = y - g >= 24 ? y - g : 24, S = w - _ >= 24 ? w - _ : 24, L = v === g ? 0 : y - g, b = p === _ ? 0 : w - _, I = h === g ? 0 : y - g, M = m === _ ? 0 : w - _, E = `M${L}, ${b} L${I}, ${M}`;
      return {
        svgWidth: x,
        svgHeight: S,
        startX: L,
        startY: b,
        endX: I,
        endY: M,
        path: E
      };
    }), f = ne(() => {
      if (!i.value || !s.value) return {};
      const [v, p] = i.value, [h, m] = s.value, g = Math.min(v, h), y = Math.max(v, h), _ = Math.min(p, m), w = Math.max(p, m), x = y - g, S = w - _;
      return {
        left: g - u.value.x + "px",
        top: _ - u.value.y + "px",
        width: x + "px",
        height: S + "px"
      };
    });
    return (v, p) => {
      var h, m;
      return k(), R("div", {
        class: "element-create-selection",
        ref_key: "selectionRef",
        ref: l,
        onMousedown: p[0] || (p[0] = Fe((g) => c(g), ["stop"])),
        onContextmenu: p[1] || (p[1] = Fe(() => {
        }, ["stop", "prevent"]))
      }, [
        i.value && s.value ? (k(), R("div", {
          key: 0,
          class: ye(["selection", (h = A(a)) == null ? void 0 : h.type]),
          style: re(f.value)
        }, [
          ((m = A(a)) == null ? void 0 : m.type) === "line" && d.value ? (k(), R("svg", {
            key: 0,
            overflow: "visible",
            width: d.value.svgWidth,
            height: d.value.svgHeight
          }, [
            C("path", {
              d: d.value.path,
              stroke: "#d14424",
              fill: "none",
              "stroke-width": "2"
            }, null, 8, sP)
          ], 8, iP)) : me("", !0)
        ], 6)) : me("", !0)
      ], 544);
    };
  }
}), uP = /* @__PURE__ */ ve(lP, [["__scopeId", "data-v-3c1a9623"]]), cP = { overflow: "visible" }, dP = ["d", "fill"], fP = /* @__PURE__ */ ce({
  __name: "ShapeCreateCanvas",
  emits: ["created"],
  setup(t, { emit: e }) {
    const n = e, o = Te(), { ctrlOrShiftKeyActive: a } = de(eo()), { theme: r } = de(Ie()), i = V(), s = V(!1), l = V({
      x: 0,
      y: 0
    });
    Qe(() => {
      if (!i.value) return;
      const { x: w, y: x } = i.value.getBoundingClientRect();
      l.value = { x: w, y: x };
    });
    const u = V(null), c = V([]), d = V(!1), f = (w, x = !1) => {
      let S = w.pageX - l.value.x, L = w.pageY - l.value.y;
      if (x) return { pageX: S, pageY: L };
      if (a.value && c.value.length) {
        const [b, I] = c.value[c.value.length - 1];
        Math.abs(b - S) - Math.abs(I - L) > 0 ? L = I : S = b;
      }
      return { pageX: S, pageY: L };
    }, v = (w) => {
      if (s.value) {
        const { pageX: L, pageY: b } = f(w, !0);
        c.value.push([L, b]), u.value = null;
        return;
      }
      const { pageX: x, pageY: S } = f(w);
      if (u.value = [x, S], c.value.length >= 2) {
        const [L, b] = c.value[0];
        Math.abs(L - x) < 5 && Math.abs(b - S) < 5 ? d.value = !0 : d.value = !1;
      } else d.value = !1;
    }, p = ne(() => {
      let w = "";
      for (let x = 0; x < c.value.length; x++) {
        const S = c.value[x];
        x === 0 ? w += `M ${S[0]} ${S[1]} ` : w += `L ${S[0]} ${S[1]} `;
      }
      return c.value.length && u.value && (w += `L ${u.value[0]} ${u.value[1]}`), w;
    }), h = (w = !0) => {
      const x = c.value.map(($) => $[0]), S = c.value.map(($) => $[1]), L = Math.min(...x), b = Math.min(...S), I = Math.max(...x), M = Math.max(...S), E = c.value.map(($) => [$[0] - L, $[1] - b]);
      let D = "";
      for (let $ = 0; $ < E.length; $++) {
        const z = E[$];
        $ === 0 ? D += `M ${z[0]} ${z[1]} ` : D += `L ${z[0]} ${z[1]} `;
      }
      w && (D += "Z");
      const O = [L + l.value.x, b + l.value.y], N = [I + l.value.x, M + l.value.y], P = [I - L, M - b];
      return {
        start: O,
        end: N,
        path: D,
        viewBox: P
      };
    }, m = (w) => {
      const { pageX: x, pageY: S } = f(w);
      s.value = !0, d.value ? n("created", h()) : c.value.push([x, S]), document.onmouseup = () => {
        s.value = !1;
      };
    }, g = () => {
      o.setCreatingCustomShapeState(!1);
    }, y = () => {
      n("created", {
        ...h(!1),
        fill: "rgba(0, 0, 0, 0)",
        outline: {
          width: 2,
          color: r.value.themeColor,
          style: "solid"
        }
      }), g();
    }, _ = (w) => {
      const x = w.key.toUpperCase();
      x === Me.ESC && g(), x === Me.ENTER && y();
    };
    return Qe(() => {
      at.success("点击绘制任意形状，首尾闭合完成绘制，按 ESC 键或鼠标右键取消，按 ENTER 键提前完成", {
        duration: 0
      }), document.addEventListener("keydown", _);
    }), ht(() => {
      document.removeEventListener("keydown", _), at.closeAll();
    }), (w, x) => (k(), R("div", {
      class: "shape-create-canvas",
      ref_key: "shapeCanvasRef",
      ref: i,
      onMousedown: x[0] || (x[0] = Fe((S) => m(S), ["stop"])),
      onMousemove: x[1] || (x[1] = (S) => v(S)),
      onContextmenu: x[2] || (x[2] = Fe((S) => g(), ["stop", "prevent"]))
    }, [
      (k(), R("svg", cP, [
        C("path", {
          d: p.value,
          stroke: "#d14424",
          fill: d.value ? "rgba(226, 83, 77, 0.15)" : "none",
          "stroke-width": "2"
        }, null, 8, dP)
      ]))
    ], 544));
  }
}), vP = /* @__PURE__ */ ve(fP, [["__scopeId", "data-v-64131f0c"]]), sr = (t, e) => {
  const n = ne(() => [
    { direction: Ae.LEFT_TOP, style: {} },
    { direction: Ae.TOP, style: { left: t.value / 2 + "px" } },
    { direction: Ae.RIGHT_TOP, style: { left: t.value + "px" } },
    { direction: Ae.LEFT, style: { top: e.value / 2 + "px" } },
    { direction: Ae.RIGHT, style: { left: t.value + "px", top: e.value / 2 + "px" } },
    { direction: Ae.LEFT_BOTTOM, style: { top: e.value + "px" } },
    { direction: Ae.BOTTOM, style: { left: t.value / 2 + "px", top: e.value + "px" } },
    { direction: Ae.RIGHT_BOTTOM, style: { left: t.value + "px", top: e.value + "px" } }
  ]), o = ne(() => [
    { direction: Ae.LEFT, style: { top: e.value / 2 + "px" } },
    { direction: Ae.RIGHT, style: { left: t.value + "px", top: e.value / 2 + "px" } }
  ]), a = ne(() => [
    { direction: Ae.TOP, style: { left: t.value / 2 + "px" } },
    { direction: Ae.BOTTOM, style: { left: t.value / 2 + "px", top: e.value + "px" } }
  ]), r = ne(() => [
    { type: Ni.T, style: { width: t.value + "px" } },
    { type: Ni.B, style: { top: e.value + "px", width: t.value + "px" } },
    { type: Ni.L, style: { height: e.value + "px" } },
    { type: Ni.R, style: { left: t.value + "px", height: e.value + "px" } }
  ]);
  return {
    resizeHandlers: n,
    textElementResizeHandlers: o,
    verticalTextElementResizeHandlers: a,
    borderLines: r
  };
}, pP = /* @__PURE__ */ ce({
  __name: "ResizeHandler",
  props: {
    type: {},
    rotate: { default: 0 }
  },
  setup(t) {
    const e = t, n = ne(() => {
      const o = "rotate-", a = e.rotate;
      return a > -22.5 && a <= 22.5 ? o + 0 : a > 22.5 && a <= 67.5 ? o + 45 : a > 67.5 && a <= 112.5 ? o + 90 : a > 112.5 && a <= 157.5 ? o + 135 : a > 157.5 || a <= -157.5 ? o + 0 : a > -157.5 && a <= -112.5 ? o + 45 : a > -112.5 && a <= -67.5 ? o + 90 : a > -67.5 && a <= -22.5 ? o + 135 : o + 0;
    });
    return (o, a) => (k(), R("div", {
      class: ye(["resize-handler", n.value, o.type])
    }, null, 2));
  }
}), ga = /* @__PURE__ */ ve(pP, [["__scopeId", "data-v-844cb182"]]), hP = /* @__PURE__ */ ce({
  __name: "BorderLine",
  props: {
    type: {},
    isWide: { type: Boolean, default: !1 }
  },
  setup(t) {
    return (e, n) => (k(), R("div", {
      class: ye(["border-line", e.type, { wide: e.isWide }])
    }, null, 2));
  }
}), lr = /* @__PURE__ */ ve(hP, [["__scopeId", "data-v-39bc862b"]]), mP = /* @__PURE__ */ ce({
  __name: "MultiSelectOperate",
  props: {
    elementList: {},
    scaleMultiElement: { type: Function }
  },
  setup(t) {
    const e = t, { activeElementIdList: n, canvasScale: o } = de(Te()), a = ne(() => e.elementList.filter((f) => n.value.includes(f.id))), r = V({
      minX: 0,
      maxX: 0,
      minY: 0,
      maxY: 0
    }), i = ne(() => (r.value.maxX - r.value.minX) * o.value), s = ne(() => (r.value.maxY - r.value.minY) * o.value), { resizeHandlers: l, borderLines: u } = sr(i, s);
    ks(() => {
      const { minX: f, maxX: v, minY: p, maxY: h } = To(a.value);
      r.value = { minX: f, maxX: v, minY: p, maxY: h };
    });
    const d = ne(() => a.value.some((f) => !((f.type === "image" || f.type === "shape") && !f.rotate)));
    return (f, v) => (k(), R("div", {
      class: "multi-select-operate",
      style: re({
        left: r.value.minX * A(o) + "px",
        top: r.value.minY * A(o) + "px"
      })
    }, [
      (k(!0), R(pe, null, xe(A(u), (p) => (k(), ie(lr, {
        key: p.type,
        type: p.type,
        style: re(p.style)
      }, null, 8, ["type", "style"]))), 128)),
      d.value ? me("", !0) : (k(!0), R(pe, { key: 0 }, xe(A(l), (p) => (k(), ie(ga, {
        key: p.direction,
        type: p.direction,
        style: re(p.style),
        onMousedown: Fe((h) => f.scaleMultiElement(h, r.value, p.direction), ["stop"])
      }, null, 8, ["type", "style", "onMousedown"]))), 128))
    ], 4));
  }
}), gP = /* @__PURE__ */ ve(mP, [["__scopeId", "data-v-3618c996"]]), yP = {}, _P = { class: "rotate-handler" };
function bP(t, e) {
  return k(), R("div", _P);
}
const ii = /* @__PURE__ */ ve(yP, [["render", bP], ["__scopeId", "data-v-7f7f964f"]]), wP = {
  inheritAttrs: !1
}, xP = /* @__PURE__ */ ce({
  ...wP,
  __name: "ImageElementOperate",
  props: {
    elementInfo: {},
    handlerVisible: { type: Boolean },
    rotateElement: { type: Function },
    scaleElement: { type: Function }
  },
  setup(t) {
    const e = t, { canvasScale: n, clipingImageElementId: o } = de(Te()), a = ne(() => o.value === e.elementInfo.id), r = ne(() => e.elementInfo.width * n.value), i = ne(() => e.elementInfo.height * n.value), { resizeHandlers: s, borderLines: l } = sr(r, i);
    return (u, c) => (k(), R("div", {
      class: ye(["image-element-operate", { cliping: a.value }])
    }, [
      (k(!0), R(pe, null, xe(A(l), (d) => (k(), ie(lr, {
        class: "operate-border-line",
        key: d.type,
        type: d.type,
        style: re(d.style)
      }, null, 8, ["type", "style"]))), 128)),
      u.handlerVisible ? (k(), R(pe, { key: 0 }, [
        (k(!0), R(pe, null, xe(A(s), (d) => (k(), ie(ga, {
          class: "operate-resize-handler",
          key: d.direction,
          type: d.direction,
          rotate: u.elementInfo.rotate,
          style: re(d.style),
          onMousedown: Fe((f) => u.scaleElement(f, u.elementInfo, d.direction), ["stop"])
        }, null, 8, ["type", "rotate", "style", "onMousedown"]))), 128)),
        T(ii, {
          class: "operate-rotate-handler",
          style: re({ left: r.value / 2 + "px" }),
          onMousedown: c[0] || (c[0] = Fe((d) => u.rotateElement(d, u.elementInfo), ["stop"]))
        }, null, 8, ["style"])
      ], 64)) : me("", !0)
    ], 2));
  }
}), SP = /* @__PURE__ */ ve(xP, [["__scopeId", "data-v-2a1bef4e"]]), IP = { class: "text-element-operate" }, CP = {
  inheritAttrs: !1
}, TP = /* @__PURE__ */ ce({
  ...CP,
  __name: "TextElementOperate",
  props: {
    elementInfo: {},
    handlerVisible: { type: Boolean },
    rotateElement: { type: Function },
    scaleElement: { type: Function }
  },
  setup(t) {
    const e = t, { canvasScale: n } = de(Te()), o = ne(() => e.elementInfo.width * n.value), a = ne(() => e.elementInfo.height * n.value), { textElementResizeHandlers: r, verticalTextElementResizeHandlers: i, borderLines: s } = sr(o, a), l = ne(() => e.elementInfo.vertical ? i.value : r.value);
    return (u, c) => (k(), R("div", IP, [
      (k(!0), R(pe, null, xe(A(s), (d) => (k(), ie(lr, {
        class: "operate-border-line",
        key: d.type,
        type: d.type,
        style: re(d.style)
      }, null, 8, ["type", "style"]))), 128)),
      u.handlerVisible ? (k(), R(pe, { key: 0 }, [
        (k(!0), R(pe, null, xe(l.value, (d) => (k(), ie(ga, {
          class: "operate-resize-handler",
          key: d.direction,
          type: d.direction,
          rotate: u.elementInfo.rotate,
          style: re(d.style),
          onMousedown: Fe((f) => u.scaleElement(f, u.elementInfo, d.direction), ["stop"])
        }, null, 8, ["type", "rotate", "style", "onMousedown"]))), 128)),
        T(ii, {
          class: "operate-rotate-handler",
          style: re({ left: o.value / 2 + "px" }),
          onMousedown: c[0] || (c[0] = Fe((d) => u.rotateElement(d, u.elementInfo), ["stop"]))
        }, null, 8, ["style"])
      ], 64)) : me("", !0)
    ]));
  }
}), LP = { class: "shape-element-operate" }, kP = ["onMousedown"], EP = {
  inheritAttrs: !1
}, MP = /* @__PURE__ */ ce({
  ...EP,
  __name: "ShapeElementOperate",
  props: {
    elementInfo: {},
    handlerVisible: { type: Boolean },
    rotateElement: { type: Function },
    scaleElement: { type: Function },
    moveShapeKeypoint: { type: Function }
  },
  setup(t) {
    const e = t, { canvasScale: n } = de(Te()), o = ne(() => e.elementInfo.width * n.value), a = ne(() => e.elementInfo.height * n.value), { resizeHandlers: r, borderLines: i } = sr(o, a), s = ne(() => {
      if (!e.elementInfo.pathFormula || e.elementInfo.keypoints === void 0) return [];
      const l = or[e.elementInfo.pathFormula];
      return e.elementInfo.keypoints.map((u, c) => {
        const d = l.getBaseSize[c], f = l.relative[c], v = d(e.elementInfo.width, e.elementInfo.height) * u;
        let p = {};
        return f === "left" ? p = { left: v * n.value + "px" } : f === "right" ? p = { left: (e.elementInfo.width - v) * n.value + "px" } : f === "center" ? p = { left: (e.elementInfo.width - v) / 2 * n.value + "px" } : f === "top" ? p = { top: v * n.value + "px" } : f === "bottom" ? p = { top: (e.elementInfo.height - v) * n.value + "px" } : f === "left_bottom" ? p = { left: v * n.value + "px", top: e.elementInfo.height * n.value + "px" } : f === "right_bottom" ? p = { left: (e.elementInfo.width - v) * n.value + "px", top: e.elementInfo.height * n.value + "px" } : f === "top_right" ? p = { left: e.elementInfo.width * n.value + "px", top: v * n.value + "px" } : f === "bottom_right" && (p = { left: e.elementInfo.width * n.value + "px", top: (e.elementInfo.height - v) * n.value + "px" }), {
          keypoint: u,
          styles: p
        };
      });
    });
    return (l, u) => (k(), R("div", LP, [
      (k(!0), R(pe, null, xe(A(i), (c) => (k(), ie(lr, {
        class: "operate-border-line",
        key: c.type,
        type: c.type,
        style: re(c.style)
      }, null, 8, ["type", "style"]))), 128)),
      l.handlerVisible ? (k(), R(pe, { key: 0 }, [
        (k(!0), R(pe, null, xe(A(r), (c) => (k(), ie(ga, {
          class: "operate-resize-handler",
          key: c.direction,
          type: c.direction,
          rotate: l.elementInfo.rotate,
          style: re(c.style),
          onMousedown: Fe((d) => l.scaleElement(d, l.elementInfo, c.direction), ["stop"])
        }, null, 8, ["type", "rotate", "style", "onMousedown"]))), 128)),
        T(ii, {
          class: "operate-rotate-handler",
          style: re({ left: o.value / 2 + "px" }),
          onMousedown: u[0] || (u[0] = Fe((c) => l.rotateElement(c, l.elementInfo), ["stop"]))
        }, null, 8, ["style"]),
        (k(!0), R(pe, null, xe(s.value, (c, d) => (k(), R("div", {
          class: "operate-keypoint-handler",
          key: d,
          style: re(c.styles),
          onMousedown: Fe((f) => l.moveShapeKeypoint(f, l.elementInfo, d), ["stop"])
        }, null, 44, kP))), 128))
      ], 64)) : me("", !0)
    ]));
  }
}), AP = /* @__PURE__ */ ve(MP, [["__scopeId", "data-v-e764f589"]]), DP = { class: "line-element-operate" }, $P = ["width", "height", "stroke"], PP = { key: 0 }, RP = ["x1", "y1", "x2", "y2"], OP = ["x1", "y1", "x2", "y2"], NP = ["x1", "y1", "x2", "y2"], BP = ["x1", "y1", "x2", "y2"], FP = {
  inheritAttrs: !1
}, zP = /* @__PURE__ */ ce({
  ...FP,
  __name: "LineElementOperate",
  props: {
    elementInfo: {},
    handlerVisible: { type: Boolean },
    dragLineElement: { type: Function }
  },
  setup(t) {
    const e = t, { canvasScale: n } = de(Te()), o = ne(() => Math.max(e.elementInfo.start[0], e.elementInfo.end[0])), a = ne(() => Math.max(e.elementInfo.start[1], e.elementInfo.end[1])), r = ne(() => {
      const i = [
        {
          handler: vn.START,
          style: {
            left: e.elementInfo.start[0] * n.value + "px",
            top: e.elementInfo.start[1] * n.value + "px"
          }
        },
        {
          handler: vn.END,
          style: {
            left: e.elementInfo.end[0] * n.value + "px",
            top: e.elementInfo.end[1] * n.value + "px"
          }
        }
      ];
      if (e.elementInfo.curve || e.elementInfo.broken || e.elementInfo.broken2) {
        const s = e.elementInfo.curve || e.elementInfo.broken || e.elementInfo.broken2;
        i.push({
          handler: vn.C,
          style: {
            left: s[0] * n.value + "px",
            top: s[1] * n.value + "px"
          }
        });
      } else if (e.elementInfo.cubic) {
        const [s, l] = e.elementInfo.cubic;
        i.push({
          handler: vn.C1,
          style: {
            left: s[0] * n.value + "px",
            top: s[1] * n.value + "px"
          }
        }), i.push({
          handler: vn.C2,
          style: {
            left: l[0] * n.value + "px",
            top: l[1] * n.value + "px"
          }
        });
      }
      return i;
    });
    return (i, s) => (k(), R("div", DP, [
      i.handlerVisible ? (k(), R(pe, { key: 0 }, [
        (k(!0), R(pe, null, xe(r.value, (l) => (k(), ie(ga, {
          class: "operate-resize-handler",
          key: l.handler,
          style: re(l.style),
          onMousedown: Fe((u) => i.dragLineElement(u, i.elementInfo, l.handler), ["stop"])
        }, null, 8, ["style", "onMousedown"]))), 128)),
        (k(), R("svg", {
          width: o.value || 1,
          height: a.value || 1,
          stroke: i.elementInfo.color,
          overflow: "visible",
          style: re({ transform: `scale(${A(n)})` })
        }, [
          i.elementInfo.curve ? (k(), R("g", PP, [
            C("line", {
              class: "anchor-line",
              x1: i.elementInfo.start[0],
              y1: i.elementInfo.start[1],
              x2: i.elementInfo.curve[0],
              y2: i.elementInfo.curve[1]
            }, null, 8, RP),
            C("line", {
              class: "anchor-line",
              x1: i.elementInfo.end[0],
              y1: i.elementInfo.end[1],
              x2: i.elementInfo.curve[0],
              y2: i.elementInfo.curve[1]
            }, null, 8, OP)
          ])) : me("", !0),
          i.elementInfo.cubic ? (k(!0), R(pe, { key: 1 }, xe(i.elementInfo.cubic, (l, u) => (k(), R("g", { key: u }, [
            u === 0 ? (k(), R("line", {
              key: 0,
              class: "anchor-line",
              x1: i.elementInfo.start[0],
              y1: i.elementInfo.start[1],
              x2: l[0],
              y2: l[1]
            }, null, 8, NP)) : me("", !0),
            u === 1 ? (k(), R("line", {
              key: 1,
              class: "anchor-line",
              x1: i.elementInfo.end[0],
              y1: i.elementInfo.end[1],
              x2: l[0],
              y2: l[1]
            }, null, 8, BP)) : me("", !0)
          ]))), 128)) : me("", !0)
        ], 12, $P))
      ], 64)) : me("", !0)
    ]));
  }
}), VP = /* @__PURE__ */ ve(zP, [["__scopeId", "data-v-ccfba7f7"]]), HP = { class: "table-element-operate" }, GP = {
  inheritAttrs: !1
}, UP = /* @__PURE__ */ ce({
  ...GP,
  __name: "TableElementOperate",
  props: {
    elementInfo: {},
    handlerVisible: { type: Boolean },
    rotateElement: { type: Function },
    scaleElement: { type: Function }
  },
  setup(t) {
    const e = t, { canvasScale: n } = de(Te()), o = ne(() => e.elementInfo.outline.width || 1), a = ne(() => (e.elementInfo.width + o.value) * n.value), r = ne(() => e.elementInfo.height * n.value), { resizeHandlers: i, borderLines: s } = sr(a, r);
    return (l, u) => (k(), R("div", HP, [
      (k(!0), R(pe, null, xe(A(s), (c) => (k(), ie(lr, {
        class: "operate-border-line",
        key: c.type,
        type: c.type,
        style: re(c.style)
      }, null, 8, ["type", "style"]))), 128)),
      l.handlerVisible ? (k(), R(pe, { key: 0 }, [
        (k(!0), R(pe, null, xe(A(i), (c) => (k(), ie(ga, {
          class: "operate-resize-handler",
          key: c.direction,
          type: c.direction,
          rotate: l.elementInfo.rotate,
          style: re(c.style),
          onMousedown: Fe((d) => l.scaleElement(d, l.elementInfo, c.direction), ["stop"])
        }, null, 8, ["type", "rotate", "style", "onMousedown"]))), 128)),
        T(ii, {
          class: "operate-rotate-handler",
          style: re({ left: a.value / 2 + "px" }),
          onMousedown: u[0] || (u[0] = Fe((c) => l.rotateElement(c, l.elementInfo), ["stop"]))
        }, null, 8, ["style"])
      ], 64)) : me("", !0)
    ]));
  }
}), WP = { class: "common-element-operate" }, XP = {
  inheritAttrs: !1
}, Pl = /* @__PURE__ */ ce({
  ...XP,
  __name: "CommonElementOperate",
  props: {
    elementInfo: {},
    handlerVisible: { type: Boolean },
    rotateElement: { type: Function },
    scaleElement: { type: Function }
  },
  setup(t) {
    const e = t, { canvasScale: n } = de(Te()), o = ne(() => e.elementInfo.width * n.value), a = ne(() => e.elementInfo.height * n.value), { resizeHandlers: r, borderLines: i } = sr(o, a), s = ne(() => ["chart", "video", "audio"].includes(e.elementInfo.type));
    return (l, u) => (k(), R("div", WP, [
      (k(!0), R(pe, null, xe(A(i), (c) => (k(), ie(lr, {
        class: "operate-border-line",
        key: c.type,
        type: c.type,
        style: re(c.style)
      }, null, 8, ["type", "style"]))), 128)),
      l.handlerVisible ? (k(), R(pe, { key: 0 }, [
        (k(!0), R(pe, null, xe(A(r), (c) => (k(), ie(ga, {
          class: "operate-resize-handler",
          key: c.direction,
          type: c.direction,
          rotate: l.elementInfo.rotate,
          style: re(c.style),
          onMousedown: Fe((d) => l.scaleElement(d, l.elementInfo, c.direction), ["stop"])
        }, null, 8, ["type", "rotate", "style", "onMousedown"]))), 128)),
        s.value ? me("", !0) : (k(), ie(ii, {
          key: 0,
          class: "operate-rotate-handler",
          style: re({ left: o.value / 2 + "px" }),
          onMousedown: u[0] || (u[0] = Fe((c) => l.rotateElement(c, l.elementInfo), ["stop"]))
        }, null, 8, ["style"]))
      ], 64)) : me("", !0)
    ]));
  }
}), J_ = () => {
  const t = Ie(), { addHistorySnapshot: e } = Xe();
  return {
    setLink: (a, r) => {
      const i = /^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;
      if (r.type === "web" && !i.test(r.target))
        return at.error("不是正确的网页链接地址"), !1;
      if (r.type === "slide" && !r.target)
        return at.error("请先选择链接目标"), !1;
      const s = { link: r };
      return t.updateElement({ id: a.id, props: s }), e(), !0;
    },
    removeLink: (a) => {
      t.removeElementProps({ id: a.id, propName: "link" }), e();
    }
  };
}, YP = /* @__PURE__ */ ce({
  __name: "Divider",
  props: {
    type: { default: "horizontal" },
    margin: { default: -1 }
  },
  setup(t) {
    return (e, n) => (k(), R("div", {
      class: ye(["divider", e.type]),
      style: re({
        margin: e.type === "horizontal" ? `${e.margin >= 0 ? e.margin : 24}px 0` : `0 ${e.margin >= 0 ? e.margin : 8}px`
      })
    }, null, 6));
  }
}), Ve = /* @__PURE__ */ ve(YP, [["__scopeId", "data-v-def6106d"]]), ZP = ["href"], qP = { class: "btns" }, JP = /* @__PURE__ */ ce({
  __name: "LinkHandler",
  props: {
    elementInfo: {},
    link: {},
    openLinkDialog: { type: Function }
  },
  setup(t) {
    const e = t, n = Te(), o = Ie(), { canvasScale: a } = de(n), { slides: r } = de(o), { removeLink: i } = J_(), s = ne(() => e.elementInfo.type === "line" ? 0 : e.elementInfo.height), l = (u) => {
      const c = r.value.findIndex((d) => d.id === u);
      c !== -1 && (n.setActiveElementIdList([]), o.updateSlideIndex(c));
    };
    return (u, c) => (k(), R("div", {
      class: "link-handler",
      style: re({ top: s.value * A(a) + 10 + "px" })
    }, [
      u.link.type === "web" ? (k(), R("a", {
        key: 0,
        class: "link",
        href: u.link.target,
        target: "_blank"
      }, Ee(u.link.target), 9, ZP)) : (k(), R("a", {
        key: 1,
        class: "link",
        onClick: c[0] || (c[0] = (d) => l(u.link.target))
      }, "幻灯片页面 " + Ee(u.link.target), 1)),
      C("div", qP, [
        C("div", {
          class: "btn",
          onClick: c[1] || (c[1] = (d) => u.openLinkDialog())
        }, "更换"),
        T(Ve, { type: "vertical" }),
        C("div", {
          class: "btn",
          onClick: c[2] || (c[2] = (d) => A(i)(u.elementInfo))
        }, "移除")
      ])
    ], 4));
  }
}), KP = /* @__PURE__ */ ve(JP, [["__scopeId", "data-v-2b064319"]]), QP = {
  key: 1,
  class: "animation-index"
}, jP = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    elementInfo: {},
    isSelected: { type: Boolean },
    isActive: { type: Boolean },
    isActiveGroupElement: { type: Boolean },
    isMultiSelect: { type: Boolean },
    rotateElement: { type: Function },
    scaleElement: { type: Function },
    dragLineElement: { type: Function },
    moveShapeKeypoint: { type: Function },
    openLinkDialog: { type: Function }
  },
  setup(t) {
    const e = t, { canvasScale: n, toolbarState: o } = de(Te()), { formatedAnimations: a } = de(Ie()), r = ne(() => ({
      [Ne.IMAGE]: SP,
      [Ne.TEXT]: TP,
      [Ne.SHAPE]: AP,
      [Ne.LINE]: VP,
      [Ne.TABLE]: UP,
      [Ne.CHART]: Pl,
      [Ne.LATEX]: Pl,
      [Ne.VIDEO]: Pl,
      [Ne.AUDIO]: Pl
    })[e.elementInfo.type] || null), i = ne(() => {
      const u = [];
      for (let c = 0; c < a.value.length; c++)
        a.value[c].animations.map((f) => f.elId).includes(e.elementInfo.id) && u.push(c);
      return u;
    }), s = ne(() => "rotate" in e.elementInfo ? e.elementInfo.rotate : 0), l = ne(() => "height" in e.elementInfo ? e.elementInfo.height : 0);
    return (u, c) => (k(), R("div", {
      class: ye(["operate", { "multi-select": u.isMultiSelect && !u.isActive }]),
      style: re({
        top: u.elementInfo.top * A(n) + "px",
        left: u.elementInfo.left * A(n) + "px",
        transform: `rotate(${s.value}deg)`,
        transformOrigin: `${u.elementInfo.width * A(n) / 2}px ${l.value * A(n) / 2}px`
      })
    }, [
      u.isSelected ? (k(), ie(Do(r.value), {
        key: 0,
        elementInfo: u.elementInfo,
        handlerVisible: !u.elementInfo.lock && (u.isActiveGroupElement || !u.isMultiSelect),
        rotateElement: u.rotateElement,
        scaleElement: u.scaleElement,
        dragLineElement: u.dragLineElement,
        moveShapeKeypoint: u.moveShapeKeypoint
      }, null, 8, ["elementInfo", "handlerVisible", "rotateElement", "scaleElement", "dragLineElement", "moveShapeKeypoint"])) : me("", !0),
      A(o) === "elAnimation" && i.value.length ? (k(), R("div", QP, [
        (k(!0), R(pe, null, xe(i.value, (d) => (k(), R("div", {
          class: "index-item",
          key: d
        }, Ee(d + 1), 1))), 128))
      ])) : me("", !0),
      u.isActive && u.elementInfo.link ? (k(), ie(KP, {
        key: 2,
        elementInfo: u.elementInfo,
        link: u.elementInfo.link,
        openLinkDialog: u.openLinkDialog,
        onMousedown: c[0] || (c[0] = Fe(() => {
        }, ["stop"]))
      }, null, 8, ["elementInfo", "link", "openLinkDialog"])) : me("", !0)
    ], 6));
  }
}), eR = /* @__PURE__ */ ve(jP, [["__scopeId", "data-v-7c6be7e7"]]), tR = ["src"], nR = /* @__PURE__ */ ce({
  __name: "BaseImageElement",
  props: {
    elementInfo: {}
  },
  setup(t) {
    const e = t, n = ne(() => e.elementInfo.shadow), { shadowStyle: o } = ha(n), a = ne(() => e.elementInfo.flipH), r = ne(() => e.elementInfo.flipV), { flipStyle: i } = Nu(a, r), s = ne(() => e.elementInfo), { clipShape: l, imgPosition: u } = zv(s), c = ne(() => e.elementInfo.filters), { filter: d } = Cg(c);
    return (f, v) => (k(), R("div", {
      class: "base-element-image",
      style: re({
        top: f.elementInfo.top + "px",
        left: f.elementInfo.left + "px",
        width: f.elementInfo.width + "px",
        height: f.elementInfo.height + "px"
      })
    }, [
      C("div", {
        class: "rotate-wrapper",
        style: re({ transform: `rotate(${f.elementInfo.rotate}deg)` })
      }, [
        C("div", {
          class: "element-content",
          style: re({
            filter: A(o) ? `drop-shadow(${A(o)})` : "",
            transform: A(i)
          })
        }, [
          T(Tg, { elementInfo: f.elementInfo }, null, 8, ["elementInfo"]),
          C("div", {
            class: "image-content",
            style: re({ clipPath: A(l).style })
          }, [
            C("img", {
              src: f.elementInfo.src,
              draggable: !1,
              style: re({
                top: A(u).top,
                left: A(u).left,
                width: A(u).width,
                height: A(u).height,
                filter: A(d)
              }),
              alt: ""
            }, null, 12, tR),
            f.elementInfo.colorMask ? (k(), R("div", {
              key: 0,
              class: "color-mask",
              style: re({
                backgroundColor: f.elementInfo.colorMask
              })
            }, null, 4)) : me("", !0)
          ], 4)
        ], 4)
      ], 4)
    ], 4));
  }
}), K_ = /* @__PURE__ */ ve(nR, [["__scopeId", "data-v-f5bbdf36"]]), oR = ["innerHTML"], aR = /* @__PURE__ */ ce({
  __name: "BaseTextElement",
  props: {
    elementInfo: {},
    target: {}
  },
  setup(t) {
    const e = t, n = ne(() => e.elementInfo.shadow), { shadowStyle: o } = ha(n);
    return (a, r) => (k(), R("div", {
      class: "base-element-text",
      style: re({
        top: a.elementInfo.top + "px",
        left: a.elementInfo.left + "px",
        width: a.elementInfo.width + "px",
        height: a.elementInfo.height + "px"
      })
    }, [
      C("div", {
        class: "rotate-wrapper",
        style: re({ transform: `rotate(${a.elementInfo.rotate}deg)` })
      }, [
        C("div", {
          class: "element-content",
          style: re({
            width: a.elementInfo.vertical ? "auto" : a.elementInfo.width + "px",
            height: a.elementInfo.vertical ? a.elementInfo.height + "px" : "auto",
            backgroundColor: a.elementInfo.fill,
            opacity: a.elementInfo.opacity,
            textShadow: A(o),
            lineHeight: a.elementInfo.lineHeight,
            letterSpacing: (a.elementInfo.wordSpace || 0) + "px",
            color: a.elementInfo.defaultColor,
            fontFamily: a.elementInfo.defaultFontName,
            writingMode: a.elementInfo.vertical ? "vertical-rl" : "horizontal-tb"
          })
        }, [
          T(Bu, {
            width: a.elementInfo.width,
            height: a.elementInfo.height,
            outline: a.elementInfo.outline
          }, null, 8, ["width", "height", "outline"]),
          C("div", {
            class: ye(["text ProseMirror-static", { thumbnail: a.target === "thumbnail" }]),
            style: re({
              "--paragraphSpace": `${a.elementInfo.paragraphSpace === void 0 ? 5 : a.elementInfo.paragraphSpace}px`
            }),
            innerHTML: a.elementInfo.content
          }, null, 14, oR)
        ], 4)
      ], 4)
    ], 4));
  }
}), Q_ = /* @__PURE__ */ ve(aR, [["__scopeId", "data-v-3eca1d55"]]), rR = ["width", "height"], iR = { key: 0 }, sR = ["transform"], lR = ["d", "fill", "stroke", "stroke-width", "stroke-dasharray"], uR = ["innerHTML"], cR = /* @__PURE__ */ ce({
  __name: "BaseShapeElement",
  props: {
    elementInfo: {}
  },
  setup(t) {
    const e = t, n = ne(() => e.elementInfo.outline), { outlineWidth: o, outlineColor: a, strokeDashArray: r } = Qr(n), i = ne(() => e.elementInfo.shadow), { shadowStyle: s } = ha(i), l = ne(() => e.elementInfo.flipH), u = ne(() => e.elementInfo.flipV), { flipStyle: c } = Nu(l, u), d = ne(() => {
      const f = {
        content: "",
        defaultFontName: "微软雅黑",
        defaultColor: "#000",
        align: "middle"
      };
      return e.elementInfo.text ? e.elementInfo.text : f;
    });
    return (f, v) => (k(), R("div", {
      class: "base-element-shape",
      style: re({
        top: f.elementInfo.top + "px",
        left: f.elementInfo.left + "px",
        width: f.elementInfo.width + "px",
        height: f.elementInfo.height + "px"
      })
    }, [
      C("div", {
        class: "rotate-wrapper",
        style: re({ transform: `rotate(${f.elementInfo.rotate}deg)` })
      }, [
        C("div", {
          class: "element-content",
          style: re({
            opacity: f.elementInfo.opacity,
            filter: A(s) ? `drop-shadow(${A(s)})` : "",
            transform: A(c),
            color: d.value.defaultColor,
            fontFamily: d.value.defaultFontName
          })
        }, [
          (k(), R("svg", {
            overflow: "visible",
            width: f.elementInfo.width,
            height: f.elementInfo.height
          }, [
            f.elementInfo.gradient ? (k(), R("defs", iR, [
              T(Rg, {
                id: `base-gradient-${f.elementInfo.id}`,
                type: f.elementInfo.gradient.type,
                colors: f.elementInfo.gradient.colors,
                rotate: f.elementInfo.gradient.rotate
              }, null, 8, ["id", "type", "colors", "rotate"])
            ])) : me("", !0),
            C("g", {
              transform: `scale(${f.elementInfo.width / f.elementInfo.viewBox[0]}, ${f.elementInfo.height / f.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`
            }, [
              C("path", {
                "vector-effect": "non-scaling-stroke",
                "stroke-linecap": "butt",
                "stroke-miterlimit": "8",
                d: f.elementInfo.path,
                fill: f.elementInfo.gradient ? `url(#base-gradient-${f.elementInfo.id})` : f.elementInfo.fill,
                stroke: A(a),
                "stroke-width": A(o),
                "stroke-dasharray": A(r)
              }, null, 8, lR)
            ], 8, sR)
          ], 8, rR)),
          C("div", {
            class: ye(["shape-text", d.value.align])
          }, [
            C("div", {
              class: "ProseMirror-static",
              innerHTML: d.value.content
            }, null, 8, uR)
          ], 2)
        ], 4)
      ], 4)
    ], 4));
  }
}), j_ = /* @__PURE__ */ ve(cR, [["__scopeId", "data-v-14259ea1"]]), dR = ["width", "height"], fR = ["d", "stroke", "stroke-width", "stroke-dasharray", "marker-start", "marker-end"], vR = /* @__PURE__ */ ce({
  __name: "BaseLineElement",
  props: {
    elementInfo: {}
  },
  setup(t) {
    const e = t, n = ne(() => e.elementInfo.shadow), { shadowStyle: o } = ha(n), a = ne(() => {
      const l = Math.abs(e.elementInfo.start[0] - e.elementInfo.end[0]);
      return l < 24 ? 24 : l;
    }), r = ne(() => {
      const l = Math.abs(e.elementInfo.start[1] - e.elementInfo.end[1]);
      return l < 24 ? 24 : l;
    }), i = ne(() => {
      const l = e.elementInfo.width;
      return e.elementInfo.style === "dashed" ? l <= 8 ? `${l * 5} ${l * 2.5}` : `${l * 5} ${l * 1.5}` : e.elementInfo.style === "dotted" ? l <= 8 ? `${l * 1.8} ${l * 1.6}` : `${l * 1.5} ${l * 1.2}` : "0 0";
    }), s = ne(() => Av(e.elementInfo));
    return (l, u) => (k(), R("div", {
      class: "base-element-line",
      style: re({
        top: l.elementInfo.top + "px",
        left: l.elementInfo.left + "px"
      })
    }, [
      C("div", {
        class: "element-content",
        style: re({ filter: A(o) ? `drop-shadow(${A(o)})` : "" })
      }, [
        (k(), R("svg", {
          overflow: "visible",
          width: a.value,
          height: r.value
        }, [
          C("defs", null, [
            l.elementInfo.points[0] ? (k(), ie(Vr, {
              key: 0,
              id: l.elementInfo.id,
              position: "start",
              type: l.elementInfo.points[0],
              color: l.elementInfo.color,
              baseSize: l.elementInfo.width
            }, null, 8, ["id", "type", "color", "baseSize"])) : me("", !0),
            l.elementInfo.points[1] ? (k(), ie(Vr, {
              key: 1,
              id: l.elementInfo.id,
              position: "end",
              type: l.elementInfo.points[1],
              color: l.elementInfo.color,
              baseSize: l.elementInfo.width
            }, null, 8, ["id", "type", "color", "baseSize"])) : me("", !0)
          ]),
          C("path", {
            d: s.value,
            stroke: l.elementInfo.color,
            "stroke-width": l.elementInfo.width,
            "stroke-dasharray": i.value,
            fill: "none",
            "marker-start": l.elementInfo.points[0] ? `url(#${l.elementInfo.id}-${l.elementInfo.points[0]}-start)` : "",
            "marker-end": l.elementInfo.points[1] ? `url(#${l.elementInfo.id}-${l.elementInfo.points[1]}-end)` : ""
          }, null, 8, fR)
        ], 8, dR))
      ], 4)
    ], 4));
  }
}), e4 = /* @__PURE__ */ ve(vR, [["__scopeId", "data-v-f6565627"]]), pR = /* @__PURE__ */ ce({
  __name: "BaseChartElement",
  props: {
    elementInfo: {},
    target: {}
  },
  setup(t) {
    return (e, n) => (k(), R("div", {
      class: ye(["base-element-chart", { "is-thumbnail": e.target === "thumbnail" }]),
      style: re({
        top: e.elementInfo.top + "px",
        left: e.elementInfo.left + "px",
        width: e.elementInfo.width + "px",
        height: e.elementInfo.height + "px"
      })
    }, [
      C("div", {
        class: "rotate-wrapper",
        style: re({ transform: `rotate(${e.elementInfo.rotate}deg)` })
      }, [
        C("div", {
          class: "element-content",
          style: re({
            backgroundColor: e.elementInfo.fill
          })
        }, [
          T(Bu, {
            width: e.elementInfo.width,
            height: e.elementInfo.height,
            outline: e.elementInfo.outline
          }, null, 8, ["width", "height", "outline"]),
          T(O_, {
            width: e.elementInfo.width,
            height: e.elementInfo.height,
            type: e.elementInfo.chartType,
            data: e.elementInfo.data,
            themeColors: e.elementInfo.themeColors,
            textColor: e.elementInfo.textColor,
            options: e.elementInfo.options
          }, null, 8, ["width", "height", "type", "data", "themeColors", "textColor", "options"])
        ], 4)
      ], 4)
    ], 6));
  }
}), t4 = /* @__PURE__ */ ve(pR, [["__scopeId", "data-v-5a1fd6e3"]]), hR = ["width"], mR = ["rowspan", "colspan"], gR = ["innerHTML"], yR = /* @__PURE__ */ ce({
  __name: "StaticTable",
  props: {
    data: {},
    width: {},
    cellMinHeight: {},
    colWidths: {},
    outline: {},
    theme: {},
    editable: { type: Boolean, default: !0 }
  },
  setup(t) {
    const e = t, n = V([]), o = ne(() => n.value.reduce((l, u) => l + u));
    Re([
      () => e.colWidths,
      () => e.width
    ], () => {
      n.value = e.colWidths.map((l) => l * e.width);
    }, { immediate: !0 });
    const a = ne(() => e.data), { hideCells: r } = z_(a), i = ne(() => e.theme), { subThemeColor: s } = V_(i);
    return (l, u) => {
      var c, d, f, v, p;
      return k(), R("div", {
        class: "static-table",
        style: re({ width: o.value + "px" })
      }, [
        C("table", {
          class: ye({
            theme: i.value,
            "row-header": (c = i.value) == null ? void 0 : c.rowHeader,
            "row-footer": (d = i.value) == null ? void 0 : d.rowFooter,
            "col-header": (f = i.value) == null ? void 0 : f.colHeader,
            "col-footer": (v = i.value) == null ? void 0 : v.colFooter
          }),
          style: re(`--themeColor: ${(p = i.value) == null ? void 0 : p.color}; --subThemeColor1: ${A(s)[0]}; --subThemeColor2: ${A(s)[1]}`)
        }, [
          C("colgroup", null, [
            (k(!0), R(pe, null, xe(n.value, (h, m) => (k(), R("col", {
              span: "1",
              key: m,
              width: h
            }, null, 8, hR))), 128))
          ]),
          C("tbody", null, [
            (k(!0), R(pe, null, xe(l.data, (h, m) => (k(), R("tr", {
              key: m,
              style: re({ height: l.cellMinHeight + "px" })
            }, [
              (k(!0), R(pe, null, xe(h, (g, y) => ge((k(), R("td", {
                class: "cell",
                style: re({
                  borderStyle: l.outline.style,
                  borderColor: l.outline.color,
                  borderWidth: l.outline.width + "px",
                  ...A(B_)(g.style)
                }),
                key: g.id,
                rowspan: g.rowspan,
                colspan: g.colspan
              }, [
                C("div", {
                  class: "cell-text",
                  style: re({ minHeight: l.cellMinHeight - 4 + "px" }),
                  innerHTML: A(F_)(g.text)
                }, null, 12, gR)
              ], 12, mR)), [
                [Ka, !A(r).includes(`${m}_${y}`)]
              ])), 128))
            ], 4))), 128))
          ])
        ], 6)
      ], 4);
    };
  }
}), _R = /* @__PURE__ */ ve(yR, [["__scopeId", "data-v-909691d5"]]), bR = { class: "element-content" }, wR = /* @__PURE__ */ ce({
  __name: "BaseTableElement",
  props: {
    elementInfo: {}
  },
  setup(t) {
    return (e, n) => (k(), R("div", {
      class: "base-element-table",
      style: re({
        top: e.elementInfo.top + "px",
        left: e.elementInfo.left + "px",
        width: e.elementInfo.width + "px"
      })
    }, [
      C("div", {
        class: "rotate-wrapper",
        style: re({ transform: `rotate(${e.elementInfo.rotate}deg)` })
      }, [
        C("div", bR, [
          T(_R, {
            data: e.elementInfo.data,
            width: e.elementInfo.width,
            cellMinHeight: e.elementInfo.cellMinHeight,
            colWidths: e.elementInfo.colWidths,
            outline: e.elementInfo.outline,
            theme: e.elementInfo.theme
          }, null, 8, ["data", "width", "cellMinHeight", "colWidths", "outline", "theme"])
        ])
      ], 4)
    ], 4));
  }
}), n4 = /* @__PURE__ */ ve(wR, [["__scopeId", "data-v-a0ffa95b"]]), xR = { class: "element-content" }, SR = ["width", "height", "stroke", "stroke-width"], IR = ["transform"], CR = ["d"], TR = /* @__PURE__ */ ce({
  __name: "BaseLatexElement",
  props: {
    elementInfo: {}
  },
  setup(t) {
    return (e, n) => (k(), R("div", {
      class: "base-element-latex",
      style: re({
        top: e.elementInfo.top + "px",
        left: e.elementInfo.left + "px",
        width: e.elementInfo.width + "px",
        height: e.elementInfo.height + "px"
      })
    }, [
      C("div", {
        class: "rotate-wrapper",
        style: re({ transform: `rotate(${e.elementInfo.rotate}deg)` })
      }, [
        C("div", xR, [
          (k(), R("svg", {
            overflow: "visible",
            width: e.elementInfo.width,
            height: e.elementInfo.height,
            stroke: e.elementInfo.color,
            "stroke-width": e.elementInfo.strokeWidth,
            fill: "none",
            "stroke-linecap": "round",
            "stroke-linejoin": "round"
          }, [
            C("g", {
              transform: `scale(${e.elementInfo.width / e.elementInfo.viewBox[0]}, ${e.elementInfo.height / e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`
            }, [
              C("path", {
                d: e.elementInfo.path
              }, null, 8, CR)
            ], 8, IR)
          ], 8, SR))
        ])
      ], 4)
    ], 4));
  }
}), o4 = /* @__PURE__ */ ve(TR, [["__scopeId", "data-v-0dac0976"]]), LR = /* @__PURE__ */ ce({
  __name: "BaseVideoElement",
  props: {
    elementInfo: {}
  },
  setup(t) {
    return (e, n) => {
      const o = j("IconPlayOne");
      return k(), R("div", {
        class: "base-element-video",
        style: re({
          top: e.elementInfo.top + "px",
          left: e.elementInfo.left + "px",
          width: e.elementInfo.width + "px",
          height: e.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${e.elementInfo.rotate}deg)` })
        }, [
          C("div", {
            class: "element-content",
            style: re({ backgroundImage: e.elementInfo.poster ? `url(${e.elementInfo.poster})` : "" })
          }, [
            T(o, { class: "icon" })
          ], 4)
        ], 4)
      ], 4);
    };
  }
}), kR = /* @__PURE__ */ ve(LR, [["__scopeId", "data-v-72eec24c"]]), ER = { class: "element-content" }, MR = /* @__PURE__ */ ce({
  __name: "BaseAudioElement",
  props: {
    elementInfo: {}
  },
  setup(t) {
    const e = t, n = ne(() => Math.min(e.elementInfo.width, e.elementInfo.height) + "px");
    return (o, a) => {
      const r = j("IconVolumeNotice");
      return k(), R("div", {
        class: "base-element-audio",
        style: re({
          top: o.elementInfo.top + "px",
          left: o.elementInfo.left + "px",
          width: o.elementInfo.width + "px",
          height: o.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${o.elementInfo.rotate}deg)` })
        }, [
          C("div", ER, [
            T(r, {
              class: "audio-icon",
              style: re({
                fontSize: n.value,
                color: o.elementInfo.color
              })
            }, null, 8, ["style"])
          ])
        ], 4)
      ], 4);
    };
  }
}), AR = /* @__PURE__ */ ve(MR, [["__scopeId", "data-v-35ae44f0"]]), DR = /* @__PURE__ */ ce({
  __name: "ThumbnailElement",
  props: {
    elementInfo: {},
    elementIndex: {}
  },
  setup(t) {
    const e = t, n = ne(() => ({
      [Ne.IMAGE]: K_,
      [Ne.TEXT]: Q_,
      [Ne.SHAPE]: j_,
      [Ne.LINE]: e4,
      [Ne.CHART]: t4,
      [Ne.TABLE]: n4,
      [Ne.LATEX]: o4,
      [Ne.VIDEO]: kR,
      [Ne.AUDIO]: AR
    })[e.elementInfo.type] || null);
    return (o, a) => (k(), R("div", {
      class: ye(["base-element", `base-element-${o.elementInfo.id}`]),
      style: re({
        zIndex: o.elementIndex
      })
    }, [
      (k(), ie(Do(n.value), {
        elementInfo: o.elementInfo,
        target: "thumbnail"
      }, null, 8, ["elementInfo"]))
    ], 6));
  }
}), $R = {
  key: 1,
  class: "placeholder"
}, PR = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    slide: {},
    size: {},
    visible: { type: Boolean, default: !0 }
  },
  setup(t) {
    const e = t, { viewportRatio: n, viewportSize: o } = de(Ie()), a = ne(() => e.slide.background), { backgroundStyle: r } = _c(a), i = ne(() => e.size / o.value);
    return Es(Ps, i), (s, l) => (k(), R("div", {
      class: "thumbnail-slide",
      style: re({
        width: s.size + "px",
        height: s.size * A(n) + "px"
      })
    }, [
      s.visible ? (k(), R("div", {
        key: 0,
        class: "elements",
        style: re({
          width: A(o) + "px",
          height: A(o) * A(n) + "px",
          transform: `scale(${i.value})`
        })
      }, [
        C("div", {
          class: "background",
          style: re(A(r))
        }, null, 4),
        (k(!0), R(pe, null, xe(s.slide.elements, (u, c) => (k(), ie(DR, {
          key: u.id,
          elementInfo: u,
          elementIndex: c + 1
        }, null, 8, ["elementInfo", "elementIndex"]))), 128))
      ], 4)) : (k(), R("div", $R, "加载中 ..."))
    ], 4));
  }
}), Qn = /* @__PURE__ */ ve(PR, [["__scopeId", "data-v-4e580b0e"]]), RR = ["onClick"], OR = /* @__PURE__ */ ce({
  __name: "Tabs",
  props: {
    value: {},
    tabs: {},
    card: { type: Boolean, default: !1 },
    tabsStyle: {},
    tabStyle: {},
    spaceAround: { type: Boolean, default: !1 },
    spaceBetween: { type: Boolean, default: !1 }
  },
  emits: ["update:value"],
  setup(t, { emit: e }) {
    const n = e;
    return (o, a) => (k(), R("div", {
      class: ye(["tabs", {
        card: o.card,
        "space-around": o.spaceAround,
        "space-between": o.spaceBetween
      }]),
      style: re(o.tabsStyle || {})
    }, [
      (k(!0), R(pe, null, xe(o.tabs, (r) => (k(), R("div", {
        class: ye(["tab", { active: r.key === o.value }]),
        key: r.key,
        style: re({
          ...o.tabStyle || {},
          "--color": r.color
        }),
        onClick: (i) => n("update:value", r.key)
      }, Ee(r.label), 15, RR))), 128))
    ], 6));
  }
}), jn = /* @__PURE__ */ ve(OR, [["__scopeId", "data-v-ad9c9630"]]), NR = /* @__PURE__ */ ce({
  __name: "Button",
  props: {
    checked: { type: Boolean, default: !1 },
    disabled: { type: Boolean, default: !1 },
    type: { default: "default" },
    size: { default: "normal" },
    first: { type: Boolean, default: !1 },
    last: { type: Boolean, default: !1 }
  },
  emits: ["click"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = () => {
      n.disabled || o("click");
    };
    return (r, i) => (k(), R("button", {
      class: ye(["button", {
        disabled: r.disabled,
        checked: !r.disabled && r.checked,
        default: !r.disabled && r.type === "default",
        primary: !r.disabled && r.type === "primary",
        checkbox: !r.disabled && r.type === "checkbox",
        radio: !r.disabled && r.type === "radio",
        small: r.size === "small",
        first: r.first,
        last: r.last
      }]),
      onClick: i[0] || (i[0] = (s) => a())
    }, [
      Tt(r.$slots, "default", {}, void 0, !0)
    ], 2));
  }
}), _e = /* @__PURE__ */ ve(NR, [["__scopeId", "data-v-a85d4d53"]]), BR = {
  key: 0,
  class: "select-wrap"
}, FR = { class: "selector" }, zR = { class: "icon" }, VR = ["onClick"], HR = { class: "selector" }, GR = { class: "icon" }, UR = /* @__PURE__ */ ce({
  __name: "Select",
  props: {
    value: {},
    options: {},
    disabled: { type: Boolean, default: !1 },
    search: { type: Boolean, default: !1 },
    searchLabel: { default: "搜索" }
  },
  emits: ["update:value"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = V(!1), r = V(), i = V(), s = V(0), l = V(""), u = ne(() => {
      var p;
      return ((p = n.options.find((h) => h.value === n.value)) == null ? void 0 : p.label) || n.value;
    }), c = ne(() => {
      if (!n.search || !l.value.trim()) return n.options;
      const p = n.options.filter((h) => h.label.toLowerCase().indexOf(l.value.toLowerCase()) !== -1);
      return p.length ? p : n.options;
    });
    Re(a, () => {
      a.value ? Kt(() => {
        i.value && i.value.focus();
      }) : l.value = "";
    }), Iv(() => {
      l.value = "";
    });
    const d = () => {
      r.value && (s.value = r.value.clientWidth);
    }, f = new ResizeObserver(d);
    Qe(() => {
      r.value && f.observe(r.value);
    }), ht(() => {
      r.value && f.unobserve(r.value);
    });
    const v = (p) => {
      p.disabled || (o("update:value", p.value), a.value = !1);
    };
    return (p, h) => {
      const m = j("IconDown");
      return p.disabled ? (k(), R("div", BR, [
        C("div", {
          class: "select disabled",
          ref_key: "selectRef",
          ref: r
        }, [
          C("div", FR, Ee(p.value), 1),
          C("div", zR, [
            Tt(p.$slots, "icon", {}, () => [
              T(m, { size: 14 })
            ], !0)
          ])
        ], 512)
      ])) : (k(), ie(Be, {
        key: 1,
        class: "select-wrap",
        trigger: "click",
        value: a.value,
        "onUpdate:value": h[1] || (h[1] = (g) => a.value = g),
        placement: "bottom",
        contentStyle: {
          padding: 0,
          boxShadow: "0 6px 16px 0 rgba(0, 0, 0, 0.08)"
        }
      }, {
        content: F(() => [
          p.search ? (k(), R(pe, { key: 0 }, [
            T(oa, {
              ref_key: "searchInputRef",
              ref: i,
              simple: "",
              placeholder: p.searchLabel,
              value: l.value,
              "onUpdate:value": h[0] || (h[0] = (g) => l.value = g),
              style: re({ width: s.value + 2 + "px" })
            }, null, 8, ["placeholder", "value", "style"]),
            T(Ve, { margin: 0 })
          ], 64)) : me("", !0),
          C("div", {
            class: "options",
            style: re({ width: s.value + 2 + "px" })
          }, [
            (k(!0), R(pe, null, xe(c.value, (g) => (k(), R("div", {
              class: ye(["option", {
                disabled: g.disabled,
                selected: g.value === p.value
              }]),
              key: g.value,
              onClick: (y) => v(g)
            }, Ee(g.label), 11, VR))), 128))
          ], 4)
        ]),
        default: F(() => [
          C("div", {
            class: "select",
            ref_key: "selectRef",
            ref: r
          }, [
            C("div", HR, Ee(u.value), 1),
            C("div", GR, [
              Tt(p.$slots, "icon", {}, () => [
                T(m, { size: 14 })
              ], !0)
            ])
          ], 512)
        ]),
        _: 3
      }, 8, ["value"]));
    };
  }
}), xt = /* @__PURE__ */ ve(UR, [["__scopeId", "data-v-b124c276"]]), WR = (t) => (Ze("data-v-aad6909f"), t = t(), qe(), t), XR = { class: "link-dialog" }, YR = {
  key: 2,
  class: "preview"
}, ZR = /* @__PURE__ */ WR(() => /* @__PURE__ */ C("div", null, "预览：", -1)), qR = { class: "btns" }, JR = /* @__PURE__ */ ce({
  __name: "LinkDialog",
  emits: ["close"],
  setup(t, { emit: e }) {
    var p;
    const n = e, { handleElement: o } = de(Te()), { slides: a, currentSlide: r } = de(Ie()), i = V("web"), s = V(""), l = V(""), u = ne(() => a.value.map((h, m) => ({
      label: `幻灯片 ${m + 1}`,
      value: h.id,
      disabled: r.value.id === h.id
    })));
    l.value = ((p = a.value.find((h) => h.id !== r.value.id)) == null ? void 0 : p.id) || "";
    const c = ne(() => l.value && a.value.find((h) => h.id === l.value) || null), d = [
      { key: "web", label: "网页链接" },
      { key: "slide", label: "幻灯片页面" }
    ], { setLink: f } = J_();
    Qe(() => {
      var h;
      (h = o.value) != null && h.link && (o.value.link.type === "web" ? s.value = o.value.link.target : o.value.link.type === "slide" && (l.value = o.value.link.target), i.value = o.value.link.type);
    });
    const v = () => {
      const h = {
        type: i.value,
        target: i.value === "web" ? s.value : l.value
      };
      o.value && (f(o.value, h) ? n("close") : s.value = "");
    };
    return (h, m) => (k(), R("div", XR, [
      T(jn, {
        tabs: d,
        value: i.value,
        "onUpdate:value": m[0] || (m[0] = (g) => i.value = g),
        tabsStyle: { marginBottom: "20px" }
      }, null, 8, ["value"]),
      i.value === "web" ? (k(), ie(oa, {
        key: 0,
        class: "input",
        value: s.value,
        "onUpdate:value": m[1] || (m[1] = (g) => s.value = g),
        placeholder: "请输入网页链接地址"
      }, null, 8, ["value"])) : me("", !0),
      i.value === "slide" ? (k(), ie(xt, {
        key: 1,
        class: "input",
        value: l.value,
        "onUpdate:value": m[2] || (m[2] = (g) => l.value = g),
        options: u.value
      }, null, 8, ["value", "options"])) : me("", !0),
      i.value === "slide" && c.value ? (k(), R("div", YR, [
        ZR,
        T(Qn, {
          class: "thumbnail",
          slide: c.value,
          size: 500
        }, null, 8, ["slide"])
      ])) : me("", !0),
      C("div", qR, [
        T(_e, {
          onClick: m[3] || (m[3] = (g) => n("close")),
          style: { "margin-right": "10px" }
        }, {
          default: F(() => [
            fe("取消")
          ]),
          _: 1
        }),
        T(_e, {
          type: "primary",
          onClick: m[4] || (m[4] = (g) => v())
        }, {
          default: F(() => [
            fe("确认")
          ]),
          _: 1
        })
      ])
    ]));
  }
}), KR = /* @__PURE__ */ ve(JR, [["__scopeId", "data-v-aad6909f"]]), QR = /* @__PURE__ */ ce({
  __name: "Modal",
  props: {
    visible: { type: Boolean },
    width: { default: 480 },
    closeButton: { type: Boolean, default: !1 },
    closeOnClickMask: { type: Boolean, default: !0 },
    closeOnEsc: { type: Boolean, default: !0 },
    contentStyle: {}
  },
  emits: ["update:visible", "closed"],
  setup(t, { emit: e }) {
    const { IconClose: n } = Jl, o = t, a = V(), r = e, i = V(!1), s = ne(() => ({
      width: o.width + "px",
      ...o.contentStyle || {}
    }));
    Re(() => o.visible, () => {
      o.visible && Kt(() => a.value.focus());
    });
    const l = () => {
      r("update:visible", !1), r("closed");
    }, u = () => {
      o.visible && o.closeOnEsc && l();
    }, c = () => {
      o.closeOnClickMask && l();
    };
    return (d, f) => (k(), ie(eg, { to: "body" }, [
      T(ql, { name: "modal-fade" }, {
        default: F(() => [
          ge(C("div", {
            class: "modal",
            ref_key: "modalRef",
            ref: a,
            tabindex: "-1",
            onKeyup: f[4] || (f[4] = na((v) => u(), ["esc"]))
          }, [
            C("div", {
              class: "mask",
              onClick: f[0] || (f[0] = (v) => c())
            }),
            T(ql, {
              name: "modal-zoom",
              onAfterLeave: f[2] || (f[2] = (v) => i.value = !1),
              onBeforeEnter: f[3] || (f[3] = (v) => i.value = !0)
            }, {
              default: F(() => [
                ge(C("div", {
                  class: "modal-content",
                  style: re(s.value)
                }, [
                  d.closeButton ? (k(), R("span", {
                    key: 0,
                    class: "close-btn",
                    onClick: f[1] || (f[1] = (v) => l())
                  }, [
                    T(A(n))
                  ])) : me("", !0),
                  i.value ? Tt(d.$slots, "default", { key: 1 }, void 0, !0) : me("", !0)
                ], 4), [
                  [Ka, d.visible]
                ])
              ]),
              _: 3
            })
          ], 544), [
            [Ka, d.visible]
          ])
        ]),
        _: 3
      })
    ]));
  }
}), si = /* @__PURE__ */ ve(QR, [["__scopeId", "data-v-189609cf"]]), jR = { class: "operates" }, eO = {
  key: 2,
  class: "drag-mask"
}, tO = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = Te(), {
      activeElementIdList: n,
      activeGroupElementId: o,
      handleElementId: a,
      hiddenElementIdList: r,
      editorAreaFocus: i,
      gridLineSize: s,
      showRuler: l,
      creatingElement: u,
      creatingCustomShape: c,
      canvasScale: d,
      textFormatPainter: f
    } = de(e), { currentSlide: v } = de(Ie()), { ctrlKeyState: p, spaceKeyState: h } = de(eo()), m = V(), g = V([]), y = V(!1), _ = () => y.value = !0;
    Re(a, () => {
      e.setActiveGroupElementId("");
    });
    const w = V([]);
    ks(() => {
      w.value = v.value ? JSON.parse(JSON.stringify(v.value.elements)) : [];
    });
    const S = V(), { dragViewport: L, viewportStyles: b } = b7(S);
    x7(S);
    const { mouseSelection: I, mouseSelectionVisible: M, mouseSelectionQuadrant: E, updateMouseSelection: D } = w7(w, m), { dragElement: O } = Sg(w, g, d), { dragLineElement: N } = C7(w), { selectElement: P } = I7(w, O), { scaleElement: $, scaleMultiElement: z } = xg(w, g, d), { rotateElement: H } = bg(w, m, d), { moveShapeKeypoint: W } = T7(w, d), { selectAllElements: oe } = Ru(), { deleteAllElements: te } = Ds(), { pasteElement: le } = Rv(), { enterScreeningFromStart: J } = pa(), { updateSlideIndex: Q } = va(), { createTextElement: q, createShapeElement: G } = ar();
    Qe(() => {
      n.value.length && Kt(() => e.setActiveElementIdList([]));
    });
    const B = (Se) => {
      n.value.length && e.setActiveElementIdList([]), h.value ? L(Se) : D(Se), i.value || e.setEditorareaFocus(!0), f.value && e.setTextFormatPainter(null), _7();
    }, ee = (Se) => {
      if (n.value.length || u.value || c.value || !m.value) return;
      const be = m.value.getBoundingClientRect(), we = (Se.pageX - be.x) / d.value, je = (Se.pageY - be.y) / d.value;
      q({
        left: we,
        top: je,
        width: 200 / d.value,
        // 除以 canvasScale 是为了与点击选区创建的形式保持相同的宽度
        height: 0
      });
    };
    ht(() => {
      f.value && e.setTextFormatPainter(null);
    });
    const ue = () => {
      i.value && e.setEditorareaFocus(!1);
    }, { scaleCanvas: X } = Nv(), Y = ja(X, 100, { leading: !0, trailing: !1 }), U = ja(Q, 300, { leading: !0, trailing: !1 }), K = (Se) => {
      Se.preventDefault(), p.value ? Se.deltaY > 0 ? Y("-") : Se.deltaY < 0 && Y("+") : Se.deltaY > 0 ? U(Me.DOWN) : Se.deltaY < 0 && U(Me.UP);
    }, Z = () => {
      e.setRulerState(!l.value);
    }, { insertElementFromCreateSelection: ae, formatCreateSelection: he } = L7(m), Ce = (Se) => {
      const {
        start: be,
        end: we,
        path: je,
        viewBox: We
      } = Se, wt = he({ start: be, end: we });
      if (wt) {
        const Un = {};
        Se.fill && (Un.fill = Se.fill), Se.outline && (Un.outline = Se.outline), G(wt, { path: je, viewBox: We }, Un);
      }
      e.setCreatingCustomShapeState(!1);
    }, ke = () => [
      {
        text: "粘贴",
        subText: "Ctrl + V",
        handler: le
      },
      {
        text: "全选",
        subText: "Ctrl + A",
        handler: oe
      },
      {
        text: "标尺",
        subText: l.value ? "√" : "",
        handler: Z
      },
      {
        text: "网格线",
        handler: () => e.setGridLineSize(s.value ? 0 : 50),
        children: [
          {
            text: "无",
            subText: s.value === 0 ? "√" : "",
            handler: () => e.setGridLineSize(0)
          },
          {
            text: "小",
            subText: s.value === 25 ? "√" : "",
            handler: () => e.setGridLineSize(25)
          },
          {
            text: "中",
            subText: s.value === 50 ? "√" : "",
            handler: () => e.setGridLineSize(50)
          },
          {
            text: "大",
            subText: s.value === 100 ? "√" : "",
            handler: () => e.setGridLineSize(100)
          }
        ]
      },
      {
        text: "重置当前页",
        handler: te
      },
      { divider: !0 },
      {
        text: "幻灯片放映",
        subText: "F5",
        handler: J
      }
    ];
    return Es(Ps, d), (Se, be) => {
      const we = it("contextmenu"), je = it("click-outside");
      return ge((k(), R("div", {
        class: "canvas",
        ref_key: "canvasRef",
        ref: S,
        onWheel: be[4] || (be[4] = (We) => K(We)),
        onMousedown: be[5] || (be[5] = (We) => B(We)),
        onDblclick: be[6] || (be[6] = (We) => ee(We))
      }, [
        A(u) ? (k(), ie(uP, {
          key: 0,
          onCreated: be[0] || (be[0] = (We) => A(ae)(We))
        })) : me("", !0),
        A(c) ? (k(), ie(vP, {
          key: 1,
          onCreated: be[1] || (be[1] = (We) => Ce(We))
        })) : me("", !0),
        C("div", {
          class: "viewport-wrapper",
          style: re({
            width: A(b).width * A(d) + "px",
            height: A(b).height * A(d) + "px",
            left: A(b).left + "px",
            top: A(b).top + "px"
          })
        }, [
          C("div", jR, [
            (k(!0), R(pe, null, xe(g.value, (We, wt) => (k(), ie(q_, {
              key: wt,
              type: We.type,
              axis: We.axis,
              length: We.length,
              canvasScale: A(d)
            }, null, 8, ["type", "axis", "length", "canvasScale"]))), 128)),
            A(n).length > 1 ? (k(), ie(gP, {
              key: 0,
              elementList: w.value,
              scaleMultiElement: A(z)
            }, null, 8, ["elementList", "scaleMultiElement"])) : me("", !0),
            (k(!0), R(pe, null, xe(w.value, (We) => ge((k(), ie(eR, {
              key: We.id,
              elementInfo: We,
              isSelected: A(n).includes(We.id),
              isActive: A(a) === We.id,
              isActiveGroupElement: A(o) === We.id,
              isMultiSelect: A(n).length > 1,
              rotateElement: A(H),
              scaleElement: A($),
              openLinkDialog: _,
              dragLineElement: A(N),
              moveShapeKeypoint: A(W)
            }, null, 8, ["elementInfo", "isSelected", "isActive", "isActiveGroupElement", "isMultiSelect", "rotateElement", "scaleElement", "dragLineElement", "moveShapeKeypoint"])), [
              [Ka, !A(r).includes(We.id)]
            ])), 128)),
            T(j$)
          ]),
          C("div", {
            class: "viewport",
            ref_key: "viewportRef",
            ref: m,
            style: re({ transform: `scale(${A(d)})` })
          }, [
            A(M) ? (k(), ie(Y$, {
              key: 0,
              top: A(I).top,
              left: A(I).left,
              width: A(I).width,
              height: A(I).height,
              quadrant: A(E)
            }, null, 8, ["top", "left", "width", "height", "quadrant"])) : me("", !0),
            (k(!0), R(pe, null, xe(w.value, (We, wt) => ge((k(), ie(W$, {
              key: We.id,
              elementInfo: We,
              elementIndex: wt + 1,
              isMultiSelect: A(n).length > 1,
              selectElement: A(P),
              openLinkDialog: _
            }, null, 8, ["elementInfo", "elementIndex", "isMultiSelect", "selectElement"])), [
              [Ka, !A(r).includes(We.id)]
            ])), 128))
          ], 4)
        ], 4),
        A(h) ? (k(), R("div", eO)) : me("", !0),
        A(l) ? (k(), ie(rP, {
          key: 3,
          viewportStyles: A(b),
          elementList: w.value
        }, null, 8, ["viewportStyles", "elementList"])) : me("", !0),
        T(si, {
          visible: y.value,
          "onUpdate:visible": be[3] || (be[3] = (We) => y.value = We),
          width: 540
        }, {
          default: F(() => [
            T(KR, {
              onClose: be[2] || (be[2] = (We) => y.value = !1)
            })
          ]),
          _: 1
        }, 8, ["visible"])
      ], 32)), [
        [we, ke],
        [je, ue]
      ]);
    };
  }
}), nO = /* @__PURE__ */ ve(tO, [["__scopeId", "data-v-fc6c97d9"]]), oO = { class: "shape-item-thumbnail" }, aO = { class: "shape-content" }, rO = {
  overflow: "visible",
  width: "18",
  height: "18"
}, iO = ["transform"], sO = ["fill", "stroke", "d"], lO = /* @__PURE__ */ ce({
  __name: "ShapeItemThumbnail",
  props: {
    shape: {}
  },
  setup(t) {
    return (e, n) => (k(), R("div", oO, [
      C("div", aO, [
        (k(), R("svg", rO, [
          C("g", {
            transform: `scale(${18 / e.shape.viewBox[0]}, ${18 / e.shape.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`
          }, [
            C("path", {
              class: ye(["shape-path", { outlined: e.shape.outlined }]),
              "vector-effect": "non-scaling-stroke",
              "stroke-linecap": "butt",
              "stroke-miterlimit": "8",
              fill: e.shape.outlined ? "#999" : "transparent",
              stroke: e.shape.outlined ? "transparent" : "#999",
              "stroke-width": "2",
              d: e.shape.path
            }, null, 10, sO)
          ], 8, iO)
        ]))
      ])
    ]));
  }
}), a4 = /* @__PURE__ */ ve(lO, [["__scopeId", "data-v-d79f730f"]]), uO = { class: "shape-pool" }, cO = { class: "category-name" }, dO = { class: "shape-list" }, fO = /* @__PURE__ */ ce({
  __name: "ShapePool",
  emits: ["select"],
  setup(t, { emit: e }) {
    const n = e, o = (a) => {
      n("select", a);
    };
    return (a, r) => (k(), R("div", uO, [
      (k(!0), R(pe, null, xe(A(Dv), (i) => (k(), R("div", {
        class: "category",
        key: i.type
      }, [
        C("div", cO, Ee(i.type), 1),
        C("div", dO, [
          (k(!0), R(pe, null, xe(i.children, (s, l) => (k(), ie(a4, {
            class: "shape-item",
            key: l,
            shape: s,
            onClick: (u) => o(s)
          }, null, 8, ["shape", "onClick"]))), 128))
        ])
      ]))), 128))
    ]));
  }
}), vO = /* @__PURE__ */ ve(fO, [["__scopeId", "data-v-bfed4bc8"]]), pO = [
  {
    type: "直线",
    children: [
      { path: "M 0 0 L 20 20", style: "solid", points: ["", ""] },
      { path: "M 0 0 L 20 20", style: "dashed", points: ["", ""] },
      { path: "M 0 0 L 20 20", style: "solid", points: ["", "arrow"] },
      { path: "M 0 0 L 20 20", style: "dashed", points: ["", "arrow"] },
      { path: "M 0 0 L 20 20", style: "solid", points: ["", "dot"] }
    ]
  },
  {
    type: "折线、曲线",
    children: [
      { path: "M 0 0 L 0 20 L 20 20", style: "solid", points: ["", "arrow"], isBroken: !0 },
      { path: "M 0 0 L 10 0 L 10 20 L 20 20", style: "solid", points: ["", "arrow"], isBroken2: !0 },
      { path: "M 0 0 Q 0 20 20 20", style: "solid", points: ["", "arrow"], isCurve: !0 },
      { path: "M 0 0 C 20 0 0 20 20 20", style: "solid", points: ["", "arrow"], isCubic: !0 }
    ]
  }
], hO = { class: "line-pool" }, mO = { class: "category-name" }, gO = { class: "line-list" }, yO = ["onClick"], _O = {
  overflow: "visible",
  width: "20",
  height: "20"
}, bO = ["d", "stroke-dasharray", "marker-start", "marker-end"], wO = /* @__PURE__ */ ce({
  __name: "LinePool",
  emits: ["select"],
  setup(t, { emit: e }) {
    const n = e, o = (a) => {
      n("select", a);
    };
    return (a, r) => (k(), R("div", hO, [
      (k(!0), R(pe, null, xe(A(pO), (i, s) => (k(), R("div", {
        class: "category",
        key: i.type
      }, [
        C("div", mO, Ee(i.type), 1),
        C("div", gO, [
          (k(!0), R(pe, null, xe(i.children, (l, u) => (k(), R("div", {
            class: "line-item",
            key: u
          }, [
            C("div", {
              class: "line-content",
              onClick: (c) => o(l)
            }, [
              (k(), R("svg", _O, [
                C("defs", null, [
                  l.points[0] ? (k(), ie(Vr, {
                    key: 0,
                    class: "line-marker",
                    id: `preset-line-${s}-${u}`,
                    position: "start",
                    type: l.points[0],
                    color: "currentColor",
                    baseSize: 2
                  }, null, 8, ["id", "type"])) : me("", !0),
                  l.points[1] ? (k(), ie(Vr, {
                    key: 1,
                    class: "line-marker",
                    id: `preset-line-${s}-${u}`,
                    position: "end",
                    type: l.points[1],
                    color: "currentColor",
                    baseSize: 2
                  }, null, 8, ["id", "type"])) : me("", !0)
                ]),
                C("path", {
                  class: "line-path",
                  d: l.path,
                  stroke: "currentColor",
                  fill: "none",
                  "stroke-width": "2",
                  "stroke-dasharray": l.style === "solid" ? "0, 0" : "4, 1",
                  "marker-start": l.points[0] ? `url(#${`preset-line-${s}-${u}`}-${l.points[0]}-start)` : "",
                  "marker-end": l.points[1] ? `url(#${`preset-line-${s}-${u}`}-${l.points[1]}-end)` : ""
                }, null, 8, bO)
              ]))
            ], 8, yO)
          ]))), 128))
        ])
      ]))), 128))
    ]));
  }
}), xO = /* @__PURE__ */ ve(wO, [["__scopeId", "data-v-2fdfc0a5"]]), SO = { class: "chart-pool" }, IO = ["onClick"], CO = { class: "name" }, TO = /* @__PURE__ */ ce({
  __name: "ChartPool",
  emits: ["select"],
  setup(t, { emit: e }) {
    const n = e, o = ["bar", "column", "line", "area", "scatter", "pie", "ring", "radar"], a = (r) => {
      n("select", r);
    };
    return (r, i) => {
      const s = j("IconChartLine"), l = j("IconChartHistogram"), u = j("IconChartPie"), c = j("IconChartHistogramOne"), d = j("IconChartLineArea"), f = j("IconChartRing"), v = j("IconChartScatter"), p = j("IconRadarChart");
      return k(), R("ul", SO, [
        (k(), R(pe, null, xe(o, (h, m) => C("li", {
          class: "chart-item",
          key: m
        }, [
          C("div", {
            class: "chart-content",
            onClick: (g) => a(h)
          }, [
            h === "line" ? (k(), ie(s, {
              key: 0,
              size: "24"
            })) : h === "bar" ? (k(), ie(l, {
              key: 1,
              size: "24"
            })) : h === "pie" ? (k(), ie(u, {
              key: 2,
              size: "24"
            })) : h === "column" ? (k(), ie(c, {
              key: 3,
              size: "24"
            })) : h === "area" ? (k(), ie(d, {
              key: 4,
              size: "24"
            })) : h === "ring" ? (k(), ie(f, {
              key: 5,
              size: "24"
            })) : h === "scatter" ? (k(), ie(v, {
              key: 6,
              size: "24"
            })) : h === "radar" ? (k(), ie(p, {
              key: 7,
              size: "23"
            })) : me("", !0),
            C("div", CO, Ee(A(vf)[h]), 1)
          ], 8, IO)
        ])), 64))
      ]);
    };
  }
}), LO = /* @__PURE__ */ ve(TO, [["__scopeId", "data-v-1216fb52"]]), r4 = (t) => (Ze("data-v-2235b1b3"), t = t(), qe(), t), kO = { class: "prefix" }, EO = { class: "input-wrap" }, MO = ["disabled", "placeholder"], AO = { class: "handlers" }, DO = /* @__PURE__ */ r4(() => /* @__PURE__ */ C("svg", {
  fill: "currentColor",
  width: "1em",
  height: "1em",
  viewBox: "64 64 896 896"
}, [
  /* @__PURE__ */ C("path", { d: "M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" })
], -1)), $O = [
  DO
], PO = /* @__PURE__ */ r4(() => /* @__PURE__ */ C("svg", {
  fill: "currentColor",
  width: "1em",
  height: "1em",
  viewBox: "64 64 896 896"
}, [
  /* @__PURE__ */ C("path", { d: "M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" })
], -1)), RO = [
  PO
], OO = { class: "suffix" }, NO = /* @__PURE__ */ ce({
  __name: "NumberInput",
  props: {
    value: {},
    disabled: { type: Boolean, default: !1 },
    placeholder: { default: "" },
    min: { default: 0 },
    max: { default: 1 / 0 },
    step: { default: 1 }
  },
  emits: ["update:value", "input", "change", "blur", "focus", "enter"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = V(0), r = V(!1);
    Re(() => n.value, () => {
      n.value !== a.value && (a.value = n.value);
    }, {
      immediate: !0
    }), Re(a, () => {
      const c = +a.value;
      if (!isNaN(c)) {
        {
          if (c > n.max) return;
          if (c < n.min) return;
        }
        a.value = c, o("update:value", a.value);
      }
    });
    const i = () => {
      let c = +a.value;
      isNaN(c) ? c = n.min : c > n.max ? c = n.max : c < n.min && (c = n.min), a.value = c, o("update:value", a.value);
    }, s = (c) => {
      i(), o("enter", c);
    }, l = (c) => {
      i(), r.value = !1, o("blur", c);
    }, u = (c) => {
      r.value = !0, o("focus", c);
    };
    return (c, d) => (k(), R("div", {
      class: ye(["number-input", {
        disabled: c.disabled,
        focused: r.value
      }])
    }, [
      C("span", kO, [
        Tt(c.$slots, "prefix", {}, void 0, !0)
      ]),
      C("div", EO, [
        ge(C("input", {
          type: "text",
          disabled: c.disabled,
          "onUpdate:modelValue": d[0] || (d[0] = (f) => a.value = f),
          placeholder: c.placeholder,
          onInput: d[1] || (d[1] = (f) => o("input", f)),
          onFocus: d[2] || (d[2] = (f) => u(f)),
          onBlur: d[3] || (d[3] = (f) => l(f)),
          onChange: d[4] || (d[4] = (f) => o("change", f)),
          onKeydown: d[5] || (d[5] = na((f) => s(f), ["enter"]))
        }, null, 40, MO), [
          [Q8, a.value]
        ]),
        C("div", AO, [
          C("span", {
            class: "handler",
            onClick: d[6] || (d[6] = (f) => a.value += c.step)
          }, $O),
          C("span", {
            class: "handler",
            onClick: d[7] || (d[7] = (f) => a.value -= c.step)
          }, RO)
        ])
      ]),
      C("span", OO, [
        Tt(c.$slots, "suffix", {}, void 0, !0)
      ])
    ], 2));
  }
}), mn = /* @__PURE__ */ ve(NO, [["__scopeId", "data-v-2235b1b3"]]), i4 = (t) => (Ze("data-v-90b606b6"), t = t(), qe(), t), BO = { class: "table-generator" }, FO = { class: "title" }, zO = { class: "lef" }, VO = ["onMouseenter"], HO = {
  key: 1,
  class: "custom"
}, GO = { class: "row" }, UO = /* @__PURE__ */ i4(() => /* @__PURE__ */ C("div", {
  class: "label",
  style: { width: "25%" }
}, "行数：", -1)), WO = { class: "row" }, XO = /* @__PURE__ */ i4(() => /* @__PURE__ */ C("div", {
  class: "label",
  style: { width: "25%" }
}, "列数：", -1)), YO = { class: "btns" }, ZO = /* @__PURE__ */ ce({
  __name: "TableGenerator",
  emits: ["insert", "close"],
  setup(t, { emit: e }) {
    const n = e, o = V([]), a = V(3), r = V(3), i = V(!1), s = () => {
      if (!o.value.length) return;
      const [c, d] = o.value;
      n("insert", { row: c, col: d });
    }, l = () => {
      if (a.value < 1 || a.value > 20 || r.value < 1 || r.value > 20)
        return at.warning("行数/列数必须在0~20之间！");
      n("insert", { row: a.value, col: r.value }), i.value = !1;
    }, u = () => {
      n("close"), i.value = !1;
    };
    return (c, d) => (k(), R("div", BO, [
      C("div", FO, [
        C("div", zO, " 表格 " + Ee(o.value.length ? `${o.value[0]} x ${o.value[1]}` : ""), 1),
        C("div", {
          class: "right",
          onClick: d[0] || (d[0] = (f) => i.value = !i.value)
        }, Ee(i.value ? "返回" : "自定义"), 1)
      ]),
      i.value ? (k(), R("div", HO, [
        C("div", GO, [
          UO,
          T(mn, {
            min: 1,
            max: 20,
            value: a.value,
            "onUpdate:value": d[3] || (d[3] = (f) => a.value = f),
            style: { width: "75%" }
          }, null, 8, ["value"])
        ]),
        C("div", WO, [
          XO,
          T(mn, {
            min: 1,
            max: 20,
            value: r.value,
            "onUpdate:value": d[4] || (d[4] = (f) => r.value = f),
            style: { width: "75%" }
          }, null, 8, ["value"])
        ]),
        C("div", YO, [
          T(_e, {
            class: "btn",
            onClick: d[5] || (d[5] = (f) => u())
          }, {
            default: F(() => [
              fe("取消")
            ]),
            _: 1
          }),
          T(_e, {
            class: "btn",
            type: "primary",
            onClick: d[6] || (d[6] = (f) => l())
          }, {
            default: F(() => [
              fe("确认")
            ]),
            _: 1
          })
        ])
      ])) : (k(), R("table", {
        key: 0,
        onMouseleave: d[1] || (d[1] = (f) => o.value = []),
        onClick: d[2] || (d[2] = (f) => s())
      }, [
        C("tbody", null, [
          (k(), R(pe, null, xe(10, (f) => C("tr", { key: f }, [
            (k(), R(pe, null, xe(10, (v) => C("td", {
              onMouseenter: (p) => o.value = [f, v],
              key: v
            }, [
              C("div", {
                class: ye(["cell", {
                  active: o.value.length && f <= o.value[0] && v <= o.value[1]
                }])
              }, null, 2)
            ], 40, VO)), 64))
          ])), 64))
        ])
      ], 32))
    ]));
  }
}), qO = /* @__PURE__ */ ve(ZO, [["__scopeId", "data-v-90b606b6"]]), JO = { class: "media-input" }, KO = { class: "btns" }, QO = { class: "btns" }, jO = /* @__PURE__ */ ce({
  __name: "MediaInput",
  emits: ["insertVideo", "insertAudio", "close"],
  setup(t, { emit: e }) {
    const n = e, o = V("video"), a = V("https://mazwai.com/videvo_files/video/free/2019-01/small_watermarked/181004_04_Dolphins-Whale_06_preview.webm"), r = V("https://freesound.org/data/previews/614/614107_11861866-lq.mp3"), i = [
      { key: "video", label: "视频" },
      { key: "audio", label: "音频" }
    ], s = () => {
      if (!a.value) return at.error("请先输入正确的视频地址");
      n("insertVideo", a.value);
    }, l = () => {
      if (!r.value) return at.error("请先输入正确的音频地址");
      n("insertAudio", r.value);
    };
    return (u, c) => (k(), R("div", JO, [
      T(jn, {
        tabs: i,
        value: o.value,
        "onUpdate:value": c[0] || (c[0] = (d) => o.value = d),
        tabsStyle: { marginBottom: "15px" }
      }, null, 8, ["value"]),
      o.value === "video" ? (k(), R(pe, { key: 0 }, [
        T(oa, {
          value: a.value,
          "onUpdate:value": c[1] || (c[1] = (d) => a.value = d),
          placeholder: "请输入视频地址，e.g. https://xxx.mp4"
        }, null, 8, ["value"]),
        C("div", KO, [
          T(_e, {
            onClick: c[2] || (c[2] = (d) => n("close")),
            style: { "margin-right": "10px" }
          }, {
            default: F(() => [
              fe("取消")
            ]),
            _: 1
          }),
          T(_e, {
            type: "primary",
            onClick: c[3] || (c[3] = (d) => s())
          }, {
            default: F(() => [
              fe("确认")
            ]),
            _: 1
          })
        ])
      ], 64)) : me("", !0),
      o.value === "audio" ? (k(), R(pe, { key: 1 }, [
        T(oa, {
          value: r.value,
          "onUpdate:value": c[4] || (c[4] = (d) => r.value = d),
          placeholder: "请输入音频地址，e.g. https://xxx.mp3"
        }, null, 8, ["value"]),
        C("div", QO, [
          T(_e, {
            onClick: c[5] || (c[5] = (d) => n("close")),
            style: { "margin-right": "10px" }
          }, {
            default: F(() => [
              fe("取消")
            ]),
            _: 1
          }),
          T(_e, {
            type: "primary",
            onClick: c[6] || (c[6] = (d) => l())
          }, {
            default: F(() => [
              fe("确认")
            ]),
            _: 1
          })
        ])
      ], 64)) : me("", !0)
    ]));
  }
}), eN = /* @__PURE__ */ ve(jO, [["__scopeId", "data-v-c8f00e45"]]);
U6.SUB_SUP_SCALE = 0.5;
const tN = [
  {
    label: "高斯公式",
    latex: "\\int\\int\\int _ { \\Omega } \\left( \\frac { \\partial {P} } { \\partial {x} } + \\frac { \\partial {Q} } { \\partial {y} } + \\frac { \\partial {R} }{ \\partial {z} } \\right) \\mathrm { d } V = \\oint _ { \\partial \\Omega } ( P \\cos \\alpha + Q \\cos \\beta + R \\cos \\gamma ) \\mathrm{ d} S"
  },
  {
    label: "傅里叶级数",
    latex: "f(x) = \\frac {a_0} 2 + \\sum_{n = 1}^\\infty {({a_n}\\cos {nx} + {b_n}\\sin {nx})}"
  },
  {
    label: "泰勒展开式",
    latex: "e ^ { x } = 1 + \\frac { x } { 1 ! } + \\frac { x ^ { 2 } } { 2 ! } + \\frac { x ^ { 3 } } { 3 ! } + ... , \\quad - \\infty < x < \\infty"
  },
  {
    label: "定积分",
    latex: "\\lim_ { n \\rightarrow + \\infty } \\sum _ { i = 1 } ^ { n } f \\left[ a + \\frac { i } { n } ( b - a ) \\right] \\frac { b - a } { n } = \\int _ { a } ^ { b } f ( x ) dx"
  },
  {
    label: "三角恒等式1",
    latex: "\\sin \\alpha \\pm \\sin \\beta = 2 \\sin \\frac { 1 } { 2 } ( \\alpha \\pm \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha \\mp \\beta )"
  },
  {
    label: "三角恒等式2",
    latex: "\\cos \\alpha + \\cos \\beta = 2 \\cos \\frac { 1 } { 2 } ( \\alpha + \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha - \\beta )"
  },
  {
    label: "和的展开式",
    latex: "( 1 + x ) ^ { n } = 1 + \\frac { n x } { 1 ! } + \\frac { n ( n - 1 ) x ^ { 2 } } { 2 ! } + ..."
  },
  {
    label: "欧拉公式",
    latex: " e^{ix} = \\cos {x} + i\\sin {x}"
  },
  {
    label: "贝努利方程",
    latex: "\\frac {dy} {dx} + P(x)y = Q(x) y^n ({n} \\not= {0,1})"
  },
  {
    label: "全微分方程",
    latex: "du(x,y) = P(x,y)dx + Q(x,y)dy = 0"
  },
  {
    label: "非齐次方程",
    latex: "y = (\\int Q(x) e^{\\int {P(x)dx}}dx + C)e^{-\\int {P(x)dx}}"
  },
  {
    label: "柯西中值定理",
    latex: "\\frac{{f(b) - f(a)}}{{F(b) - F(a)}} = \\frac{{f'(\\xi )}}{{F'(\\xi )}}"
  },
  {
    label: "拉格朗日中值定理",
    latex: "f(b) - f(a) = f'(\\xi )(b - a)"
  },
  {
    label: "导数公式",
    latex: "(\\arcsin x)' = \\frac{1}{{\\sqrt {1 - x^2} }}"
  },
  {
    label: "三角函数积分",
    latex: "\\int {tgxdx = - \\ln \\left| {\\cos x} \\right| + C}"
  },
  {
    label: "二次曲面",
    latex: "\\frac{{{x^2}}}{{{a^2}}} + \\frac{{{y^2}}}{{{b^2}}} - \\frac{{{z^2}}}{{{c^2}}} = 1"
  },
  {
    label: "二阶微分",
    latex: "\\frac {{d^2}y} {dx^2} + P(x) \\frac {dy} {dx} + Q(x)y = f(x)"
  },
  {
    label: "方向导数",
    latex: "\\frac{{\\partial f}}{{\\partial l}} = \\frac{{\\partial f}}{{\\partial x}}\\cos \\phi + \\frac{{\\partial f}}{{\\partial y}}\\sin \\phi"
  }
], tf = [
  {
    type: "operators",
    label: "数学",
    children: [
      { latex: "\\cdot" },
      { latex: "\\pm" },
      { latex: "\\mp" },
      { latex: "+" },
      { latex: "-" },
      { latex: "\\times" },
      { latex: "\\div" },
      { latex: "<" },
      { latex: ">" },
      { latex: "=" },
      { latex: "\\neq\\ne" },
      { latex: "\\leqq" },
      { latex: "\\geqq" },
      { latex: "\\leq" },
      { latex: "\\geq" },
      { latex: "\\propto" },
      { latex: "\\sim" },
      { latex: "\\equiv" },
      { latex: "\\dagger" },
      { latex: "\\ddagger" },
      { latex: "\\ell" },
      { latex: "\\#" },
      { latex: "\\$" },
      { latex: "\\&" },
      { latex: "\\%" },
      { latex: "\\langle\\rangle" },
      { latex: "()" },
      { latex: "[]" },
      { latex: "\\{\\}" },
      { latex: "||" },
      { latex: "\\|" },
      { latex: "\\exists" },
      { latex: "\\in" },
      { latex: "\\subset" },
      { latex: "\\supset" },
      { latex: "\\cup" },
      { latex: "\\cap" },
      { latex: "\\infty" },
      { latex: "\\partial" },
      { latex: "\\nabla" },
      { latex: "\\aleph" },
      { latex: "\\wp" },
      { latex: "\\therefore" },
      { latex: "\\mid" },
      { latex: "\\sum" },
      { latex: "\\prod" },
      { latex: "\\bigoplus" },
      { latex: "\\bigodot" },
      { latex: "\\int" },
      { latex: "\\oint" },
      { latex: "\\oplus" },
      { latex: "\\odot" },
      { latex: "\\perp" },
      { latex: "\\angle" },
      { latex: "\\triangle" },
      { latex: "\\Box" },
      { latex: "\\rightarrow" },
      { latex: "\\to" },
      { latex: "\\leftarrow" },
      { latex: "\\gets" },
      { latex: "\\circ" },
      { latex: "\\bigcirc" },
      { latex: "\\bullet" },
      { latex: "\\star" },
      { latex: "\\diamond" },
      { latex: "\\ast" },
      { latex: "," },
      { latex: "." },
      { latex: ";" },
      { latex: "!" }
    ]
  },
  {
    type: "group",
    label: "组合",
    children: [
      { latex: "\\frac{a}{b}" },
      { latex: "\\frac{dx}{dx}" },
      { latex: "\\frac{\\partial a}{\\partial b}" },
      { latex: "\\sqrt{x}" },
      { latex: "\\sqrt[n]{x}" },
      { latex: "x^{n}" },
      { latex: "x_{n}" },
      { latex: "x_a^b" },
      { latex: "\\int_{a}^{b}" },
      { latex: "\\oint_a^b" },
      { latex: "\\lim_{a \\rightarrow b}" },
      { latex: "\\prod_a^b" },
      { latex: "\\sum_a^b" },
      { latex: "\\left(\\begin{array}a \\\\ b\\end{array}\\right)" },
      { latex: "\\begin{bmatrix}a & b \\\\ c & d \\end{bmatrix}" },
      { latex: "\\begin{cases}a & x = 0 \\\\ b & x > 0\\end{cases}" },
      { latex: "\\hat{a}" },
      { latex: "\\breve{a}" },
      { latex: "\\acute{a}" },
      { latex: "\\grave{a}" },
      { latex: "\\tilde{a}" },
      { latex: "\\bar{a}" },
      { latex: "\\vec{a}" },
      { latex: "\\underline{a}" },
      { latex: "\\overline{a}" },
      { latex: "\\widehat{ab}" },
      { latex: "\\overleftarrow{ab}" },
      { latex: "\\overrightarrow{ab}" }
    ]
  },
  {
    type: "verbatim",
    label: "函数",
    children: [
      { latex: "\\log" },
      { latex: "\\ln" },
      { latex: "\\exp" },
      { latex: "\\mod" },
      { latex: "\\lim" },
      { latex: "\\sin" },
      { latex: "\\cos" },
      { latex: "\\tan" },
      { latex: "\\csc" },
      { latex: "\\sec" },
      { latex: "\\cot" },
      { latex: "\\sinh" },
      { latex: "\\cosh" },
      { latex: "\\tanh" },
      { latex: "\\csch" },
      { latex: "\\sech" },
      { latex: "\\coth" },
      { latex: "\\arcsin" },
      { latex: "\\arccos" },
      { latex: "\\arctan" },
      { latex: "\\arccsc" },
      { latex: "\\arcsec" },
      { latex: "\\arccot" }
    ]
  },
  {
    type: "greek",
    label: "希腊字母",
    children: [
      { latex: "\\alpha" },
      { latex: "\\beta" },
      { latex: "\\gamma" },
      { latex: "\\delta" },
      { latex: "\\varepsilon" },
      { latex: "\\zeta" },
      { latex: "\\eta" },
      { latex: "\\vartheta" },
      { latex: "\\iota" },
      { latex: "\\kappa" },
      { latex: "\\lambda" },
      { latex: "\\mu" },
      { latex: "\\nu" },
      { latex: "\\xi" },
      { latex: "\\omicron" },
      { latex: "\\pi" },
      { latex: "\\rho" },
      { latex: "\\sigma" },
      { latex: "\\tau" },
      { latex: "\\upsilon" },
      { latex: "\\varphi" },
      { latex: "\\chi" },
      { latex: "\\psi" },
      { latex: "\\omega" },
      { latex: "\\epsilon" },
      { latex: "\\theta" },
      { latex: "\\phi" },
      { latex: "\\varsigma" },
      { latex: "\\Alpha" },
      { latex: "\\Beta" },
      { latex: "\\Gamma" },
      { latex: "\\Delta" },
      { latex: "\\Epsilon" },
      { latex: "\\Zeta" },
      { latex: "\\Eta" },
      { latex: "\\Theta" },
      { latex: "\\Iota" },
      { latex: "\\Kappa" },
      { latex: "\\Lambda" },
      { latex: "\\Mu" },
      { latex: "\\Nu" },
      { latex: "\\Xi" },
      { latex: "\\Omicron" },
      { latex: "\\Pi" },
      { latex: "\\Rho" },
      { latex: "\\Sigma" },
      { latex: "\\Tau" },
      { latex: "\\Upsilon" },
      { latex: "\\Phi" },
      { latex: "\\Chi" },
      { latex: "\\Psi" },
      { latex: "\\Omega" }
    ]
  }
], nN = ["width", "height"], oN = ["transform"], aN = ["d"], rN = /* @__PURE__ */ ce({
  __name: "FormulaContent",
  props: {
    latex: {},
    width: {},
    height: {}
  },
  setup(t) {
    const e = t, n = V({ x: 0, y: 0, w: 0, h: 0 }), o = V("");
    Re(() => e.latex, () => {
      const r = new Lv(e.latex);
      o.value = r.pathd({}), n.value = r.box({});
    }, { immediate: !0 });
    const a = ne(() => {
      const r = n.value.w + 32, i = n.value.h + 32;
      return r > e.width || i > e.height ? r / i > e.width / e.height ? e.width / r : e.height / i : 1;
    });
    return (r, i) => (k(), R("svg", {
      class: "formula-content",
      overflow: "visible",
      width: n.value.w + 32,
      height: n.value.h + 32,
      stroke: "#000",
      "stroke-width": "1",
      fill: "none",
      "stroke-linecap": "round",
      "stroke-linejoin": "round"
    }, [
      C("g", {
        transform: `scale(${a.value}, ${a.value}) translate(0,0) matrix(1,0,0,1,0,0)`,
        "transform-origin": "0 50%"
      }, [
        C("path", { d: o.value }, null, 8, aN)
      ], 8, oN)
    ], 8, nN));
  }
}), Xm = /* @__PURE__ */ ve(rN, [["__scopeId", "data-v-3b4e4b30"]]), iN = ["innerHTML"], sN = /* @__PURE__ */ ce({
  __name: "SymbolContent",
  props: {
    latex: {}
  },
  setup(t) {
    const e = t, n = ne(() => new Lv(e.latex).svg({
      SCALE_X: 10,
      SCALE_Y: 10
    }));
    return (o, a) => (k(), R("div", {
      class: "symbol-content",
      innerHTML: n.value
    }, null, 8, iN));
  }
}), lN = ["disabled", "value", "rows", "placeholder"], uN = /* @__PURE__ */ ce({
  __name: "TextArea",
  props: {
    value: {},
    rows: { default: 4 },
    padding: {},
    disabled: { type: Boolean, default: !1 },
    resizable: { type: Boolean, default: !1 },
    placeholder: { default: "" }
  },
  emits: ["update:value", "focus", "blur"],
  setup(t, { expose: e, emit: n }) {
    const o = n, a = (s) => {
      o("update:value", s.target.value);
    }, r = V();
    return e({
      focus: () => {
        r.value && r.value.focus();
      }
    }), (s, l) => (k(), R("textarea", {
      class: ye(["textarea", {
        disabled: s.disabled,
        resizable: s.resizable
      }]),
      ref_key: "textareaRef",
      ref: r,
      disabled: s.disabled,
      value: s.value,
      rows: s.rows,
      placeholder: s.placeholder,
      style: re({
        padding: s.padding ? `${s.padding}px` : "10px"
      }),
      onInput: l[0] || (l[0] = (u) => a(u)),
      onFocus: l[1] || (l[1] = (u) => o("focus", u)),
      onBlur: l[2] || (l[2] = (u) => o("blur", u))
    }, null, 46, lN));
  }
}), xv = /* @__PURE__ */ ve(uN, [["__scopeId", "data-v-5b019163"]]), cN = { class: "latex-editor" }, dN = { class: "container" }, fN = { class: "left" }, vN = { class: "input-area" }, pN = { class: "preview" }, hN = {
  key: 0,
  class: "placeholder"
}, mN = {
  key: 1,
  class: "preview-content"
}, gN = { class: "right" }, yN = { class: "content" }, _N = {
  key: 0,
  class: "symbol"
}, bN = { class: "symbol-pool" }, wN = ["onClick"], xN = {
  key: 1,
  class: "formula"
}, SN = { class: "formula-title" }, IN = ["onClick"], CN = { class: "footer" }, TN = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    value: { default: "" }
  },
  emits: ["update", "close"],
  setup(t, { emit: e }) {
    const n = [
      { label: "常用符号", key: "symbol" },
      { label: "预置公式", key: "formula" }
    ], o = t, a = e, r = tN, i = tf.map((p) => ({
      label: p.label,
      key: p.type
    })), s = V(""), l = V("symbol"), u = V(), c = V(tf[0].type), d = ne(() => {
      const p = tf.find((h) => h.type === c.value);
      return (p == null ? void 0 : p.children) || [];
    });
    Qe(() => {
      o.value && (s.value = o.value);
    });
    const f = () => {
      if (!s.value) return at.error("公式不能为空");
      const p = new Lv(s.value), h = p.pathd({}), m = p.box({});
      a("update", {
        latex: s.value,
        path: h,
        w: m.w + 32,
        h: m.h + 32
      });
    }, v = (p) => {
      u.value && (u.value.focus(), document.execCommand("insertText", !1, p));
    };
    return (p, h) => (k(), R("div", cN, [
      C("div", dN, [
        C("div", fN, [
          C("div", vN, [
            T(xv, {
              value: s.value,
              "onUpdate:value": h[0] || (h[0] = (m) => s.value = m),
              placeholder: "输入 LaTeX 公式",
              ref_key: "textAreaRef",
              ref: u
            }, null, 8, ["value"])
          ]),
          C("div", pN, [
            s.value ? (k(), R("div", mN, [
              T(Xm, {
                width: 518,
                height: 138,
                latex: s.value
              }, null, 8, ["latex"])
            ])) : (k(), R("div", hN, "公式预览"))
          ])
        ]),
        C("div", gN, [
          T(jn, {
            tabs: n,
            value: l.value,
            "onUpdate:value": h[1] || (h[1] = (m) => l.value = m),
            card: ""
          }, null, 8, ["value"]),
          C("div", yN, [
            l.value === "symbol" ? (k(), R("div", _N, [
              T(jn, {
                tabs: A(i),
                value: c.value,
                "onUpdate:value": h[2] || (h[2] = (m) => c.value = m),
                spaceBetween: "",
                tabsStyle: { margin: "10px 10px 0" }
              }, null, 8, ["tabs", "value"]),
              C("div", bN, [
                (k(!0), R(pe, null, xe(d.value, (m) => (k(), R("div", {
                  class: "symbol-item",
                  key: m.latex,
                  onClick: (g) => v(m.latex)
                }, [
                  T(sN, {
                    latex: m.latex
                  }, null, 8, ["latex"])
                ], 8, wN))), 128))
              ])
            ])) : (k(), R("div", xN, [
              (k(!0), R(pe, null, xe(A(r), (m) => (k(), R("div", {
                class: "formula-item",
                key: m.label
              }, [
                C("div", SN, Ee(m.label), 1),
                C("div", {
                  class: "formula-item-content",
                  onClick: (g) => s.value = m.latex
                }, [
                  T(Xm, {
                    width: 236,
                    height: 60,
                    latex: m.latex
                  }, null, 8, ["latex"])
                ], 8, IN)
              ]))), 128))
            ]))
          ])
        ])
      ]),
      C("div", CN, [
        T(_e, {
          class: "btn",
          onClick: h[3] || (h[3] = (m) => a("close"))
        }, {
          default: F(() => [
            fe("取消")
          ]),
          _: 1
        }),
        T(_e, {
          class: "btn",
          type: "primary",
          onClick: h[4] || (h[4] = (m) => f())
        }, {
          default: F(() => [
            fe("确定")
          ]),
          _: 1
        })
      ])
    ]));
  }
}), s4 = /* @__PURE__ */ ve(TN, [["__scopeId", "data-v-ce1af109"]]), LN = { class: "canvas-tool" }, kN = { class: "left-handler" }, EN = { class: "more" }, MN = { class: "add-element-handler" }, AN = { class: "handler-item group-btn" }, DN = {
  class: "handler-item group-btn",
  offset: 10
}, $N = { class: "right-handler" }, PN = { class: "text" }, RN = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = Te(), { creatingElement: n, creatingCustomShape: o, showSelectPanel: a, showSearchPanel: r, showNotesPanel: i } = de(e), { canUndo: s, canRedo: l } = de($u()), { redo: u, undo: c } = Xe(), {
      scaleCanvas: d,
      setCanvasScalePercentage: f,
      resetCanvas: v,
      canvasScalePercentage: p
    } = Nv(), h = [200, 150, 125, 100, 75, 50], m = V(!1), g = (q) => {
      f(q), m.value = !1;
    }, {
      createImageElement: y,
      createChartElement: _,
      createTableElement: w,
      createLatexElement: x,
      createVideoElement: S,
      createAudioElement: L
    } = ar(), b = (q) => {
      const G = q[0];
      G && fa(G).then((B) => y(B));
    }, I = V(!1), M = V(!1), E = V(!1), D = V(!1), O = V(!1), N = V(!1), P = V(!1), $ = V(!1), z = V(!1), H = (q = !1) => {
      e.setCreatingElement({
        type: "text",
        vertical: q
      });
    }, W = (q) => {
      e.setCreatingElement({
        type: "shape",
        data: q
      }), I.value = !1;
    }, oe = () => {
      e.setCreatingCustomShapeState(!0), I.value = !1;
    }, te = (q) => {
      e.setCreatingElement({
        type: "line",
        data: q
      }), M.value = !1;
    }, le = () => {
      e.setSelectPanelState(!a.value);
    }, J = () => {
      e.setSearchPanelState(!r.value);
    }, Q = () => {
      e.setNotesPanelState(!i.value);
    };
    return (q, G) => {
      var ui;
      const B = j("IconBack"), ee = j("IconNext"), ue = j("IconMore"), X = j("IconComment"), Y = j("IconMoveOne"), U = j("IconSearch"), K = j("IconFontSize"), Z = j("IconTextRotationNone"), ae = j("IconTextRotationDown"), he = j("IconDown"), Ce = j("IconGraphicDesign"), ke = j("IconPicture"), Se = j("IconConnection"), be = j("IconChartProportion"), we = j("IconInsertTable"), je = j("IconFormula"), We = j("IconVideoTwo"), wt = j("IconMinus"), Un = j("IconPlus"), ya = j("IconFullScreen"), Rt = it("tooltip");
      return k(), R("div", LN, [
        C("div", kN, [
          ge(T(B, {
            class: ye(["handler-item", { disable: !A(s) }]),
            onClick: G[0] || (G[0] = (Pe) => A(c)())
          }, null, 8, ["class"]), [
            [Rt, "撤销（Ctrl + Z）"]
          ]),
          ge(T(ee, {
            class: ye(["handler-item", { disable: !A(l) }]),
            onClick: G[1] || (G[1] = (Pe) => A(u)())
          }, null, 8, ["class"]), [
            [Rt, "重做（Ctrl + Y）"]
          ]),
          C("div", EN, [
            T(Ve, {
              type: "vertical",
              style: { height: "20px" }
            }),
            T(Be, {
              class: "more-icon",
              trigger: "click",
              value: z.value,
              "onUpdate:value": G[5] || (G[5] = (Pe) => z.value = Pe),
              offset: 10
            }, {
              content: F(() => [
                T($t, {
                  center: "",
                  onClick: G[2] || (G[2] = (Pe) => {
                    Q(), z.value = !1;
                  })
                }, {
                  default: F(() => [
                    fe("批注面板")
                  ]),
                  _: 1
                }),
                T($t, {
                  center: "",
                  onClick: G[3] || (G[3] = (Pe) => {
                    le(), z.value = !1;
                  })
                }, {
                  default: F(() => [
                    fe("选择窗格")
                  ]),
                  _: 1
                }),
                T($t, {
                  center: "",
                  onClick: G[4] || (G[4] = (Pe) => {
                    J(), z.value = !1;
                  })
                }, {
                  default: F(() => [
                    fe("查找替换")
                  ]),
                  _: 1
                })
              ]),
              default: F(() => [
                T(ue, { class: "handler-item" })
              ]),
              _: 1
            }, 8, ["value"]),
            ge(T(X, {
              class: ye(["handler-item", { active: A(i) }]),
              onClick: G[6] || (G[6] = (Pe) => Q())
            }, null, 8, ["class"]), [
              [Rt, "批注面板"]
            ]),
            ge(T(Y, {
              class: ye(["handler-item", { active: A(a) }]),
              onClick: G[7] || (G[7] = (Pe) => le())
            }, null, 8, ["class"]), [
              [Rt, "选择窗格"]
            ]),
            ge(T(U, {
              class: ye(["handler-item", { active: A(r) }]),
              onClick: G[8] || (G[8] = (Pe) => J())
            }, null, 8, ["class"]), [
              [Rt, "查找/替换（Ctrl + F）"]
            ])
          ])
        ]),
        C("div", MN, [
          ge((k(), R("div", AN, [
            T(K, {
              class: ye(["icon", { active: ((ui = A(n)) == null ? void 0 : ui.type) === "text" }]),
              onClick: G[9] || (G[9] = (Pe) => H())
            }, null, 8, ["class"]),
            T(Be, {
              trigger: "click",
              value: P.value,
              "onUpdate:value": G[12] || (G[12] = (Pe) => P.value = Pe),
              style: { height: "100%" },
              offset: 10
            }, {
              content: F(() => [
                T($t, {
                  center: "",
                  onClick: G[10] || (G[10] = () => {
                    H(), P.value = !1;
                  })
                }, {
                  default: F(() => [
                    T(Z),
                    fe(" 横向文本框")
                  ]),
                  _: 1
                }),
                T($t, {
                  center: "",
                  onClick: G[11] || (G[11] = () => {
                    H(!0), P.value = !1;
                  })
                }, {
                  default: F(() => [
                    T(ae),
                    fe(" 竖向文本框")
                  ]),
                  _: 1
                })
              ]),
              default: F(() => [
                T(he, { class: "arrow" })
              ]),
              _: 1
            }, 8, ["value"])
          ])), [
            [Rt, "插入文字"]
          ]),
          ge((k(), R("div", DN, [
            T(Be, {
              trigger: "click",
              style: { height: "100%" },
              value: I.value,
              "onUpdate:value": G[14] || (G[14] = (Pe) => I.value = Pe),
              offset: 10
            }, {
              content: F(() => [
                T(vO, {
                  onSelect: G[13] || (G[13] = (Pe) => W(Pe))
                })
              ]),
              default: F(() => {
                var Pe;
                return [
                  T(Ce, {
                    class: ye(["icon", { active: A(o) || ((Pe = A(n)) == null ? void 0 : Pe.type) === "shape" }])
                  }, null, 8, ["class"])
                ];
              }),
              _: 1
            }, 8, ["value"]),
            T(Be, {
              trigger: "click",
              value: $.value,
              "onUpdate:value": G[16] || (G[16] = (Pe) => $.value = Pe),
              style: { height: "100%" },
              offset: 10
            }, {
              content: F(() => [
                T($t, {
                  center: "",
                  onClick: G[15] || (G[15] = () => {
                    oe(), $.value = !1;
                  })
                }, {
                  default: F(() => [
                    fe("自由绘制")
                  ]),
                  _: 1
                })
              ]),
              default: F(() => [
                T(he, { class: "arrow" })
              ]),
              _: 1
            }, 8, ["value"])
          ])), [
            [Rt, "插入形状"]
          ]),
          T(er, {
            onChange: G[17] || (G[17] = (Pe) => b(Pe))
          }, {
            default: F(() => [
              ge(T(ke, { class: "handler-item" }, null, 512), [
                [Rt, "插入图片"]
              ])
            ]),
            _: 1
          }),
          T(Be, {
            trigger: "click",
            value: M.value,
            "onUpdate:value": G[19] || (G[19] = (Pe) => M.value = Pe),
            offset: 10
          }, {
            content: F(() => [
              T(xO, {
                onSelect: G[18] || (G[18] = (Pe) => te(Pe))
              })
            ]),
            default: F(() => {
              var Pe;
              return [
                ge(T(Se, {
                  class: ye(["handler-item", { active: ((Pe = A(n)) == null ? void 0 : Pe.type) === "line" }])
                }, null, 8, ["class"]), [
                  [Rt, "插入线条"]
                ])
              ];
            }),
            _: 1
          }, 8, ["value"]),
          T(Be, {
            trigger: "click",
            value: E.value,
            "onUpdate:value": G[21] || (G[21] = (Pe) => E.value = Pe),
            offset: 10
          }, {
            content: F(() => [
              T(LO, {
                onSelect: G[20] || (G[20] = (Pe) => {
                  A(_)(Pe), E.value = !1;
                })
              })
            ]),
            default: F(() => [
              ge(T(be, { class: "handler-item" }, null, 512), [
                [Rt, "插入图表"]
              ])
            ]),
            _: 1
          }, 8, ["value"]),
          T(Be, {
            trigger: "click",
            value: D.value,
            "onUpdate:value": G[24] || (G[24] = (Pe) => D.value = Pe),
            offset: 10
          }, {
            content: F(() => [
              T(qO, {
                onClose: G[22] || (G[22] = (Pe) => D.value = !1),
                onInsert: G[23] || (G[23] = ({ row: Pe, col: ci }) => {
                  A(w)(Pe, ci), D.value = !1;
                })
              })
            ]),
            default: F(() => [
              ge(T(we, { class: "handler-item" }, null, 512), [
                [Rt, "插入表格"]
              ])
            ]),
            _: 1
          }, 8, ["value"]),
          ge(T(je, {
            class: "handler-item",
            onClick: G[25] || (G[25] = (Pe) => N.value = !0)
          }, null, 512), [
            [Rt, "插入公式"]
          ]),
          T(Be, {
            trigger: "click",
            value: O.value,
            "onUpdate:value": G[29] || (G[29] = (Pe) => O.value = Pe),
            offset: 10
          }, {
            content: F(() => [
              T(eN, {
                onClose: G[26] || (G[26] = (Pe) => O.value = !1),
                onInsertVideo: G[27] || (G[27] = (Pe) => {
                  A(S)(Pe), O.value = !1;
                }),
                onInsertAudio: G[28] || (G[28] = (Pe) => {
                  A(L)(Pe), O.value = !1;
                })
              })
            ]),
            default: F(() => [
              ge(T(We, { class: "handler-item" }, null, 512), [
                [Rt, "插入音视频"]
              ])
            ]),
            _: 1
          }, 8, ["value"])
        ]),
        C("div", $N, [
          ge(T(wt, {
            class: "handler-item viewport-size",
            onClick: G[30] || (G[30] = (Pe) => A(d)("-"))
          }, null, 512), [
            [Rt, "画布缩小（Ctrl + -）"]
          ]),
          T(Be, {
            trigger: "click",
            value: m.value,
            "onUpdate:value": G[32] || (G[32] = (Pe) => m.value = Pe)
          }, {
            content: F(() => [
              (k(), R(pe, null, xe(h, (Pe) => T($t, {
                center: "",
                key: Pe,
                onClick: (ci) => g(Pe)
              }, {
                default: F(() => [
                  fe(Ee(Pe) + "%", 1)
                ]),
                _: 2
              }, 1032, ["onClick"])), 64)),
              T($t, {
                center: "",
                onClick: G[31] || (G[31] = (Pe) => A(v)())
              }, {
                default: F(() => [
                  fe("适应屏幕")
                ]),
                _: 1
              })
            ]),
            default: F(() => [
              C("span", PN, Ee(A(p)), 1)
            ]),
            _: 1
          }, 8, ["value"]),
          ge(T(Un, {
            class: "handler-item viewport-size",
            onClick: G[33] || (G[33] = (Pe) => A(d)("+"))
          }, null, 512), [
            [Rt, "画布放大（Ctrl + =）"]
          ]),
          ge(T(ya, {
            class: "handler-item viewport-size-adaptation",
            onClick: G[34] || (G[34] = (Pe) => A(v)())
          }, null, 512), [
            [Rt, "适应屏幕（Ctrl + 0）"]
          ])
        ]),
        T(si, {
          visible: N.value,
          "onUpdate:visible": G[37] || (G[37] = (Pe) => N.value = Pe),
          width: 880
        }, {
          default: F(() => [
            T(s4, {
              onClose: G[35] || (G[35] = (Pe) => N.value = !1),
              onUpdate: G[36] || (G[36] = (Pe) => {
                A(x)(Pe), N.value = !1;
              })
            })
          ]),
          _: 1
        }, 8, ["visible"])
      ]);
    };
  }
}), ON = /* @__PURE__ */ ve(RN, [["__scopeId", "data-v-55637477"]]), NN = () => {
  const t = Ie(), { slides: e } = de(t), { addHistorySnapshot: n } = Xe(), { deleteSlide: o } = va();
  return {
    createSection: () => {
      t.updateSlide({
        sectionTag: {
          id: tt(6)
        }
      }), n();
    },
    removeSection: (u) => {
      if (!u) return;
      const c = e.value.find((d) => {
        var f;
        return ((f = d.sectionTag) == null ? void 0 : f.id) === u;
      });
      t.removeSlideProps({
        id: c.id,
        propName: "sectionTag"
      }), n();
    },
    removeAllSection: () => {
      const u = e.value.map((c) => (c.sectionTag && delete c.sectionTag, c));
      t.setSlides(u), n();
    },
    removeSectionSlides: (u) => {
      let c = 0;
      u && (c = e.value.findIndex((f) => {
        var v;
        return ((v = f.sectionTag) == null ? void 0 : v.id) === u;
      }));
      const d = [];
      for (let f = c; f < e.value.length; f++) {
        const v = e.value[f];
        if (f !== c && v.sectionTag) break;
        d.push(v.id);
      }
      o(d);
    },
    updateSectionTitle: (u, c) => {
      if (c) {
        if (u === "default")
          t.updateSlide({
            sectionTag: {
              id: tt(6),
              title: c
            }
          }, e.value[0].id);
        else {
          const d = e.value.find((f) => {
            var v;
            return ((v = f.sectionTag) == null ? void 0 : v.id) === u;
          });
          if (!d) return;
          t.updateSlide({
            sectionTag: {
              ...d.sectionTag,
              title: c
            }
          }, d.id);
        }
        n();
      }
    }
  };
}, Vs = () => {
  const { slides: t } = de(Ie()), e = V(null), n = V(50), o = () => {
    t.value.length > n.value ? e.value = setTimeout(() => {
      n.value = n.value + 20, o();
    }, 600) : n.value = 9999;
  };
  return Qe(o), ht(() => {
    e.value && clearTimeout(e.value);
  }), {
    slidesLoadLimit: n
  };
}, BN = (t) => (Ze("data-v-8b995562"), t = t(), qe(), t), FN = { class: "layout-pool" }, zN = /* @__PURE__ */ BN(() => /* @__PURE__ */ C("div", { class: "header" }, "页面模板", -1)), VN = { class: "list" }, HN = { class: "btns" }, GN = /* @__PURE__ */ ce({
  __name: "LayoutPool",
  emits: ["select"],
  setup(t, { emit: e }) {
    const n = e, o = Ie(), { layouts: a } = de(o), r = (i) => {
      n("select", i);
    };
    return (i, s) => (k(), R("div", FN, [
      zN,
      C("div", VN, [
        (k(!0), R(pe, null, xe(A(a), (l) => (k(), R("div", {
          class: "layout-item",
          key: l.id
        }, [
          T(Qn, {
            class: "thumbnail",
            slide: l,
            size: 180
          }, null, 8, ["slide"]),
          C("div", HN, [
            T(_e, {
              class: "btn",
              type: "primary",
              size: "small",
              onClick: (u) => r(l)
            }, {
              default: F(() => [
                fe("插入模板")
              ]),
              _: 2
            }, 1032, ["onClick"])
          ])
        ]))), 128))
      ])
    ]));
  }
}), UN = /* @__PURE__ */ ve(GN, [["__scopeId", "data-v-8b995562"]]), WN = { class: "add-slide" }, XN = { class: "select-btn" }, YN = { class: "thumbnail-container" }, ZN = ["data-section-id"], qN = ["id", "value"], JN = {
  key: 1,
  class: "text"
}, KN = { class: "text-content" }, QN = ["onMousedown"], jN = { class: "page-number" }, eB = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = Te(), n = Ie(), o = eo(), { selectedSlidesIndex: a, thumbnailsFocus: r } = de(e), { slides: i, slideIndex: s, currentSlide: l } = de(n), { ctrlKeyState: u, shiftKeyState: c } = de(o), { slidesLoadLimit: d } = Vs(), f = ne(() => [...a.value, s.value]), v = V(!1), p = ne(() => i.value.some((B) => B.sectionTag)), {
      copySlide: h,
      pasteSlide: m,
      createSlide: g,
      createSlideByTemplate: y,
      copyAndPasteSlide: _,
      deleteSlide: w,
      cutSlide: x,
      selectAllSlide: S,
      sortSlides: L
    } = va(), {
      createSection: b,
      removeSection: I,
      removeAllSection: M,
      removeSectionSlides: E,
      updateSectionTitle: D
    } = NN(), O = V();
    Re(() => s.value, () => {
      f.value.length && e.updateSelectedSlidesIndex([]), Kt(() => {
        var ee, ue;
        const B = (ue = (ee = O.value) == null ? void 0 : ee.$el) == null ? void 0 : ue.querySelector(".thumbnail-item.active");
        O.value && B && !hb(B, O.value.$el) && setTimeout(() => {
          B.scrollIntoView({ behavior: "smooth" });
        }, 100);
      });
    });
    const N = (B) => {
      e.setActiveElementIdList([]), s.value !== B && n.updateSlideIndex(B);
    }, P = (B, ee) => {
      if (W.value) return;
      const ue = f.value.length > 1;
      if (!(ue && f.value.includes(ee) && B.button !== 0))
        if (u.value)
          if (s.value === ee) {
            if (!ue) return;
            const X = f.value.filter((Y) => Y !== ee);
            e.updateSelectedSlidesIndex(X), N(f.value[0]);
          } else if (f.value.includes(ee)) {
            const X = f.value.filter((Y) => Y !== ee);
            e.updateSelectedSlidesIndex(X);
          } else {
            const X = [...f.value, ee];
            e.updateSelectedSlidesIndex(X);
          }
        else if (c.value) {
          if (s.value === ee && !ue) return;
          let X = Math.min(...f.value), Y = ee;
          ee < X && (Y = Math.max(...f.value), X = ee);
          const U = [];
          for (let K = X; K <= Y; K++) U.push(K);
          e.updateSelectedSlidesIndex(U);
        } else
          e.updateSelectedSlidesIndex([]), N(ee);
    }, $ = (B) => {
      r.value !== B && (e.setThumbnailsFocus(B), B || e.updateSelectedSlidesIndex([]));
    }, z = (B) => {
      const { newIndex: ee, oldIndex: ue } = B;
      ee === void 0 || ue === void 0 || ee === ue || L(ee, ue);
    }, H = () => {
      e.setNotesPanelState(!0);
    }, W = V(""), oe = (B) => {
      e.setDisableHotkeysState(!0), W.value = B || "default", Kt(() => {
        document.querySelector(`#section-title-input-${B || "default"}`).focus();
      });
    }, te = (B) => {
      const ee = B.target.value;
      D(W.value, ee), W.value = "", e.setDisableHotkeysState(!1);
    }, le = (B) => {
      const ee = B.dataset.sectionId;
      return [
        {
          text: "删除节",
          handler: () => I(ee)
        },
        {
          text: "删除节和幻灯片",
          handler: () => {
            e.setActiveElementIdList([]), E(ee);
          }
        },
        {
          text: "删除所有节",
          handler: M
        },
        {
          text: "重命名节",
          handler: () => oe(ee)
        }
      ];
    }, { enterScreening: J, enterScreeningFromStart: Q } = pa(), q = () => [
      {
        text: "粘贴",
        subText: "Ctrl + V",
        handler: m
      },
      {
        text: "全选",
        subText: "Ctrl + A",
        handler: S
      },
      {
        text: "新建页面",
        subText: "Enter",
        handler: g
      },
      {
        text: "幻灯片放映",
        subText: "F5",
        handler: Q
      }
    ], G = () => [
      {
        text: "剪切",
        subText: "Ctrl + X",
        handler: x
      },
      {
        text: "复制",
        subText: "Ctrl + C",
        handler: h
      },
      {
        text: "粘贴",
        subText: "Ctrl + V",
        handler: m
      },
      {
        text: "全选",
        subText: "Ctrl + A",
        handler: S
      },
      { divider: !0 },
      {
        text: "新建页面",
        subText: "Enter",
        handler: g
      },
      {
        text: "复制页面",
        subText: "Ctrl + D",
        handler: _
      },
      {
        text: "删除页面",
        subText: "Delete",
        handler: () => w()
      },
      {
        text: "增加节",
        handler: b,
        disable: !!l.value.sectionTag
      },
      { divider: !0 },
      {
        text: "从当前放映",
        subText: "Shift + F5",
        handler: J
      }
    ];
    return (B, ee) => {
      const ue = j("IconPlus"), X = j("IconDown"), Y = it("contextmenu"), U = it("click-outside");
      return ge((k(), R("div", {
        class: "thumbnails",
        onMousedown: ee[7] || (ee[7] = () => $(!0))
      }, [
        C("div", WN, [
          C("div", {
            class: "btn",
            onClick: ee[0] || (ee[0] = (K) => A(g)())
          }, [
            T(ue, { class: "icon" }),
            fe("添加幻灯片")
          ]),
          T(Be, {
            trigger: "click",
            placement: "bottom-start",
            value: v.value,
            "onUpdate:value": ee[2] || (ee[2] = (K) => v.value = K),
            center: ""
          }, {
            content: F(() => [
              T(UN, {
                onSelect: ee[1] || (ee[1] = (K) => {
                  A(y)(K), v.value = !1;
                })
              })
            ]),
            default: F(() => [
              C("div", XN, [
                T(X)
              ])
            ]),
            _: 1
          }, 8, ["value"])
        ]),
        T(A(kv), {
          class: "thumbnail-list",
          ref_key: "thumbnailsRef",
          ref: O,
          modelValue: A(i),
          animation: 200,
          scroll: !0,
          scrollSensitivity: 50,
          disabled: W.value,
          onEnd: z,
          itemKey: "id"
        }, {
          item: F(({ element: K, index: Z }) => {
            var ae, he, Ce, ke, Se;
            return [
              C("div", YN, [
                K.sectionTag || p.value && Z === 0 ? ge((k(), R("div", {
                  key: 0,
                  class: "section-title",
                  "data-section-id": ((ae = K == null ? void 0 : K.sectionTag) == null ? void 0 : ae.id) || ""
                }, [
                  W.value === ((he = K == null ? void 0 : K.sectionTag) == null ? void 0 : he.id) || Z === 0 && W.value === "default" ? (k(), R("input", {
                    key: 0,
                    id: `section-title-input-${((Ce = K == null ? void 0 : K.sectionTag) == null ? void 0 : Ce.id) || "default"}`,
                    type: "text",
                    value: ((ke = K == null ? void 0 : K.sectionTag) == null ? void 0 : ke.title) || "",
                    placeholder: "输入节名称",
                    onBlur: ee[3] || (ee[3] = (be) => te(be)),
                    onKeydown: ee[4] || (ee[4] = na(Fe((be) => te(be), ["stop"]), ["enter"]))
                  }, null, 40, qN)) : (k(), R("span", JN, [
                    C("div", KN, Ee(K != null && K.sectionTag ? ((Se = K == null ? void 0 : K.sectionTag) == null ? void 0 : Se.title) || "无标题节" : "默认节"), 1)
                  ]))
                ], 8, ZN)), [
                  [Y, le]
                ]) : me("", !0),
                ge((k(), R("div", {
                  class: ye(["thumbnail-item", {
                    active: A(s) === Z,
                    selected: f.value.includes(Z)
                  }]),
                  onMousedown: (be) => P(be, Z),
                  onDblclick: ee[6] || (ee[6] = (be) => A(J)())
                }, [
                  C("div", {
                    class: ye(["label", { "offset-left": Z >= 99 }])
                  }, Ee(A(Oi)(Z + 1, 2)), 3),
                  T(Qn, {
                    class: "thumbnail",
                    slide: K,
                    size: 120,
                    visible: Z < A(d)
                  }, null, 8, ["slide", "visible"]),
                  K.notes && K.notes.length ? (k(), R("div", {
                    key: 0,
                    class: "note-flag",
                    onClick: ee[5] || (ee[5] = (be) => H())
                  }, Ee(K.notes.length), 1)) : me("", !0)
                ], 42, QN)), [
                  [Y, G]
                ])
              ])
            ];
          }),
          _: 1
        }, 8, ["modelValue", "disabled"]),
        C("div", jN, "幻灯片 " + Ee(A(s) + 1) + " / " + Ee(A(i).length), 1)
      ], 32)), [
        [U, () => $(!1)],
        [Y, q]
      ]);
    };
  }
}), tB = /* @__PURE__ */ ve(eB, [["__scopeId", "data-v-db121695"]]), nB = { class: "bar" }, oB = ["data-tooltip"], aB = ["data-tooltip"], rB = ["data-tooltip"], iB = /* @__PURE__ */ ce({
  __name: "Slider",
  props: {
    value: {},
    disabled: { type: Boolean, default: !1 },
    min: { default: 0 },
    max: { default: 100 },
    step: { default: 1 },
    range: { type: Boolean, default: !1 }
  },
  emits: ["update:value"],
  setup(t, { emit: e }) {
    const n = (w) => w.getBoundingClientRect().left, o = t, a = e, r = V(), i = V(0), s = V(0), l = V(0), u = V("end"), c = (w) => {
      let x = w / 100 * (o.max - o.min);
      if (o.step >= 1) x = Math.fround(x);
      else {
        const S = o.step.toString(), L = S.match(/^[0.]*([1-9])/);
        if (L) {
          const b = L[1], I = S.indexOf(b) - 1;
          if (I > 0) {
            const M = Math.pow(10, I);
            x = Math.fround(x * M) / M;
          }
        }
      }
      return W6.plus(x, o.min);
    }, d = ne(() => c(i.value)), f = ne(() => c(s.value)), v = ne(() => c(l.value));
    Re(() => o.value, () => {
      o.max !== o.min && (typeof o.value == "number" ? i.value = (o.value - o.min) / (o.max - o.min) * 100 : (s.value = (o.value[0] - o.min) / (o.max - o.min) * 100, l.value = (o.value[1] - o.min) / (o.max - o.min) * 100));
    }, {
      immediate: !0
    });
    const p = (w) => {
      if (!r.value) return 0;
      let S = (("clientX" in w ? w.clientX : w.changedTouches[0].clientX) - n(r.value)) / r.value.clientWidth;
      S = Math.max(S, 0), S = Math.min(S, 1);
      let L = S * 100;
      const b = o.step / (o.max - o.min) * 100, I = L % b;
      return I > 0 && (I <= b / 2 ? L = L - I : L = L - I + b), L;
    }, h = (w) => {
      const x = p(w);
      u.value === "start" ? s.value = x : l.value = x;
    }, m = (w) => {
      g(w);
      const x = c(i.value), S = o.value, L = u.value === "start" ? [x, S[1]] : [S[0], x];
      L[0] > L[1] && ([L[0], L[1]] = [L[1], L[0]]), a("update:value", L), document.removeEventListener("mousemove", h), document.removeEventListener("touchmove", h), document.removeEventListener("mouseup", m), document.removeEventListener("touchend", m);
    }, g = (w) => {
      i.value = p(w);
    }, y = (w) => {
      g(w);
      const x = c(i.value);
      a("update:value", x), document.removeEventListener("mousemove", g), document.removeEventListener("touchmove", g), document.removeEventListener("mouseup", y), document.removeEventListener("touchend", y);
    }, _ = (w) => {
      if (!o.disabled)
        if (o.range) {
          const x = p(w);
          Math.abs(x - s.value) < Math.abs(x - l.value) ? u.value = "start" : u.value = "end", document.addEventListener("mousemove", h), document.addEventListener("touchmove", h), document.addEventListener("mouseup", m), document.addEventListener("touchend", m);
        } else
          document.addEventListener("mousemove", g), document.addEventListener("touchmove", g), document.addEventListener("mouseup", y), document.addEventListener("touchend", y);
    };
    return (w, x) => (k(), R("div", {
      class: ye(["slider", { disabled: w.disabled }]),
      ref_key: "sliderRef",
      ref: r,
      onMousedown: x[0] || (x[0] = (S) => _(S))
    }, [
      C("div", nB, [
        w.range ? (k(), R(pe, { key: 1 }, [
          C("div", {
            class: "track",
            style: re({ width: `${l.value - s.value}%`, left: `${s.value}%` })
          }, null, 4),
          C("div", {
            class: "thumb",
            style: re({ left: `${s.value}%` }),
            "data-tooltip": f.value
          }, null, 12, aB),
          C("div", {
            class: "thumb",
            style: re({ left: `${l.value}%` }),
            "data-tooltip": v.value
          }, null, 12, rB)
        ], 64)) : (k(), R(pe, { key: 0 }, [
          C("div", {
            class: "track",
            style: re({ width: `${i.value}%` })
          }, null, 4),
          C("div", {
            class: "thumb",
            style: re({ left: `${i.value}%` }),
            "data-tooltip": d.value
          }, null, 12, oB)
        ], 64))
      ])
    ], 34));
  }
}), Jt = /* @__PURE__ */ ve(iB, [["__scopeId", "data-v-78364373"]]), sB = (t) => (Ze("data-v-d83f2a68"), t = t(), qe(), t), lB = { class: "element-opacity" }, uB = { class: "row" }, cB = /* @__PURE__ */ sB(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "不透明度：", -1)), dB = /* @__PURE__ */ ce({
  __name: "ElementOpacity",
  setup(t) {
    const e = Ie(), { handleElement: n } = de(Te()), o = V(1);
    Re(n, () => {
      n.value && (o.value = "opacity" in n.value && n.value.opacity !== void 0 ? n.value.opacity : 1);
    }, { deep: !0, immediate: !0 });
    const { addHistorySnapshot: a } = Xe(), r = (i) => {
      if (!n.value) return;
      const s = { opacity: i };
      e.updateElement({ id: n.value.id, props: s }), a();
    };
    return (i, s) => (k(), R("div", lB, [
      C("div", uB, [
        cB,
        T(Jt, {
          min: 0,
          max: 1,
          step: 0.1,
          value: o.value,
          "onUpdate:value": s[0] || (s[0] = (l) => r(l)),
          style: { width: "60%" }
        }, null, 8, ["value"])
      ])
    ]));
  }
}), l4 = /* @__PURE__ */ ve(dB, [["__scopeId", "data-v-d83f2a68"]]), fB = { class: "color-block" }, vB = /* @__PURE__ */ ce({
  __name: "ColorButton",
  props: {
    color: {}
  },
  setup(t) {
    return (e, n) => {
      const o = j("IconPlatte");
      return k(), ie(_e, { class: "color-btn" }, {
        default: F(() => [
          C("div", fB, [
            C("div", {
              class: "content",
              style: re({ backgroundColor: e.color })
            }, null, 4)
          ]),
          T(o, { class: "color-btn-icon" })
        ]),
        _: 1
      });
    };
  }
}), Et = /* @__PURE__ */ ve(vB, [["__scopeId", "data-v-24206558"]]), pB = /* @__PURE__ */ ce({
  __name: "Checkboard",
  props: {
    size: { default: 8 },
    white: { default: "#fff" },
    grey: { default: "#e6e6e6" }
  },
  setup(t) {
    const e = t, n = {}, o = (i, s, l) => {
      const u = document.createElement("canvas");
      u.width = u.height = l * 2;
      const c = u.getContext("2d");
      return c ? (c.fillStyle = i, c.fillRect(0, 0, u.width, u.height), c.fillStyle = s, c.fillRect(0, 0, l, l), c.translate(l, l), c.fillRect(0, 0, l, l), u.toDataURL()) : null;
    }, a = (i, s, l) => {
      const u = i + "," + s + "," + l;
      if (n[u]) return n[u];
      const c = o(i, s, l);
      return n[u] = c, c;
    }, r = ne(() => ({ backgroundImage: `url(${a(e.white, e.grey, e.size)})` }));
    return (i, s) => (k(), R("div", {
      class: "checkerboard",
      style: re(r.value)
    }, null, 4));
  }
}), Sv = /* @__PURE__ */ ve(pB, [["__scopeId", "data-v-444c8909"]]), hB = (t) => (Ze("data-v-3527e29f"), t = t(), qe(), t), mB = { class: "alpha" }, gB = { class: "alpha-checkboard-wrap" }, yB = /* @__PURE__ */ hB(() => /* @__PURE__ */ C("div", { class: "alpha-picker" }, null, -1)), _B = [
  yB
], bB = /* @__PURE__ */ ce({
  __name: "Alpha",
  props: {
    value: {}
  },
  emits: ["colorChange"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = ne(() => n.value), r = ne(() => {
      const c = [a.value.r, a.value.g, a.value.b].join(",");
      return `linear-gradient(to right, rgba(${c}, 0) 0%, rgba(${c}, 1) 100%)`;
    }), i = V(), s = (c) => {
      if (c.preventDefault(), !i.value) return;
      const d = i.value.clientWidth, f = i.value.getBoundingClientRect().left + window.pageXOffset, v = c.pageX - f;
      let p;
      v < 0 ? p = 0 : v > d ? p = 1 : p = Math.round(v * 100 / d) / 100, a.value.a !== p && o("colorChange", {
        r: a.value.r,
        g: a.value.g,
        b: a.value.b,
        a: p
      });
    }, l = () => {
      window.removeEventListener("mousemove", s), window.removeEventListener("mouseup", l);
    }, u = (c) => {
      s(c), window.addEventListener("mousemove", s), window.addEventListener("mouseup", l);
    };
    return ht(l), (c, d) => (k(), R("div", mB, [
      C("div", gB, [
        T(Sv)
      ]),
      C("div", {
        class: "alpha-gradient",
        style: re({ background: r.value })
      }, null, 4),
      C("div", {
        class: "alpha-container",
        ref_key: "alphaRef",
        ref: i,
        onMousedown: d[0] || (d[0] = (f) => u(f))
      }, [
        C("div", {
          class: "alpha-pointer",
          style: re({ left: a.value.a * 100 + "%" })
        }, _B, 4)
      ], 544)
    ]));
  }
}), wB = /* @__PURE__ */ ve(bB, [["__scopeId", "data-v-3527e29f"]]), xB = (t) => (Ze("data-v-2eff9899"), t = t(), qe(), t), SB = { class: "hue" }, IB = /* @__PURE__ */ xB(() => /* @__PURE__ */ C("div", { class: "hue-picker" }, null, -1)), CB = [
  IB
], TB = /* @__PURE__ */ ce({
  __name: "Hue",
  props: {
    value: {},
    hue: {}
  },
  emits: ["colorChange"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = V(0), r = V(""), i = ne(() => {
      const f = He(n.value).toHsl();
      return n.hue !== -1 && (f.h = n.hue), f;
    }), s = ne(() => i.value.h === 0 && r.value === "right" ? "100%" : i.value.h * 100 / 360 + "%");
    Re(() => n.value, () => {
      const f = He(n.value).toHsl(), v = f.s === 0 ? n.hue : f.h;
      v !== 0 && v - a.value > 0 && (r.value = "right"), v !== 0 && v - a.value < 0 && (r.value = "left"), a.value = v;
    });
    const l = V(), u = (f) => {
      if (f.preventDefault(), !l.value) return;
      const v = l.value.clientWidth, p = l.value.getBoundingClientRect().left + window.pageXOffset, h = f.pageX - p;
      let m, g;
      h < 0 ? m = 0 : h > v ? m = 360 : (g = h * 100 / v, m = 360 * g / 100), (n.hue === -1 || i.value.h !== m) && o("colorChange", {
        h: m,
        l: i.value.l,
        s: i.value.s,
        a: i.value.a
      });
    }, c = () => {
      window.removeEventListener("mousemove", u), window.removeEventListener("mouseup", c);
    }, d = (f) => {
      u(f), window.addEventListener("mousemove", u), window.addEventListener("mouseup", c);
    };
    return ht(c), (f, v) => (k(), R("div", SB, [
      C("div", {
        class: "hue-container",
        ref_key: "hueRef",
        ref: l,
        onMousedown: v[0] || (v[0] = (p) => d(p))
      }, [
        C("div", {
          class: "hue-pointer",
          style: re({ left: s.value })
        }, CB, 4)
      ], 544)
    ]));
  }
}), LB = /* @__PURE__ */ ve(TB, [["__scopeId", "data-v-2eff9899"]]), qp = (t) => (Ze("data-v-ee7c000f"), t = t(), qe(), t), kB = /* @__PURE__ */ qp(() => /* @__PURE__ */ C("div", { class: "saturation-white" }, null, -1)), EB = /* @__PURE__ */ qp(() => /* @__PURE__ */ C("div", { class: "saturation-black" }, null, -1)), MB = /* @__PURE__ */ qp(() => /* @__PURE__ */ C("div", { class: "saturation-circle" }, null, -1)), AB = [
  MB
], DB = /* @__PURE__ */ ce({
  __name: "Saturation",
  props: {
    value: {},
    hue: {}
  },
  emits: ["colorChange"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = ne(() => {
      const v = He(n.value).toHsv();
      return n.hue !== -1 && (v.h = n.hue), v;
    }), r = ne(() => `hsl(${a.value.h}, 100%, 50%)`), i = ne(() => -(a.value.v * 100) + 1 + 100 + "%"), s = ne(() => a.value.s * 100 + "%"), l = ja(function(v) {
      o("colorChange", v);
    }, 20, { leading: !0, trailing: !1 }), u = V(), c = (v) => {
      if (v.preventDefault(), !u.value) return;
      const p = u.value.clientWidth, h = u.value.clientHeight, m = u.value.getBoundingClientRect().left + window.pageXOffset, g = u.value.getBoundingClientRect().top + window.pageYOffset, y = $c(v.pageX - m, 0, p), _ = $c(v.pageY - g, 0, h), w = y / p, x = $c(-(_ / h) + 1, 0, 1);
      l({
        h: a.value.h,
        s: w,
        v: x,
        a: a.value.a
      });
    }, d = () => {
      window.removeEventListener("mousemove", c), window.removeEventListener("mouseup", d);
    }, f = (v) => {
      c(v), window.addEventListener("mousemove", c), window.addEventListener("mouseup", d);
    };
    return ht(d), (v, p) => (k(), R("div", {
      class: "saturation",
      ref_key: "saturationRef",
      ref: u,
      style: re({ background: r.value }),
      onMousedown: p[0] || (p[0] = (h) => f(h))
    }, [
      kB,
      EB,
      C("div", {
        class: "saturation-pointer",
        style: re({
          top: i.value,
          left: s.value
        })
      }, AB, 4)
    ], 36));
  }
}), $B = /* @__PURE__ */ ve(DB, [["__scopeId", "data-v-ee7c000f"]]), PB = { class: "editable-input" }, RB = ["value"], OB = /* @__PURE__ */ ce({
  __name: "EditableInput",
  props: {
    value: {}
  },
  emits: ["colorChange"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = ne(() => {
      let i = "";
      return n.value.a < 1 ? i = He(n.value).toHex8String().toUpperCase() : i = He(n.value).toHexString().toUpperCase(), i.replace("#", "");
    }), r = (i) => {
      const s = i.target.value;
      if (s.length >= 6) {
        const l = He(s);
        l.isValid() && o("colorChange", l.toRgb());
      }
    };
    return (i, s) => (k(), R("div", PB, [
      C("input", {
        class: "input-content",
        value: a.value,
        onInput: s[0] || (s[0] = (l) => r(l))
      }, null, 40, RB)
    ]));
  }
}), NB = /* @__PURE__ */ ve(OB, [["__scopeId", "data-v-9a17323d"]]), BB = { class: "color-picker" }, FB = { class: "picker-saturation-wrap" }, zB = { class: "picker-controls" }, VB = { class: "picker-color-wrap" }, HB = { class: "picker-sliders" }, GB = { class: "picker-hue-wrap" }, UB = { class: "picker-alpha-wrap" }, WB = { class: "picker-field" }, XB = { class: "picker-presets" }, YB = ["onClick"], ZB = { class: "picker-gradient-presets" }, qB = ["onClick"], JB = { class: "picker-presets" }, KB = ["onClick"], QB = {
  key: 0,
  class: "recent-colors-title"
}, jB = { class: "picker-presets" }, eF = ["onClick"], Ym = "RECENT_COLORS", tF = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    modelValue: { default: "#e86b99" }
  },
  emits: ["update:modelValue"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = [
      ["#7f7f7f", "#f2f2f2"],
      ["#0d0d0d", "#808080"],
      ["#1c1a10", "#ddd8c3"],
      ["#0e243d", "#c6d9f0"],
      ["#233f5e", "#dae5f0"],
      ["#632623", "#f2dbdb"],
      ["#4d602c", "#eaf1de"],
      ["#3f3150", "#e6e0ec"],
      ["#1e5867", "#d9eef3"],
      ["#99490f", "#fee9da"]
    ], r = (w, x, S) => {
      const L = He(w).toRgb(), b = He(x).toRgb(), I = (b.r - L.r) / S, M = (b.g - L.g) / S, E = (b.b - L.b) / S, D = [];
      for (let O = 0; O < S; O++) {
        const N = He({
          r: L.r + I * O,
          g: L.g + M * O,
          b: L.b + E * O
        }).toRgbString();
        D.push(N);
      }
      return D;
    }, i = () => {
      const w = [];
      for (const x of a)
        w.push(r(x[1], x[0], 5));
      return w;
    }, s = ["#000000", "#ffffff", "#eeece1", "#1e497b", "#4e81bb", "#e2534d", "#9aba60", "#8165a0", "#47acc5", "#f9974c"], l = ["#c21401", "#ff1e02", "#ffc12a", "#ffff3a", "#90cf5b", "#00af57", "#00afee", "#0071be", "#00215f", "#72349d"], u = V(-1), c = V([]), d = ne({
      get() {
        return He(n.modelValue).toRgb();
      },
      set(w) {
        const x = `rgba(${[w.r, w.g, w.b, w.a].join(",")})`;
        o("update:modelValue", x);
      }
    }), f = i(), v = ne(() => `rgba(${[d.value.r, d.value.g, d.value.b, d.value.a].join(",")})`), p = (w) => {
      u.value = He(w).toHsl().h, o("update:modelValue", w);
    }, h = Qa(function() {
      const w = He(d.value).toRgbString();
      if (!c.value.includes(w)) {
        c.value = [w, ...c.value];
        const x = 10;
        c.value.length > x && (c.value = c.value.slice(0, x));
      }
    }, 300, { trailing: !0 });
    Qe(() => {
      const w = localStorage.getItem(Ym);
      w && (c.value = JSON.parse(w));
    }), Re(c, () => {
      const w = JSON.stringify(c.value);
      localStorage.setItem(Ym, w);
    });
    const m = (w) => {
      "h" in w ? (u.value = w.h, d.value = He(w).toRgb()) : (u.value = He(w).toHsl().h, d.value = w), h();
    }, g = () => {
      "EyeDropper" in window ? y() : _();
    }, y = () => {
      at.success("按 ESC 键关闭取色吸管", { duration: 0 }), new window.EyeDropper().open().then((x) => {
        const S = He(x.sRGBHex);
        u.value = S.toHsl().h, d.value = S.toRgb(), at.closeAll(), h();
      }).catch(() => {
        at.closeAll();
      });
    }, _ = () => {
      const w = document.querySelector(".canvas");
      if (!w) return;
      const x = document.createElement("div");
      x.style.cssText = "position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: 9999; cursor: wait;", document.body.appendChild(x);
      const S = document.createElement("div");
      S.style.cssText = "position: absolute; top: -100px; left: -100px; width: 16px; height: 16px; border: 1px solid #000; z-index: 999", x.appendChild(S);
      const { left: L, top: b, width: I, height: M } = w.getBoundingClientRect();
      X6(w, { filter: (D) => !(D.tagName && D.tagName.toUpperCase() === "FOREIGNOBJECT" || D.classList && D.classList.contains("operate")), fontEmbedCSS: "", width: I, height: M, canvasWidth: I, canvasHeight: M, pixelRatio: 1 }).then((D) => {
        D.style.cssText = `position: absolute; top: ${b}px; left: ${L}px; cursor: crosshair;`, x.style.cursor = "default", x.appendChild(D);
        const O = D.getContext("2d");
        if (!O) return;
        let N = "";
        const P = (H) => {
          const W = H.x, oe = H.y, te = W - L, le = oe - b, [J, Q, q, G] = O.getImageData(te, le, 1, 1).data;
          N = `rgba(${J}, ${Q}, ${q}, ${(G / 255).toFixed(2)})`, S.style.left = W + 10 + "px", S.style.top = oe + 10 + "px", S.style.backgroundColor = N;
        }, $ = () => {
          N = "", S.style.left = "-100px", S.style.top = "-100px", S.style.backgroundColor = "";
        }, z = (H) => {
          if (N && H.button === 0) {
            const W = He(N);
            u.value = W.toHsl().h, d.value = W.toRgb(), h();
          }
          document.body.removeChild(x), D.removeEventListener("mousemove", P), D.removeEventListener("mouseleave", $), window.removeEventListener("mousedown", z);
        };
        D.addEventListener("mousemove", P), D.addEventListener("mouseleave", $), window.addEventListener("mousedown", z);
      }).catch(() => {
        at.error("取色吸管初始化失败"), document.body.removeChild(x);
      });
    };
    return (w, x) => {
      const S = j("IconNeedle");
      return k(), R("div", BB, [
        C("div", FB, [
          T($B, {
            value: d.value,
            hue: u.value,
            onColorChange: x[0] || (x[0] = (L) => m(L))
          }, null, 8, ["value", "hue"])
        ]),
        C("div", zB, [
          C("div", VB, [
            C("div", {
              class: "picker-current-color",
              style: re({ background: v.value })
            }, null, 4),
            T(Sv)
          ]),
          C("div", HB, [
            C("div", GB, [
              T(LB, {
                value: d.value,
                hue: u.value,
                onColorChange: x[1] || (x[1] = (L) => m(L))
              }, null, 8, ["value", "hue"])
            ]),
            C("div", UB, [
              T(wB, {
                value: d.value,
                onColorChange: x[2] || (x[2] = (L) => m(L))
              }, null, 8, ["value"])
            ])
          ])
        ]),
        C("div", WB, [
          T(NB, {
            class: "input",
            value: d.value,
            onColorChange: x[3] || (x[3] = (L) => m(L))
          }, null, 8, ["value"]),
          C("div", {
            class: "straw",
            onClick: x[4] || (x[4] = (L) => g())
          }, [
            T(S)
          ]),
          C("div", {
            class: "transparent",
            onClick: x[5] || (x[5] = (L) => p("#00000000"))
          }, [
            T(Sv)
          ])
        ]),
        C("div", XB, [
          (k(), R(pe, null, xe(s, (L) => C("div", {
            class: "picker-presets-color",
            key: L,
            style: re({ background: L }),
            onClick: (b) => p(L)
          }, null, 12, YB)), 64))
        ]),
        C("div", ZB, [
          (k(!0), R(pe, null, xe(A(f), (L, b) => (k(), R("div", {
            class: "picker-gradient-col",
            key: b
          }, [
            (k(!0), R(pe, null, xe(L, (I) => (k(), R("div", {
              class: "picker-gradient-color",
              key: I,
              style: re({ background: I }),
              onClick: (M) => p(I)
            }, null, 12, qB))), 128))
          ]))), 128))
        ]),
        C("div", JB, [
          (k(), R(pe, null, xe(l, (L) => C("div", {
            key: L,
            class: "picker-presets-color",
            style: re({ background: L }),
            onClick: (b) => p(L)
          }, null, 12, KB)), 64))
        ]),
        c.value.length ? (k(), R("div", QB, "最近使用：")) : me("", !0),
        C("div", jB, [
          (k(!0), R(pe, null, xe(c.value, (L) => (k(), R("div", {
            key: L,
            class: "picker-presets-color alpha",
            onClick: (b) => p(L)
          }, [
            C("div", {
              class: "picker-presets-color-content",
              style: re({ background: L })
            }, null, 4)
          ], 8, eF))), 128))
        ])
      ]);
    };
  }
}), vt = /* @__PURE__ */ ve(tF, [["__scopeId", "data-v-407eef80"]]), nF = (t) => (Ze("data-v-0ae5f9b9"), t = t(), qe(), t), oF = /* @__PURE__ */ nF(() => /* @__PURE__ */ C("span", { class: "switch-core" }, null, -1)), aF = [
  oF
], rF = /* @__PURE__ */ ce({
  __name: "Switch",
  props: {
    value: { type: Boolean },
    disabled: { type: Boolean, default: !1 }
  },
  emits: ["update:value"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = () => {
      n.disabled || o("update:value", !n.value);
    };
    return (r, i) => (k(), R("span", {
      class: ye(["switch", {
        active: r.value,
        disabled: r.disabled
      }]),
      onClick: i[0] || (i[0] = (s) => a())
    }, aF, 2));
  }
}), Hn = /* @__PURE__ */ ve(rF, [["__scopeId", "data-v-0ae5f9b9"]]), bc = (t) => (Ze("data-v-d29e0148"), t = t(), qe(), t), iF = { class: "element-outline" }, sF = {
  key: 0,
  class: "row"
}, lF = /* @__PURE__ */ bc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "启用边框：", -1)), uF = {
  class: "switch-wrapper",
  style: { width: "60%" }
}, cF = { class: "row" }, dF = /* @__PURE__ */ bc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "边框样式：", -1)), fF = { class: "row" }, vF = /* @__PURE__ */ bc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "边框颜色：", -1)), pF = { class: "row" }, hF = /* @__PURE__ */ bc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "边框粗细：", -1)), mF = /* @__PURE__ */ ce({
  __name: "ElementOutline",
  props: {
    fixed: { type: Boolean, default: !1 }
  },
  setup(t) {
    const e = Ie(), { theme: n } = de(e), { handleElement: o } = de(Te()), a = V(), r = V(!1);
    Re(o, () => {
      o.value && (a.value = "outline" in o.value ? o.value.outline : void 0, r.value = !!a.value);
    }, { deep: !0, immediate: !0 });
    const { addHistorySnapshot: i } = Xe(), s = (u) => {
      if (!o.value) return;
      const c = { outline: { ...a.value, ...u } };
      e.updateElement({ id: o.value.id, props: c }), i();
    }, l = (u) => {
      if (o.value) {
        if (u) {
          const c = n.value.outline;
          e.updateElement({ id: o.value.id, props: { outline: c } });
        } else
          e.removeElementProps({ id: o.value.id, propName: "outline" });
        i();
      }
    };
    return (u, c) => (k(), R("div", iF, [
      u.fixed ? me("", !0) : (k(), R("div", sF, [
        lF,
        C("div", uF, [
          T(Hn, {
            value: r.value,
            "onUpdate:value": c[0] || (c[0] = (d) => l(d))
          }, null, 8, ["value"])
        ])
      ])),
      r.value && a.value ? (k(), R(pe, { key: 1 }, [
        C("div", cF, [
          dF,
          T(xt, {
            style: { width: "60%" },
            value: a.value.style || "",
            "onUpdate:value": c[1] || (c[1] = (d) => s({ style: d })),
            options: [
              { label: "实线边框", value: "solid" },
              { label: "虚线边框", value: "dashed" },
              { label: "点线边框", value: "dotted" }
            ]
          }, null, 8, ["value"])
        ]),
        C("div", fF, [
          vF,
          T(Be, {
            trigger: "click",
            style: { width: "60%" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: a.value.color,
                "onUpdate:modelValue": c[2] || (c[2] = (d) => s({ color: d }))
              }, null, 8, ["modelValue"])
            ]),
            default: F(() => [
              T(Et, {
                color: a.value.color || "#000"
              }, null, 8, ["color"])
            ]),
            _: 1
          })
        ]),
        C("div", pF, [
          hF,
          T(mn, {
            value: a.value.width || 0,
            "onUpdate:value": c[3] || (c[3] = (d) => s({ width: d })),
            style: { width: "60%" }
          }, null, 8, ["value"])
        ])
      ], 64)) : me("", !0)
    ]));
  }
}), Hs = /* @__PURE__ */ ve(mF, [["__scopeId", "data-v-d29e0148"]]), Gs = (t) => (Ze("data-v-c05b3547"), t = t(), qe(), t), gF = { class: "element-shadow" }, yF = { class: "row" }, _F = /* @__PURE__ */ Gs(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "启用阴影：", -1)), bF = {
  class: "switch-wrapper",
  style: { width: "60%" }
}, wF = { class: "row" }, xF = /* @__PURE__ */ Gs(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "水平阴影：", -1)), SF = { class: "row" }, IF = /* @__PURE__ */ Gs(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "垂直阴影：", -1)), CF = { class: "row" }, TF = /* @__PURE__ */ Gs(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "模糊距离：", -1)), LF = { class: "row" }, kF = /* @__PURE__ */ Gs(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "阴影颜色：", -1)), EF = /* @__PURE__ */ ce({
  __name: "ElementShadow",
  setup(t) {
    const e = Ie(), { theme: n } = de(e), { handleElement: o } = de(Te()), a = V(), r = V(!1);
    Re(o, () => {
      o.value && (a.value = "shadow" in o.value ? o.value.shadow : void 0, r.value = !!a.value);
    }, { deep: !0, immediate: !0 });
    const { addHistorySnapshot: i } = Xe(), s = (u) => {
      if (!o.value || !a.value) return;
      const c = { ...a.value, ...u };
      e.updateElement({ id: o.value.id, props: { shadow: c } }), i();
    }, l = (u) => {
      if (o.value) {
        if (u) {
          const c = n.value.shadow;
          e.updateElement({ id: o.value.id, props: { shadow: c } });
        } else
          e.removeElementProps({ id: o.value.id, propName: "shadow" });
        i();
      }
    };
    return (u, c) => (k(), R("div", gF, [
      C("div", yF, [
        _F,
        C("div", bF, [
          T(Hn, {
            value: r.value,
            "onUpdate:value": c[0] || (c[0] = (d) => l(d))
          }, null, 8, ["value"])
        ])
      ]),
      r.value && a.value ? (k(), R(pe, { key: 0 }, [
        C("div", wF, [
          xF,
          T(Jt, {
            style: { width: "60%" },
            min: -10,
            max: 10,
            step: 1,
            value: a.value.h,
            "onUpdate:value": c[1] || (c[1] = (d) => s({ h: d }))
          }, null, 8, ["value"])
        ]),
        C("div", SF, [
          IF,
          T(Jt, {
            style: { width: "60%" },
            min: -10,
            max: 10,
            step: 1,
            value: a.value.v,
            "onUpdate:value": c[2] || (c[2] = (d) => s({ v: d }))
          }, null, 8, ["value"])
        ]),
        C("div", CF, [
          TF,
          T(Jt, {
            style: { width: "60%" },
            min: 1,
            max: 20,
            step: 1,
            value: a.value.blur,
            "onUpdate:value": c[3] || (c[3] = (d) => s({ blur: d }))
          }, null, 8, ["value"])
        ]),
        C("div", LF, [
          kF,
          T(Be, {
            trigger: "click",
            style: { width: "60%" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: a.value.color,
                "onUpdate:modelValue": c[4] || (c[4] = (d) => s({ color: d }))
              }, null, 8, ["modelValue"])
            ]),
            default: F(() => [
              T(Et, {
                color: a.value.color
              }, null, 8, ["color"])
            ]),
            _: 1
          })
        ])
      ], 64)) : me("", !0)
    ]));
  }
}), wc = /* @__PURE__ */ ve(EF, [["__scopeId", "data-v-c05b3547"]]), MF = () => {
  const t = Te(), { richTextAttrs: e, textFormatPainter: n } = de(t);
  return {
    toggleTextFormatPainter: (a = !1) => {
      n.value ? t.setTextFormatPainter(null) : t.setTextFormatPainter({
        keep: a,
        bold: e.value.bold,
        em: e.value.em,
        underline: e.value.underline,
        strikethrough: e.value.strikethrough,
        color: e.value.color,
        backcolor: e.value.backcolor,
        fontname: e.value.fontname,
        fontsize: e.value.fontsize,
        align: e.value.align
      });
    }
  };
}, AF = { class: "text-color-block" }, DF = /* @__PURE__ */ ce({
  __name: "TextColorButton",
  props: {
    color: {}
  },
  setup(t) {
    return (e, n) => (k(), ie(_e, { class: "text-color-btn" }, {
      default: F(() => [
        Tt(e.$slots, "default", {}, void 0, !0),
        C("div", AF, [
          C("div", {
            class: "text-color-block-content",
            style: re({ backgroundColor: e.color })
          }, null, 4)
        ])
      ]),
      _: 3
    }));
  }
}), Kr = /* @__PURE__ */ ve(DF, [["__scopeId", "data-v-79358407"]]), kt = /* @__PURE__ */ ce({
  __name: "CheckboxButton",
  props: {
    checked: { type: Boolean, default: !1 },
    disabled: { type: Boolean, default: !1 }
  },
  setup(t) {
    return (e, n) => (k(), ie(_e, {
      checked: e.checked,
      disabled: e.disabled,
      type: "checkbox"
    }, {
      default: F(() => [
        Tt(e.$slots, "default")
      ]),
      _: 3
    }, 8, ["checked", "disabled"]));
  }
}), $F = /* @__PURE__ */ ce({
  __name: "ButtonGroup",
  props: {
    passive: { type: Boolean, default: !1 }
  },
  setup(t) {
    return (e, n) => (k(), R("div", {
      class: ye(["button-group", { passive: e.passive }]),
      ref: "groupRef"
    }, [
      Tt(e.$slots, "default", {}, void 0, !0)
    ], 2));
  }
}), ut = /* @__PURE__ */ ve($F, [["__scopeId", "data-v-22d6e97c"]]), PF = {}, RF = { class: "select-group" };
function OF(t, e) {
  return k(), R("div", RF, [
    Tt(t.$slots, "default", {}, void 0, !0)
  ]);
}
const Jp = /* @__PURE__ */ ve(PF, [["render", OF], ["__scopeId", "data-v-6a2eb73a"]]), ct = /* @__PURE__ */ ce({
  __name: "RadioButton",
  props: {
    value: {},
    disabled: { type: Boolean, default: !1 }
  },
  setup(t) {
    const { value: e, updateValue: n } = us(_g);
    return (o, a) => (k(), ie(_e, {
      checked: !o.disabled && A(e) === o.value,
      disabled: o.disabled,
      type: "radio",
      onClick: a[0] || (a[0] = (r) => !o.disabled && A(n)(o.value))
    }, {
      default: F(() => [
        Tt(o.$slots, "default")
      ]),
      _: 3
    }, 8, ["checked", "disabled"]));
  }
}), bo = /* @__PURE__ */ ce({
  __name: "RadioGroup",
  props: {
    value: {},
    disabled: { type: Boolean, default: !1 }
  },
  emits: ["update:value"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = (i) => {
      n.disabled || o("update:value", i);
    }, r = ne(() => n.value);
    return Es(_g, {
      value: r,
      updateValue: a
    }), (i, s) => (k(), ie(ut, { class: "radio-group" }, {
      default: F(() => [
        Tt(i.$slots, "default")
      ]),
      _: 3
    }));
  }
}), xc = (t) => (Ze("data-v-be4da0bf"), t = t(), qe(), t), NF = { class: "rich-text-base" }, BF = { class: "link-popover" }, FF = { class: "btns" }, zF = {
  class: "row",
  passive: ""
}, VF = { class: "list-wrap" }, HF = ["onClick"], GF = /* @__PURE__ */ xc(() => /* @__PURE__ */ C("span", null, null, -1)), UF = [
  GF
], WF = /* @__PURE__ */ xc(() => /* @__PURE__ */ C("div", { style: { width: "10px" } }, null, -1)), XF = { class: "list-wrap" }, YF = ["onClick"], ZF = /* @__PURE__ */ xc(() => /* @__PURE__ */ C("span", null, null, -1)), qF = [
  ZF
], JF = { class: "row" }, KF = /* @__PURE__ */ xc(() => /* @__PURE__ */ C("div", { style: { width: "10px" } }, null, -1)), QF = /* @__PURE__ */ ce({
  __name: "RichTextBase",
  setup(t) {
    const { richTextAttrs: e, availableFonts: n, textFormatPainter: o } = de(Te()), { toggleTextFormatPainter: a } = MF(), r = [
      "12px",
      "14px",
      "16px",
      "18px",
      "20px",
      "22px",
      "24px",
      "28px",
      "32px",
      "36px",
      "40px",
      "44px",
      "48px",
      "54px",
      "60px",
      "66px",
      "72px",
      "76px",
      "80px",
      "88px",
      "96px",
      "104px",
      "112px",
      "120px"
    ], i = (y, _) => {
      qt.emit(Ht.RICH_TEXT_COMMAND, { action: { command: y, value: _ } });
    }, s = V(!1), l = V(!1), u = V(!1), c = V(!1), d = V(["disc", "circle", "square"]), f = V(["decimal", "lower-roman", "upper-roman", "lower-alpha", "upper-alpha", "lower-greek"]), v = V(""), p = V(!1);
    Re(e, () => p.value = !1);
    const h = () => {
      v.value = e.value.link;
    }, m = (y) => {
      if (!y || !/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/.test(y)) return at.error("不是正确的网页链接地址");
      i("link", y), p.value = !1;
    }, g = () => {
      i("link"), p.value = !1;
    };
    return (y, _) => {
      const w = j("IconFontSize"), x = j("IconAddText"), S = j("IconText"), L = j("IconHighLight"), b = j("IconTextBold"), I = j("IconTextItalic"), M = j("IconTextUnderline"), E = j("IconStrikethrough"), D = j("IconCode"), O = j("IconQuote"), N = j("IconFormat"), P = j("IconFormatBrush"), $ = j("IconLinkOne"), z = j("IconAlignTextLeft"), H = j("IconAlignTextCenter"), W = j("IconAlignTextRight"), oe = j("IconAlignTextBoth"), te = j("IconList"), le = j("IconDown"), J = j("IconOrderedList"), Q = j("IconIndentLeft"), q = j("IconIndentRight"), G = it("tooltip");
      return k(), R("div", NF, [
        T(Jp, { class: "row" }, {
          default: F(() => [
            T(xt, {
              class: "font-select",
              style: { width: "60%" },
              value: A(e).fontname,
              search: "",
              searchLabel: "搜索字体",
              "onUpdate:value": _[0] || (_[0] = (B) => i("fontname", B)),
              options: [
                ...A(n),
                ...A(As)
              ]
            }, {
              icon: F(() => [
                T(w)
              ]),
              _: 1
            }, 8, ["value", "options"]),
            T(xt, {
              style: { width: "40%" },
              value: A(e).fontsize,
              search: "",
              searchLabel: "搜索字号",
              "onUpdate:value": _[1] || (_[1] = (B) => i("fontsize", B)),
              options: r.map((B) => ({
                label: B,
                value: B
              }))
            }, {
              icon: F(() => [
                T(x)
              ]),
              _: 1
            }, 8, ["value", "options"])
          ]),
          _: 1
        }),
        T(ut, {
          class: "row",
          passive: ""
        }, {
          default: F(() => [
            T(Be, {
              trigger: "click",
              style: { width: "30%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: A(e).color,
                  "onUpdate:modelValue": _[2] || (_[2] = (B) => i("color", B))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                ge((k(), ie(Kr, {
                  first: "",
                  color: A(e).color
                }, {
                  default: F(() => [
                    T(S)
                  ]),
                  _: 1
                }, 8, ["color"])), [
                  [G, "文字颜色"]
                ])
              ]),
              _: 1
            }),
            T(Be, {
              trigger: "click",
              style: { width: "30%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: A(e).backcolor,
                  "onUpdate:modelValue": _[3] || (_[3] = (B) => i("backcolor", B))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                ge((k(), ie(Kr, {
                  color: A(e).backcolor
                }, {
                  default: F(() => [
                    T(L)
                  ]),
                  _: 1
                }, 8, ["color"])), [
                  [G, "文字高亮"]
                ])
              ]),
              _: 1
            }),
            ge((k(), ie(_e, {
              class: "font-size-btn",
              style: { width: "20%" },
              onClick: _[4] || (_[4] = (B) => i("fontsize-add"))
            }, {
              default: F(() => [
                T(w),
                fe("+")
              ]),
              _: 1
            })), [
              [G, "增大字号"]
            ]),
            ge((k(), ie(_e, {
              last: "",
              class: "font-size-btn",
              style: { width: "20%" },
              onClick: _[5] || (_[5] = (B) => i("fontsize-reduce"))
            }, {
              default: F(() => [
                T(w),
                fe("-")
              ]),
              _: 1
            })), [
              [G, "减小字号"]
            ])
          ]),
          _: 1
        }),
        T(ut, { class: "row" }, {
          default: F(() => [
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: A(e).bold,
              onClick: _[6] || (_[6] = (B) => i("bold"))
            }, {
              default: F(() => [
                T(b)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [G, "加粗"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: A(e).em,
              onClick: _[7] || (_[7] = (B) => i("em"))
            }, {
              default: F(() => [
                T(I)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [G, "斜体"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: A(e).underline,
              onClick: _[8] || (_[8] = (B) => i("underline"))
            }, {
              default: F(() => [
                T(M)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [G, "下划线"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: A(e).strikethrough,
              onClick: _[9] || (_[9] = (B) => i("strikethrough"))
            }, {
              default: F(() => [
                T(E)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [G, "删除线"]
            ])
          ]),
          _: 1
        }),
        T(ut, { class: "row" }, {
          default: F(() => [
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: A(e).superscript,
              onClick: _[10] || (_[10] = (B) => i("superscript"))
            }, {
              default: F(() => [
                fe("A²")
              ]),
              _: 1
            }, 8, ["checked"])), [
              [G, "上标"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: A(e).subscript,
              onClick: _[11] || (_[11] = (B) => i("subscript"))
            }, {
              default: F(() => [
                fe("A₂")
              ]),
              _: 1
            }, 8, ["checked"])), [
              [G, "下标"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: A(e).code,
              onClick: _[12] || (_[12] = (B) => i("code"))
            }, {
              default: F(() => [
                T(D)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [G, "行内代码"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: A(e).blockquote,
              onClick: _[13] || (_[13] = (B) => i("blockquote"))
            }, {
              default: F(() => [
                T(O)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [G, "引用"]
            ])
          ]),
          _: 1
        }),
        T(ut, {
          class: "row",
          passive: ""
        }, {
          default: F(() => [
            ge((k(), ie(kt, {
              first: "",
              style: { flex: "1" },
              onClick: _[14] || (_[14] = (B) => i("clear"))
            }, {
              default: F(() => [
                T(N)
              ]),
              _: 1
            })), [
              [G, "清除格式"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: !!A(o),
              onClick: _[15] || (_[15] = (B) => A(a)()),
              onDblclick: _[16] || (_[16] = (B) => A(a)(!0))
            }, {
              default: F(() => [
                T(P)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [G, "格式刷（双击连续使用）"]
            ]),
            T(Be, {
              placement: "bottom-end",
              trigger: "click",
              value: p.value,
              "onUpdate:value": _[21] || (_[21] = (B) => p.value = B),
              style: { width: "33.33%" }
            }, {
              content: F(() => [
                C("div", BF, [
                  T(oa, {
                    value: v.value,
                    "onUpdate:value": _[17] || (_[17] = (B) => v.value = B),
                    placeholder: "请输入超链接"
                  }, null, 8, ["value"]),
                  C("div", FF, [
                    T(_e, {
                      size: "small",
                      disabled: !A(e).link,
                      onClick: _[18] || (_[18] = (B) => g()),
                      style: { "margin-right": "5px" }
                    }, {
                      default: F(() => [
                        fe("移除")
                      ]),
                      _: 1
                    }, 8, ["disabled"]),
                    T(_e, {
                      size: "small",
                      type: "primary",
                      onClick: _[19] || (_[19] = (B) => m(v.value))
                    }, {
                      default: F(() => [
                        fe("确认")
                      ]),
                      _: 1
                    })
                  ])
                ])
              ]),
              default: F(() => [
                ge((k(), ie(kt, {
                  last: "",
                  style: { width: "100%" },
                  checked: !!A(e).link,
                  onClick: _[20] || (_[20] = (B) => h())
                }, {
                  default: F(() => [
                    T($)
                  ]),
                  _: 1
                }, 8, ["checked"])), [
                  [G, "超链接"]
                ])
              ]),
              _: 1
            }, 8, ["value"])
          ]),
          _: 1
        }),
        T(Ve),
        T(bo, {
          class: "row",
          "button-style": "solid",
          value: A(e).align,
          "onUpdate:value": _[22] || (_[22] = (B) => i("align", B))
        }, {
          default: F(() => [
            ge((k(), ie(ct, {
              value: "left",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(z)
              ]),
              _: 1
            })), [
              [G, "左对齐"]
            ]),
            ge((k(), ie(ct, {
              value: "center",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(H)
              ]),
              _: 1
            })), [
              [G, "居中"]
            ]),
            ge((k(), ie(ct, {
              value: "right",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(W)
              ]),
              _: 1
            })), [
              [G, "右对齐"]
            ]),
            ge((k(), ie(ct, {
              value: "justify",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(oe)
              ]),
              _: 1
            })), [
              [G, "两端对齐"]
            ])
          ]),
          _: 1
        }, 8, ["value"]),
        C("div", zF, [
          T(ut, { style: { flex: "1" } }, {
            default: F(() => [
              ge((k(), ie(_e, {
                first: "",
                type: A(e).bulletList ? "primary" : "default",
                style: { flex: "1" },
                onClick: _[23] || (_[23] = (B) => i("bulletList"))
              }, {
                default: F(() => [
                  T(te)
                ]),
                _: 1
              }, 8, ["type"])), [
                [G, "项目符号"]
              ]),
              T(Be, {
                trigger: "click",
                value: s.value,
                "onUpdate:value": _[24] || (_[24] = (B) => s.value = B)
              }, {
                content: F(() => [
                  C("div", VF, [
                    (k(!0), R(pe, null, xe(d.value, (B) => (k(), R("ul", {
                      class: "list",
                      key: B,
                      style: re({ listStyleType: B }),
                      onClick: (ee) => i("bulletList", B)
                    }, [
                      (k(), R(pe, null, xe(3, (ee) => C("li", {
                        class: "list-item",
                        key: ee
                      }, UF)), 64))
                    ], 12, HF))), 128))
                  ])
                ]),
                default: F(() => [
                  T(_e, {
                    last: "",
                    class: "popover-btn"
                  }, {
                    default: F(() => [
                      T(le)
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["value"])
            ]),
            _: 1
          }),
          WF,
          T(ut, {
            style: { flex: "1" },
            passive: ""
          }, {
            default: F(() => [
              ge((k(), ie(_e, {
                first: "",
                type: A(e).orderedList ? "primary" : "default",
                style: { flex: "1" },
                onClick: _[25] || (_[25] = (B) => i("orderedList"))
              }, {
                default: F(() => [
                  T(J)
                ]),
                _: 1
              }, 8, ["type"])), [
                [G, "编号"]
              ]),
              T(Be, {
                trigger: "click",
                value: l.value,
                "onUpdate:value": _[26] || (_[26] = (B) => l.value = B)
              }, {
                content: F(() => [
                  C("div", XF, [
                    (k(!0), R(pe, null, xe(f.value, (B) => (k(), R("ul", {
                      class: "list",
                      key: B,
                      style: re({ listStyleType: B }),
                      onClick: (ee) => i("orderedList", B)
                    }, [
                      (k(), R(pe, null, xe(3, (ee) => C("li", {
                        class: "list-item",
                        key: ee
                      }, qF)), 64))
                    ], 12, YF))), 128))
                  ])
                ]),
                default: F(() => [
                  T(_e, {
                    last: "",
                    class: "popover-btn"
                  }, {
                    default: F(() => [
                      T(le)
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["value"])
            ]),
            _: 1
          })
        ]),
        C("div", JF, [
          T(ut, {
            style: { flex: "1" },
            passive: ""
          }, {
            default: F(() => [
              ge((k(), ie(_e, {
                first: "",
                style: { flex: "1" },
                onClick: _[27] || (_[27] = (B) => i("indent", "-1"))
              }, {
                default: F(() => [
                  T(Q)
                ]),
                _: 1
              })), [
                [G, "减小段落缩进"]
              ]),
              T(Be, {
                trigger: "click",
                value: u.value,
                "onUpdate:value": _[29] || (_[29] = (B) => u.value = B)
              }, {
                content: F(() => [
                  T($t, {
                    onClick: _[28] || (_[28] = (B) => i("textIndent", "-1"))
                  }, {
                    default: F(() => [
                      fe("减小首行缩进")
                    ]),
                    _: 1
                  })
                ]),
                default: F(() => [
                  T(_e, {
                    last: "",
                    class: "popover-btn"
                  }, {
                    default: F(() => [
                      T(le)
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["value"])
            ]),
            _: 1
          }),
          KF,
          T(ut, {
            style: { flex: "1" },
            passive: ""
          }, {
            default: F(() => [
              ge((k(), ie(_e, {
                first: "",
                style: { flex: "1" },
                onClick: _[30] || (_[30] = (B) => i("indent", "+1"))
              }, {
                default: F(() => [
                  T(q)
                ]),
                _: 1
              })), [
                [G, "增大段落缩进"]
              ]),
              T(Be, {
                trigger: "click",
                value: c.value,
                "onUpdate:value": _[32] || (_[32] = (B) => c.value = B)
              }, {
                content: F(() => [
                  T($t, {
                    onClick: _[31] || (_[31] = (B) => i("textIndent", "+1"))
                  }, {
                    default: F(() => [
                      fe("增大首行缩进")
                    ]),
                    _: 1
                  })
                ]),
                default: F(() => [
                  T(_e, {
                    last: "",
                    class: "popover-btn"
                  }, {
                    default: F(() => [
                      T(le)
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["value"])
            ]),
            _: 1
          })
        ])
      ]);
    };
  }
}), u4 = /* @__PURE__ */ ve(QF, [["__scopeId", "data-v-be4da0bf"]]), Sc = (t) => (Ze("data-v-c61c01b9"), t = t(), qe(), t), jF = { class: "text-style-panel" }, ez = { class: "preset-style" }, tz = ["onClick"], nz = { class: "row" }, oz = /* @__PURE__ */ Sc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "行间距：", -1)), az = { class: "row" }, rz = /* @__PURE__ */ Sc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "段间距：", -1)), iz = { class: "row" }, sz = /* @__PURE__ */ Sc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "字间距：", -1)), lz = { class: "row" }, uz = /* @__PURE__ */ Sc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "文本框填充：", -1)), cz = /* @__PURE__ */ ce({
  __name: "TextStylePanel",
  setup(t) {
    const e = [
      {
        label: "大标题",
        style: {
          fontSize: "26px",
          fontWeight: 700
        },
        cmd: [
          { command: "clear" },
          { command: "bold" },
          { command: "fontsize", value: "66px" },
          { command: "align", value: "center" }
        ]
      },
      {
        label: "小标题",
        style: {
          fontSize: "22px",
          fontWeight: 700
        },
        cmd: [
          { command: "clear" },
          { command: "bold" },
          { command: "fontsize", value: "40px" },
          { command: "align", value: "center" }
        ]
      },
      {
        label: "正文",
        style: {
          fontSize: "20px"
        },
        cmd: [
          { command: "clear" },
          { command: "fontsize", value: "20px" }
        ]
      },
      {
        label: "正文[小]",
        style: {
          fontSize: "18px"
        },
        cmd: [
          { command: "clear" },
          { command: "fontsize", value: "18px" }
        ]
      },
      {
        label: "注释 1",
        style: {
          fontSize: "16px",
          fontStyle: "italic"
        },
        cmd: [
          { command: "clear" },
          { command: "fontsize", value: "16px" },
          { command: "em" }
        ]
      },
      {
        label: "注释 2",
        style: {
          fontSize: "16px",
          textDecoration: "underline"
        },
        cmd: [
          { command: "clear" },
          { command: "fontsize", value: "16px" },
          { command: "underline" }
        ]
      }
    ], n = Te(), o = Ie(), { handleElement: a, handleElementId: r } = de(n), { addHistorySnapshot: i } = Xe(), s = (w) => {
      o.updateElement({ id: r.value, props: w }), i();
    }, l = V("#000"), u = V(), c = V(), d = V();
    Re(a, () => {
      !a.value || a.value.type !== "text" || (l.value = a.value.fill || "#fff", u.value = a.value.lineHeight || 1.5, c.value = a.value.wordSpace || 0, d.value = a.value.paragraphSpace === void 0 ? 5 : a.value.paragraphSpace, qt.emit(Ht.SYNC_RICH_TEXT_ATTRS_TO_STORE));
    }, { deep: !0, immediate: !0 });
    const f = [0.9, 1, 1.15, 1.2, 1.4, 1.5, 1.8, 2, 2.5, 3], v = [0, 1, 2, 3, 4, 5, 6, 8, 10], p = [0, 5, 10, 15, 20, 25, 30, 40, 50, 80], h = (w) => {
      s({ lineHeight: w });
    }, m = (w) => {
      s({ paragraphSpace: w });
    }, g = (w) => {
      s({ wordSpace: w });
    }, y = (w) => {
      s({ fill: w });
    }, _ = (w) => {
      qt.emit(Ht.RICH_TEXT_COMMAND, { action: w });
    };
    return (w, x) => {
      const S = j("IconRowHeight"), L = j("IconVerticalSpacingBetweenItems"), b = j("IconFullwidth");
      return k(), R("div", jF, [
        C("div", ez, [
          (k(), R(pe, null, xe(e, (I) => C("div", {
            class: "preset-style-item",
            key: I.label,
            style: re(I.style),
            onClick: (M) => _(I.cmd)
          }, Ee(I.label), 13, tz)), 64))
        ]),
        T(Ve),
        T(u4),
        T(Ve),
        C("div", nz, [
          oz,
          T(xt, {
            style: { width: "60%" },
            value: u.value || 1,
            "onUpdate:value": x[0] || (x[0] = (I) => h(I)),
            options: f.map((I) => ({
              label: I + "倍",
              value: I
            }))
          }, {
            icon: F(() => [
              T(S)
            ]),
            _: 1
          }, 8, ["value", "options"])
        ]),
        C("div", az, [
          rz,
          T(xt, {
            style: { width: "60%" },
            value: d.value || 0,
            "onUpdate:value": x[1] || (x[1] = (I) => m(I)),
            options: p.map((I) => ({
              label: I + "px",
              value: I
            }))
          }, {
            icon: F(() => [
              T(L)
            ]),
            _: 1
          }, 8, ["value", "options"])
        ]),
        C("div", iz, [
          sz,
          T(xt, {
            style: { width: "60%" },
            value: c.value || 0,
            "onUpdate:value": x[2] || (x[2] = (I) => g(I)),
            options: v.map((I) => ({
              label: I + "px",
              value: I
            }))
          }, {
            icon: F(() => [
              T(b)
            ]),
            _: 1
          }, 8, ["value", "options"])
        ]),
        C("div", lz, [
          uz,
          T(Be, {
            trigger: "click",
            style: { width: "60%" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: l.value,
                "onUpdate:modelValue": x[3] || (x[3] = (I) => y(I))
              }, null, 8, ["modelValue"])
            ]),
            default: F(() => [
              T(Et, { color: l.value }, null, 8, ["color"])
            ]),
            _: 1
          })
        ]),
        T(Ve),
        T(Hs),
        T(Ve),
        T(wc),
        T(Ve),
        T(l4)
      ]);
    };
  }
}), dz = /* @__PURE__ */ ve(cz, [["__scopeId", "data-v-c61c01b9"]]), fz = { class: "element-flip" }, vz = /* @__PURE__ */ ce({
  __name: "ElementFlip",
  setup(t) {
    const e = Ie(), { handleElement: n } = de(Te()), o = V(!1), a = V(!1);
    Re(n, () => {
      n.value && (n.value.type === "image" || n.value.type === "shape") && (o.value = !!n.value.flipH, a.value = !!n.value.flipV);
    }, { deep: !0, immediate: !0 });
    const { addHistorySnapshot: r } = Xe(), i = (s) => {
      n.value && (e.updateElement({ id: n.value.id, props: s }), r());
    };
    return (s, l) => {
      const u = j("IconFlipVertically"), c = j("IconFlipHorizontally");
      return k(), R("div", fz, [
        T(ut, { class: "row" }, {
          default: F(() => [
            T(kt, {
              style: { flex: "1" },
              checked: a.value,
              onClick: l[0] || (l[0] = (d) => i({ flipV: !a.value }))
            }, {
              default: F(() => [
                T(u),
                fe(" 垂直翻转")
              ]),
              _: 1
            }, 8, ["checked"]),
            T(kt, {
              style: { flex: "1" },
              checked: o.value,
              onClick: l[1] || (l[1] = (d) => i({ flipH: !o.value }))
            }, {
              default: F(() => [
                T(c),
                fe(" 水平翻转")
              ]),
              _: 1
            }, 8, ["checked"])
          ]),
          _: 1
        })
      ]);
    };
  }
}), c4 = /* @__PURE__ */ ve(vz, [["__scopeId", "data-v-97a958ef"]]), pz = (t) => (Ze("data-v-0742dbd7"), t = t(), qe(), t), hz = { class: "element-filter" }, mz = { class: "row" }, gz = /* @__PURE__ */ pz(() => /* @__PURE__ */ C("div", { style: { flex: "2" } }, "启用滤镜：", -1)), yz = {
  class: "switch-wrapper",
  style: { flex: "3" }
}, _z = { class: "presets" }, bz = ["onClick"], wz = ["src"], xz = { class: "preset-label" }, Sz = { class: "filter" }, Iz = { class: "name" }, Cz = /* @__PURE__ */ ce({
  __name: "ElementFilter",
  setup(t) {
    const e = [
      { label: "模糊", key: "blur", default: 0, value: 0, unit: "px", max: 10, step: 1 },
      { label: "亮度", key: "brightness", default: 100, value: 100, unit: "%", max: 200, step: 5 },
      { label: "对比度", key: "contrast", default: 100, value: 100, unit: "%", max: 200, step: 5 },
      { label: "灰度", key: "grayscale", default: 0, value: 0, unit: "%", max: 100, step: 5 },
      { label: "饱和度", key: "saturate", default: 100, value: 100, unit: "%", max: 200, step: 5 },
      { label: "色相", key: "hue-rotate", default: 0, value: 0, unit: "deg", max: 360, step: 10 },
      { label: "褐色", key: "sepia", default: 0, value: 0, unit: "%", max: 100, step: 5 },
      { label: "反转", key: "invert", default: 0, value: 0, unit: "%", max: 100, step: 5 },
      { label: "不透明度", key: "opacity", default: 100, value: 100, unit: "%", max: 100, step: 5 }
    ], n = [
      { label: "黑白", values: { grayscale: "100%" } },
      { label: "复古", values: { sepia: "50%", contrast: "110%", brightness: "90%" } },
      { label: "锐化", values: { contrast: "150%" } },
      { label: "柔和", values: { brightness: "110%", contrast: "90%" } },
      { label: "暖色", values: { sepia: "30%", saturate: "135%" } },
      { label: "明亮", values: { brightness: "110%", contrast: "110%" } },
      { label: "鲜艳", values: { saturate: "200%" } },
      { label: "模糊", values: { blur: "2px" } },
      { label: "反转", values: { invert: "100%" } }
    ], o = Ie(), { handleElement: a, handleElementId: r } = de(Te()), i = a, s = V(JSON.parse(JSON.stringify(e))), l = V(!1), { addHistorySnapshot: u } = Xe();
    Re(a, () => {
      if (!a.value || a.value.type !== "image") return;
      const p = a.value.filters;
      p ? (s.value = e.map((h) => {
        const m = p[h.key];
        return m ? { ...h, value: parseInt(m) } : h;
      }), l.value = !0) : (s.value = JSON.parse(JSON.stringify(e)), l.value = !1);
    }, { deep: !0, immediate: !0 });
    const c = (p) => {
      let h = "";
      const m = Object.keys(p);
      for (const g of m)
        h += `${g}(${p[g]}) `;
      return h;
    }, d = (p, h) => {
      const y = { ...a.value.filters || {}, [p.key]: `${h}${p.unit}` };
      o.updateElement({ id: r.value, props: { filters: y } }), u();
    }, f = (p) => {
      a.value && (p ? o.updateElement({ id: a.value.id, props: { filters: {} } }) : o.removeElementProps({ id: a.value.id, propName: "filters" }), u());
    }, v = (p) => {
      o.updateElement({ id: r.value, props: { filters: p } }), u();
    };
    return (p, h) => (k(), R("div", hz, [
      C("div", mz, [
        gz,
        C("div", yz, [
          T(Hn, {
            value: l.value,
            "onUpdate:value": h[0] || (h[0] = (m) => f(m))
          }, null, 8, ["value"])
        ])
      ]),
      l.value ? (k(), R(pe, { key: 0 }, [
        C("div", _z, [
          (k(), R(pe, null, xe(n, (m, g) => C("div", {
            class: "preset-item",
            key: g,
            onClick: (y) => v(m.values)
          }, [
            C("img", {
              src: A(i).src,
              alt: "",
              style: re({ filter: c(m.values) })
            }, null, 12, wz),
            C("span", xz, Ee(m.label), 1)
          ], 8, bz)), 64))
        ]),
        C("div", Sz, [
          (k(!0), R(pe, null, xe(s.value, (m) => (k(), R("div", {
            class: "filter-item",
            key: m.key
          }, [
            C("div", Iz, Ee(m.label), 1),
            T(Jt, {
              class: "filter-slider",
              max: m.max,
              min: 0,
              step: m.step,
              value: m.value,
              "onUpdate:value": (g) => d(m, g)
            }, null, 8, ["max", "step", "value", "onUpdate:value"])
          ]))), 128))
        ])
      ], 64)) : me("", !0)
    ]));
  }
}), Tz = /* @__PURE__ */ ve(Cz, [["__scopeId", "data-v-0742dbd7"]]), d4 = (t) => (Ze("data-v-07ebbf49"), t = t(), qe(), t), Lz = { class: "element-color-mask" }, kz = { class: "row" }, Ez = /* @__PURE__ */ d4(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "着色（蒙版）：", -1)), Mz = {
  class: "switch-wrapper",
  style: { width: "60%" }
}, Az = {
  key: 0,
  class: "row",
  style: { "margin-top": "15px" }
}, Dz = /* @__PURE__ */ d4(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "蒙版颜色：", -1)), Zm = "rgba(226, 83, 77, 0.5)", $z = /* @__PURE__ */ ce({
  __name: "ElementColorMask",
  setup(t) {
    const e = Ie(), { handleElement: n, handleElementId: o } = de(Te()), a = V(Zm), r = V(!1), { addHistorySnapshot: i } = Xe();
    Re(n, () => {
      !n.value || n.value.type !== "image" || (n.value.colorMask ? (a.value = n.value.colorMask, r.value = !0) : r.value = !1);
    }, { deep: !0, immediate: !0 });
    const s = (u) => {
      n.value && (u ? e.updateElement({ id: n.value.id, props: { colorMask: Zm } }) : e.removeElementProps({ id: n.value.id, propName: "colorMask" }), i());
    }, l = (u) => {
      e.updateElement({ id: o.value, props: { colorMask: u } }), i();
    };
    return (u, c) => (k(), R("div", Lz, [
      C("div", kz, [
        Ez,
        C("div", Mz, [
          T(Hn, {
            value: r.value,
            "onUpdate:value": c[0] || (c[0] = (d) => s(d))
          }, null, 8, ["value"])
        ])
      ]),
      r.value ? (k(), R("div", Az, [
        Dz,
        T(Be, {
          trigger: "click",
          style: { width: "60%" }
        }, {
          content: F(() => [
            T(vt, {
              modelValue: a.value,
              "onUpdate:modelValue": c[1] || (c[1] = (d) => l(d))
            }, null, 8, ["modelValue"])
          ]),
          default: F(() => [
            T(Et, { color: a.value }, null, 8, ["color"])
          ]),
          _: 1
        })
      ])) : me("", !0)
    ]));
  }
}), Pz = /* @__PURE__ */ ve($z, [["__scopeId", "data-v-07ebbf49"]]), f4 = (t) => (Ze("data-v-0ecbba6f"), t = t(), qe(), t), Rz = { class: "image-style-panel" }, Oz = { class: "clip" }, Nz = /* @__PURE__ */ f4(() => /* @__PURE__ */ C("div", { class: "title" }, "按形状：", -1)), Bz = { class: "shape-clip" }, Fz = ["onClick"], zz = {
  key: 0,
  class: "title"
}, Vz = { class: "row" }, Hz = /* @__PURE__ */ f4(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "圆角半径：", -1)), Gz = /* @__PURE__ */ ce({
  __name: "ImageStylePanel",
  setup(t) {
    const e = hf, n = [
      {
        label: "纵横比（正方形）",
        children: [
          { key: "1:1", ratio: 1 / 1 }
        ]
      },
      {
        label: "纵横比（纵向）",
        children: [
          { key: "2:3", ratio: 3 / 2 },
          { key: "3:4", ratio: 4 / 3 },
          { key: "3:5", ratio: 5 / 3 },
          { key: "4:5", ratio: 5 / 4 }
        ]
      },
      {
        label: "纵横比（横向）",
        children: [
          { key: "3:2", ratio: 2 / 3 },
          { key: "4:3", ratio: 3 / 4 },
          { key: "5:3", ratio: 3 / 5 },
          { key: "5:4", ratio: 4 / 5 }
        ]
      },
      {
        children: [
          { key: "16:9", ratio: 9 / 16 },
          { key: "16:10", ratio: 10 / 16 }
        ]
      }
    ], o = Te(), a = Ie(), { handleElement: r, handleElementId: i } = de(o), { currentSlide: s } = de(a), l = r, u = V(!1), { addHistorySnapshot: c } = Xe(), d = () => {
      o.setClipingImageElementId(i.value), u.value = !1;
    }, f = () => {
      const y = r.value, _ = y.width, w = y.height, x = y.left, S = y.top, L = y.clip ? y.clip.range : [[0, 0], [100, 100]], b = _ / ((L[1][0] - L[0][0]) / 100), I = w / ((L[1][1] - L[0][1]) / 100), M = x - b * (L[0][0] / 100), E = S - I * (L[0][1] / 100);
      return {
        originClipRange: L,
        originWidth: b,
        originHeight: I,
        originLeft: M,
        originTop: E
      };
    }, v = (y) => {
      r.value && (a.updateElement({ id: i.value, props: y }), c());
    }, p = (y, _ = 0) => {
      const w = r.value, {
        originClipRange: x,
        originWidth: S,
        originHeight: L,
        originLeft: b,
        originTop: I
      } = f();
      if (_) {
        const M = L / S, E = 0, D = 100;
        let O;
        if (M > _) {
          const N = (1 - _ / M) / 2 * 100;
          O = [[E, N], [D, D - N]];
        } else {
          const N = (1 - M / _) / 2 * 100;
          O = [[N, E], [D - N, D]];
        }
        v({
          clip: { ...w.clip, shape: y, range: O },
          left: b + S * (O[0][0] / 100),
          top: I + L * (O[0][1] / 100),
          width: S * (O[1][0] - O[0][0]) / 100,
          height: L * (O[1][1] - O[0][1]) / 100
        });
      } else {
        const M = { ...w.clip, shape: y, range: x };
        let E = { clip: M };
        y === "rect" && (E = { clip: M, radius: 0 }), v(E);
      }
      d();
    }, h = (y) => {
      const _ = y[0];
      _ && fa(_).then((w) => {
        v({ src: w });
      });
    }, m = () => {
      if (r.value.clip) {
        const {
          originWidth: _,
          originHeight: w,
          originLeft: x,
          originTop: S
        } = f();
        v({
          left: x,
          top: S,
          width: _,
          height: w
        });
      }
      a.removeElementProps({
        id: i.value,
        propName: ["clip", "outline", "flip", "shadow", "filters", "colorMask"]
      }), c();
    }, g = () => {
      const y = r.value, _ = {
        ...s.value.background,
        type: "image",
        image: {
          src: y.src,
          size: "cover"
        }
      };
      a.updateSlide({ background: _ }), c();
    };
    return (y, _) => {
      const w = j("IconTailoring"), x = j("IconDown"), S = j("IconTransform"), L = j("IconUndo"), b = j("IconTheme");
      return k(), R("div", Rz, [
        C("div", {
          class: "origin-image",
          style: re({ backgroundImage: `url(${A(l).src})` })
        }, null, 4),
        T(c4),
        T(ut, {
          class: "row",
          passive: ""
        }, {
          default: F(() => [
            T(_e, {
              first: "",
              style: { width: "calc(100% / 6 * 5)" },
              onClick: _[0] || (_[0] = (I) => d())
            }, {
              default: F(() => [
                T(w, { class: "btn-icon" }),
                fe(" 裁剪图片")
              ]),
              _: 1
            }),
            T(Be, {
              trigger: "click",
              value: u.value,
              "onUpdate:value": _[1] || (_[1] = (I) => u.value = I),
              style: { width: "calc(100% / 6)" }
            }, {
              content: F(() => [
                C("div", Oz, [
                  Nz,
                  C("div", Bz, [
                    (k(!0), R(pe, null, xe(A(e), (I, M) => (k(), R("div", {
                      class: "shape-clip-item",
                      key: M,
                      onClick: (E) => p(M)
                    }, [
                      C("div", {
                        class: "shape",
                        style: re({ clipPath: I.style })
                      }, null, 4)
                    ], 8, Fz))), 128))
                  ]),
                  (k(), R(pe, null, xe(n, (I) => (k(), R(pe, {
                    key: I.label
                  }, [
                    I.label ? (k(), R("div", zz, "按" + Ee(I.label) + "：", 1)) : me("", !0),
                    T(ut, { class: "row" }, {
                      default: F(() => [
                        (k(!0), R(pe, null, xe(I.children, (M) => (k(), ie(_e, {
                          style: { flex: "1" },
                          key: M.key,
                          onClick: (E) => p("rect", M.ratio)
                        }, {
                          default: F(() => [
                            fe(Ee(M.key), 1)
                          ]),
                          _: 2
                        }, 1032, ["onClick"]))), 128))
                      ]),
                      _: 2
                    }, 1024)
                  ], 64))), 64))
                ])
              ]),
              default: F(() => [
                T(_e, {
                  last: "",
                  class: "popover-btn",
                  style: { width: "100%" }
                }, {
                  default: F(() => [
                    T(x)
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["value"])
          ]),
          _: 1
        }),
        C("div", Vz, [
          Hz,
          T(mn, {
            value: A(l).radius || 0,
            "onUpdate:value": _[2] || (_[2] = (I) => v({ radius: I })),
            style: { width: "60%" }
          }, null, 8, ["value"])
        ]),
        T(Ve),
        T(Pz),
        T(Ve),
        T(Tz),
        T(Ve),
        T(Hs),
        T(Ve),
        T(wc),
        T(Ve),
        T(er, {
          onChange: _[3] || (_[3] = (I) => h(I))
        }, {
          default: F(() => [
            T(_e, { class: "full-width-btn" }, {
              default: F(() => [
                T(S, { class: "btn-icon" }),
                fe(" 替换图片")
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        T(_e, {
          class: "full-width-btn",
          onClick: _[4] || (_[4] = (I) => m())
        }, {
          default: F(() => [
            T(L, { class: "btn-icon" }),
            fe(" 重置样式")
          ]),
          _: 1
        }),
        T(_e, {
          class: "full-width-btn",
          onClick: _[5] || (_[5] = (I) => g())
        }, {
          default: F(() => [
            T(b, { class: "btn-icon" }),
            fe(" 设为背景")
          ]),
          _: 1
        })
      ]);
    };
  }
}), Uz = /* @__PURE__ */ ve(Gz, [["__scopeId", "data-v-0ecbba6f"]]), Wz = () => {
  const t = Te(), { shapeFormatPainter: e, handleElement: n } = de(t);
  return {
    toggleShapeFormatPainter: (a = !1) => {
      const r = n.value;
      e.value ? t.setShapeFormatPainter(null) : t.setShapeFormatPainter({
        keep: a,
        fill: r.fill,
        gradient: r.gradient,
        outline: r.outline,
        opacity: r.opacity,
        shadow: r.shadow
      });
    }
  };
}, Xz = { class: "gradient-bar" }, Yz = ["onMousedown", "onContextmenu"], Zz = /* @__PURE__ */ ce({
  __name: "GradientBar",
  props: {
    value: {}
  },
  emits: ["update:value", "update:index"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = V([]), r = V(), i = V(0);
    ks(() => {
      a.value = n.value, i.value > n.value.length - 1 && (i.value = 0);
    }), Re(i, () => {
      o("update:index", i.value);
    });
    const s = ne(() => `linear-gradient(to right, ${a.value.map((f) => `${f.color} ${f.pos}%`).join(",")})`), l = (d) => {
      if (n.value.length <= 2) return;
      d === i.value ? i.value = d - 1 < 0 ? 0 : d - 1 : i.value === n.value.length - 1 && (i.value = n.value.length - 2);
      const f = n.value.filter((v, p) => p !== d);
      o("update:value", f);
    }, u = (d) => {
      let f = !0;
      document.onmousemove = (v) => {
        if (!f || !r.value) return;
        let p = Math.round((v.clientX - r.value.getBoundingClientRect().left) / r.value.clientWidth * 100);
        p > 100 && (p = 100), p < 0 && (p = 0), a.value = a.value.map((h, m) => m === d ? { ...h, pos: p } : h);
      }, document.onmouseup = () => {
        f = !1;
        const v = a.value[d], p = [...a.value];
        p.splice(d, 1);
        let h = 0;
        for (let m = 0; m < p.length; m++)
          v.pos > p[m].pos && (h = m + 1);
        i.value = h, p.splice(h, 0, v), o("update:value", p), document.onmousemove = null, document.onmouseup = null;
      };
    }, c = (d) => {
      if (n.value.length >= 6 || !r.value) return;
      const f = Math.round((d.clientX - r.value.getBoundingClientRect().left) / r.value.clientWidth * 100);
      let v = 0;
      for (let m = 0; m < n.value.length; m++)
        f > n.value[m].pos && (v = m + 1);
      const p = n.value[v - 1] ? n.value[v - 1].color : n.value[v].color, h = [...n.value];
      h.splice(v, 0, { pos: f, color: p }), i.value = v, o("update:value", h);
    };
    return (d, f) => (k(), R("div", Xz, [
      C("div", {
        class: "bar",
        ref_key: "barRef",
        ref: r,
        style: re({ backgroundImage: s.value }),
        onClick: f[0] || (f[0] = (v) => c(v))
      }, null, 4),
      (k(!0), R(pe, null, xe(a.value, (v, p) => (k(), R("div", {
        class: ye(["point", { active: i.value === p }]),
        key: v.pos + "-" + p,
        style: re({
          backgroundColor: v.color,
          left: `calc(${v.pos}% - 5px)`
        }),
        onMousedown: Fe((h) => u(p), ["left"]),
        onContextmenu: Fe((h) => l(p), ["right"])
      }, null, 46, Yz))), 128))
    ]));
  }
}), v4 = /* @__PURE__ */ ve(Zz, [["__scopeId", "data-v-3fe7c583"]]), Ic = (t) => (Ze("data-v-da387ff7"), t = t(), qe(), t), qz = { class: "shape-style-panel" }, Jz = { class: "title" }, Kz = /* @__PURE__ */ Ic(() => /* @__PURE__ */ C("span", null, "点击替换形状", -1)), Qz = { class: "shape-pool" }, jz = { class: "shape-list" }, eV = { class: "row" }, tV = /* @__PURE__ */ Ic(() => /* @__PURE__ */ C("div", { style: { width: "10px" } }, null, -1)), nV = { class: "row" }, oV = { class: "row" }, aV = /* @__PURE__ */ Ic(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "当前色块：", -1)), rV = {
  key: 0,
  class: "row"
}, iV = /* @__PURE__ */ Ic(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "渐变角度：", -1)), sV = { class: "row" }, lV = /* @__PURE__ */ ce({
  __name: "ShapeStylePanel",
  setup(t) {
    const e = Te(), n = Ie(), { handleElement: o, handleElementId: a, shapeFormatPainter: r } = de(e), i = o, s = V("#000"), l = V({
      type: "linear",
      rotate: 0,
      colors: [
        { pos: 0, color: "#fff" },
        { pos: 100, color: "#fff" }
      ]
    }), u = V("fill"), c = V("middle"), d = V(0);
    Re(o, () => {
      var S, L;
      if (!o.value || o.value.type !== "shape") return;
      s.value = o.value.fill || "#fff";
      const x = [
        { pos: 0, color: s.value },
        { pos: 100, color: "#fff" }
      ];
      l.value = o.value.gradient || { type: "linear", rotate: 0, colors: x }, u.value = o.value.gradient ? "gradient" : "fill", c.value = ((L = (S = o.value) == null ? void 0 : S.text) == null ? void 0 : L.align) || "middle";
    }, { deep: !0, immediate: !0 });
    const { addHistorySnapshot: f } = Xe(), { toggleShapeFormatPainter: v } = Wz(), p = (x) => {
      n.updateElement({ id: a.value, props: x }), f();
    }, h = (x) => {
      x === "fill" ? (n.removeElementProps({ id: a.value, propName: "gradient" }), f()) : (d.value = 0, p({ gradient: l.value }));
    }, m = (x) => {
      if (!l.value) return;
      const S = { ...l.value, ...x };
      p({ gradient: S });
    }, g = (x) => {
      const S = l.value.colors.map((L, b) => b === d.value ? { ...L, color: x } : L);
      m({ colors: S });
    }, y = (x) => {
      p({ fill: x });
    }, _ = (x) => {
      const { width: S, height: L } = o.value, b = {
        viewBox: x.viewBox,
        path: x.path,
        special: x.special
      };
      if (x.pathFormula) {
        b.pathFormula = x.pathFormula, b.viewBox = [S, L];
        const I = or[x.pathFormula];
        "editable" in I ? (b.path = I.formula(S, L, I.defaultValue), b.keypoints = I.defaultValue) : b.path = I.formula(S, L);
      } else
        b.pathFormula = void 0, b.keypoints = void 0;
      p(b);
    }, w = (x) => {
      const S = o.value, L = {
        content: "",
        defaultFontName: "微软雅黑",
        defaultColor: "#000",
        align: "middle"
      }, b = S.text || L;
      p({ text: { ...b, align: x } });
    };
    return (x, S) => {
      var O;
      const L = j("IconDown"), b = j("IconAlignTextTopOne"), I = j("IconAlignTextMiddleOne"), M = j("IconAlignTextBottomOne"), E = j("IconFormatBrush"), D = it("tooltip");
      return k(), R("div", qz, [
        C("div", Jz, [
          Kz,
          T(L)
        ]),
        C("div", Qz, [
          (k(!0), R(pe, null, xe(A(Dv), (N) => (k(), R("div", {
            class: "category",
            key: N.type
          }, [
            C("div", jz, [
              (k(!0), R(pe, null, xe(N.children, (P, $) => (k(), ie(a4, {
                class: "shape-item",
                key: $,
                shape: P,
                onClick: (z) => _(P)
              }, null, 8, ["shape", "onClick"]))), 128))
            ])
          ]))), 128))
        ]),
        C("div", eV, [
          T(xt, {
            style: { flex: "1" },
            value: u.value,
            "onUpdate:value": S[0] || (S[0] = (N) => h(N)),
            options: [
              { label: "纯色填充", value: "fill" },
              { label: "渐变填充", value: "gradient" }
            ]
          }, null, 8, ["value"]),
          tV,
          u.value === "fill" ? (k(), ie(Be, {
            key: 0,
            trigger: "click",
            style: { flex: "1" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: s.value,
                "onUpdate:modelValue": S[1] || (S[1] = (N) => y(N))
              }, null, 8, ["modelValue"])
            ]),
            default: F(() => [
              T(Et, { color: s.value }, null, 8, ["color"])
            ]),
            _: 1
          })) : (k(), ie(xt, {
            key: 1,
            style: { flex: "1" },
            value: l.value.type,
            "onUpdate:value": S[2] || (S[2] = (N) => m({ type: N })),
            options: [
              { label: "线性渐变", value: "linear" },
              { label: "径向渐变", value: "radial" }
            ]
          }, null, 8, ["value"]))
        ]),
        u.value === "gradient" ? (k(), R(pe, { key: 0 }, [
          C("div", nV, [
            T(v4, {
              value: l.value.colors,
              "onUpdate:value": S[3] || (S[3] = (N) => m({ colors: N })),
              "onUpdate:index": S[4] || (S[4] = (N) => d.value = N)
            }, null, 8, ["value"])
          ]),
          C("div", oV, [
            aV,
            T(Be, {
              trigger: "click",
              style: { width: "60%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: l.value.colors[d.value].color,
                  "onUpdate:modelValue": S[5] || (S[5] = (N) => g(N))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                T(Et, {
                  color: l.value.colors[d.value].color
                }, null, 8, ["color"])
              ]),
              _: 1
            })
          ]),
          l.value.type === "linear" ? (k(), R("div", rV, [
            iV,
            T(Jt, {
              style: { width: "60%" },
              min: 0,
              max: 360,
              step: 15,
              value: l.value.rotate,
              "onUpdate:value": S[6] || (S[6] = (N) => m({ rotate: N }))
            }, null, 8, ["value"])
          ])) : me("", !0)
        ], 64)) : me("", !0),
        T(c4),
        T(Ve),
        (O = A(i).text) != null && O.content ? (k(), R(pe, { key: 1 }, [
          T(u4),
          T(Ve),
          T(bo, {
            class: "row",
            "button-style": "solid",
            value: c.value,
            "onUpdate:value": S[7] || (S[7] = (N) => w(N))
          }, {
            default: F(() => [
              ge((k(), ie(ct, {
                value: "top",
                style: { flex: "1" }
              }, {
                default: F(() => [
                  T(b)
                ]),
                _: 1
              })), [
                [D, "顶对齐"]
              ]),
              ge((k(), ie(ct, {
                value: "middle",
                style: { flex: "1" }
              }, {
                default: F(() => [
                  T(I)
                ]),
                _: 1
              })), [
                [D, "居中"]
              ]),
              ge((k(), ie(ct, {
                value: "bottom",
                style: { flex: "1" }
              }, {
                default: F(() => [
                  T(M)
                ]),
                _: 1
              })), [
                [D, "底对齐"]
              ])
            ]),
            _: 1
          }, 8, ["value"]),
          T(Ve)
        ], 64)) : me("", !0),
        T(Hs),
        T(Ve),
        T(wc),
        T(Ve),
        T(l4),
        T(Ve),
        C("div", sV, [
          ge((k(), ie(kt, {
            style: { flex: "1" },
            checked: !!A(r),
            onClick: S[8] || (S[8] = (N) => A(v)()),
            onDblclick: S[9] || (S[9] = (N) => A(v)(!0))
          }, {
            default: F(() => [
              T(E),
              fe(" 形状格式刷")
            ]),
            _: 1
          }, 8, ["checked"])), [
            [D, "双击连续使用"]
          ])
        ])
      ]);
    };
  }
}), uV = /* @__PURE__ */ ve(lV, [["__scopeId", "data-v-da387ff7"]]), Us = (t) => (Ze("data-v-549730c4"), t = t(), qe(), t), cV = { class: "line-style-panel" }, dV = { class: "row" }, fV = /* @__PURE__ */ Us(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "线条样式：", -1)), vV = { class: "row" }, pV = /* @__PURE__ */ Us(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "线条颜色：", -1)), hV = { class: "row" }, mV = /* @__PURE__ */ Us(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "线条宽度：", -1)), gV = { class: "row" }, yV = /* @__PURE__ */ Us(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "起点样式：", -1)), _V = { class: "row" }, bV = /* @__PURE__ */ Us(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "终点样式：", -1)), wV = { class: "row" }, xV = /* @__PURE__ */ ce({
  __name: "LineStylePanel",
  setup(t) {
    const e = Ie(), { handleElement: n } = de(Te()), o = n, { addHistorySnapshot: a } = Xe(), r = (i) => {
      n.value && (e.updateElement({ id: n.value.id, props: i }), a());
    };
    return (i, s) => {
      const l = j("IconSwitch");
      return k(), R("div", cV, [
        C("div", dV, [
          fV,
          T(xt, {
            style: { width: "60%" },
            value: A(o).style,
            "onUpdate:value": s[0] || (s[0] = (u) => r({ style: u })),
            options: [
              { label: "实线", value: "solid" },
              { label: "虚线", value: "dashed" },
              { label: "点线", value: "dotted" }
            ]
          }, null, 8, ["value"])
        ]),
        C("div", vV, [
          pV,
          T(Be, {
            trigger: "click",
            style: { width: "60%" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: A(o).color,
                "onUpdate:modelValue": s[1] || (s[1] = (u) => r({ color: u }))
              }, null, 8, ["modelValue"])
            ]),
            default: F(() => [
              T(Et, {
                color: A(o).color
              }, null, 8, ["color"])
            ]),
            _: 1
          })
        ]),
        C("div", hV, [
          mV,
          T(mn, {
            value: A(o).width,
            "onUpdate:value": s[2] || (s[2] = (u) => r({ width: u })),
            style: { width: "60%" }
          }, null, 8, ["value"])
        ]),
        C("div", gV, [
          yV,
          T(xt, {
            style: { width: "60%" },
            value: A(o).points[0],
            "onUpdate:value": s[3] || (s[3] = (u) => r({ points: [u, A(o).points[1]] })),
            options: [
              { label: "无", value: "" },
              { label: "箭头", value: "arrow" },
              { label: "圆点", value: "dot" }
            ]
          }, null, 8, ["value"])
        ]),
        C("div", _V, [
          bV,
          T(xt, {
            style: { width: "60%" },
            value: A(o).points[1],
            "onUpdate:value": s[4] || (s[4] = (u) => r({ points: [A(o).points[0], u] })),
            options: [
              { label: "无", value: "" },
              { label: "箭头", value: "arrow" },
              { label: "圆点", value: "dot" }
            ]
          }, null, 8, ["value"])
        ]),
        T(Ve),
        C("div", wV, [
          T(_e, {
            style: { flex: "1" },
            onClick: s[5] || (s[5] = (u) => r({ start: A(o).end, end: A(o).start }))
          }, {
            default: F(() => [
              T(l),
              fe(" 交换方向")
            ]),
            _: 1
          })
        ]),
        T(Ve),
        T(wc)
      ]);
    };
  }
}), SV = /* @__PURE__ */ ve(xV, [["__scopeId", "data-v-549730c4"]]), p4 = (t) => (Ze("data-v-89bf0ce6"), t = t(), qe(), t), IV = { class: "chart-data-editor" }, CV = { class: "editor-content" }, TV = { class: "handler" }, LV = { class: "col-header" }, kV = { class: "col-key" }, EV = { class: "row-header" }, MV = { class: "row-key" }, AV = /* @__PURE__ */ p4(() => /* @__PURE__ */ C("div", { class: "all-header" }, [
  /* @__PURE__ */ C("svg", {
    class: "triangle",
    width: "8",
    height: "8",
    viewBox: "0 0 8 8",
    xmlns: "http://www.w3.org/2000/svg"
  }, [
    /* @__PURE__ */ C("path", {
      d: "M8,0 L8,8 L0,8 L8,0",
      fill: "#ccc"
    })
  ])
], -1)), DV = { class: "range-box" }, $V = ["id", "onFocus", "onPaste"], PV = { class: "btns" }, RV = { class: "left" }, OV = /* @__PURE__ */ p4(() => /* @__PURE__ */ C("span", { class: "change" }, "点击更换", -1)), NV = { class: "right" }, BV = "ABCDEFGHIJKLMNOPQRSTUVWXYZ", Uo = 100, Wo = 32, FV = /* @__PURE__ */ ce({
  __name: "ChartDataEditor",
  props: {
    type: {},
    data: {}
  },
  emits: ["save", "close"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = ["bar", "column", "line", "area", "scatter", "pie", "ring", "radar"], r = V(!1), i = V([0, 0]), s = V({ width: 0, height: 0 }), l = V(null), u = V("bar"), c = ne(() => {
      const w = i.value[0] * Uo, x = i.value[1] * Wo;
      return [
        { type: "t", style: { width: w + "px" } },
        { type: "b", style: { top: x + "px", width: w + "px" } },
        { type: "l", style: { height: x + "px" } },
        { type: "r", style: { left: w + "px", height: x + "px" } }
      ];
    }), d = ne(() => {
      const w = i.value[0] * Uo, x = i.value[1] * Wo;
      return { left: w + "px", top: x + "px" };
    });
    Qe(() => {
      u.value = n.type;
      const w = [], { labels: x, legends: S, series: L } = n.data, b = x.length, I = L.length;
      w.push(["", ...S]);
      for (let M = 0; M < b; M++) {
        const E = [x[M]];
        for (let D = 0; D < I; D++)
          E.push(L[D][M] + "");
        w.push(E);
      }
      for (let M = 0; M < b + 1; M++)
        for (let E = 0; E < I + 1; E++) {
          const D = document.querySelector(`#cell-${M}-${E}`);
          D && (D.value = w[M][E] + "");
        }
      i.value = [I + 1, b + 1];
    });
    const v = () => {
      if (!l.value) return;
      const [w, x] = l.value, S = document.querySelector(`#cell-${w + 1}-${x}`);
      S && S.focus();
    }, p = (w) => {
      w.key.toUpperCase() === Me.ENTER && v();
    };
    Qe(() => {
      document.addEventListener("keydown", p);
    }), ht(() => {
      document.removeEventListener("keydown", p);
    });
    const h = () => {
      const [w, x] = i.value, S = [];
      let L = [], b = [];
      for (let I = 1; I < x; I++) {
        let M = `类别${I}`;
        const E = document.querySelector(`#cell-${I}-0`);
        E && E.value && (M = E.value), S.push(M);
      }
      for (let I = 1; I < w; I++) {
        let M = `系列${I}`;
        const E = document.querySelector(`#cell-0-${I}`);
        E && E.value && (M = E.value), L.push(M);
      }
      for (let I = 1; I < w; I++) {
        const M = [];
        for (let E = 1; E < x; E++) {
          const D = document.querySelector(`#cell-${E}-${I}`);
          let O = 0;
          D && D.value && +D.value && (O = +D.value), M.push(O);
        }
        b.push(M);
      }
      u.value === "scatter" && (L.length > 2 && (L = L.slice(0, 2), b = b.slice(0, 2)), L.length < 2 && (L.push("Y"), b.push(b[0]))), (u.value === "ring" || u.value === "pie") && L.length > 1 && (L = L.slice(0, 1), b = b.slice(0, 1)), o("save", { data: { labels: S, legends: L, series: b }, type: u.value });
    }, m = () => {
      for (let w = 1; w < 31; w++)
        for (let x = 1; x < 7; x++) {
          const S = document.querySelector(`#cell-${w}-${x}`);
          S && (S.value = "");
        }
    }, g = (w, x, S) => {
      if (w.preventDefault(), !w.clipboardData) return;
      const L = w.clipboardData.items[0];
      L && L.kind === "string" && L.type === "text/plain" && L.getAsString((b) => {
        if (typeof Mv(b) == "object") return;
        const M = hg(b);
        if (M) {
          const E = x + M.length, D = S + M[0].length;
          for (let O = x; O < E; O++)
            for (let N = S; N < D; N++) {
              const P = document.querySelector(`#cell-${O}-${N}`);
              P && (P.value = M[O - x][N - S]);
            }
        }
      });
    }, y = () => o("close"), _ = (w) => {
      let x = !0;
      const S = w.pageX, L = w.pageY, b = i.value[0] * Uo, I = i.value[1] * Wo;
      document.onmousemove = (M) => {
        if (!x) return;
        const E = M.pageX, D = M.pageY, O = E - S, N = D - L, P = b + O, $ = I + N;
        s.value = { width: P, height: $ };
      }, document.onmouseup = (M) => {
        x = !1, document.onmousemove = null, document.onmouseup = null;
        const E = M.pageX, D = M.pageY;
        if (S === E && L === D) return;
        let O = s.value.width, N = s.value.height;
        O % Uo > Uo * 0.5 && (O = O + (Uo - O % Uo)), N % Wo > Wo * 0.5 && (N = N + (Wo - N % Wo));
        let P = Math.round(N / Wo), $ = Math.round(O / Uo);
        P < 3 && (P = 3), $ < 2 && ($ = 2), i.value = [$, P], s.value = { width: 0, height: 0 };
      };
    };
    return (w, x) => (k(), R("div", IV, [
      C("div", CV, [
        C("div", TV, [
          C("div", LV, [
            (k(), R(pe, null, xe(7, (S) => C("div", {
              class: "col-header-item",
              key: S
            }, [
              C("div", kV, Ee(BV[S - 1]), 1)
            ])), 64))
          ]),
          C("div", EV, [
            (k(), R(pe, null, xe(31, (S) => C("div", {
              class: "row-header-item",
              key: S
            }, [
              C("div", MV, Ee(S), 1)
            ])), 64))
          ]),
          AV
        ]),
        C("div", DV, [
          C("div", {
            class: "temp-range",
            style: re({
              width: s.value.width + "px",
              height: s.value.height + "px"
            })
          }, null, 4),
          (k(!0), R(pe, null, xe(c.value, (S) => (k(), R("div", {
            class: ye(["range-line", S.type]),
            key: S.type,
            style: re(S.style)
          }, null, 6))), 128)),
          C("div", {
            class: "resizable",
            style: re(d.value),
            onMousedown: x[0] || (x[0] = Fe((S) => _(S), ["stop"]))
          }, null, 36)
        ]),
        C("table", null, [
          C("tbody", null, [
            (k(), R(pe, null, xe(31, (S) => C("tr", { key: S }, [
              (k(), R(pe, null, xe(7, (L) => C("td", {
                key: L,
                class: ye({ head: L === 1 && S <= i.value[1] || S === 1 && L <= i.value[0] })
              }, [
                S === 1 && L === 1 ? me("", !0) : (k(), R("input", {
                  key: 0,
                  class: ye(["item", { selected: S <= i.value[1] && L <= i.value[0] }]),
                  id: `cell-${S - 1}-${L - 1}`,
                  autocomplete: "off",
                  onFocus: (b) => l.value = [S - 1, L - 1],
                  onPaste: (b) => g(b, S - 1, L - 1)
                }, null, 42, $V))
              ], 2)), 64))
            ])), 64))
          ])
        ])
      ]),
      C("div", PV, [
        C("div", RV, [
          fe(" 图表类型：" + Ee(A(vf)[u.value]) + " ", 1),
          T(Be, {
            trigger: "click",
            placement: "top",
            value: r.value,
            "onUpdate:value": x[1] || (x[1] = (S) => r.value = S)
          }, {
            content: F(() => [
              (k(), R(pe, null, xe(a, (S) => T($t, {
                center: "",
                key: S,
                onClick: (L) => {
                  u.value = S, r.value = !1;
                }
              }, {
                default: F(() => [
                  fe(Ee(A(vf)[S]), 1)
                ]),
                _: 2
              }, 1032, ["onClick"])), 64))
            ]),
            default: F(() => [
              OV
            ]),
            _: 1
          }, 8, ["value"])
        ]),
        C("div", NV, [
          T(_e, {
            class: "btn",
            onClick: x[2] || (x[2] = (S) => y())
          }, {
            default: F(() => [
              fe("取消")
            ]),
            _: 1
          }),
          T(_e, {
            class: "btn",
            onClick: x[3] || (x[3] = (S) => m())
          }, {
            default: F(() => [
              fe("清空数据")
            ]),
            _: 1
          }),
          T(_e, {
            type: "primary",
            class: "btn",
            onClick: x[4] || (x[4] = (S) => h())
          }, {
            default: F(() => [
              fe("确认")
            ]),
            _: 1
          })
        ])
      ])
    ]));
  }
}), zV = /* @__PURE__ */ ve(FV, [["__scopeId", "data-v-89bf0ce6"]]), VV = (t) => (Ze("data-v-714bf49f"), t = t(), qe(), t), HV = /* @__PURE__ */ VV(() => /* @__PURE__ */ C("span", { class: "checkbox-input" }, null, -1)), GV = ["checked"], UV = { class: "checkbox-label" }, WV = /* @__PURE__ */ ce({
  __name: "Checkbox",
  props: {
    value: { type: Boolean },
    disabled: { type: Boolean, default: !1 }
  },
  emits: ["update:value"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = (r) => {
      n.disabled || o("update:value", r.target.checked);
    };
    return (r, i) => (k(), R("label", {
      class: ye(["checkbox", {
        checked: r.value,
        disabled: r.disabled
      }]),
      onChange: i[0] || (i[0] = (s) => a(s))
    }, [
      HV,
      C("input", {
        class: "checkbox-original",
        type: "checkbox",
        checked: r.value
      }, null, 8, GV),
      C("span", UV, [
        Tt(r.$slots, "default", {}, void 0, !0)
      ])
    ], 34));
  }
}), $r = /* @__PURE__ */ ve(WV, [["__scopeId", "data-v-714bf49f"]]), h4 = (t) => (Ze("data-v-e8d419d8"), t = t(), qe(), t), XV = { class: "chart-style-panel" }, YV = { class: "row" }, ZV = { class: "row" }, qV = /* @__PURE__ */ h4(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "背景填充：", -1)), JV = { class: "row" }, KV = /* @__PURE__ */ h4(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "文字颜色：", -1)), QV = { style: { width: "40%" } }, jV = {
  class: "color-btn-wrap",
  style: { width: "100%" }
}, eH = ["onClick"], tH = { class: "preset-themes" }, nH = ["onClick", "onMouseenter"], oH = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = Te(), n = Ie(), { handleElement: o, handleElementId: a } = de(e), { theme: r } = de(n), i = o, s = V(!1), l = V(!1), u = V([-1, -1]), { addHistorySnapshot: c } = Xe(), d = V("#000"), f = V([]), v = V(""), p = V(!1), h = V(!1);
    Re(o, () => {
      if (!(!o.value || o.value.type !== "chart")) {
        if (d.value = o.value.fill || "#fff", p.value = !1, h.value = !1, o.value.options) {
          const {
            lineSmooth: M,
            stack: E
          } = o.value.options;
          M !== void 0 && (p.value = M), E !== void 0 && (h.value = E);
        }
        f.value = o.value.themeColors, v.value = o.value.textColor || "#333";
      }
    }, { deep: !0, immediate: !0 });
    const m = (M) => {
      n.updateElement({ id: a.value, props: M }), c();
    }, g = (M) => {
      s.value = !1, m({ data: M.data, chartType: M.type });
    }, y = (M) => {
      m({ fill: M });
    }, _ = (M) => {
      const D = { ...o.value.options, ...M };
      m({ options: D });
    }, w = (M, E) => {
      const D = {
        themeColors: f.value.map((O, N) => N === E ? M : O)
      };
      m(D);
    }, x = () => {
      const M = {
        themeColors: [...f.value, r.value.themeColor]
      };
      m(M);
    }, S = (M, E) => {
      const D = M.slice(0, E + 1);
      m({ themeColors: D }), l.value = !1;
    }, L = (M) => {
      const E = {
        themeColors: f.value.filter((D, O) => O !== M)
      };
      m(E);
    }, b = (M) => {
      m({ textColor: M });
    }, I = () => s.value = !0;
    return qt.on(Ht.OPEN_CHART_DATA_EDITOR, I), ht(() => {
      qt.off(Ht.OPEN_CHART_DATA_EDITOR, I);
    }), (M, E) => {
      const D = j("IconEdit"), O = j("IconCloseSmall"), N = j("IconPlus"), P = it("tooltip");
      return k(), R("div", XV, [
        T(_e, {
          class: "full-width-btn",
          onClick: E[0] || (E[0] = ($) => s.value = !0)
        }, {
          default: F(() => [
            T(D, { class: "btn-icon" }),
            fe(" 编辑图表 ")
          ]),
          _: 1
        }),
        T(Ve),
        ["bar", "column", "area", "line"].includes(A(i).chartType) ? (k(), R(pe, { key: 0 }, [
          C("div", YV, [
            T($r, {
              "onUpdate:value": E[1] || (E[1] = ($) => _({ stack: $ })),
              value: h.value,
              style: { flex: "2" }
            }, {
              default: F(() => [
                fe("堆叠样式")
              ]),
              _: 1
            }, 8, ["value"]),
            A(i).chartType === "line" ? (k(), ie($r, {
              key: 0,
              "onUpdate:value": E[2] || (E[2] = ($) => _({ lineSmooth: $ })),
              value: p.value,
              style: { flex: "3" }
            }, {
              default: F(() => [
                fe("使用平滑曲线")
              ]),
              _: 1
            }, 8, ["value"])) : me("", !0)
          ]),
          T(Ve)
        ], 64)) : me("", !0),
        C("div", ZV, [
          qV,
          T(Be, {
            trigger: "click",
            style: { width: "60%" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: d.value,
                "onUpdate:modelValue": E[3] || (E[3] = ($) => y($))
              }, null, 8, ["modelValue"])
            ]),
            default: F(() => [
              T(Et, { color: d.value }, null, 8, ["color"])
            ]),
            _: 1
          })
        ]),
        C("div", JV, [
          KV,
          T(Be, {
            trigger: "click",
            style: { width: "60%" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: v.value,
                "onUpdate:modelValue": E[4] || (E[4] = ($) => b($))
              }, null, 8, ["modelValue"])
            ]),
            default: F(() => [
              T(Et, { color: v.value }, null, 8, ["color"])
            ]),
            _: 1
          })
        ]),
        T(Ve),
        (k(!0), R(pe, null, xe(f.value, ($, z) => (k(), R("div", {
          class: "row",
          key: z
        }, [
          C("div", QV, Ee(z === 0 ? "主题配色：" : ""), 1),
          T(Be, {
            trigger: "click",
            style: { width: "60%" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: $,
                "onUpdate:modelValue": (H) => w(H, z)
              }, null, 8, ["modelValue", "onUpdate:modelValue"])
            ]),
            default: F(() => [
              C("div", jV, [
                T(Et, { color: $ }, null, 8, ["color"]),
                z !== 0 ? ge((k(), R("div", {
                  key: 0,
                  class: "delete-color-btn",
                  onClick: Fe((H) => L(z), ["stop"])
                }, [
                  T(O)
                ], 8, eH)), [
                  [P, "删除"]
                ]) : me("", !0)
              ])
            ]),
            _: 2
          }, 1024)
        ]))), 128)),
        T(ut, {
          class: "row",
          passive: ""
        }, {
          default: F(() => [
            T(Be, {
              trigger: "click",
              open: l.value,
              "onUpdate:open": E[6] || (E[6] = ($) => l.value = $),
              style: { width: "40%" }
            }, {
              content: F(() => [
                C("div", tH, [
                  (k(!0), R(pe, null, xe(A(Mb), ($, z) => (k(), R("div", {
                    class: "preset-theme",
                    key: z
                  }, [
                    (k(!0), R(pe, null, xe($, (H, W) => (k(), R("div", {
                      class: ye(["preset-theme-color", { select: u.value[0] === z && W <= u.value[1] }]),
                      key: H,
                      style: re({ backgroundColor: H }),
                      onClick: (oe) => S($, W),
                      onMouseenter: (oe) => u.value = [z, W],
                      onMouseleave: E[5] || (E[5] = (oe) => u.value = [-1, -1])
                    }, null, 46, nH))), 128))
                  ]))), 128))
                ])
              ]),
              default: F(() => [
                T(_e, {
                  first: "",
                  style: { width: "100%" }
                }, {
                  default: F(() => [
                    fe("推荐主题")
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["open"]),
            T(_e, {
              last: "",
              disabled: f.value.length >= 10,
              style: { width: "60%" },
              onClick: E[7] || (E[7] = ($) => x())
            }, {
              default: F(() => [
                T(N, { class: "btn-icon" }),
                fe(" 添加主题色 ")
              ]),
              _: 1
            }, 8, ["disabled"])
          ]),
          _: 1
        }),
        T(Ve),
        T(Hs),
        T(si, {
          visible: s.value,
          "onUpdate:visible": E[10] || (E[10] = ($) => s.value = $),
          width: 640
        }, {
          default: F(() => [
            T(zV, {
              type: A(i).chartType,
              data: A(i).data,
              onClose: E[8] || (E[8] = ($) => s.value = !1),
              onSave: E[9] || (E[9] = ($) => g($))
            }, null, 8, ["type", "data"])
          ]),
          _: 1
        }, 8, ["visible"])
      ]);
    };
  }
}), aH = /* @__PURE__ */ ve(oH, [["__scopeId", "data-v-e8d419d8"]]), Cc = (t) => (Ze("data-v-b52bc963"), t = t(), qe(), t), rH = { class: "table-style-panel" }, iH = { class: "row" }, sH = /* @__PURE__ */ Cc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "行数：", -1)), lH = {
  class: "set-count",
  style: { width: "60%" }
}, uH = { class: "count-text" }, cH = { class: "row" }, dH = /* @__PURE__ */ Cc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "列数：", -1)), fH = {
  class: "set-count",
  style: { width: "60%" }
}, vH = { class: "count-text" }, pH = { class: "row theme-switch" }, hH = /* @__PURE__ */ Cc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "启用主题表格：", -1)), mH = {
  class: "switch-wrapper",
  style: { width: "60%" }
}, gH = { class: "row" }, yH = { class: "row" }, _H = { class: "row" }, bH = /* @__PURE__ */ Cc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "主题颜色：", -1)), wH = /* @__PURE__ */ ce({
  __name: "TableStylePanel",
  setup(t) {
    const e = Ie(), { handleElement: n, handleElementId: o, selectedTableCells: a, availableFonts: r } = de(Te()), i = ne(() => e.theme.themeColor), s = [
      "12px",
      "14px",
      "16px",
      "18px",
      "20px",
      "22px",
      "24px",
      "28px",
      "32px"
    ], l = V({
      bold: !1,
      em: !1,
      underline: !1,
      strikethrough: !1,
      color: "#000",
      backcolor: "",
      fontsize: "12px",
      fontname: "微软雅黑",
      align: "left"
    }), u = V(), c = V(!1), d = V(0), f = V(0), v = V(0), p = V(0);
    Re(n, () => {
      !n.value || n.value.type !== "table" || (u.value = n.value.theme, c.value = !!u.value, d.value = n.value.data.length, f.value = n.value.data[0].length, v.value = n.value.data.length, p.value = n.value.data[0].length);
    }, { deep: !0, immediate: !0 });
    const { addHistorySnapshot: h } = Xe(), m = () => {
      if (!n.value || n.value.type !== "table") return;
      let L = 0, b = 0;
      if (a.value.length) {
        const M = a.value[0];
        L = +M.split("_")[0], b = +M.split("_")[1];
      }
      const I = n.value.data[L][b].style;
      I ? l.value = {
        bold: !!I.bold,
        em: !!I.em,
        underline: !!I.underline,
        strikethrough: !!I.strikethrough,
        color: I.color || "#000",
        backcolor: I.backcolor || "",
        fontsize: I.fontsize || "12px",
        fontname: I.fontname || "微软雅黑",
        align: I.align || "left"
      } : l.value = {
        bold: !1,
        em: !1,
        underline: !1,
        strikethrough: !1,
        color: "#000",
        backcolor: "",
        fontsize: "12px",
        fontname: "微软雅黑",
        align: "left"
      };
    };
    Qe(() => {
      a.value.length && m();
    }), Re(a, m);
    const g = (L) => {
      e.updateElement({ id: o.value, props: L }), h();
    }, y = (L) => {
      const b = n.value, I = JSON.parse(JSON.stringify(b.data));
      for (let M = 0; M < I.length; M++)
        for (let E = 0; E < I[M].length; E++)
          if (!a.value.length || a.value.includes(`${M}_${E}`)) {
            const D = I[M][E].style || {};
            I[M][E].style = { ...D, ...L };
          }
      g({ data: I }), m();
    }, _ = (L) => {
      if (!u.value) return;
      const b = { ...u.value, ...L };
      g({ theme: b });
    }, w = (L) => {
      if (L) {
        const b = {
          theme: {
            color: i.value,
            rowHeader: !0,
            rowFooter: !1,
            colHeader: !1,
            colFooter: !1
          }
        };
        g(b);
      } else
        e.removeElementProps({ id: o.value, propName: "theme" }), h();
    }, x = (L) => {
      const b = n.value, I = b.data.length;
      if (L > I) {
        const M = new Array(f.value).fill({ id: tt(10), colspan: 1, rowspan: 1, text: "" }), E = new Array(L - I).fill(M), D = JSON.parse(JSON.stringify(b.data));
        D.push(...E), g({ data: D });
      } else {
        const M = b.data.slice(0, L);
        g({ data: M });
      }
    }, S = (L) => {
      const b = n.value, I = b.data[0].length;
      let M = b.data, E = b.colWidths.map((P) => P * b.width);
      if (L > I) {
        M = M.map(($) => {
          const z = new Array(L - I).fill({ id: tt(10), colspan: 1, rowspan: 1, text: "" });
          return $.push(...z), $;
        });
        const P = new Array(L - I).fill(100);
        E.push(...P);
      } else
        M = M.map((P) => P.slice(0, L)), E = E.slice(0, L);
      const D = E.reduce((P, $) => P + $), O = E.map((P) => P / D);
      g({
        width: D,
        data: M,
        colWidths: O
      });
    };
    return (L, b) => {
      const I = j("IconFontSize"), M = j("IconAddText"), E = j("IconText"), D = j("IconFill"), O = j("IconTextBold"), N = j("IconTextItalic"), P = j("IconTextUnderline"), $ = j("IconStrikethrough"), z = j("IconAlignTextLeft"), H = j("IconAlignTextCenter"), W = j("IconAlignTextRight"), oe = j("IconAlignTextBoth"), te = j("IconMinus"), le = j("IconPlus"), J = it("tooltip");
      return k(), R("div", rH, [
        T(Jp, { class: "row" }, {
          default: F(() => [
            T(xt, {
              style: { width: "50%" },
              value: l.value.fontname,
              search: "",
              searchLabel: "搜索字体",
              "onUpdate:value": b[0] || (b[0] = (Q) => y({ fontname: Q })),
              options: [
                ...A(r),
                ...A(As)
              ]
            }, {
              icon: F(() => [
                T(I)
              ]),
              _: 1
            }, 8, ["value", "options"]),
            T(xt, {
              style: { width: "50%" },
              value: l.value.fontsize,
              search: "",
              searchLabel: "搜索字号",
              "onUpdate:value": b[1] || (b[1] = (Q) => y({ fontsize: Q })),
              options: s.map((Q) => ({
                label: Q,
                value: Q
              }))
            }, {
              icon: F(() => [
                T(M)
              ]),
              _: 1
            }, 8, ["value", "options"])
          ]),
          _: 1
        }),
        T(ut, {
          class: "row",
          passive: ""
        }, {
          default: F(() => [
            T(Be, {
              trigger: "click",
              style: { width: "50%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: l.value.color,
                  "onUpdate:modelValue": b[2] || (b[2] = (Q) => y({ color: Q }))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                ge((k(), ie(Kr, {
                  first: "",
                  color: l.value.color
                }, {
                  default: F(() => [
                    T(E)
                  ]),
                  _: 1
                }, 8, ["color"])), [
                  [J, "文字颜色"]
                ])
              ]),
              _: 1
            }),
            T(Be, {
              trigger: "click",
              style: { width: "50%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: l.value.backcolor,
                  "onUpdate:modelValue": b[3] || (b[3] = (Q) => y({ backcolor: Q }))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                ge((k(), ie(Kr, {
                  last: "",
                  color: l.value.backcolor
                }, {
                  default: F(() => [
                    T(D)
                  ]),
                  _: 1
                }, 8, ["color"])), [
                  [J, "单元格填充"]
                ])
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        T(ut, { class: "row" }, {
          default: F(() => [
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: l.value.bold,
              onClick: b[4] || (b[4] = (Q) => y({ bold: !l.value.bold }))
            }, {
              default: F(() => [
                T(O)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [J, "加粗"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: l.value.em,
              onClick: b[5] || (b[5] = (Q) => y({ em: !l.value.em }))
            }, {
              default: F(() => [
                T(N)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [J, "斜体"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: l.value.underline,
              onClick: b[6] || (b[6] = (Q) => y({ underline: !l.value.underline }))
            }, {
              default: F(() => [
                T(P)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [J, "下划线"]
            ]),
            ge((k(), ie(kt, {
              style: { flex: "1" },
              checked: l.value.strikethrough,
              onClick: b[7] || (b[7] = (Q) => y({ strikethrough: !l.value.strikethrough }))
            }, {
              default: F(() => [
                T($)
              ]),
              _: 1
            }, 8, ["checked"])), [
              [J, "删除线"]
            ])
          ]),
          _: 1
        }),
        T(bo, {
          class: "row",
          "button-style": "solid",
          value: l.value.align,
          "onUpdate:value": b[8] || (b[8] = (Q) => y({ align: Q }))
        }, {
          default: F(() => [
            ge((k(), ie(ct, {
              value: "left",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(z)
              ]),
              _: 1
            })), [
              [J, "左对齐"]
            ]),
            ge((k(), ie(ct, {
              value: "center",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(H)
              ]),
              _: 1
            })), [
              [J, "居中"]
            ]),
            ge((k(), ie(ct, {
              value: "right",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(W)
              ]),
              _: 1
            })), [
              [J, "右对齐"]
            ]),
            ge((k(), ie(ct, {
              value: "justify",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(oe)
              ]),
              _: 1
            })), [
              [J, "两端对齐"]
            ])
          ]),
          _: 1
        }, 8, ["value"]),
        T(Ve),
        T(Hs, { fixed: !0 }),
        T(Ve),
        C("div", iH, [
          sH,
          C("div", lH, [
            T(_e, {
              class: "btn",
              disabled: d.value <= 1,
              onClick: b[9] || (b[9] = (Q) => x(d.value - 1))
            }, {
              default: F(() => [
                T(te)
              ]),
              _: 1
            }, 8, ["disabled"]),
            C("div", uH, Ee(d.value), 1),
            T(_e, {
              class: "btn",
              disabled: d.value >= 30,
              onClick: b[10] || (b[10] = (Q) => x(d.value + 1))
            }, {
              default: F(() => [
                T(le)
              ]),
              _: 1
            }, 8, ["disabled"])
          ])
        ]),
        C("div", cH, [
          dH,
          C("div", fH, [
            T(_e, {
              class: "btn",
              disabled: f.value <= 1,
              onClick: b[11] || (b[11] = (Q) => S(f.value - 1))
            }, {
              default: F(() => [
                T(te)
              ]),
              _: 1
            }, 8, ["disabled"]),
            C("div", vH, Ee(f.value), 1),
            T(_e, {
              class: "btn",
              disabled: f.value >= 30,
              onClick: b[12] || (b[12] = (Q) => S(f.value + 1))
            }, {
              default: F(() => [
                T(le)
              ]),
              _: 1
            }, 8, ["disabled"])
          ])
        ]),
        T(Ve),
        C("div", pH, [
          hH,
          C("div", mH, [
            T(Hn, {
              value: c.value,
              "onUpdate:value": b[13] || (b[13] = (Q) => w(Q))
            }, null, 8, ["value"])
          ])
        ]),
        u.value ? (k(), R(pe, { key: 0 }, [
          C("div", gH, [
            T($r, {
              "onUpdate:value": b[14] || (b[14] = (Q) => _({ rowHeader: Q })),
              value: u.value.rowHeader,
              style: { flex: "1" }
            }, {
              default: F(() => [
                fe("标题行")
              ]),
              _: 1
            }, 8, ["value"]),
            T($r, {
              "onUpdate:value": b[15] || (b[15] = (Q) => _({ rowFooter: Q })),
              value: u.value.rowFooter,
              style: { flex: "1" }
            }, {
              default: F(() => [
                fe("汇总行")
              ]),
              _: 1
            }, 8, ["value"])
          ]),
          C("div", yH, [
            T($r, {
              "onUpdate:value": b[16] || (b[16] = (Q) => _({ colHeader: Q })),
              value: u.value.colHeader,
              style: { flex: "1" }
            }, {
              default: F(() => [
                fe("第一列")
              ]),
              _: 1
            }, 8, ["value"]),
            T($r, {
              "onUpdate:value": b[17] || (b[17] = (Q) => _({ colFooter: Q })),
              value: u.value.colFooter,
              style: { flex: "1" }
            }, {
              default: F(() => [
                fe("最后一列")
              ]),
              _: 1
            }, 8, ["value"])
          ]),
          C("div", _H, [
            bH,
            T(Be, {
              trigger: "click",
              style: { width: "60%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: u.value.color,
                  "onUpdate:modelValue": b[18] || (b[18] = (Q) => _({ color: Q }))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                T(Et, {
                  color: u.value.color
                }, null, 8, ["color"])
              ]),
              _: 1
            })
          ])
        ], 64)) : me("", !0)
      ]);
    };
  }
}), xH = /* @__PURE__ */ ve(wH, [["__scopeId", "data-v-b52bc963"]]), m4 = (t) => (Ze("data-v-c6a0fce0"), t = t(), qe(), t), SH = { class: "latex-style-panel" }, IH = { class: "row" }, CH = { class: "row" }, TH = /* @__PURE__ */ m4(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "颜色：", -1)), LH = { class: "row" }, kH = /* @__PURE__ */ m4(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "粗细：", -1)), EH = /* @__PURE__ */ ce({
  __name: "LatexStylePanel",
  setup(t) {
    const e = Ie(), { handleElement: n } = de(Te()), o = n, a = V(!1), { addHistorySnapshot: r } = Xe(), i = (u) => {
      n.value && (e.updateElement({ id: n.value.id, props: u }), r());
    }, s = (u) => {
      i({
        path: u.path,
        latex: u.latex,
        width: u.w,
        height: u.h,
        viewBox: [u.w, u.h]
      });
    }, l = () => a.value = !0;
    return qt.on(Ht.OPEN_LATEX_EDITOR, l), ht(() => {
      qt.off(Ht.OPEN_LATEX_EDITOR, l);
    }), (u, c) => (k(), R("div", SH, [
      C("div", IH, [
        T(_e, {
          style: { flex: "1" },
          onClick: c[0] || (c[0] = (d) => a.value = !0)
        }, {
          default: F(() => [
            fe("编辑 LaTeX")
          ]),
          _: 1
        })
      ]),
      T(Ve),
      C("div", CH, [
        TH,
        T(Be, {
          trigger: "click",
          style: { width: "60%" }
        }, {
          content: F(() => [
            T(vt, {
              modelValue: A(o).color,
              "onUpdate:modelValue": c[1] || (c[1] = (d) => i({ color: d }))
            }, null, 8, ["modelValue"])
          ]),
          default: F(() => [
            T(Et, {
              color: A(o).color
            }, null, 8, ["color"])
          ]),
          _: 1
        })
      ]),
      C("div", LH, [
        kH,
        T(mn, {
          min: 1,
          max: 3,
          value: A(o).strokeWidth,
          "onUpdate:value": c[2] || (c[2] = (d) => i({ strokeWidth: d })),
          style: { width: "60%" }
        }, null, 8, ["value"])
      ]),
      T(si, {
        visible: a.value,
        "onUpdate:visible": c[5] || (c[5] = (d) => a.value = d),
        width: 880
      }, {
        default: F(() => [
          T(s4, {
            value: A(o).latex,
            onClose: c[3] || (c[3] = (d) => a.value = !1),
            onUpdate: c[4] || (c[4] = (d) => {
              s(d), a.value = !1;
            })
          }, null, 8, ["value"])
        ]),
        _: 1
      }, 8, ["visible"])
    ]));
  }
}), MH = /* @__PURE__ */ ve(EH, [["__scopeId", "data-v-c6a0fce0"]]), g4 = (t) => (Ze("data-v-4562458f"), t = t(), qe(), t), AH = { class: "video-style-panel" }, DH = /* @__PURE__ */ g4(() => /* @__PURE__ */ C("div", { class: "title" }, "视频预览封面", -1)), $H = { class: "background-image-wrapper" }, PH = { class: "background-image" }, RH = { class: "row" }, OH = { class: "row switch-row" }, NH = /* @__PURE__ */ g4(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "自动播放：", -1)), BH = {
  class: "switch-wrapper",
  style: { width: "60%" }
}, FH = /* @__PURE__ */ ce({
  __name: "VideoStylePanel",
  setup(t) {
    const e = Ie(), { handleElement: n } = de(Te()), o = n, { addHistorySnapshot: a } = Xe(), r = (s) => {
      n.value && (e.updateElement({ id: n.value.id, props: s }), a());
    }, i = (s) => {
      const l = s[0];
      l && fa(l).then((u) => r({ poster: u }));
    };
    return (s, l) => {
      const u = j("IconPlus");
      return k(), R("div", AH, [
        DH,
        C("div", $H, [
          T(er, {
            onChange: l[0] || (l[0] = (c) => i(c))
          }, {
            default: F(() => [
              C("div", PH, [
                C("div", {
                  class: "content",
                  style: re({ backgroundImage: A(o).poster ? `url(${A(o).poster})` : "" })
                }, [
                  T(u)
                ], 4)
              ])
            ]),
            _: 1
          })
        ]),
        C("div", RH, [
          T(_e, {
            style: { flex: "1" },
            onClick: l[1] || (l[1] = (c) => r({ poster: "" }))
          }, {
            default: F(() => [
              fe("重置封面")
            ]),
            _: 1
          })
        ]),
        C("div", OH, [
          NH,
          C("div", BH, [
            T(Hn, {
              value: A(o).autoplay,
              "onUpdate:value": l[2] || (l[2] = (c) => r({ autoplay: c }))
            }, null, 8, ["value"])
          ])
        ])
      ]);
    };
  }
}), zH = /* @__PURE__ */ ve(FH, [["__scopeId", "data-v-4562458f"]]), Kp = (t) => (Ze("data-v-f70950aa"), t = t(), qe(), t), VH = { class: "audio-style-panel" }, HH = { class: "row" }, GH = /* @__PURE__ */ Kp(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "图标颜色：", -1)), UH = { class: "row switch-row" }, WH = /* @__PURE__ */ Kp(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "自动播放：", -1)), XH = {
  class: "switch-wrapper",
  style: { width: "60%" }
}, YH = { class: "row switch-row" }, ZH = /* @__PURE__ */ Kp(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "循环播放：", -1)), qH = {
  class: "switch-wrapper",
  style: { width: "60%" }
}, JH = /* @__PURE__ */ ce({
  __name: "AudioStylePanel",
  setup(t) {
    const e = Ie(), { handleElement: n } = de(Te()), o = n, { addHistorySnapshot: a } = Xe(), r = (i) => {
      n.value && (e.updateElement({ id: n.value.id, props: i }), a());
    };
    return (i, s) => (k(), R("div", VH, [
      C("div", HH, [
        GH,
        T(Be, {
          trigger: "click",
          style: { width: "60%" }
        }, {
          content: F(() => [
            T(vt, {
              modelValue: A(o).color,
              "onUpdate:modelValue": s[0] || (s[0] = (l) => r({ color: l }))
            }, null, 8, ["modelValue"])
          ]),
          default: F(() => [
            T(Et, {
              color: A(o).color
            }, null, 8, ["color"])
          ]),
          _: 1
        })
      ]),
      C("div", UH, [
        WH,
        C("div", XH, [
          T(Hn, {
            value: A(o).autoplay,
            "onUpdate:value": s[1] || (s[1] = (l) => r({ autoplay: l }))
          }, null, 8, ["value"])
        ])
      ]),
      C("div", YH, [
        ZH,
        C("div", qH, [
          T(Hn, {
            value: A(o).loop,
            "onUpdate:value": s[2] || (s[2] = (l) => r({ loop: l }))
          }, null, 8, ["value"])
        ])
      ])
    ]));
  }
}), KH = /* @__PURE__ */ ve(JH, [["__scopeId", "data-v-f70950aa"]]), Tc = (t) => (Ze("data-v-a95c2d66"), t = t(), qe(), t), QH = { class: "multi-style-panel" }, jH = { class: "row" }, eG = /* @__PURE__ */ Tc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "填充颜色：", -1)), tG = { class: "row" }, nG = /* @__PURE__ */ Tc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "边框样式：", -1)), oG = { class: "row" }, aG = /* @__PURE__ */ Tc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "边框颜色：", -1)), rG = { class: "row" }, iG = /* @__PURE__ */ Tc(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "边框粗细：", -1)), sG = /* @__PURE__ */ ce({
  __name: "MultiStylePanel",
  setup(t) {
    const e = Ie(), { richTextAttrs: n, availableFonts: o, activeElementList: a } = de(Te()), { addHistorySnapshot: r } = Xe(), i = (v, p) => {
      e.updateElement({ id: v, props: p }), r();
    }, s = [
      "12px",
      "14px",
      "16px",
      "18px",
      "20px",
      "22px",
      "24px",
      "28px",
      "32px",
      "36px",
      "40px",
      "44px",
      "48px",
      "54px",
      "60px",
      "66px",
      "72px",
      "76px",
      "80px",
      "88px",
      "96px",
      "104px",
      "112px",
      "120px"
    ], l = V("#fff"), u = V({
      width: 0,
      color: "#fff",
      style: "solid"
    }), c = (v) => {
      for (const p of a.value) {
        if ((p.type === "text" || p.type === "shape" || p.type === "chart") && i(p.id, { fill: v }), p.type === "table") {
          const h = JSON.parse(JSON.stringify(p.data));
          for (let m = 0; m < h.length; m++)
            for (let g = 0; g < h[m].length; g++) {
              const y = h[m][g].style || {};
              h[m][g].style = { ...y, backcolor: v };
            }
          i(p.id, { data: h });
        }
        p.type === "audio" && i(p.id, { color: v });
      }
      l.value = v;
    }, d = (v) => {
      for (const p of a.value) {
        if (p.type === "text" || p.type === "image" || p.type === "shape" || p.type === "table" || p.type === "chart") {
          const m = { outline: { ...p.outline || { width: 2, color: "#000", style: "solid" }, ...v } };
          i(p.id, m);
        }
        p.type === "line" && i(p.id, v);
      }
      u.value = { ...u.value, ...v };
    }, f = (v, p) => {
      var h;
      for (const m of a.value) {
        if ((m.type === "text" || m.type === "shape" && ((h = m.text) != null && h.content)) && qt.emit(Ht.RICH_TEXT_COMMAND, { target: m.id, action: { command: v, value: p } }), m.type === "table") {
          const g = JSON.parse(JSON.stringify(m.data));
          for (let y = 0; y < g.length; y++)
            for (let _ = 0; _ < g[y].length; _++) {
              const w = g[y][_].style || {};
              g[y][_].style = { ...w, [v]: p };
            }
          i(m.id, { data: g });
        }
        m.type === "latex" && v === "color" && i(m.id, { color: p });
      }
    };
    return (v, p) => {
      const h = j("IconFontSize"), m = j("IconAddText"), g = j("IconText"), y = j("IconHighLight"), _ = j("IconAlignTextLeft"), w = j("IconAlignTextCenter"), x = j("IconAlignTextRight"), S = j("IconAlignTextBoth"), L = it("tooltip");
      return k(), R("div", QH, [
        C("div", jH, [
          eG,
          T(Be, {
            trigger: "click",
            style: { width: "60%" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: l.value,
                "onUpdate:modelValue": p[0] || (p[0] = (b) => c(b))
              }, null, 8, ["modelValue"])
            ]),
            default: F(() => [
              T(Et, { color: l.value }, null, 8, ["color"])
            ]),
            _: 1
          })
        ]),
        T(Ve),
        C("div", tG, [
          nG,
          T(xt, {
            style: { width: "60%" },
            value: u.value.style || "",
            "onUpdate:value": p[1] || (p[1] = (b) => d({ style: b })),
            options: [
              { label: "实线边框", value: "solid" },
              { label: "虚线边框", value: "dashed" },
              { label: "点线边框", value: "dotted" }
            ]
          }, null, 8, ["value"])
        ]),
        C("div", oG, [
          aG,
          T(Be, {
            trigger: "click",
            style: { width: "60%" }
          }, {
            content: F(() => [
              T(vt, {
                modelValue: u.value.color,
                "onUpdate:modelValue": p[2] || (p[2] = (b) => d({ color: b }))
              }, null, 8, ["modelValue"])
            ]),
            default: F(() => [
              T(Et, {
                color: u.value.color || "#000"
              }, null, 8, ["color"])
            ]),
            _: 1
          })
        ]),
        C("div", rG, [
          iG,
          T(mn, {
            value: u.value.width || 0,
            "onUpdate:value": p[3] || (p[3] = (b) => d({ width: b })),
            style: { width: "60%" }
          }, null, 8, ["value"])
        ]),
        T(Ve),
        T(Jp, { class: "row" }, {
          default: F(() => [
            T(xt, {
              style: { width: "60%" },
              value: A(n).fontname,
              search: "",
              searchLabel: "搜索字体",
              "onUpdate:value": p[4] || (p[4] = (b) => f("fontname", b)),
              options: [
                ...A(o),
                ...A(As)
              ]
            }, {
              icon: F(() => [
                T(h)
              ]),
              _: 1
            }, 8, ["value", "options"]),
            T(xt, {
              style: { width: "40%" },
              value: A(n).fontsize,
              search: "",
              searchLabel: "搜索字号",
              "onUpdate:value": p[5] || (p[5] = (b) => f("fontsize", b)),
              options: s.map((b) => ({
                label: b,
                value: b
              }))
            }, {
              icon: F(() => [
                T(m)
              ]),
              _: 1
            }, 8, ["value", "options"])
          ]),
          _: 1
        }),
        T(ut, {
          class: "row",
          passive: ""
        }, {
          default: F(() => [
            T(Be, {
              trigger: "click",
              style: { width: "30%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: A(n).color,
                  "onUpdate:modelValue": p[6] || (p[6] = (b) => f("color", b))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                ge((k(), ie(Kr, {
                  first: "",
                  color: A(n).color
                }, {
                  default: F(() => [
                    T(g)
                  ]),
                  _: 1
                }, 8, ["color"])), [
                  [L, "文字颜色"]
                ])
              ]),
              _: 1
            }),
            T(Be, {
              trigger: "click",
              style: { width: "30%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: A(n).backcolor,
                  "onUpdate:modelValue": p[7] || (p[7] = (b) => f("backcolor", b))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                ge((k(), ie(Kr, {
                  color: A(n).backcolor
                }, {
                  default: F(() => [
                    T(y)
                  ]),
                  _: 1
                }, 8, ["color"])), [
                  [L, "文字高亮"]
                ])
              ]),
              _: 1
            }),
            ge((k(), ie(_e, {
              class: "font-size-btn",
              style: { width: "20%" },
              onClick: p[8] || (p[8] = (b) => f("fontsize-add", "2"))
            }, {
              default: F(() => [
                T(h),
                fe("+")
              ]),
              _: 1
            })), [
              [L, "增大字号"]
            ]),
            ge((k(), ie(_e, {
              last: "",
              class: "font-size-btn",
              style: { width: "20%" },
              onClick: p[9] || (p[9] = (b) => f("fontsize-reduce", "2"))
            }, {
              default: F(() => [
                T(h),
                fe("-")
              ]),
              _: 1
            })), [
              [L, "减小字号"]
            ])
          ]),
          _: 1
        }),
        T(bo, {
          class: "row",
          "button-style": "solid",
          value: A(n).align,
          "onUpdate:value": p[10] || (p[10] = (b) => f("align", b))
        }, {
          default: F(() => [
            ge((k(), ie(ct, {
              value: "left",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(_)
              ]),
              _: 1
            })), [
              [L, "左对齐"]
            ]),
            ge((k(), ie(ct, {
              value: "center",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(w)
              ]),
              _: 1
            })), [
              [L, "居中"]
            ]),
            ge((k(), ie(ct, {
              value: "right",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(x)
              ]),
              _: 1
            })), [
              [L, "右对齐"]
            ]),
            ge((k(), ie(ct, {
              value: "justify",
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(S)
              ]),
              _: 1
            })), [
              [L, "两端对齐"]
            ])
          ]),
          _: 1
        }, 8, ["value"])
      ]);
    };
  }
}), lG = /* @__PURE__ */ ve(sG, [["__scopeId", "data-v-a95c2d66"]]), uG = { class: "element-style-panel" }, cG = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = {
      [Ne.TEXT]: dz,
      [Ne.IMAGE]: Uz,
      [Ne.SHAPE]: uV,
      [Ne.LINE]: SV,
      [Ne.CHART]: aH,
      [Ne.TABLE]: xH,
      [Ne.LATEX]: MH,
      [Ne.VIDEO]: zH,
      [Ne.AUDIO]: KH
    }, { activeElementIdList: n, activeElementList: o, handleElement: a, activeGroupElementId: r } = de(Te()), i = ne(() => {
      if (n.value.length > 1) {
        if (!r.value) return lG;
        const s = o.value.find((l) => l.id === r.value);
        return s && e[s.type] || null;
      }
      return a.value && e[a.value.type] || null;
    });
    return (s, l) => (k(), R("div", uG, [
      (k(), ie(Do(i.value)))
    ]));
  }
}), Lc = (t) => (Ze("data-v-279278cc"), t = t(), qe(), t), dG = { class: "element-positopn-panel" }, fG = /* @__PURE__ */ Lc(() => /* @__PURE__ */ C("div", { class: "title" }, "层级：", -1)), vG = /* @__PURE__ */ Lc(() => /* @__PURE__ */ C("div", { class: "title" }, "对齐：", -1)), pG = { class: "row" }, hG = /* @__PURE__ */ Lc(() => /* @__PURE__ */ C("div", { style: { width: "10%" } }, null, -1)), mG = {
  key: 0,
  class: "row"
}, gG = {
  key: 1,
  style: { width: "10%" }
}, yG = { class: "row" }, _G = /* @__PURE__ */ Lc(() => /* @__PURE__ */ C("div", { style: { width: "7%" } }, null, -1)), bG = /* @__PURE__ */ ce({
  __name: "ElementPositionPanel",
  setup(t) {
    const e = Ie(), { handleElement: n, handleElementId: o } = de(Te()), a = V(0), r = V(0), i = V(0), s = V(0), l = V(0), u = V(!1), c = ne(() => n.value && wg[n.value.type] || 20), d = ne(() => {
      var b;
      return ((b = n.value) == null ? void 0 : b.type) === "text" && !n.value.vertical;
    }), f = ne(() => {
      var b;
      return ((b = n.value) == null ? void 0 : b.type) === "text" && n.value.vertical;
    });
    Re(n, () => {
      n.value && (a.value = di(n.value.left, 1), r.value = di(n.value.top, 1), u.value = "fixedRatio" in n.value && !!n.value.fixedRatio, n.value.type !== "line" && (i.value = di(n.value.width, 1), s.value = di(n.value.height, 1), l.value = "rotate" in n.value && n.value.rotate !== void 0 ? di(n.value.rotate, 1) : 0));
    }, { deep: !0, immediate: !0 });
    const { orderElement: v } = $s(), { alignElementToCanvas: p } = Ou(), { addHistorySnapshot: h } = Xe(), m = (b) => {
      const I = { left: b };
      e.updateElement({ id: o.value, props: I }), h();
    }, g = (b) => {
      const I = { top: b };
      e.updateElement({ id: o.value, props: I }), h();
    }, y = (b, I) => {
      if (n.value && n.value.type === "shape" && "pathFormula" in n.value && n.value.pathFormula) {
        const M = or[n.value.pathFormula];
        let E = "";
        return "editable" in M && M.editable ? E = M.formula(b, I, n.value.keypoints) : E = M.formula(b, I), {
          viewBox: [b, I],
          path: E
        };
      }
      return null;
    }, _ = (b) => {
      if (!n.value || n.value.type === "line" || f.value) return;
      let I = s.value;
      if (u.value) {
        const D = i.value / s.value;
        I = b / D < c.value ? c.value : b / D;
      }
      let M = { width: b, height: I };
      const E = y(b, I);
      E && (M = {
        width: b,
        height: I,
        ...E
      }), e.updateElement({ id: o.value, props: M }), h();
    }, w = (b) => {
      if (!n.value || n.value.type === "line" || n.value.type === "table" || d.value) return;
      let I = i.value;
      if (u.value) {
        const D = i.value / s.value;
        I = b * D < c.value ? c.value : b * D;
      }
      let M = { width: I, height: b };
      const E = y(I, b);
      E && (M = {
        width: I,
        height: b,
        ...E
      }), e.updateElement({ id: o.value, props: M }), h();
    }, x = (b) => {
      const I = { rotate: b };
      e.updateElement({ id: o.value, props: I }), h();
    }, S = (b) => {
      const I = { fixedRatio: b };
      e.updateElement({ id: o.value, props: I }), h();
    }, L = (b) => {
      let I = Math.floor(l.value / 45) * 45;
      b === "+" ? I = I + 45 : b === "-" && (I = I - 45), I < -180 && (I = -180), I > 180 && (I = 180);
      const M = { rotate: I };
      e.updateElement({ id: o.value, props: M }), h();
    };
    return (b, I) => {
      const M = j("IconSendToBack"), E = j("IconBringToFrontOne"), D = j("IconBringToFront"), O = j("IconSentToBack"), N = j("IconAlignLeft"), P = j("IconAlignVertically"), $ = j("IconAlignRight"), z = j("IconAlignTop"), H = j("IconAlignHorizontally"), W = j("IconAlignBottom"), oe = j("IconLock"), te = j("IconUnlock"), le = j("IconRotate"), J = it("tooltip");
      return k(), R("div", dG, [
        fG,
        T(ut, { class: "row" }, {
          default: F(() => [
            T(_e, {
              style: { flex: "1" },
              onClick: I[0] || (I[0] = (Q) => A(v)(A(n), A(Ct).TOP))
            }, {
              default: F(() => [
                T(M, { class: "btn-icon" }),
                fe(" 置顶")
              ]),
              _: 1
            }),
            T(_e, {
              style: { flex: "1" },
              onClick: I[1] || (I[1] = (Q) => A(v)(A(n), A(Ct).BOTTOM))
            }, {
              default: F(() => [
                T(E, { class: "btn-icon" }),
                fe(" 置底")
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        T(ut, { class: "row" }, {
          default: F(() => [
            T(_e, {
              style: { flex: "1" },
              onClick: I[2] || (I[2] = (Q) => A(v)(A(n), A(Ct).UP))
            }, {
              default: F(() => [
                T(D, { class: "btn-icon" }),
                fe(" 上移")
              ]),
              _: 1
            }),
            T(_e, {
              style: { flex: "1" },
              onClick: I[3] || (I[3] = (Q) => A(v)(A(n), A(Ct).DOWN))
            }, {
              default: F(() => [
                T(O, { class: "btn-icon" }),
                fe(" 下移")
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        T(Ve),
        vG,
        T(ut, { class: "row" }, {
          default: F(() => [
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: I[4] || (I[4] = (Q) => A(p)(A(Ke).LEFT))
            }, {
              default: F(() => [
                T(N)
              ]),
              _: 1
            })), [
              [J, "左对齐"]
            ]),
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: I[5] || (I[5] = (Q) => A(p)(A(Ke).HORIZONTAL))
            }, {
              default: F(() => [
                T(P)
              ]),
              _: 1
            })), [
              [J, "水平居中"]
            ]),
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: I[6] || (I[6] = (Q) => A(p)(A(Ke).RIGHT))
            }, {
              default: F(() => [
                T($)
              ]),
              _: 1
            })), [
              [J, "右对齐"]
            ])
          ]),
          _: 1
        }),
        T(ut, { class: "row" }, {
          default: F(() => [
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: I[7] || (I[7] = (Q) => A(p)(A(Ke).TOP))
            }, {
              default: F(() => [
                T(z)
              ]),
              _: 1
            })), [
              [J, "上对齐"]
            ]),
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: I[8] || (I[8] = (Q) => A(p)(A(Ke).VERTICAL))
            }, {
              default: F(() => [
                T(H)
              ]),
              _: 1
            })), [
              [J, "垂直居中"]
            ]),
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: I[9] || (I[9] = (Q) => A(p)(A(Ke).BOTTOM))
            }, {
              default: F(() => [
                T(W)
              ]),
              _: 1
            })), [
              [J, "下对齐"]
            ])
          ]),
          _: 1
        }),
        T(Ve),
        C("div", pG, [
          T(mn, {
            step: 5,
            value: a.value,
            "onUpdate:value": I[10] || (I[10] = (Q) => m(Q)),
            style: { width: "45%" }
          }, {
            prefix: F(() => [
              fe(" 水平： ")
            ]),
            _: 1
          }, 8, ["value"]),
          hG,
          T(mn, {
            step: 5,
            value: r.value,
            "onUpdate:value": I[11] || (I[11] = (Q) => g(Q)),
            style: { width: "45%" }
          }, {
            prefix: F(() => [
              fe(" 垂直： ")
            ]),
            _: 1
          }, 8, ["value"])
        ]),
        A(n).type !== "line" ? (k(), R("div", mG, [
          T(mn, {
            min: c.value,
            max: 1500,
            step: 5,
            disabled: f.value,
            value: i.value,
            "onUpdate:value": I[12] || (I[12] = (Q) => _(Q)),
            style: { width: "45%" }
          }, {
            prefix: F(() => [
              fe(" 宽度： ")
            ]),
            _: 1
          }, 8, ["min", "disabled", "value"]),
          ["image", "shape", "audio"].includes(A(n).type) ? (k(), R(pe, { key: 0 }, [
            u.value ? ge((k(), ie(oe, {
              key: 0,
              style: { width: "10%" },
              class: "icon-btn active",
              onClick: I[13] || (I[13] = (Q) => S(!1))
            }, null, 512)), [
              [J, "解除宽高比锁定"]
            ]) : ge((k(), ie(te, {
              key: 1,
              style: { width: "10%" },
              class: "icon-btn",
              onClick: I[14] || (I[14] = (Q) => S(!0))
            }, null, 512)), [
              [J, "宽高比锁定"]
            ])
          ], 64)) : (k(), R("div", gG)),
          T(mn, {
            min: c.value,
            max: 800,
            step: 5,
            disabled: d.value || A(n).type === "table",
            value: s.value,
            "onUpdate:value": I[15] || (I[15] = (Q) => w(Q)),
            style: { width: "45%" }
          }, {
            prefix: F(() => [
              fe(" 高度： ")
            ]),
            _: 1
          }, 8, ["min", "disabled", "value"])
        ])) : me("", !0),
        ["line", "video", "audio"].includes(A(n).type) ? me("", !0) : (k(), R(pe, { key: 1 }, [
          T(Ve),
          C("div", yG, [
            T(mn, {
              min: -180,
              max: 180,
              step: 5,
              value: l.value,
              "onUpdate:value": I[16] || (I[16] = (Q) => x(Q)),
              style: { width: "45%" }
            }, {
              prefix: F(() => [
                fe(" 旋转： ")
              ]),
              _: 1
            }, 8, ["value"]),
            _G,
            C("div", {
              class: "text-btn",
              onClick: I[17] || (I[17] = (Q) => L("-")),
              style: { width: "24%" }
            }, [
              T(le),
              fe(" -45°")
            ]),
            C("div", {
              class: "text-btn",
              onClick: I[18] || (I[18] = (Q) => L("+")),
              style: { width: "24%" }
            }, [
              T(le, { style: { transform: "rotateY(180deg)" } }),
              fe(" +45°")
            ])
          ])
        ], 64))
      ]);
    };
  }
}), wG = /* @__PURE__ */ ve(bG, [["__scopeId", "data-v-279278cc"]]), nf = 1e3, xG = "click", xn = "animate__", qm = [
  {
    type: "bounce",
    name: "弹跳",
    children: [
      { name: "弹入", value: "bounceIn" },
      { name: "向右弹入", value: "bounceInLeft" },
      { name: "向左弹入", value: "bounceInRight" },
      { name: "向上弹入", value: "bounceInUp" },
      { name: "向下弹入", value: "bounceInDown" }
    ]
  },
  {
    type: "fade",
    name: "浮现",
    children: [
      { name: "浮入", value: "fadeIn" },
      { name: "向下浮入", value: "fadeInDown" },
      { name: "向下长距浮入", value: "fadeInDownBig" },
      { name: "向右浮入", value: "fadeInLeft" },
      { name: "向右长距浮入", value: "fadeInLeftBig" },
      { name: "向左浮入", value: "fadeInRight" },
      { name: "向左长距浮入", value: "fadeInRightBig" },
      { name: "向上浮入", value: "fadeInUp" },
      { name: "向上长距浮入", value: "fadeInUpBig" },
      { name: "从左上浮入", value: "fadeInTopLeft" },
      { name: "从右上浮入", value: "fadeInTopRight" },
      { name: "从左下浮入", value: "fadeInBottomLeft" },
      { name: "从右下浮入", value: "fadeInBottomRight" }
    ]
  },
  {
    type: "rotate",
    name: "旋转",
    children: [
      { name: "旋转进入", value: "rotateIn" },
      { name: "绕左下进入", value: "rotateInDownLeft" },
      { name: "绕右下进入", value: "rotateInDownRight" },
      { name: "绕左上进入", value: "rotateInUpLeft" },
      { name: "绕右上进入", value: "rotateInUpRight" }
    ]
  },
  {
    type: "zoom",
    name: "缩放",
    children: [
      { name: "放大进入", value: "zoomIn" },
      { name: "向下放大进入", value: "zoomInDown" },
      { name: "从左放大进入", value: "zoomInLeft" },
      { name: "从右放大进入", value: "zoomInRight" },
      { name: "向上放大进入", value: "zoomInUp" }
    ]
  },
  {
    type: "slide",
    name: "滑入",
    children: [
      { name: "向下滑入", value: "slideInDown" },
      { name: "从右滑入", value: "slideInLeft" },
      { name: "从左滑入", value: "slideInRight" },
      { name: "向上滑入", value: "slideInUp" }
    ]
  },
  {
    type: "flip",
    name: "翻转",
    children: [
      { name: "X轴翻转进入", value: "flipInX" },
      { name: "Y轴翻转进入", value: "flipInY" }
    ]
  },
  {
    type: "back",
    name: "放大滑入",
    children: [
      { name: "向下放大滑入", value: "backInDown" },
      { name: "从左放大滑入", value: "backInLeft" },
      { name: "从右放大滑入", value: "backInRight" },
      { name: "向上放大滑入", value: "backInUp" }
    ]
  },
  {
    type: "lightSpeed",
    name: "飞入",
    children: [
      { name: "从右飞入", value: "lightSpeedInRight" },
      { name: "从左飞入", value: "lightSpeedInLeft" }
    ]
  }
], Jm = [
  {
    type: "bounce",
    name: "弹跳",
    children: [
      { name: "弹出", value: "bounceOut" },
      { name: "向左弹出", value: "bounceOutLeft" },
      { name: "向右弹出", value: "bounceOutRight" },
      { name: "向上弹出", value: "bounceOutUp" },
      { name: "向下弹出", value: "bounceOutDown" }
    ]
  },
  {
    type: "fade",
    name: "浮现",
    children: [
      { name: "浮出", value: "fadeOut" },
      { name: "向下浮出", value: "fadeOutDown" },
      { name: "向下长距浮出", value: "fadeOutDownBig" },
      { name: "向左浮出", value: "fadeOutLeft" },
      { name: "向左长距浮出", value: "fadeOutLeftBig" },
      { name: "向右浮出", value: "fadeOutRight" },
      { name: "向右长距浮出", value: "fadeOutRightBig" },
      { name: "向上浮出", value: "fadeOutUp" },
      { name: "向上长距浮出", value: "fadeOutUpBig" },
      { name: "从左上浮出", value: "fadeOutTopLeft" },
      { name: "从右上浮出", value: "fadeOutTopRight" },
      { name: "从左下浮出", value: "fadeOutBottomLeft" },
      { name: "从右下浮出", value: "fadeOutBottomRight" }
    ]
  },
  {
    type: "rotate",
    name: "旋转",
    children: [
      { name: "旋转退出", value: "rotateOut" },
      { name: "绕左下退出", value: "rotateOutDownLeft" },
      { name: "绕右下退出", value: "rotateOutDownRight" },
      { name: "绕左上退出", value: "rotateOutUpLeft" },
      { name: "绕右上退出", value: "rotateOutUpRight" }
    ]
  },
  {
    type: "zoom",
    name: "缩放",
    children: [
      { name: "缩小退出", value: "zoomOut" },
      { name: "向下缩小退出", value: "zoomOutDown" },
      { name: "从左缩小退出", value: "zoomOutLeft" },
      { name: "从右缩小退出", value: "zoomOutRight" },
      { name: "向上缩小退出", value: "zoomOutUp" }
    ]
  },
  {
    type: "slide",
    name: "滑出",
    children: [
      { name: "向下滑出", value: "slideOutDown" },
      { name: "从左滑出", value: "slideOutLeft" },
      { name: "从右滑出", value: "slideOutRight" },
      { name: "向上滑出", value: "slideOutUp" }
    ]
  },
  {
    type: "flip",
    name: "翻转",
    children: [
      { name: "X轴翻转退出", value: "flipOutX" },
      { name: "Y轴翻转退出", value: "flipOutY" }
    ]
  },
  {
    type: "back",
    name: "缩小滑出",
    children: [
      { name: "向下缩小滑出", value: "backOutDown" },
      { name: "从左缩小滑出", value: "backOutLeft" },
      { name: "从右缩小滑出", value: "backOutRight" },
      { name: "向上缩小滑出", value: "backOutUp" }
    ]
  },
  {
    type: "lightSpeed",
    name: "飞出",
    children: [
      { name: "从右飞出", value: "lightSpeedOutRight" },
      { name: "从左飞出", value: "lightSpeedOutLeft" }
    ]
  }
], Km = [
  {
    type: "shake",
    name: "晃动",
    children: [
      { name: "左右摇晃", value: "shakeX" },
      { name: "上下摇晃", value: "shakeY" },
      { name: "摇头", value: "headShake" },
      { name: "摆动", value: "swing" },
      { name: "晃动", value: "wobble" },
      { name: "惊恐", value: "tada" },
      { name: "果冻", value: "jello" }
    ]
  },
  {
    type: "other",
    name: "其他",
    children: [
      { name: "弹跳", value: "bounce" },
      { name: "闪烁", value: "flash" },
      { name: "脉搏", value: "pulse" },
      { name: "橡皮筋", value: "rubberBand" },
      { name: "心跳（快）", value: "heartBeat" }
    ]
  }
], y4 = [
  { label: "无", value: "no" },
  { label: "随机", value: "random" },
  { label: "左右推移", value: "slideX" },
  { label: "上下推移", value: "slideY" },
  { label: "左右推移（3D）", value: "slideX3D" },
  { label: "上下推移（3D）", value: "slideY3D" },
  { label: "淡入淡出", value: "fade" },
  { label: "旋转", value: "rotate" },
  { label: "上下展开", value: "scaleY" },
  { label: "左右展开", value: "scaleX" },
  { label: "放大", value: "scale" },
  { label: "缩小", value: "scaleReverse" }
], _4 = (t) => (Ze("data-v-a485375e"), t = t(), qe(), t), SG = { class: "element-animation-panel" }, IG = {
  key: 0,
  class: "element-animation"
}, CG = { class: "type-title" }, TG = { class: "pool-item-wrapper" }, LG = ["onMouseenter", "onClick"], kG = {
  key: 0,
  class: "mask"
}, EG = {
  key: 1,
  class: "tip"
}, MG = { class: "sequence-content" }, AG = { class: "index" }, DG = { class: "text" }, $G = { class: "handler" }, PG = {
  key: 0,
  class: "configs"
}, RG = { class: "config-item" }, OG = /* @__PURE__ */ _4(() => /* @__PURE__ */ C("div", { style: { width: "35%" } }, "持续时长：", -1)), NG = { class: "config-item" }, BG = /* @__PURE__ */ _4(() => /* @__PURE__ */ C("div", { style: { width: "35%" } }, "触发方式：", -1)), FG = { class: "config-item" }, zG = /* @__PURE__ */ ce({
  __name: "ElementAnimationPanel",
  setup(t) {
    const e = {};
    for (const N of qm)
      for (const P of N.children)
        e[P.value] = P.name;
    for (const N of Jm)
      for (const P of N.children)
        e[P.value] = P.name;
    for (const N of Km)
      for (const P of N.children)
        e[P.value] = P.name;
    const n = ["in", "out", "attention"], o = Ie(), { handleElement: a, handleElementId: r } = de(Te()), { currentSlide: i, formatedAnimations: s, currentSlideAnimations: l } = de(o), u = [
      { key: "in", label: "入场", color: "#68a490" },
      { key: "out", label: "退场", color: "#d86344" },
      { key: "attention", label: "强调", color: "#e8b76a" }
    ], c = V("in"), d = V(!1);
    Re(() => r.value, () => {
      v.value = !1;
    });
    const f = V(""), v = V(!1), { addHistorySnapshot: p } = Xe(), h = ne(() => {
      const N = [];
      for (let P = 0; P < s.value.length; P++) {
        const $ = s.value[P];
        for (let z = 0; z < $.animations.length; z++) {
          const H = $.animations[z], W = i.value.elements.find((le) => le.id === H.elId);
          if (!W) continue;
          const oe = Bi[W.type], te = e[H.effect];
          N.push({
            ...H,
            index: z === 0 ? P + 1 : "",
            elType: oe,
            animationEffect: te
          });
        }
      }
      return N;
    }), m = ne(() => l.value.filter(($) => $.elId === r.value) || []), g = (N) => {
      const P = l.value.filter(($) => $.id !== N);
      o.updateSlide({ animations: P }), p();
    }, y = (N) => {
      const { newIndex: P, oldIndex: $ } = N;
      if (P === void 0 || $ === void 0 || P === $) return;
      const z = JSON.parse(JSON.stringify(l.value)), H = z[$];
      z.splice($, 1), z.splice(P, 0, H), o.updateSlide({ animations: z }), p();
    }, _ = (N, P, $) => {
      const z = document.querySelector(`#editable-element-${N} [class^=editable-element-]`);
      if (z) {
        const H = `${xn}${P}`;
        document.documentElement.style.setProperty("--animate-duration", `${$}ms`), z.classList.add(`${xn}animated`, H);
        const W = () => {
          document.documentElement.style.removeProperty("--animate-duration"), z.classList.remove(`${xn}animated`, H);
        };
        z.addEventListener("animationend", W, { once: !0 });
      }
    }, w = async () => {
      d.value = !d.value;
      for (let N = 0; N < h.value.length && d.value; N++) {
        const P = h.value[N];
        P.index !== 1 && P.trigger !== "meantime" && await new Promise(($) => setTimeout($, P.duration + 100)), _(P.elId, P.effect, P.duration), N >= h.value.length - 1 && (d.value = !1);
      }
    }, x = (N, P) => {
      if (P < 100 || P > 5e3) return;
      const $ = l.value.map((z) => z.id === N ? { ...z, duration: P } : z);
      o.updateSlide({ animations: $ }), p();
    }, S = (N, P) => {
      const $ = l.value.map((z) => z.id === N ? { ...z, trigger: P } : z);
      o.updateSlide({ animations: $ }), p();
    }, L = (N, P) => {
      const $ = l.value.map((W) => W.id === b.value ? { ...W, type: N, effect: P } : W);
      o.updateSlide({ animations: $ }), v.value = !1, p();
      const z = l.value.find((W) => W.elId === r.value), H = (z == null ? void 0 : z.duration) || nf;
      setTimeout(() => {
        _(r.value, P, H);
      }, 0);
    }, b = V(""), I = (N, P) => {
      if (b.value) {
        L(N, P);
        return;
      }
      const $ = JSON.parse(JSON.stringify(l.value));
      $.push({
        id: tt(10),
        elId: r.value,
        type: N,
        effect: P,
        duration: nf,
        trigger: xG
      }), o.updateSlide({ animations: $ }), v.value = !1, p(), setTimeout(() => {
        _(r.value, P, nf);
      }, 0);
    }, M = V(!1), E = (N) => {
      N ? setTimeout(() => M.value = !0, 600) : M.value = !1;
    }, D = (N) => {
      v.value = !0, b.value = N, E(!0);
    }, O = {
      in: qm,
      out: Jm,
      attention: Km
    };
    return (N, P) => {
      const $ = j("IconEffects"), z = j("IconClick"), H = j("IconPlayOne"), W = j("IconCloseSmall"), oe = it("tooltip");
      return k(), R("div", SG, [
        A(a) ? (k(), R("div", IG, [
          T(Be, {
            trigger: "click",
            value: v.value,
            "onUpdate:value": [
              P[3] || (P[3] = (te) => v.value = te),
              P[4] || (P[4] = (te) => E(te))
            ],
            style: { width: "100%" }
          }, {
            content: F(() => [
              T(jn, {
                tabs: u,
                value: c.value,
                "onUpdate:value": P[0] || (P[0] = (te) => c.value = te),
                tabsStyle: { marginBottom: "20px" },
                tabStyle: { width: "33.333%" },
                spaceAround: ""
              }, null, 8, ["value"]),
              (k(), R(pe, null, xe(n, (te) => (k(), R(pe, null, [
                c.value === te ? (k(), R("div", {
                  class: ye(["animation-pool", te]),
                  key: te
                }, [
                  (k(!0), R(pe, null, xe(O[te], (le) => (k(), R("div", {
                    class: "pool-type",
                    key: le.name
                  }, [
                    C("div", CG, Ee(le.name) + "：", 1),
                    C("div", TG, [
                      (k(!0), R(pe, null, xe(le.children, (J) => (k(), R("div", {
                        class: "pool-item",
                        key: J.name,
                        onMouseenter: (Q) => f.value = J.value,
                        onMouseleave: P[1] || (P[1] = (Q) => f.value = ""),
                        onClick: (Q) => I(te, J.value)
                      }, [
                        C("div", {
                          class: ye(["animation-box", [
                            `${A(xn)}animated`,
                            `${A(xn)}fast`,
                            f.value === J.value && `${A(xn)}${J.value}`
                          ]])
                        }, Ee(J.name), 3)
                      ], 40, LG))), 128))
                    ])
                  ]))), 128)),
                  M.value ? me("", !0) : (k(), R("div", kG))
                ], 2)) : me("", !0)
              ], 64))), 64))
            ]),
            default: F(() => [
              T(_e, {
                class: "element-animation-btn",
                onClick: P[2] || (P[2] = (te) => b.value = "")
              }, {
                default: F(() => [
                  T($, { style: { "margin-right": "5px" } }),
                  fe(" 添加动画 ")
                ]),
                _: 1
              })
            ]),
            _: 1
          }, 8, ["value"])
        ])) : (k(), R("div", EG, [
          T(z, { style: { "margin-right": "5px" } }),
          fe(" 选中画布中的元素添加动画")
        ])),
        T(Ve),
        T(A(kv), {
          class: "animation-sequence",
          modelValue: h.value,
          animation: 200,
          scroll: !0,
          scrollSensitivity: 50,
          handle: ".sequence-content",
          itemKey: "id",
          onEnd: y
        }, {
          item: F(({ element: te }) => {
            var le, J;
            return [
              C("div", {
                class: ye(["sequence-item", [te.type, { active: ((le = A(a)) == null ? void 0 : le.id) === te.elId }]])
              }, [
                C("div", MG, [
                  C("div", AG, Ee(te.index), 1),
                  C("div", DG, "【" + Ee(te.elType) + "】" + Ee(te.animationEffect), 1),
                  C("div", $G, [
                    ge(T(H, {
                      class: "handler-btn",
                      onClick: (Q) => _(te.elId, te.effect, te.duration)
                    }, null, 8, ["onClick"]), [
                      [oe, "预览"]
                    ]),
                    ge(T(W, {
                      class: "handler-btn",
                      onClick: (Q) => g(te.id)
                    }, null, 8, ["onClick"]), [
                      [oe, "删除"]
                    ])
                  ])
                ]),
                ((J = m.value[0]) == null ? void 0 : J.elId) === te.elId ? (k(), R("div", PG, [
                  T(Ve, { margin: 16 }),
                  C("div", RG, [
                    OG,
                    T(mn, {
                      min: 500,
                      max: 3e3,
                      step: 500,
                      value: te.duration,
                      "onUpdate:value": (Q) => x(te.id, Q),
                      style: { width: "65%" }
                    }, null, 8, ["value", "onUpdate:value"])
                  ]),
                  C("div", NG, [
                    BG,
                    T(xt, {
                      value: te.trigger,
                      "onUpdate:value": (Q) => S(te.id, Q),
                      style: { width: "65%" },
                      options: [
                        { label: "主动触发", value: "click" },
                        { label: "与上一动画同时", value: "meantime" },
                        { label: "上一动画之后", value: "auto" }
                      ]
                    }, null, 8, ["value", "onUpdate:value"])
                  ]),
                  C("div", FG, [
                    T(_e, {
                      style: { width: "100%" },
                      onClick: (Q) => D(te.id)
                    }, {
                      default: F(() => [
                        fe("更换动画")
                      ]),
                      _: 2
                    }, 1032, ["onClick"])
                  ])
                ])) : me("", !0)
              ], 2)
            ];
          }),
          _: 1
        }, 8, ["modelValue"]),
        h.value.length >= 2 ? (k(), R(pe, { key: 2 }, [
          T(Ve),
          T(_e, {
            onClick: P[5] || (P[5] = (te) => w())
          }, {
            default: F(() => [
              fe(Ee(d.value ? "停止预览" : "预览全部"), 1)
            ]),
            _: 1
          })
        ], 64)) : me("", !0)
      ]);
    };
  }
}), VG = /* @__PURE__ */ ve(zG, [["__scopeId", "data-v-a485375e"]]), HG = [
  {
    background: "#ffffff",
    fontColor: "#333333",
    fontname: "Microsoft Yahei",
    colors: ["#5b9bd5", "#ed7d31", "#a5a5a5", "#ffc000", "#4472c4", "#70ad47"]
  },
  {
    background: "#ffffff",
    fontColor: "#333333",
    fontname: "Microsoft Yahei",
    colors: ["#83992a", "#3c9670", "#44709d", "#a23b32", "#d87728", "#deb340"]
  },
  {
    background: "#ffffff",
    fontColor: "#333333",
    fontname: "Microsoft Yahei",
    colors: ["#e48312", "#bd582c", "#865640", "#9b8357", "#c2bc80", "#94a088"]
  },
  {
    background: "#ffffff",
    fontColor: "#333333",
    fontname: "Microsoft Yahei",
    colors: ["#bdc8df", "#003fa9", "#f5ba00", "#ff7567", "#7676d9", "#923ffc"]
  },
  {
    background: "#ffffff",
    fontColor: "#333333",
    fontname: "Microsoft Yahei",
    colors: ["#90c225", "#54a121", "#e6b91e", "#e86618", "#c42f19", "#918756"]
  },
  {
    background: "#ffffff",
    fontColor: "#333333",
    fontname: "Microsoft Yahei",
    colors: ["#1cade4", "#2683c6", "#27ced7", "#42ba97", "#3e8853", "#62a39f"]
  },
  {
    background: "#e9efd6",
    fontColor: "#333333",
    fontname: "Microsoft Yahei",
    colors: ["#a5300f", "#de7e18", "#9f8351", "#728653", "#92aa4c", "#6aac91"]
  },
  {
    background: "#17444e",
    fontColor: "#ffffff",
    fontname: "Microsoft Yahei",
    colors: ["#b01513", "#ea6312", "#e6b729", "#6bab90", "#55839a", "#9e5d9d"]
  },
  {
    background: "#36234d",
    fontColor: "#ffffff",
    fontname: "Microsoft Yahei",
    colors: ["#b31166", "#e33d6f", "#e45f3c", "#e9943a", "#9b6bf2", "#d63cd0"]
  },
  {
    background: "#247fad",
    fontColor: "#ffffff",
    fontname: "Microsoft Yahei",
    colors: ["#052f61", "#a50e82", "#14967c", "#6a9e1f", "#e87d37", "#c62324"]
  },
  {
    background: "#103f55",
    fontColor: "#ffffff",
    fontname: "Microsoft Yahei",
    colors: ["#40aebd", "#97e8d5", "#a1cf49", "#628f3e", "#f2df3a", "#fcb01c"]
  },
  {
    background: "#242367",
    fontColor: "#ffffff",
    fontname: "Microsoft Yahei",
    colors: ["#ac3ec1", "#477bd1", "#46b298", "#90ba4c", "#dd9d31", "#e25345"]
  },
  {
    background: "#e4b75e",
    fontColor: "#333333",
    fontname: "Microsoft Yahei",
    colors: ["#f0a22e", "#a5644e", "#b58b80", "#c3986d", "#a19574", "#c17529"]
  },
  {
    background: "#333333",
    fontColor: "#ffffff",
    fontname: "Microsoft Yahei",
    colors: ["#bdc8df", "#003fa9", "#f5ba00", "#ff7567", "#7676d9", "#923ffc"]
  }
], b4 = () => {
  const t = Ie(), { slides: e, currentSlide: n, theme: o } = de(t), { addHistorySnapshot: a } = Xe(), r = (f) => {
    var S, L, b, I, M, E, D, O, N;
    const v = Array.isArray(f) ? f : [f], p = [], h = [], m = [], g = [];
    for (const P of v) {
      if (P.background)
        if (P.background.type === "solid" && P.background.color)
          p.push({ area: 1, value: P.background.color });
        else if (P.background.type === "gradient" && P.background.gradient) {
          const $ = P.background.gradient.colors.length;
          p.push(...P.background.gradient.colors.map((z) => ({
            area: 1 / $,
            value: z.color
          })));
        } else p.push({ area: 1, value: o.value.backgroundColor });
      for (const $ of P.elements) {
        const z = $.width;
        let H = 0;
        if ($.type === "line") {
          const [oe, te] = $.start, [le, J] = $.end;
          H = Math.sqrt(Math.pow(Math.abs(oe - le), 2) + Math.pow(Math.abs(te - J), 2));
        } else H = $.height;
        const W = z * H;
        if ($.type === "shape" || $.type === "text") {
          if ($.fill && h.push({ area: W, value: $.fill }), $.type === "shape" && $.gradient) {
            const G = $.gradient.colors.length;
            h.push(...$.gradient.colors.map((B) => ({
              area: 1 / G * W,
              value: B.color
            })));
          }
          const oe = ($.type === "shape" ? (S = $.text) == null ? void 0 : S.content : $.content) || "";
          if (!oe) continue;
          const te = oe.replace(/<[^>]+>/g, "").replace(/\s*/g, ""), le = oe.match(/<[^>]+color: .+?<\/.+?>/g), J = oe.match(/<[^>]+font-family: .+?<\/.+?>/g);
          let Q = 1, q = 1;
          if (le)
            for (const G of le) {
              const B = G.match(/color: (.+?);/);
              if (!B) continue;
              const ee = G.replace(/<[^>]+>/g, "").replace(/\s*/g, ""), ue = B[1], X = ee.length / te.length;
              Q = Q - X, m.push({
                area: W * X,
                value: ue
              });
            }
          if (J)
            for (const G of J) {
              const B = G.match(/font-family: (.+?);/);
              if (!B) continue;
              const ee = G.replace(/<[^>]+>/g, "").replace(/\s*/g, ""), ue = B[1], X = ee.length / te.length;
              q = q - X, g.push({
                area: W * X,
                value: ue
              });
            }
          if (Q) {
            const B = ($.type === "shape" ? (L = $.text) == null ? void 0 : L.defaultColor : $.defaultColor) || o.value.fontColor;
            m.push({
              area: W * Q,
              value: B
            });
          }
          if (q) {
            const B = ($.type === "shape" ? (b = $.text) == null ? void 0 : b.defaultFontName : $.defaultFontName) || o.value.fontName;
            g.push({
              area: W * q,
              value: B
            });
          }
        } else if ($.type === "table") {
          const oe = $.data.length * $.data[0].length;
          let te = 0;
          for (const le of $.data)
            for (const J of le)
              if ((I = J.style) != null && I.backcolor && (te += 1, h.push({ area: W / oe, value: (M = J.style) == null ? void 0 : M.backcolor })), J.text) {
                const Q = J.text.length >= 10 ? 1 : J.text.length / 10;
                (E = J.style) != null && E.color && m.push({ area: W / oe * Q, value: (D = J.style) == null ? void 0 : D.color }), (O = J.style) != null && O.fontname && m.push({ area: W / oe * Q, value: (N = J.style) == null ? void 0 : N.fontname });
              }
          if ($.theme) {
            const le = 1 - te / oe;
            h.push({ area: W * le, value: $.theme.color });
          }
        } else $.type === "chart" ? ($.fill && h.push({ area: W * 0.5, value: $.fill }), h.push({ area: W * 0.5, value: $.themeColors[0] })) : $.type === "line" ? h.push({ area: W, value: $.color }) : $.type === "audio" ? h.push({ area: W, value: $.color }) : $.type === "latex" && m.push({ area: W, value: $.color });
      }
    }
    const y = {};
    for (const P of p) {
      const $ = He(P.value).toRgbString();
      $ !== "rgba(0, 0, 0, 0)" && (y[$] ? y[$] += P.area : y[$] = P.area);
    }
    const _ = {};
    for (const P of h) {
      const $ = He(P.value).toRgbString();
      $ !== "rgba(0, 0, 0, 0)" && (_[$] ? _[$] += P.area : _[$] = P.area);
    }
    const w = {};
    for (const P of m) {
      const $ = He(P.value).toRgbString();
      $ !== "rgba(0, 0, 0, 0)" && (w[$] ? w[$] += P.area : w[$] = P.area);
    }
    const x = {};
    for (const P of g)
      x[P.value] ? x[P.value] += P.area : x[P.value] = P.area;
    return {
      backgroundColors: Object.keys(y).sort((P, $) => y[$] - y[P]),
      themeColors: Object.keys(_).sort((P, $) => _[$] - _[P]),
      fontColors: Object.keys(w).sort((P, $) => w[$] - w[P]),
      fontNames: Object.keys(x).sort((P, $) => x[$] - x[P])
    };
  }, i = (f) => {
    const v = [];
    for (const p of f.elements) {
      if (p.type === "shape" && He(p.fill).getAlpha() !== 0) {
        const h = He(p.fill).toRgbString();
        v.includes(h) || v.push(h);
      }
      if (p.type === "text" && p.fill && He(p.fill).getAlpha() !== 0) {
        const h = He(p.fill).toRgbString();
        v.includes(h) || v.push(h);
      }
      if (p.type === "table" && p.theme && He(p.theme.color).getAlpha() !== 0) {
        const h = He(p.theme.color).toRgbString();
        v.includes(h) || v.push(h);
      }
      if (p.type === "chart" && p.themeColors[0] && He(p.themeColors[0]).getAlpha() !== 0) {
        const h = He(p.themeColors[0]).toRgbString();
        v.includes(h) || v.push(h);
      }
      if (p.type === "line" && He(p.color).getAlpha() !== 0) {
        const h = He(p.color).toRgbString();
        v.includes(h) || v.push(h);
      }
      if (p.type === "audio" && He(p.color).getAlpha() !== 0) {
        const h = He(p.color).toRgbString();
        v.includes(h) || v.push(h);
      }
    }
    return v;
  }, s = (f, v) => {
    const p = i(f), h = {};
    if (p.length > v.length) {
      const g = He(v[0]).analogous(p.length - v.length + 10).map((y) => y.toHexString()).slice(1);
      v.push(...g);
    }
    for (let m = 0; m < p.length; m++)
      h[p[m]] = v[m];
    return h;
  }, l = (f, v) => {
    const p = s(f, v.colors);
    (!f.background || f.background.type !== "image") && (f.background = {
      type: "solid",
      color: v.background
    });
    for (const h of f.elements) {
      if (h.type === "shape" && (h.fill = p[He(h.fill).toRgbString()] || h.fill, h.gradient && delete h.gradient), h.type === "text" && (h.fill && (h.fill = p[He(h.fill).toRgbString()] || h.fill), h.defaultColor = v.fontColor, h.defaultFontName = v.fontname), h.type === "table") {
        h.theme && (h.theme.color = p[He(h.theme.color).toRgbString()] || h.theme.color);
        for (const m of h.data)
          for (const g of m)
            g.style && (g.style.color = v.fontColor, g.style.fontname = v.fontname);
      }
      h.type === "chart" && (h.themeColors = [p[He(h.themeColors[0]).toRgbString()]], h.textColor = v.fontColor), h.type === "line" && (h.color = p[He(h.color).toRgbString()] || h.color), h.type === "audio" && (h.color = p[He(h.color).toRgbString()] || h.color), h.type === "latex" && (h.color = v.fontColor);
    }
  };
  return {
    getSlidesThemeStyles: r,
    applyPresetThemeToSingleSlide: (f) => {
      const v = JSON.parse(JSON.stringify(n.value));
      l(v, f), t.updateSlide({
        background: v.background,
        elements: v.elements
      }), a();
    },
    applyPresetThemeToAllSlides: (f) => {
      const v = JSON.parse(JSON.stringify(e.value));
      for (const p of v)
        l(p, f);
      t.setTheme({
        backgroundColor: f.background,
        themeColor: f.colors[0],
        fontColor: f.fontColor,
        fontName: f.fontname
      }), t.setSlides(v), a();
    },
    applyThemeToAllSlides: (f = !1) => {
      const v = JSON.parse(JSON.stringify(e.value)), { themeColor: p, backgroundColor: h, fontColor: m, fontName: g, outline: y, shadow: _ } = o.value;
      for (const w of v) {
        (!w.background || w.background.type !== "image") && (w.background = {
          type: "solid",
          color: h
        });
        for (const x of w.elements)
          if (f && ("outline" in x && x.outline && (x.outline = y), "shadow" in x && x.shadow && (x.shadow = _)), x.type === "shape")
            x.fill = p, x.gradient && delete x.gradient;
          else if (x.type === "line") x.color = p;
          else if (x.type === "text")
            x.defaultColor = m, x.defaultFontName = g, x.fill && (x.fill = p);
          else if (x.type === "table") {
            x.theme && (x.theme.color = p);
            for (const S of x.data)
              for (const L of S)
                L.style && (L.style.color = m, L.style.fontname = g);
          } else x.type === "chart" ? (x.themeColors = [p], x.textColor = m) : x.type === "latex" ? x.color = m : x.type === "audio" && (x.color = p);
      }
      t.setSlides(v), a();
    }
  };
}, kc = (t) => (Ze("data-v-6eb81523"), t = t(), qe(), t), GG = { class: "theme-styles-extract" }, UG = { class: "content" }, WG = { class: "config-item" }, XG = /* @__PURE__ */ kc(() => /* @__PURE__ */ C("div", { class: "label" }, "字体：", -1)), YG = { class: "values" }, ZG = { class: "handler" }, qG = ["onClick"], JG = ["onClick"], KG = { class: "config-item" }, QG = /* @__PURE__ */ kc(() => /* @__PURE__ */ C("div", { class: "label" }, "文字颜色：", -1)), jG = { class: "values" }, eU = { class: "handler" }, tU = ["onClick"], nU = ["onClick"], oU = { class: "config-item" }, aU = /* @__PURE__ */ kc(() => /* @__PURE__ */ C("div", { class: "label" }, "背景颜色：", -1)), rU = { class: "values" }, iU = { class: "handler" }, sU = ["onClick"], lU = ["onClick"], uU = { class: "config-item" }, cU = /* @__PURE__ */ kc(() => /* @__PURE__ */ C("div", { class: "label" }, "主题色：", -1)), dU = { class: "values" }, fU = { class: "handler" }, vU = ["onClick"], pU = ["onClick"], hU = { class: "btns" }, mU = /* @__PURE__ */ ce({
  __name: "ThemeStylesExtract",
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = e, o = Ie(), { slides: a, currentSlide: r } = de(o), { getSlidesThemeStyles: i } = b4(), s = [
      { key: "single", label: "从当前页中提取" },
      { key: "all", label: "从全部幻灯片提取" }
    ], l = V("single"), u = V({});
    Qe(() => {
      const p = {};
      for (const h of uf)
        p[h.value] = h.label;
      for (const h of As)
        p[h.value] = h.label;
      u.value = p;
    });
    const c = V({
      backgroundColors: [],
      themeColors: [],
      fontColors: [],
      fontNames: []
    }), d = V({
      backgroundColor: 0,
      themeColor: 0,
      fontColor: 0,
      fontName: 0
    });
    Re(l, () => {
      l.value === "single" ? c.value = i(r.value) : c.value = i(a.value);
    }), Qe(() => {
      c.value = i(r.value);
    });
    const f = (p) => {
      o.setTheme(p);
    }, v = () => {
      o.setTheme({
        backgroundColor: c.value.backgroundColors[d.value.backgroundColor],
        themeColor: c.value.themeColors[d.value.themeColor],
        fontColor: c.value.fontColors[d.value.fontColor],
        fontName: c.value.fontNames[d.value.fontName]
      }), n("close");
    };
    return (p, h) => (k(), R("div", GG, [
      T(jn, {
        tabs: s,
        value: l.value,
        "onUpdate:value": h[0] || (h[0] = (m) => l.value = m),
        tabsStyle: { marginBottom: "12px" },
        tabStyle: { padding: "8px 12px" }
      }, null, 8, ["value"]),
      C("div", UG, [
        C("div", WG, [
          XG,
          C("div", YG, [
            (k(!0), R(pe, null, xe(c.value.fontNames, (m, g) => (k(), R("div", {
              class: "value-wrap",
              key: m
            }, [
              C("div", {
                class: "value",
                style: re({ fontFamily: m })
              }, Ee(u.value[m] || m), 5),
              C("div", ZG, [
                C("div", {
                  class: ye(["state", { active: d.value.fontName === g }])
                }, "√", 2),
                C("div", {
                  class: "config-btn",
                  onClick: (y) => d.value.fontName = g
                }, "选择", 8, qG),
                C("div", {
                  class: "config-btn",
                  onClick: (y) => {
                    f({ fontName: m }), d.value.fontName = g;
                  }
                }, "配置到主题", 8, JG)
              ])
            ]))), 128))
          ])
        ]),
        C("div", KG, [
          QG,
          C("div", jG, [
            (k(!0), R(pe, null, xe(c.value.fontColors, (m, g) => (k(), R("div", {
              class: "value-wrap",
              key: m
            }, [
              C("div", {
                class: "value",
                style: re({ backgroundColor: m })
              }, null, 4),
              C("div", eU, [
                C("div", {
                  class: ye(["state", { active: d.value.fontColor === g }])
                }, "√", 2),
                C("div", {
                  class: "config-btn",
                  onClick: (y) => d.value.fontColor = g
                }, "选择", 8, tU),
                C("div", {
                  class: "config-btn",
                  onClick: (y) => {
                    f({ fontColor: m }), d.value.fontColor = g;
                  }
                }, "配置到主题", 8, nU)
              ])
            ]))), 128))
          ])
        ]),
        C("div", oU, [
          aU,
          C("div", rU, [
            (k(!0), R(pe, null, xe(c.value.backgroundColors, (m, g) => (k(), R("div", {
              class: "value-wrap",
              key: m
            }, [
              C("div", {
                class: "value",
                style: re({ backgroundColor: m })
              }, null, 4),
              C("div", iU, [
                C("div", {
                  class: ye(["state", { active: d.value.backgroundColor === g }])
                }, "√", 2),
                C("div", {
                  class: "config-btn",
                  onClick: (y) => d.value.backgroundColor = g
                }, "选择", 8, sU),
                C("div", {
                  class: "config-btn",
                  onClick: (y) => {
                    f({ backgroundColor: m }), d.value.backgroundColor = g;
                  }
                }, "配置到主题", 8, lU)
              ])
            ]))), 128))
          ])
        ]),
        C("div", uU, [
          cU,
          C("div", dU, [
            (k(!0), R(pe, null, xe(c.value.themeColors, (m, g) => (k(), R("div", {
              class: "value-wrap",
              key: m
            }, [
              C("div", {
                class: "value",
                style: re({ backgroundColor: m })
              }, null, 4),
              C("div", fU, [
                C("div", {
                  class: ye(["state", { active: d.value.themeColor === g }])
                }, "√", 2),
                C("div", {
                  class: "config-btn",
                  onClick: (y) => d.value.themeColor = g
                }, "选择", 8, vU),
                C("div", {
                  class: "config-btn",
                  onClick: (y) => {
                    f({ themeColor: m }), d.value.themeColor = g;
                  }
                }, "配置到主题", 8, pU)
              ])
            ]))), 128))
          ])
        ])
      ]),
      C("div", hU, [
        T(_e, {
          class: "btn",
          type: "primary",
          onClick: h[1] || (h[1] = (m) => v())
        }, {
          default: F(() => [
            fe("将选中配置保存为主题")
          ]),
          _: 1
        })
      ])
    ]));
  }
}), gU = /* @__PURE__ */ ve(mU, [["__scopeId", "data-v-6eb81523"]]), Vt = (t) => (Ze("data-v-db03e13d"), t = t(), qe(), t), yU = { class: "slide-design-panel" }, _U = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { class: "title" }, "背景填充", -1)), bU = { class: "row" }, wU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "10px" } }, null, -1)), xU = {
  key: 0,
  class: "background-image-wrapper"
}, SU = { class: "background-image" }, IU = {
  key: 1,
  class: "background-gradient-wrapper"
}, CU = { class: "row" }, TU = { class: "row" }, LU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "当前色块：", -1)), kU = {
  key: 0,
  class: "row"
}, EU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "渐变角度：", -1)), MU = { class: "row" }, AU = { class: "row" }, DU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "画布尺寸：", -1)), $U = { class: "title" }, PU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("span", null, "全局主题", -1)), RU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("span", { class: "text" }, "更多", -1)), OU = { class: "row" }, NU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "字体：", -1)), BU = { class: "row" }, FU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "字体颜色：", -1)), zU = { class: "row" }, VU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "背景颜色：", -1)), HU = { class: "row" }, GU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "主题色：", -1)), UU = { class: "row" }, WU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "边框样式：", -1)), XU = { class: "row" }, YU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "边框颜色：", -1)), ZU = { class: "row" }, qU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "边框粗细：", -1)), JU = {
  class: "row",
  style: { height: "30px" }
}, KU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "水平阴影：", -1)), QU = {
  class: "row",
  style: { height: "30px" }
}, jU = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "垂直阴影：", -1)), eW = {
  class: "row",
  style: { height: "30px" }
}, tW = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "模糊距离：", -1)), nW = { class: "row" }, oW = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { style: { width: "40%" } }, "阴影颜色：", -1)), aW = { class: "row" }, rW = { class: "row" }, iW = /* @__PURE__ */ Vt(() => /* @__PURE__ */ C("div", { class: "title" }, "预置主题", -1)), sW = { class: "theme-list" }, lW = { class: "theme-item-content" }, uW = { class: "colors" }, cW = { class: "btns" }, dW = /* @__PURE__ */ ce({
  __name: "SlideDesignPanel",
  setup(t) {
    const e = Ie(), { availableFonts: n } = de(Te()), { slides: o, currentSlide: a, viewportRatio: r, theme: i } = de(e), s = V(!1), l = V(!1), u = V(0), c = ne(() => a.value.background ? a.value.background : {
      type: "solid",
      value: "#fff"
    }), { addHistorySnapshot: d } = Xe(), {
      applyPresetThemeToSingleSlide: f,
      applyPresetThemeToAllSlides: v,
      applyThemeToAllSlides: p
    } = b4(), h = (b) => {
      if (b === "solid") {
        const I = {
          ...c.value,
          type: "solid",
          color: c.value.color || "#fff"
        };
        e.updateSlide({ background: I });
      } else if (b === "image") {
        const I = {
          ...c.value,
          type: "image",
          image: c.value.image || {
            src: "",
            size: "cover"
          }
        };
        e.updateSlide({ background: I });
      } else {
        const I = {
          ...c.value,
          type: "gradient",
          gradient: c.value.gradient || {
            type: "linear",
            colors: [
              { pos: 0, color: "#fff" },
              { pos: 100, color: "#fff" }
            ],
            rotate: 0
          }
        };
        u.value = 0, e.updateSlide({ background: I });
      }
      d();
    }, m = (b) => {
      e.updateSlide({ background: { ...c.value, ...b } }), d();
    }, g = (b) => {
      m({ gradient: { ...c.value.gradient, ...b } });
    }, y = (b) => {
      const I = c.value.gradient.colors.map((M, E) => E === u.value ? { ...M, color: b } : M);
      g({ colors: I });
    }, _ = (b) => {
      m({ image: { ...c.value.image, ...b } });
    }, w = (b) => {
      const I = b[0];
      I && fa(I).then((M) => _({ src: M }));
    }, x = () => {
      const b = o.value.map((I) => ({
        ...I,
        background: a.value.background
      }));
      e.setSlides(b), d();
    }, S = (b) => {
      e.setTheme(b);
    }, L = (b) => {
      e.setViewportRatio(b);
    };
    return (b, I) => {
      var O, N, P, $;
      const M = j("IconPlus"), E = j("IconDown"), D = j("IconRight");
      return k(), R(pe, null, [
        C("div", yU, [
          _U,
          C("div", bU, [
            T(xt, {
              style: { flex: "1" },
              value: c.value.type,
              "onUpdate:value": I[0] || (I[0] = (z) => h(z)),
              options: [
                { label: "纯色填充", value: "solid" },
                { label: "图片填充", value: "image" },
                { label: "渐变填充", value: "gradient" }
              ]
            }, null, 8, ["value"]),
            wU,
            c.value.type === "solid" ? (k(), ie(Be, {
              key: 0,
              trigger: "click",
              style: { flex: "1" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: c.value.color,
                  "onUpdate:modelValue": I[1] || (I[1] = (z) => m({ color: z }))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                T(Et, {
                  color: c.value.color || "#fff"
                }, null, 8, ["color"])
              ]),
              _: 1
            })) : c.value.type === "image" ? (k(), ie(xt, {
              key: 1,
              style: { flex: "1" },
              value: ((O = c.value.image) == null ? void 0 : O.size) || "cover",
              "onUpdate:value": I[2] || (I[2] = (z) => _({ size: z })),
              options: [
                { label: "缩放", value: "contain" },
                { label: "拼贴", value: "repeat" },
                { label: "缩放铺满", value: "cover" }
              ]
            }, null, 8, ["value"])) : (k(), ie(xt, {
              key: 2,
              style: { flex: "1" },
              value: ((N = c.value.gradient) == null ? void 0 : N.type) || "",
              "onUpdate:value": I[3] || (I[3] = (z) => g({ type: z })),
              options: [
                { label: "线性渐变", value: "linear" },
                { label: "径向渐变", value: "radial" }
              ]
            }, null, 8, ["value"]))
          ]),
          c.value.type === "image" ? (k(), R("div", xU, [
            T(er, {
              onChange: I[4] || (I[4] = (z) => w(z))
            }, {
              default: F(() => {
                var z;
                return [
                  C("div", SU, [
                    C("div", {
                      class: "content",
                      style: re({ backgroundImage: `url(${(z = c.value.image) == null ? void 0 : z.src})` })
                    }, [
                      T(M)
                    ], 4)
                  ])
                ];
              }),
              _: 1
            })
          ])) : me("", !0),
          c.value.type === "gradient" ? (k(), R("div", IU, [
            C("div", CU, [
              T(v4, {
                value: ((P = c.value.gradient) == null ? void 0 : P.colors) || [],
                "onUpdate:value": I[5] || (I[5] = (z) => g({ colors: z })),
                "onUpdate:index": I[6] || (I[6] = (z) => u.value = z)
              }, null, 8, ["value"])
            ]),
            C("div", TU, [
              LU,
              T(Be, {
                trigger: "click",
                style: { width: "60%" }
              }, {
                content: F(() => [
                  T(vt, {
                    modelValue: c.value.gradient.colors[u.value].color,
                    "onUpdate:modelValue": I[7] || (I[7] = (z) => y(z))
                  }, null, 8, ["modelValue"])
                ]),
                default: F(() => [
                  T(Et, {
                    color: c.value.gradient.colors[u.value].color
                  }, null, 8, ["color"])
                ]),
                _: 1
              })
            ]),
            (($ = c.value.gradient) == null ? void 0 : $.type) === "linear" ? (k(), R("div", kU, [
              EU,
              T(Jt, {
                min: 0,
                max: 360,
                step: 15,
                value: c.value.gradient.rotate || 0,
                "onUpdate:value": I[8] || (I[8] = (z) => g({ rotate: z })),
                style: { width: "60%" }
              }, null, 8, ["value"])
            ])) : me("", !0)
          ])) : me("", !0),
          C("div", MU, [
            T(_e, {
              style: { flex: "1" },
              onClick: I[9] || (I[9] = (z) => x())
            }, {
              default: F(() => [
                fe("应用背景到全部")
              ]),
              _: 1
            })
          ]),
          T(Ve),
          C("div", AU, [
            DU,
            T(xt, {
              style: { width: "60%" },
              value: A(r),
              "onUpdate:value": I[10] || (I[10] = (z) => L(z)),
              options: [
                { label: "宽屏 16 : 9", value: 0.5625 },
                { label: "宽屏 16 : 10", value: 0.625 },
                { label: "标准 4 : 3", value: 0.75 },
                { label: "纸张 A3 / A4", value: 0.70710678 },
                { label: "竖向 A3 / A4", value: 1.41421356 }
              ]
            }, null, 8, ["value"])
          ]),
          T(Ve),
          C("div", $U, [
            PU,
            C("span", {
              class: "more",
              onClick: I[11] || (I[11] = (z) => s.value = !s.value)
            }, [
              RU,
              s.value ? (k(), ie(E, { key: 0 })) : (k(), ie(D, { key: 1 }))
            ])
          ]),
          C("div", OU, [
            NU,
            T(xt, {
              style: { width: "60%" },
              value: A(i).fontName,
              search: "",
              searchLabel: "搜索字体",
              "onUpdate:value": I[12] || (I[12] = (z) => S({ fontName: z })),
              options: [
                ...A(n),
                ...A(As)
              ]
            }, null, 8, ["value", "options"])
          ]),
          C("div", BU, [
            FU,
            T(Be, {
              trigger: "click",
              style: { width: "60%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: A(i).fontColor,
                  "onUpdate:modelValue": I[13] || (I[13] = (z) => S({ fontColor: z }))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                T(Et, {
                  color: A(i).fontColor
                }, null, 8, ["color"])
              ]),
              _: 1
            })
          ]),
          C("div", zU, [
            VU,
            T(Be, {
              trigger: "click",
              style: { width: "60%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: A(i).backgroundColor,
                  "onUpdate:modelValue": I[14] || (I[14] = (z) => S({ backgroundColor: z }))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                T(Et, {
                  color: A(i).backgroundColor
                }, null, 8, ["color"])
              ]),
              _: 1
            })
          ]),
          C("div", HU, [
            GU,
            T(Be, {
              trigger: "click",
              style: { width: "60%" }
            }, {
              content: F(() => [
                T(vt, {
                  modelValue: A(i).themeColor,
                  "onUpdate:modelValue": I[15] || (I[15] = (z) => S({ themeColor: z }))
                }, null, 8, ["modelValue"])
              ]),
              default: F(() => [
                T(Et, {
                  color: A(i).themeColor
                }, null, 8, ["color"])
              ]),
              _: 1
            })
          ]),
          s.value ? (k(), R(pe, { key: 2 }, [
            C("div", UU, [
              WU,
              T(xt, {
                style: { width: "60%" },
                value: A(i).outline.style || "",
                "onUpdate:value": I[16] || (I[16] = (z) => S({ outline: { ...A(i).outline, style: z } })),
                options: [
                  { label: "实线边框", value: "solid" },
                  { label: "虚线边框", value: "dashed" },
                  { label: "点线边框", value: "dotted" }
                ]
              }, null, 8, ["value"])
            ]),
            C("div", XU, [
              YU,
              T(Be, {
                trigger: "click",
                style: { width: "60%" }
              }, {
                content: F(() => [
                  T(vt, {
                    modelValue: A(i).outline.color,
                    "onUpdate:modelValue": I[17] || (I[17] = (z) => S({ outline: { ...A(i).outline, color: z } }))
                  }, null, 8, ["modelValue"])
                ]),
                default: F(() => [
                  T(Et, {
                    color: A(i).outline.color || "#000"
                  }, null, 8, ["color"])
                ]),
                _: 1
              })
            ]),
            C("div", ZU, [
              qU,
              T(mn, {
                value: A(i).outline.width || 0,
                "onUpdate:value": I[18] || (I[18] = (z) => S({ outline: { ...A(i).outline, width: z } })),
                style: { width: "60%" }
              }, null, 8, ["value"])
            ]),
            C("div", JU, [
              KU,
              T(Jt, {
                style: { width: "60%" },
                min: -10,
                max: 10,
                step: 1,
                value: A(i).shadow.h,
                "onUpdate:value": I[19] || (I[19] = (z) => S({ shadow: { ...A(i).shadow, h: z } }))
              }, null, 8, ["value"])
            ]),
            C("div", QU, [
              jU,
              T(Jt, {
                style: { width: "60%" },
                min: -10,
                max: 10,
                step: 1,
                value: A(i).shadow.v,
                "onUpdate:value": I[20] || (I[20] = (z) => S({ shadow: { ...A(i).shadow, v: z } }))
              }, null, 8, ["value"])
            ]),
            C("div", eW, [
              tW,
              T(Jt, {
                style: { width: "60%" },
                min: 1,
                max: 20,
                step: 1,
                value: A(i).shadow.blur,
                "onUpdate:value": I[21] || (I[21] = (z) => S({ shadow: { ...A(i).shadow, blur: z } }))
              }, null, 8, ["value"])
            ]),
            C("div", nW, [
              oW,
              T(Be, {
                trigger: "click",
                style: { width: "60%" }
              }, {
                content: F(() => [
                  T(vt, {
                    modelValue: A(i).shadow.color,
                    "onUpdate:modelValue": I[22] || (I[22] = (z) => S({ shadow: { ...A(i).shadow, color: z } }))
                  }, null, 8, ["modelValue"])
                ]),
                default: F(() => [
                  T(Et, {
                    color: A(i).shadow.color
                  }, null, 8, ["color"])
                ]),
                _: 1
              })
            ])
          ], 64)) : me("", !0),
          C("div", aW, [
            T(_e, {
              style: { flex: "1" },
              onClick: I[23] || (I[23] = (z) => A(p)(s.value))
            }, {
              default: F(() => [
                fe("应用主题到全部")
              ]),
              _: 1
            })
          ]),
          C("div", rW, [
            T(_e, {
              style: { flex: "1" },
              onClick: I[24] || (I[24] = (z) => l.value = !0)
            }, {
              default: F(() => [
                fe("从幻灯片提取主题")
              ]),
              _: 1
            })
          ]),
          T(Ve),
          iW,
          C("div", sW, [
            (k(!0), R(pe, null, xe(A(HG), (z, H) => (k(), R("div", {
              class: "theme-item",
              key: H,
              style: re({
                backgroundColor: z.background,
                fontFamily: z.fontname
              })
            }, [
              C("div", lW, [
                C("div", {
                  class: "text",
                  style: re({ color: z.fontColor })
                }, "文字 Aa", 4),
                C("div", uW, [
                  (k(!0), R(pe, null, xe(z.colors, (W, oe) => (k(), R("div", {
                    class: "color-block",
                    key: oe,
                    style: re({ backgroundColor: W })
                  }, null, 4))), 128))
                ]),
                C("div", cW, [
                  T(_e, {
                    type: "primary",
                    size: "small",
                    onClick: (W) => A(f)(z)
                  }, {
                    default: F(() => [
                      fe("应用")
                    ]),
                    _: 2
                  }, 1032, ["onClick"]),
                  T(_e, {
                    type: "primary",
                    size: "small",
                    style: { "margin-top": "3px" },
                    onClick: (W) => A(v)(z)
                  }, {
                    default: F(() => [
                      fe("应用全局")
                    ]),
                    _: 2
                  }, 1032, ["onClick"])
                ])
              ])
            ], 4))), 128))
          ])
        ]),
        T(si, {
          visible: l.value,
          "onUpdate:visible": I[26] || (I[26] = (z) => l.value = z),
          width: 320,
          onClosed: I[27] || (I[27] = (z) => l.value = !1)
        }, {
          default: F(() => [
            T(gU, {
              onClose: I[25] || (I[25] = (z) => l.value = !1)
            })
          ]),
          _: 1
        }, 8, ["visible"])
      ], 64);
    };
  }
}), fW = /* @__PURE__ */ ve(dW, [["__scopeId", "data-v-db03e13d"]]), vW = { class: "slide-animation-panel" }, pW = { class: "animation-pool" }, hW = ["onClick"], mW = { class: "animation-text" }, gW = /* @__PURE__ */ ce({
  __name: "SlideAnimationPanel",
  setup(t) {
    const e = Ie(), { slides: n, currentSlide: o } = de(e), a = ne(() => o.value.turningMode || "slideY"), r = y4, { addHistorySnapshot: i } = Xe(), s = (u) => {
      u !== a.value && (e.updateSlide({ turningMode: u }), i());
    }, l = () => {
      const u = n.value.map((c) => ({
        ...c,
        turningMode: o.value.turningMode
      }));
      e.setSlides(u), at.success("已应用到全部"), i();
    };
    return (u, c) => (k(), R("div", vW, [
      C("div", pW, [
        (k(!0), R(pe, null, xe(A(r), (d) => (k(), R("div", {
          class: ye(["animation-item", { active: a.value === d.value }]),
          key: d.label,
          onClick: (f) => s(d.value)
        }, [
          C("div", {
            class: ye(["animation-block", d.value])
          }, null, 2),
          C("div", mW, Ee(d.label), 1)
        ], 10, hW))), 128))
      ]),
      T(_e, {
        style: { width: "100%" },
        onClick: c[0] || (c[0] = (d) => l())
      }, {
        default: F(() => [
          fe("应用到全部")
        ]),
        _: 1
      })
    ]));
  }
}), yW = /* @__PURE__ */ ve(gW, [["__scopeId", "data-v-5a69807a"]]), _W = () => {
  const t = Ie(), { activeElementIdList: e, activeElementList: n } = de(Te()), { currentSlide: o } = de(t), { addHistorySnapshot: a } = Xe();
  return {
    alignActiveElement: (i) => {
      const { minX: s, maxX: l, minY: u, maxY: c } = To(n.value), d = JSON.parse(JSON.stringify(o.value.elements)), f = {};
      for (const v of n.value)
        if (v.groupId && !f[v.groupId]) {
          const p = n.value.filter((h) => h.groupId === v.groupId);
          f[v.groupId] = To(p);
        }
      if (i === Ke.LEFT)
        d.forEach((v) => {
          if (e.value.includes(v.id))
            if (v.groupId) {
              const h = f[v.groupId].minX - s;
              v.left = v.left - h;
            } else if ("rotate" in v && v.rotate) {
              const { offsetX: p } = kr({
                left: v.left,
                top: v.top,
                width: v.width,
                height: v.height,
                rotate: v.rotate
              });
              v.left = s - p;
            } else v.left = s;
        });
      else if (i === Ke.RIGHT)
        d.forEach((v) => {
          if (e.value.includes(v.id))
            if (v.groupId) {
              const h = f[v.groupId].maxX - l;
              v.left = v.left - h;
            } else {
              const p = v.type === "line" ? Math.max(v.start[0], v.end[0]) : v.width;
              if ("rotate" in v && v.rotate) {
                const { offsetX: h } = kr({
                  left: v.left,
                  top: v.top,
                  width: v.width,
                  height: v.height,
                  rotate: v.rotate
                });
                v.left = l - p + h;
              } else v.left = l - p;
            }
        });
      else if (i === Ke.TOP)
        d.forEach((v) => {
          if (e.value.includes(v.id))
            if (v.groupId) {
              const h = f[v.groupId].minY - u;
              v.top = v.top - h;
            } else if ("rotate" in v && v.rotate) {
              const { offsetY: p } = kr({
                left: v.left,
                top: v.top,
                width: v.width,
                height: v.height,
                rotate: v.rotate
              });
              v.top = u - p;
            } else v.top = u;
        });
      else if (i === Ke.BOTTOM)
        d.forEach((v) => {
          if (e.value.includes(v.id))
            if (v.groupId) {
              const h = f[v.groupId].maxY - c;
              v.top = v.top - h;
            } else {
              const p = v.type === "line" ? Math.max(v.start[1], v.end[1]) : v.height;
              if ("rotate" in v && v.rotate) {
                const { offsetY: h } = kr({
                  left: v.left,
                  top: v.top,
                  width: v.width,
                  height: v.height,
                  rotate: v.rotate
                });
                v.top = c - p + h;
              } else v.top = c - p;
            }
        });
      else if (i === Ke.HORIZONTAL) {
        const v = (s + l) / 2;
        d.forEach((p) => {
          if (e.value.includes(p.id))
            if (p.groupId) {
              const h = f[p.groupId], g = (h.maxX + h.minX) / 2 - v;
              p.left = p.left - g;
            } else {
              const h = p.type === "line" ? Math.max(p.start[0], p.end[0]) : p.width;
              p.left = v - h / 2;
            }
        });
      } else if (i === Ke.VERTICAL) {
        const v = (u + c) / 2;
        d.forEach((p) => {
          if (e.value.includes(p.id))
            if (p.groupId) {
              const h = f[p.groupId], g = (h.maxY + h.minY) / 2 - v;
              p.top = p.top - g;
            } else {
              const h = p.type === "line" ? Math.max(p.start[1], p.end[1]) : p.height;
              p.top = v - h / 2;
            }
        });
      }
      t.updateSlide({ elements: d }), a();
    }
  };
}, bW = () => {
  const t = Ie(), { activeElementIdList: e, activeElementList: n } = de(Te()), { currentSlide: o } = de(t), { addHistorySnapshot: a } = Xe();
  return {
    displayItemCount: ne(() => {
      let l = 0;
      const u = [];
      for (const c of n.value)
        c.groupId ? u.includes(c.groupId) || (u.push(c.groupId), l += 1) : l += 1;
      return l;
    }),
    uniformHorizontalDisplay: () => {
      const { minX: l, maxX: u } = To(n.value), c = JSON.parse(JSON.stringify(n.value)), d = JSON.parse(JSON.stringify(o.value.elements)), f = [];
      let v = [];
      for (const x of c)
        if (x.groupId)
          v.find((L) => L.groupId === x.groupId) ? v = v.map((L) => L.groupId === x.groupId ? { ...L, els: [...L.els, x] } : L) : v.push({ groupId: x.groupId, els: [x] });
        else {
          const { minX: S, maxX: L } = Rn(x);
          f.push({ min: S, max: L, el: x });
        }
      const p = [];
      for (const x of v) {
        const { minX: S, maxX: L } = To(x.els);
        p.push({ min: S, max: L, els: x.els });
      }
      const h = [...f, ...p];
      h.sort((x, S) => x.min - S.min);
      let m = 0;
      for (const x of h) {
        const S = x.max - x.min;
        m += S;
      }
      const g = (u - l - m) / (h.length - 1), y = [], _ = h[0];
      let w = { min: _.min, max: _.max };
      if ("el" in _)
        y.push({ pos: _.min, el: _.el });
      else
        for (const x of _.els) {
          const { minX: S } = Rn(x);
          y.push({ pos: S, el: x });
        }
      for (let x = 1; x < h.length; x++) {
        const S = h[x], L = w.max - w.min, b = w.min + L + g, I = S.max - S.min;
        if (w = { min: b, max: b + I }, "el" in S)
          y.push({ pos: b, el: S.el });
        else
          for (const M of S.els) {
            const { minX: E } = Rn(M), D = E - S.min;
            y.push({ pos: b + D, el: M });
          }
      }
      for (const x of d)
        if (e.value.includes(x.id)) {
          for (const S of y)
            if (S.el.id === x.id)
              if ("rotate" in x && x.rotate) {
                const { offsetX: L } = kr({
                  left: x.left,
                  top: x.top,
                  width: x.width,
                  height: x.height,
                  rotate: x.rotate
                });
                x.left = S.pos - L;
              } else x.left = S.pos;
        }
      t.updateSlide({ elements: d }), a();
    },
    uniformVerticalDisplay: () => {
      const { minY: l, maxY: u } = To(n.value), c = JSON.parse(JSON.stringify(n.value)), d = JSON.parse(JSON.stringify(o.value.elements)), f = [];
      let v = [];
      for (const x of c)
        if (x.groupId)
          v.find((L) => L.groupId === x.groupId) ? v = v.map((L) => L.groupId === x.groupId ? { ...L, els: [...L.els, x] } : L) : v.push({ groupId: x.groupId, els: [x] });
        else {
          const { minY: S, maxY: L } = Rn(x);
          f.push({ min: S, max: L, el: x });
        }
      const p = [];
      for (const x of v) {
        const { minY: S, maxY: L } = To(x.els);
        p.push({ min: S, max: L, els: x.els });
      }
      const h = [...f, ...p];
      h.sort((x, S) => x.min - S.min);
      let m = 0;
      for (const x of h) {
        const S = x.max - x.min;
        m += S;
      }
      const g = (u - l - m) / (h.length - 1), y = [], _ = h[0];
      let w = { min: _.min, max: _.max };
      if ("el" in _)
        y.push({ pos: _.min, el: _.el });
      else
        for (const x of _.els) {
          const { minY: S } = Rn(x);
          y.push({ pos: S, el: x });
        }
      for (let x = 1; x < h.length; x++) {
        const S = h[x], L = w.max - w.min, b = w.min + L + g, I = S.max - S.min;
        if (w = { min: b, max: b + I }, "el" in S)
          y.push({ pos: b, el: S.el });
        else
          for (const M of S.els) {
            const { minY: E } = Rn(M), D = E - S.min;
            y.push({ pos: b + D, el: M });
          }
      }
      for (const x of d)
        if (e.value.includes(x.id)) {
          for (const S of y)
            if (S.el.id === x.id)
              if ("rotate" in x && x.rotate) {
                const { offsetY: L } = kr({
                  left: x.left,
                  top: x.top,
                  width: x.width,
                  height: x.height,
                  rotate: x.rotate
                });
                x.top = S.pos - L;
              } else x.top = S.pos;
        }
      t.updateSlide({ elements: d }), a();
    }
  };
}, wW = { class: "multi-position-panel" }, xW = /* @__PURE__ */ ce({
  __name: "MultiPositionPanel",
  setup(t) {
    const { canCombine: e, combineElements: n, uncombineElements: o } = Pv(), { alignActiveElement: a } = _W(), { alignElementToCanvas: r } = Ou(), { displayItemCount: i, uniformHorizontalDisplay: s, uniformVerticalDisplay: l } = bW(), u = (c) => {
      e.value ? a(c) : r(c);
    };
    return (c, d) => {
      const f = j("IconAlignLeft"), v = j("IconAlignHorizontally"), p = j("IconAlignRight"), h = j("IconAlignTop"), m = j("IconAlignVertically"), g = j("IconAlignBottom"), y = j("IconGroup"), _ = j("IconUngroup"), w = it("tooltip");
      return k(), R("div", wW, [
        T(ut, { class: "row" }, {
          default: F(() => [
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: d[0] || (d[0] = (x) => u(A(Ke).LEFT))
            }, {
              default: F(() => [
                T(f)
              ]),
              _: 1
            })), [
              [w, "左对齐"]
            ]),
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: d[1] || (d[1] = (x) => u(A(Ke).HORIZONTAL))
            }, {
              default: F(() => [
                T(v)
              ]),
              _: 1
            })), [
              [w, "水平居中"]
            ]),
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: d[2] || (d[2] = (x) => u(A(Ke).RIGHT))
            }, {
              default: F(() => [
                T(p)
              ]),
              _: 1
            })), [
              [w, "右对齐"]
            ])
          ]),
          _: 1
        }),
        T(ut, { class: "row" }, {
          default: F(() => [
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: d[3] || (d[3] = (x) => u(A(Ke).TOP))
            }, {
              default: F(() => [
                T(h)
              ]),
              _: 1
            })), [
              [w, "上对齐"]
            ]),
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: d[4] || (d[4] = (x) => u(A(Ke).VERTICAL))
            }, {
              default: F(() => [
                T(m)
              ]),
              _: 1
            })), [
              [w, "垂直居中"]
            ]),
            ge((k(), ie(_e, {
              style: { flex: "1" },
              onClick: d[5] || (d[5] = (x) => u(A(Ke).BOTTOM))
            }, {
              default: F(() => [
                T(g)
              ]),
              _: 1
            })), [
              [w, "下对齐"]
            ])
          ]),
          _: 1
        }),
        A(i) > 2 ? (k(), ie(ut, {
          key: 0,
          class: "row"
        }, {
          default: F(() => [
            T(_e, {
              style: { flex: "1" },
              onClick: d[6] || (d[6] = (x) => A(s)())
            }, {
              default: F(() => [
                fe("水平均匀分布")
              ]),
              _: 1
            }),
            T(_e, {
              style: { flex: "1" },
              onClick: d[7] || (d[7] = (x) => A(l)())
            }, {
              default: F(() => [
                fe("垂直均匀分布")
              ]),
              _: 1
            })
          ]),
          _: 1
        })) : me("", !0),
        T(Ve),
        T(ut, { class: "row" }, {
          default: F(() => [
            T(_e, {
              disabled: !A(e),
              onClick: d[8] || (d[8] = (x) => A(n)()),
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(y, { style: { "margin-right": "3px" } }),
                fe("组合")
              ]),
              _: 1
            }, 8, ["disabled"]),
            T(_e, {
              disabled: A(e),
              onClick: d[9] || (d[9] = (x) => A(o)()),
              style: { flex: "1" }
            }, {
              default: F(() => [
                T(_, { style: { "margin-right": "3px" } }),
                fe("取消组合")
              ]),
              _: 1
            }, 8, ["disabled"])
          ]),
          _: 1
        })
      ]);
    };
  }
}), SW = /* @__PURE__ */ ve(xW, [["__scopeId", "data-v-06321d2c"]]), of = [
  {
    key: "letter",
    label: "字母",
    children: [
      "α",
      "β",
      "γ",
      "δ",
      "ϵ",
      "ε",
      "ζ",
      "η",
      "θ",
      "ϑ",
      "ι",
      "κ",
      "λ",
      "μ",
      "ν",
      "ξ",
      "π",
      "ϖ",
      "ρ",
      "ϱ",
      "σ",
      "ς",
      "τ",
      "υ",
      "ϕ",
      "φ",
      "χ",
      "ψ",
      "ω",
      "Γ",
      "Δ",
      "Θ",
      "Λ",
      "Ξ",
      "Π",
      "Σ",
      "Υ",
      "Φ",
      "Ψ",
      "Ω",
      "𝐀",
      "𝐁",
      "𝐂",
      "𝐃",
      "𝐄",
      "𝐅",
      "𝐆",
      "𝐇",
      "𝐈",
      "𝐉",
      "𝐊",
      "𝐋",
      "𝐌",
      "𝐍",
      "𝐎",
      "𝐏",
      "𝐐",
      "𝐑",
      "𝐒",
      "𝐓",
      "𝐔",
      "𝐕",
      "𝐖",
      "𝐗",
      "𝐘",
      "𝐙",
      "𝐚",
      "𝐛",
      "𝐜",
      "𝐝",
      "𝐞",
      "𝐟",
      "𝐠",
      "𝐡",
      "𝐢",
      "𝐣",
      "𝐤",
      "𝐥",
      "𝐦",
      "𝐧",
      "𝐨",
      "𝐩",
      "𝐪",
      "𝐫",
      "𝐬",
      "𝐭",
      "𝐮",
      "𝐯",
      "𝐰",
      "𝐱",
      "𝐲",
      "𝐳",
      "𝓐",
      "𝓑",
      "𝓒",
      "𝓓",
      "𝓔",
      "𝓕",
      "𝓖",
      "𝓗",
      "𝓘",
      "𝓙",
      "𝓚",
      "𝓛",
      "𝓜",
      "𝓝",
      "𝓞",
      "𝓟",
      "𝓠",
      "𝓡",
      "𝓢",
      "𝓣",
      "𝓤",
      "𝓥",
      "𝓦",
      "𝓧",
      "𝓨",
      "𝓩",
      "𝓪",
      "𝓫",
      "𝓬",
      "𝓭",
      "𝓮",
      "𝓯",
      "𝓰",
      "𝓱",
      "𝓲",
      "𝓳",
      "𝓴",
      "𝓵",
      "𝓶",
      "𝓷",
      "𝓸",
      "𝓹",
      "𝓺",
      "𝓻",
      "𝓼",
      "𝓽",
      "𝓾",
      "𝓿",
      "𝔀",
      "𝔁",
      "𝔂",
      "𝔃"
    ]
  },
  {
    key: "number",
    label: "序号",
    children: [
      "①",
      "②",
      "③",
      "④",
      "⑤",
      "⑥",
      "⑦",
      "⑧",
      "⑨",
      "⑩",
      "⑪",
      "⑫",
      "⑬",
      "⑭",
      "⑮",
      "⑯",
      "⑰",
      "⑱",
      "⑲",
      "⑳",
      "⑴",
      "⑵",
      "⑶",
      "⑷",
      "⑸",
      "⑹",
      "⑺",
      "⑻",
      "⑼",
      "⑽",
      "⑾",
      "⑿",
      "⒀",
      "⒁",
      "⒂",
      "⒃",
      "⒄",
      "⒅",
      "⒆",
      "⒇",
      "º",
      "¹",
      "²",
      "³",
      "⁴",
      "⁵",
      "⁶",
      "⁷",
      "⁸",
      "⁹",
      "₀",
      "₁",
      "₂",
      "₃",
      "₄",
      "₅",
      "₆",
      "₇",
      "₈",
      "₉",
      "Ⅰ",
      "Ⅱ",
      "Ⅲ",
      "Ⅳ",
      "Ⅴ",
      "Ⅵ",
      "Ⅶ",
      "Ⅷ",
      "Ⅸ",
      "Ⅹ",
      "Ⅺ",
      "Ⅻ",
      "Ⅼ",
      "Ⅽ",
      "Ⅾ",
      "Ⅿ",
      "ⅰ",
      "ⅱ",
      "ⅲ",
      "ⅳ",
      "ⅴ",
      "ⅵ",
      "ⅶ",
      "ⅷ",
      "ⅸ",
      "ⅹ",
      "ⅺ",
      "ⅻ",
      "ⅼ",
      "ⅽ",
      "ⅾ",
      "ⅿ",
      "ↀ",
      "ↁ",
      "ↂ",
      "㊀",
      "㊁",
      "㊂",
      "㊃",
      "㊄",
      "㊅",
      "㊆",
      "㊇",
      "㊈",
      "㊉",
      "㈠",
      "㈡",
      "㈢",
      "㈣",
      "㈤",
      "㈥",
      "㈦",
      "㈧",
      "㈨",
      "㈩",
      "𝟘",
      "𝟙",
      "𝟚",
      "𝟛",
      "𝟜",
      "𝟝",
      "𝟞",
      "𝟟",
      "𝟠",
      "𝟡"
    ]
  },
  {
    key: "math",
    label: "数学",
    children: [
      "+",
      "-",
      "×",
      "÷",
      "=",
      "~",
      "¬",
      "±",
      "%",
      "°",
      "ǃ",
      "‰",
      "‱",
      "½",
      "⅓",
      "⅔",
      "¼",
      "¾",
      "<",
      ">",
      "l",
      "o",
      "g",
      "l",
      "g",
      "l",
      "n",
      "⨂",
      "⨁",
      "⨄",
      "⨃",
      "⨅",
      "⨆",
      "√",
      "∛",
      "∜",
      "∝",
      "∞",
      "∟",
      "∠",
      "∡",
      "∢",
      "∧",
      "∨",
      "∩",
      "∪",
      "∫",
      "∬",
      "∭",
      "∮",
      "∯",
      "∰",
      "∱",
      "∲",
      "∳",
      "∴",
      "∵",
      "∼",
      "∽",
      "∾",
      "∿",
      "≃",
      "≄",
      "≅",
      "≆",
      "≇",
      "≈",
      "≊",
      "≋",
      "≌",
      "≍",
      "≎",
      "≏",
      "≐",
      "≑",
      "≒",
      "≓",
      "≔",
      "≕",
      "≤",
      "≥",
      "≦",
      "≧",
      "≨",
      "≩",
      "≪",
      "≫",
      "≺",
      "≻",
      "≼",
      "≽",
      "≾",
      "≿",
      "⊀",
      "⊁",
      "⊂",
      "⊃",
      "⊄",
      "⊅",
      "⊆",
      "⊇",
      "⊈",
      "⊉",
      "⊊",
      "⊋",
      "⊏",
      "⊐",
      "⊑",
      "⊒",
      "⊓",
      "⊔",
      "⊢",
      "⊣",
      "⊤",
      "⊥",
      "⊦",
      "⊧",
      "⊨",
      "⊩",
      "⊪",
      "⊫",
      "⊬",
      "⊭",
      "⊮",
      "⊯",
      "⊲",
      "⊳",
      "⊴",
      "⊵",
      "⋀",
      "⋁",
      "⋂",
      "⋃",
      "⋉",
      "⋊",
      "⋋",
      "⋌",
      "⟨",
      "⟩",
      "⟪",
      "⟫",
      "⟮",
      "⟯",
      "⧼",
      "⧽",
      "⦰"
    ]
  },
  {
    key: "arrow",
    label: "箭头",
    children: [
      "←",
      "↑",
      "→",
      "↓",
      "↔",
      "↕",
      "↖",
      "↗",
      "↘",
      "↙",
      "↚",
      "↛",
      "↜",
      "↝",
      "↞",
      "↟",
      "↠",
      "↡",
      "↢",
      "↣",
      "↤",
      "↥",
      "↦",
      "↧",
      "↨",
      "↫",
      "↬",
      "↭",
      "↮",
      "↯",
      "↰",
      "↱",
      "↲",
      "↳",
      "↴",
      "↵",
      "↶",
      "↷",
      "↸",
      "↹",
      "↺",
      "↻",
      "↼",
      "↽",
      "↾",
      "↿",
      "⇀",
      "⇁",
      "⇂",
      "⇃",
      "⇄",
      "⇅",
      "⇆",
      "⇇",
      "⇈",
      "⇉",
      "⇊",
      "⇋",
      "⇌",
      "⇍",
      "⇎",
      "⇏",
      "⇐",
      "⇑",
      "⇒",
      "⇓",
      "⇔",
      "⇕",
      "⇖",
      "⇗",
      "⇘",
      "⇙",
      "⇚",
      "⇛",
      "⇜",
      "⇝",
      "⇞",
      "⇟",
      "⇠",
      "⇡",
      "⇢",
      "⇣",
      "⇤",
      "⇥",
      "⇦",
      "⇧",
      "⇨",
      "⇩",
      "⇪",
      "⇫",
      "⇬",
      "⇭",
      "⇮",
      "⇯",
      "⇰",
      "⇱",
      "⇲",
      "⇳",
      "⇴",
      "⇵",
      "⇶",
      "⇷",
      "⇸",
      "⇹",
      "⇺",
      "⇻",
      "⇼",
      "⇽",
      "⇾",
      "⇿"
    ]
  },
  {
    key: "graph",
    label: "图形",
    children: [
      "▢",
      "▣",
      "▤",
      "▥",
      "▦",
      "▧",
      "▨",
      "▩",
      "▭",
      "▮",
      "▯",
      "▰",
      "▱",
      "▲",
      "▷",
      "▼",
      "◁",
      "◈",
      "◉",
      "◍",
      "◐",
      "◑",
      "◒",
      "◓",
      "◔",
      "◕",
      "◧",
      "◨",
      "◩",
      "◪",
      "◫",
      "◬",
      "◭",
      "◮"
    ]
  }
], IW = { class: "symbol-panel" }, CW = { class: "pool" }, TW = ["onClick"], LW = { class: "symbol" }, kW = /* @__PURE__ */ ce({
  __name: "SymbolPanel",
  setup(t) {
    const e = V(of[0].key), n = ne(() => {
      const r = of.find((i) => i.key === e.value);
      return (r == null ? void 0 : r.children) || [];
    }), o = of.map((r) => ({
      key: r.key,
      label: r.label
    })), a = (r) => {
      qt.emit(Ht.RICH_TEXT_COMMAND, { action: { command: "insert", value: r } });
    };
    return (r, i) => (k(), R("div", IW, [
      T(jn, {
        tabs: A(o),
        value: e.value,
        "onUpdate:value": i[0] || (i[0] = (s) => e.value = s),
        tabsStyle: { marginBottom: "8px" },
        spaceBetween: ""
      }, null, 8, ["tabs", "value"]),
      C("div", CW, [
        (k(!0), R(pe, null, xe(n.value, (s, l) => (k(), R("div", {
          class: "symbol-item",
          key: l,
          onClick: (u) => a(s)
        }, [
          C("div", LW, Ee(s), 1)
        ], 8, TW))), 128))
      ])
    ]));
  }
}), EW = /* @__PURE__ */ ve(kW, [["__scopeId", "data-v-322fade4"]]), MW = { class: "toolbar" }, AW = { class: "content" }, DW = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = Te(), { activeElementIdList: n, handleElement: o, toolbarState: a } = de(e), r = ne(() => {
      var d;
      return ((d = o.value) == null ? void 0 : d.type) === "text" ? [
        { label: "样式", key: Mt.EL_STYLE },
        { label: "符号", key: Mt.SYMBOL },
        { label: "位置", key: Mt.EL_POSITION },
        { label: "动画", key: Mt.EL_ANIMATION }
      ] : [
        { label: "样式", key: Mt.EL_STYLE },
        { label: "位置", key: Mt.EL_POSITION },
        { label: "动画", key: Mt.EL_ANIMATION }
      ];
    }), i = [
      { label: "设计", key: Mt.SLIDE_DESIGN },
      { label: "切换", key: Mt.SLIDE_ANIMATION },
      { label: "动画", key: Mt.EL_ANIMATION }
    ], s = [
      { label: "样式", key: Mt.EL_STYLE },
      { label: "位置", key: Mt.MULTI_POSITION }
    ], l = (d) => {
      e.setToolbarState(d);
    }, u = ne(() => {
      if (n.value.length) {
        if (n.value.length > 1) return s;
      } else return i;
      return r.value;
    });
    Re(u, () => {
      const d = u.value.map((f) => f.key);
      d.includes(a.value) || e.setToolbarState(d[0]);
    });
    const c = ne(() => ({
      [Mt.EL_STYLE]: cG,
      [Mt.EL_POSITION]: wG,
      [Mt.EL_ANIMATION]: VG,
      [Mt.SLIDE_DESIGN]: fW,
      [Mt.SLIDE_ANIMATION]: yW,
      [Mt.MULTI_POSITION]: SW,
      [Mt.SYMBOL]: EW
    })[a.value] || null);
    return (d, f) => (k(), R("div", MW, [
      T(jn, {
        tabs: u.value,
        value: A(a),
        card: "",
        "onUpdate:value": f[0] || (f[0] = (v) => l(v))
      }, null, 8, ["tabs", "value"]),
      C("div", AW, [
        (k(), ie(Do(c.value)))
      ])
    ]));
  }
}), $W = /* @__PURE__ */ ve(DW, [["__scopeId", "data-v-0b2cf2da"]]), PW = { class: "editor" }, RW = /* @__PURE__ */ ce({
  __name: "Editor",
  props: {
    value: {}
  },
  emits: ["update"],
  setup(t, { expose: e, emit: n }) {
    const o = t, a = n, r = Te(), i = V();
    let s;
    const l = V(), u = V(), c = V(), d = () => {
      u.value && u.value.hide();
    }, f = Qa(function() {
      a("update", s.dom.innerHTML);
    }, 300, { trailing: !0 }), v = () => {
      r.setDisableHotkeysState(!0);
    }, p = () => {
      r.setDisableHotkeysState(!1);
    };
    e({ updateTextContent: () => {
      if (!s) return;
      const { doc: y, tr: _ } = s.state;
      s.dispatch(_.replaceRangeWith(0, y.content.size, Vv(o.value)));
    } });
    const m = () => {
      const y = window.getSelection();
      if (!y || !y.anchorNode || !y.focusNode || y.isCollapsed || y.type === "Caret" || y.type === "None") return;
      const _ = y.getRangeAt(0);
      if (u.value) {
        l.value = lf(s);
        const { x: w, y: x, left: S, top: L } = _.getBoundingClientRect();
        u.value.setProps({
          getReferenceClientRect: () => ({
            x: w,
            y: x,
            left: S,
            top: L,
            height: 0,
            width: 0,
            right: S,
            bottom: L
          })
        }), u.value.show();
      }
    }, g = (y, _) => {
      if (y === "color" && _) {
        const w = s.state.schema.marks.forecolor.create({ color: _ });
        Ot(s), co(s, w);
      } else if (y === "backcolor" && _) {
        const w = s.state.schema.marks.backcolor.create({ backcolor: _ });
        Ot(s), co(s, w);
      } else if (y === "bold")
        Ot(s), Dt(s.state.schema.marks.strong)(s.state, s.dispatch);
      else if (y === "em")
        Ot(s), Dt(s.state.schema.marks.em)(s.state, s.dispatch);
      else if (y === "underline")
        Ot(s), Dt(s.state.schema.marks.underline)(s.state, s.dispatch);
      else if (y === "strikethrough")
        Ot(s), Dt(s.state.schema.marks.strikethrough)(s.state, s.dispatch);
      else if (y === "bulletList") {
        const { bullet_list: w, list_item: x } = s.state.schema.nodes;
        tu(w, x, "")(s.state, s.dispatch);
      } else if (y === "orderedList") {
        const { ordered_list: w, list_item: x } = s.state.schema.nodes;
        tu(w, x, "")(s.state, s.dispatch);
      } else if (y === "clear") {
        Ot(s);
        const { $from: w, $to: x } = s.state.selection;
        s.dispatch(s.state.tr.removeMark(w.pos, x.pos));
      }
      s.focus(), f(), l.value = lf(s);
    };
    return Qe(() => {
      s = Mg(i.value, o.value, {
        handleDOMEvents: {
          focus: v,
          blur: p,
          mouseup: m,
          mousedown: () => {
            var y;
            (y = window.getSelection()) == null || y.removeAllRanges(), d();
          },
          keydown: d,
          input: f
        }
      }, {
        placeholder: "点击输入演讲者备注"
      }), u.value = Cv(i.value, {
        duration: 0,
        content: c.value,
        interactive: !0,
        trigger: "manual",
        placement: "top-start",
        hideOnClick: "toggle",
        offset: [0, 6]
      });
    }), ht(() => {
      s && s.destroy();
    }), (y, _) => {
      var N, P, $, z, H, W;
      const w = j("IconTextBold"), x = j("IconTextItalic"), S = j("IconTextUnderline"), L = j("IconStrikethrough"), b = j("IconText"), I = j("IconHighLight"), M = j("IconList"), E = j("IconOrderedList"), D = j("IconFormat"), O = it("click-outside");
      return ge((k(), R("div", PW, [
        C("div", {
          class: "prosemirror-editor",
          ref_key: "editorViewRef",
          ref: i
        }, null, 512),
        C("div", {
          class: "menu",
          ref_key: "menuRef",
          ref: c
        }, [
          C("button", {
            class: ye({ active: (N = l.value) == null ? void 0 : N.bold }),
            onClick: _[0] || (_[0] = (oe) => g("bold"))
          }, [
            T(w)
          ], 2),
          C("button", {
            class: ye({ active: (P = l.value) == null ? void 0 : P.em }),
            onClick: _[1] || (_[1] = (oe) => g("em"))
          }, [
            T(x)
          ], 2),
          C("button", {
            class: ye({ active: ($ = l.value) == null ? void 0 : $.underline }),
            onClick: _[2] || (_[2] = (oe) => g("underline"))
          }, [
            T(S)
          ], 2),
          C("button", {
            class: ye({ active: (z = l.value) == null ? void 0 : z.strikethrough }),
            onClick: _[3] || (_[3] = (oe) => g("strikethrough"))
          }, [
            T(L)
          ], 2),
          T(Be, {
            trigger: "click",
            style: { width: "30%" }
          }, {
            content: F(() => {
              var oe;
              return [
                T(vt, {
                  modelValue: (oe = l.value) == null ? void 0 : oe.color,
                  "onUpdate:modelValue": _[4] || (_[4] = (te) => g("color", te))
                }, null, 8, ["modelValue"])
              ];
            }),
            default: F(() => [
              C("button", null, [
                T(b)
              ])
            ]),
            _: 1
          }),
          T(Be, {
            trigger: "click",
            style: { width: "30%" }
          }, {
            content: F(() => {
              var oe;
              return [
                T(vt, {
                  modelValue: (oe = l.value) == null ? void 0 : oe.backcolor,
                  "onUpdate:modelValue": _[5] || (_[5] = (te) => g("backcolor", te))
                }, null, 8, ["modelValue"])
              ];
            }),
            default: F(() => [
              C("button", null, [
                T(I)
              ])
            ]),
            _: 1
          }),
          C("button", {
            class: ye({ active: (H = l.value) == null ? void 0 : H.bulletList }),
            onClick: _[6] || (_[6] = (oe) => g("bulletList"))
          }, [
            T(M)
          ], 2),
          C("button", {
            class: ye({ active: (W = l.value) == null ? void 0 : W.orderedList }),
            onClick: _[7] || (_[7] = (oe) => g("orderedList"))
          }, [
            T(E)
          ], 2),
          C("button", {
            onClick: _[8] || (_[8] = (oe) => g("clear"))
          }, [
            T(D)
          ])
        ], 512)
      ])), [
        [O, d]
      ]);
    };
  }
}), OW = /* @__PURE__ */ ve(RW, [["__scopeId", "data-v-e48fc0f0"]]), NW = { class: "remark" }, BW = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    height: {}
  },
  emits: ["update:height"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = Ie(), { currentSlide: r } = de(a), i = V();
    Re(() => r.value.id, () => {
      Kt(() => {
        i.value.updateTextContent();
      });
    }, {
      immediate: !0
    });
    const s = ne(() => {
      var c;
      return ((c = r.value) == null ? void 0 : c.remark) || "";
    }), l = (c) => {
      a.updateSlide({ remark: c });
    }, u = (c) => {
      let d = !0;
      const f = c.pageY, v = n.height;
      document.onmousemove = (p) => {
        if (!d) return;
        let g = -(p.pageY - f) + v;
        g < 40 && (g = 40), g > 360 && (g = 360), o("update:height", g);
      }, document.onmouseup = () => {
        d = !1, document.onmousemove = null, document.onmouseup = null;
      };
    };
    return (c, d) => (k(), R("div", NW, [
      C("div", {
        class: "resize-handler",
        onMousedown: d[0] || (d[0] = (f) => u(f))
      }, null, 32),
      T(OW, {
        value: s.value,
        ref_key: "editorRef",
        ref: i,
        onUpdate: d[1] || (d[1] = (f) => l(f))
      }, null, 8, ["value"])
    ]));
  }
}), FW = /* @__PURE__ */ ve(BW, [["__scopeId", "data-v-b18b55a0"]]), zW = ["style", "script", "template"], VW = ["html", "head", "body", "p", "dt", "dd", "li", "option", "thead", "th", "tbody", "tr", "td", "tfoot", "colgroup"], HW = {
  li: ["ul", "ol", "menu"],
  dt: ["dl"],
  dd: ["dl"],
  tbody: ["table"],
  thead: ["table"],
  tfoot: ["table"],
  tr: ["table"],
  td: ["table"]
}, GW = ["!doctype", "area", "base", "br", "col", "command", "embed", "hr", "img", "input", "keygen", "link", "meta", "param", "source", "track", "wbr"], Ja = (t, e) => {
  const n = e - t.position;
  Au(t, n);
}, Au = (t, e) => {
  t.position = t.position + e;
}, UW = (t, e) => {
  for (; ; ) {
    const o = t.indexOf("<", e);
    if (o === -1)
      return o;
    const a = t.charAt(o + 1);
    if (a === "/" || a === "!" || /[A-Za-z0-9]/.test(a))
      return o;
    e = o + 1;
  }
  return -1;
}, w4 = (t) => {
  const { str: e } = t;
  let n = UW(e, t.position);
  if (n === t.position) return;
  n === -1 && (n = e.length);
  const o = e.slice(t.position, n);
  Ja(t, n), t.tokens.push({
    type: "text",
    content: o
  });
}, WW = (t) => {
  const { str: e } = t;
  Au(t, 4);
  let n = e.indexOf("-->", t.position), o = n + 3;
  n === -1 && (n = o = e.length);
  const a = e.slice(t.position, n);
  Ja(t, o), t.tokens.push({
    type: "comment",
    content: a
  });
}, XW = (t) => {
  const { str: e } = t, n = e.length;
  let o = t.position;
  for (; o < n; ) {
    const i = e.charAt(o);
    if (!(/\s/.test(i) || i === "/" || i === ">")) break;
    o++;
  }
  let a = o + 1;
  for (; a < n; ) {
    const i = e.charAt(a);
    if (!!(/\s/.test(i) || i === "/" || i === ">")) break;
    a++;
  }
  Ja(t, a);
  const r = e.slice(o, a);
  return t.tokens.push({
    type: "tag",
    content: r
  }), r;
}, YW = (t) => {
  const { str: e, tokens: n } = t;
  let o = t.position, a = null, r = o;
  const i = [], s = e.length;
  for (; o < s; ) {
    const u = e.charAt(o);
    if (a) {
      u === a && (a = null), o++;
      continue;
    }
    if (u === "/" || u === ">") {
      o !== r && i.push(e.slice(r, o));
      break;
    }
    if (/\s/.test(u)) {
      o !== r && i.push(e.slice(r, o)), r = o + 1, o++;
      continue;
    }
    if (u === "'" || u === '"') {
      a = u, o++;
      continue;
    }
    o++;
  }
  Ja(t, o);
  const l = "attribute";
  for (let u = 0; u < i.length; u++) {
    const c = i[u];
    if (c.indexOf("=") === -1) {
      const f = i[u + 1];
      if (f && tg(f, "=")) {
        if (f.length > 1) {
          const p = c + f;
          n.push({ type: l, content: p }), u += 1;
          continue;
        }
        const v = i[u + 2];
        if (u += 1, v) {
          const p = c + "=" + v;
          n.push({ type: l, content: p }), u += 1;
          continue;
        }
      }
    }
    if (h6(c, "=")) {
      const f = i[u + 1];
      if (f && f.indexOf("=") === -1) {
        const p = c + f;
        n.push({ type: l, content: p }), u += 1;
        continue;
      }
      const v = c.slice(0, -1);
      n.push({ type: l, content: v });
      continue;
    }
    n.push({ type: l, content: c });
  }
}, ZW = (t, e) => {
  const { str: n, tokens: o } = e, a = t.toLowerCase(), r = n.length;
  let i = e.position;
  for (; i < r; ) {
    const s = n.indexOf("</", i);
    if (s === -1) {
      w4(e);
      break;
    }
    const l = {
      str: n,
      position: e.position,
      tokens: []
    };
    Ja(l, s);
    const u = x4(l);
    if (a !== u.toLowerCase()) {
      i = l.position;
      continue;
    }
    if (s !== e.position) {
      const c = e.position;
      Ja(e, s), o.push({
        type: "text",
        content: n.slice(c, s)
      });
    }
    o.push(...l.tokens), Ja(e, l.position);
    break;
  }
}, x4 = (t) => {
  const { str: e } = t, o = e.charAt(t.position + 1) === "/";
  Au(t, o ? 2 : 1), t.tokens.push({
    type: "tag-start",
    close: o
  });
  const a = XW(t);
  YW(t);
  const i = e.charAt(t.position) === "/";
  return Au(t, i ? 2 : 1), t.tokens.push({
    type: "tag-end",
    close: i
  }), a;
}, qW = (t) => {
  const e = t.str, n = e.length;
  for (; t.position < n; ) {
    const o = t.position;
    if (w4(t), t.position === o)
      if (tg(e, "!--", o + 1)) WW(t);
      else {
        const r = x4(t), i = r.toLowerCase();
        zW.includes(i) && ZW(r, t);
      }
  }
}, JW = (t) => {
  const e = {
    str: t,
    position: 0,
    tokens: []
  };
  return qW(e), e.tokens;
}, KW = (t) => {
  const e = { tagName: null, children: [] };
  return S4({ tokens: t, cursor: 0, stack: [e] }), e.children;
}, QW = (t, e) => {
  const n = HW[t];
  if (n) {
    let o = e.length - 1;
    for (; o >= 0; ) {
      const a = e[o].tagName;
      if (a === t) break;
      if (a && n.includes(a)) return !0;
      o--;
    }
  }
  return !1;
}, Qm = (t, e) => {
  t.splice(e);
}, S4 = (t) => {
  const { stack: e, tokens: n } = t;
  let { cursor: o } = t, a = e[e.length - 1].children;
  const r = n.length;
  for (; o < r; ) {
    const i = n[o];
    if (i.type !== "tag-start") {
      a.push(i), o++;
      continue;
    }
    const s = n[++o];
    o++;
    const l = s.content.toLowerCase();
    if (i.close) {
      let m = e.length, g = !1;
      for (; --m > -1; )
        if (e[m].tagName === l) {
          g = !0;
          break;
        }
      for (; o < r && n[o].type === "tag-end"; )
        o++;
      if (g) {
        Qm(e, m);
        break;
      } else continue;
    }
    let c = VW.includes(l);
    if (c && (c = !QW(l, e)), c) {
      let m = e.length - 1;
      for (; m > 0; ) {
        if (l === e[m].tagName) {
          Qm(e, m);
          const g = m - 1;
          a = e[g].children;
          break;
        }
        m = m - 1;
      }
    }
    const d = [];
    let f;
    for (; o < r; ) {
      const m = n[o];
      if (m.type === "tag-end") {
        f = m;
        break;
      }
      d.push(m.content), o++;
    }
    if (!f) break;
    o++;
    const v = [], p = {
      type: "element",
      tagName: s.content,
      attributes: d,
      children: v
    };
    if (a.push(p), !(f.close || GW.includes(l))) {
      e.push({ tagName: l, children: v });
      const m = { tokens: n, cursor: o, stack: e };
      S4(m), o = m.cursor;
    }
  }
  t.cursor = o;
}, jW = (t, e) => {
  const n = t.indexOf(e);
  return n === -1 ? [t] : [t.slice(0, n), t.slice(n + e.length)];
}, eX = (t) => {
  const e = t.charAt(0), n = t.length - 1;
  return (e === '"' || e === "'") && e === t.charAt(n) ? t.slice(1, n) : t;
}, tX = (t) => t.map((e) => {
  const n = jW(e.trim(), "="), o = n[0], a = typeof n[1] == "string" ? eX(n[1]) : null;
  return { key: o, value: a };
}), I4 = (t) => t.map((e) => {
  if (e.type === "element") {
    const o = I4(e.children);
    return {
      type: "element",
      tagName: e.tagName.toLowerCase(),
      attributes: tX(e.attributes),
      children: o
    };
  }
  return {
    type: e.type,
    content: e.content
  };
}), nX = (t) => {
  const e = JW(t), n = KW(e);
  return I4(n);
}, Rl = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", oX = "data:image/svg+xml;base64,", aX = (t) => {
  t = t.replace(/\r\n/g, `
`);
  let e = "";
  for (let n = 0; n < t.length; n++) {
    const o = t.charCodeAt(n);
    o < 128 ? e += String.fromCharCode(o) : o > 127 && o < 2048 ? (e += String.fromCharCode(o >> 6 | 192), e += String.fromCharCode(o & 63 | 128)) : (e += String.fromCharCode(o >> 12 | 224), e += String.fromCharCode(o >> 6 & 63 | 128), e += String.fromCharCode(o & 63 | 128));
  }
  return e;
}, rX = (t) => {
  let e = "", n, o, a, r, i, s, l, u = 0;
  for (t = aX(t); u < t.length; )
    n = t.charCodeAt(u++), o = t.charCodeAt(u++), a = t.charCodeAt(u++), r = n >> 2, i = (n & 3) << 4 | o >> 4, s = (o & 15) << 2 | a >> 6, l = a & 63, isNaN(o) ? s = l = 64 : isNaN(a) && (l = 64), e = e + Rl.charAt(r) + Rl.charAt(i) + Rl.charAt(s) + Rl.charAt(l);
  return e;
}, jm = (t) => {
  const n = new XMLSerializer().serializeToString(t);
  return oX + rX(n);
}, Ec = () => {
  const t = Ie(), { slides: e, theme: n, viewportRatio: o, title: a, viewportSize: r } = de(t), i = ne(() => 96 * (r.value / 960)), s = ne(() => 96 / 72 * (r.value / 960)), l = V(!1), u = (x, S, L, b = !0) => {
    l.value = !0;
    const I = S === "png" ? Y6 : Z6;
    x.querySelectorAll("foreignObject [xmlns]").forEach((E) => E.removeAttribute("xmlns")), setTimeout(() => {
      const E = {
        quality: L,
        width: 1600
      };
      b && (E.fontEmbedCSS = ""), I(x, E).then((D) => {
        l.value = !1, Pc(D, `${a.value}.${S}`);
      }).catch(() => {
        l.value = !1, at.error("导出图片失败");
      });
    }, 200);
  }, c = (x) => {
    const S = new Blob([Ev(JSON.stringify(x))], { type: "" });
    Pc(S, `${a.value}.pptist`);
  }, d = () => {
    const x = {
      title: a.value,
      width: r.value,
      height: r.value * o.value,
      slides: e.value
    }, S = new Blob([JSON.stringify(x)], { type: "" });
    Pc(S, `${a.value}.json`);
  }, f = (x) => {
    const S = He(x), L = S.getAlpha(), b = L === 0 ? "#ffffff" : S.setAlpha(1).toHexString();
    return {
      alpha: L,
      color: b
    };
  }, v = (x) => {
    const S = nX(x);
    let L = !1, b = 0;
    const I = [], M = (E, D = {}) => {
      for (const O of E) {
        if ("tagName" in O && ["div", "li", "p"].includes(O.tagName) && I.length) {
          const z = I[I.length - 1];
          z.options || (z.options = {}), z.options.breakLine = !0;
        }
        const P = { ...D }, $ = "attributes" in O ? O.attributes.find((z) => z.key === "style") : null;
        if ($ && $.value) {
          const z = $.value.split(";");
          for (const H of z) {
            const [W, oe] = H.split(": "), [te, le] = [oh(W), oh(oe)];
            te && le && (P[te] = le);
          }
        }
        if ("tagName" in O) {
          if (O.tagName === "em" && (P["font-style"] = "italic"), O.tagName === "strong" && (P["font-weight"] = "bold"), O.tagName === "sup" && (P["vertical-align"] = "super"), O.tagName === "sub" && (P["vertical-align"] = "sub"), O.tagName === "a") {
            const z = O.attributes.find((H) => H.key === "href");
            P.href = (z == null ? void 0 : z.value) || "";
          }
          if (O.tagName === "ul" && (P["list-type"] = "ul"), O.tagName === "ol" && (P["list-type"] = "ol"), O.tagName === "li" && (L = !0), O.tagName === "p" && "attributes" in O) {
            const z = O.attributes.find((H) => H.key === "data-indent");
            z && z.value && (b = +z.value);
          }
        }
        if ("tagName" in O && O.tagName === "br")
          I.push({ text: "", options: { breakLine: !0 } });
        else if ("content" in O) {
          const z = O.content.replace(/&nbsp;/g, " ").replace(/&gt;/g, ">").replace(/&lt;/g, "<").replace(/&amp;/g, "&").replace(/\n/g, ""), H = {};
          P["font-size"] && (H.fontSize = parseInt(P["font-size"]) / s.value), P.color && (H.color = f(P.color).color), P["background-color"] && (H.highlight = f(P["background-color"]).color), P["text-decoration-line"] && (P["text-decoration-line"].indexOf("underline") !== -1 && (H.underline = {
            color: H.color || "#000000",
            style: "sng"
          }), P["text-decoration-line"].indexOf("line-through") !== -1 && (H.strike = "sngStrike")), P["text-decoration"] && (P["text-decoration"].indexOf("underline") !== -1 && (H.underline = {
            color: H.color || "#000000",
            style: "sng"
          }), P["text-decoration"].indexOf("line-through") !== -1 && (H.strike = "sngStrike")), P["vertical-align"] && (P["vertical-align"] === "super" && (H.superscript = !0), P["vertical-align"] === "sub" && (H.subscript = !0)), P["text-align"] && (H.align = P["text-align"]), P["font-weight"] && (H.bold = P["font-weight"] === "bold"), P["font-style"] && (H.italic = P["font-style"] === "italic"), P["font-family"] && (H.fontFace = P["font-family"]), P.href && (H.hyperlink = { url: P.href }), L && P["list-type"] === "ol" && (H.bullet = { type: "number", indent: (H.fontSize || 20) * 1.25 }, H.paraSpaceBefore = 0.1, L = !1), L && P["list-type"] === "ul" && (H.bullet = { indent: (H.fontSize || 20) * 1.25 }, H.paraSpaceBefore = 0.1, L = !1), b && (H.indentLevel = b, b = 0), I.push({ text: z, options: H });
        } else "children" in O && M(O.children, P);
      }
    };
    return M(S), I;
  }, p = (x, S = { x: 1, y: 1 }) => x.map((L) => {
    if (L.close !== void 0)
      return { close: !0 };
    if (L.type === "M")
      return {
        x: L.x / i.value * S.x,
        y: L.y / i.value * S.y,
        moveTo: !0
      };
    if (L.curve) {
      if (L.curve.type === "cubic")
        return {
          x: L.x / i.value * S.x,
          y: L.y / i.value * S.y,
          curve: {
            type: "cubic",
            x1: L.curve.x1 / i.value * S.x,
            y1: L.curve.y1 / i.value * S.y,
            x2: L.curve.x2 / i.value * S.x,
            y2: L.curve.y2 / i.value * S.y
          }
        };
      if (L.curve.type === "quadratic")
        return {
          x: L.x / i.value * S.x,
          y: L.y / i.value * S.y,
          curve: {
            type: "quadratic",
            x1: L.curve.x1 / i.value * S.x,
            y1: L.curve.y1 / i.value * S.y
          }
        };
    }
    return {
      x: L.x / i.value * S.x,
      y: L.y / i.value * S.y
    };
  }), h = (x) => {
    const S = f(x.color), { h: L, v: b } = x;
    let I = 4, M = 45;
    return L === 0 && b === 0 ? (I = 4, M = 45) : L === 0 ? b > 0 ? (I = b, M = 90) : (I = -b, M = 270) : b === 0 ? L > 0 ? (I = L, M = 1) : (I = -L, M = 180) : L > 0 && b > 0 ? (I = Math.max(L, b), M = 45) : L > 0 && b < 0 ? (I = Math.max(L, -b), M = 315) : L < 0 && b > 0 ? (I = Math.max(-L, b), M = 135) : L < 0 && b < 0 && (I = Math.max(-L, -b), M = 225), {
      type: "outer",
      color: S.color.replace("#", ""),
      opacity: S.alpha,
      blur: x.blur / s.value,
      offset: I,
      angle: M
    };
  }, m = {
    solid: "solid",
    dashed: "dash",
    dotted: "sysDot"
  }, g = (x) => {
    const S = f((x == null ? void 0 : x.color) || "#000000");
    return {
      color: S.color,
      transparency: (1 - S.alpha) * 100,
      width: (x.width || 1) / s.value,
      dashType: x.style ? m[x.style] : "solid"
    };
  }, y = (x) => {
    const { type: S, target: L } = x;
    if (S === "web") return { url: L };
    if (S === "slide") {
      const b = e.value.findIndex((I) => I.id === L);
      if (b !== -1) return { slide: b + 1 };
    }
    return null;
  }, _ = (x) => {
    const S = /^data:image\/[^;]+;base64,/;
    return x.match(S) !== null;
  };
  return {
    exporting: l,
    exportImage: u,
    exportJSON: d,
    exportSpecificFile: c,
    exportPPTX: (x, S, L) => {
      var I, M, E, D, O, N, P, $, z, H, W, oe, te, le, J, Q;
      l.value = !0;
      const b = new q6();
      if (o.value === 0.625 ? b.layout = "LAYOUT_16x10" : o.value === 0.75 ? b.layout = "LAYOUT_4x3" : o.value === 0.70710678 ? (b.defineLayout({ name: "A3", width: 10, height: 7.0710678 }), b.layout = "A3") : o.value === 1.41421356 ? (b.defineLayout({ name: "A3_V", width: 10, height: 14.1421356 }), b.layout = "A3_V") : b.layout = "LAYOUT_16x9", S) {
        const { color: q, alpha: G } = f(n.value.backgroundColor);
        b.defineSlideMaster({
          title: "PPTIST_MASTER",
          background: { color: q, transparency: (1 - G) * 100 }
        });
      }
      for (const q of x) {
        const G = b.addSlide();
        if (q.background) {
          const B = q.background;
          if (B.type === "image" && B.image)
            _(B.image.src) ? G.background = { data: B.image.src } : G.background = { path: B.image.src };
          else if (B.type === "solid" && B.color) {
            const ee = f(B.color);
            G.background = { color: ee.color, transparency: (1 - ee.alpha) * 100 };
          } else if (B.type === "gradient" && B.gradient) {
            const ee = B.gradient.colors, ue = ee[0].color, X = ee[ee.length - 1].color, Y = He.mix(ue, X).toHexString(), U = f(Y);
            G.background = { color: U.color, transparency: (1 - U.alpha) * 100 };
          }
        }
        if (q.remark && G.addNotes(q.remark), !!q.elements) {
          for (const B of q.elements)
            if (B.type === "text") {
              const ee = v(B.content), ue = {
                x: B.left / i.value,
                y: B.top / i.value,
                w: B.width / i.value,
                h: B.height / i.value,
                fontSize: 20 / s.value,
                fontFace: "微软雅黑",
                color: "#000000",
                valign: "top",
                margin: 10 / s.value,
                paraSpaceBefore: 5 / s.value,
                lineSpacingMultiple: 1.5 / 1.25,
                autoFit: !0
              };
              if (B.rotate && (ue.rotate = B.rotate), B.wordSpace && (ue.charSpacing = B.wordSpace / s.value), B.lineHeight && (ue.lineSpacingMultiple = B.lineHeight / 1.25), B.fill) {
                const X = f(B.fill), Y = B.opacity === void 0 ? 1 : B.opacity;
                ue.fill = { color: X.color, transparency: (1 - X.alpha * Y) * 100 };
              }
              B.defaultColor && (ue.color = f(B.defaultColor).color), B.defaultFontName && (ue.fontFace = B.defaultFontName), B.shadow && (ue.shadow = h(B.shadow)), (I = B.outline) != null && I.width && (ue.line = g(B.outline)), B.opacity !== void 0 && (ue.transparency = (1 - B.opacity) * 100), B.paragraphSpace !== void 0 && (ue.paraSpaceBefore = B.paragraphSpace / s.value), B.vertical && (ue.vert = "eaVert"), G.addText(ee, ue);
            } else if (B.type === "image") {
              const ee = {
                x: B.left / i.value,
                y: B.top / i.value,
                w: B.width / i.value,
                h: B.height / i.value
              };
              if (_(B.src) ? ee.data = B.src : ee.path = B.src, B.flipH && (ee.flipH = B.flipH), B.flipV && (ee.flipV = B.flipV), B.rotate && (ee.rotate = B.rotate), B.link) {
                const ue = y(B.link);
                ue && (ee.hyperlink = ue);
              }
              if ((M = B.filters) != null && M.opacity && (ee.transparency = 100 - parseInt((E = B.filters) == null ? void 0 : E.opacity)), B.clip) {
                B.clip.shape === "ellipse" && (ee.rounding = !0);
                const [ue, X] = B.clip.range, [Y, U] = ue, [K, Z] = X, ae = B.width / ((K - Y) / i.value), he = B.height / ((Z - U) / i.value);
                ee.w = ae / i.value, ee.h = he / i.value, ee.sizing = {
                  type: "crop",
                  x: Y / i.value * ae / i.value,
                  y: U / i.value * he / i.value,
                  w: (K - Y) / i.value * ae / i.value,
                  h: (Z - U) / i.value * he / i.value
                };
              }
              G.addImage(ee);
            } else if (B.type === "shape") {
              if (B.special) {
                const ee = document.querySelector(`.thumbnail-list .base-element-${B.id} svg`);
                if (ee.clientWidth < 1 || ee.clientHeight < 1) continue;
                const X = {
                  data: jm(ee),
                  x: B.left / i.value,
                  y: B.top / i.value,
                  w: B.width / i.value,
                  h: B.height / i.value
                };
                if (B.rotate && (X.rotate = B.rotate), B.link) {
                  const Y = y(B.link);
                  Y && (X.hyperlink = Y);
                }
                G.addImage(X);
              } else {
                const ee = {
                  x: B.width / B.viewBox[0],
                  y: B.height / B.viewBox[1]
                }, ue = p(sh(B.path), ee);
                let X = f(B.fill);
                if (B.gradient) {
                  const K = B.gradient.colors, Z = K[0].color, ae = K[K.length - 1].color, he = He.mix(Z, ae).toHexString();
                  X = f(he);
                }
                const Y = B.opacity === void 0 ? 1 : B.opacity, U = {
                  x: B.left / i.value,
                  y: B.top / i.value,
                  w: B.width / i.value,
                  h: B.height / i.value,
                  fill: { color: X.color, transparency: (1 - X.alpha * Y) * 100 },
                  points: ue
                };
                if (B.flipH && (U.flipH = B.flipH), B.flipV && (U.flipV = B.flipV), B.shadow && (U.shadow = h(B.shadow)), (D = B.outline) != null && D.width && (U.line = g(B.outline)), B.rotate && (U.rotate = B.rotate), B.link) {
                  const K = y(B.link);
                  K && (U.hyperlink = K);
                }
                G.addShape("custGeom", U);
              }
              if (B.text) {
                const ee = v(B.text.content), ue = {
                  x: B.left / i.value,
                  y: B.top / i.value,
                  w: B.width / i.value,
                  h: B.height / i.value,
                  fontSize: 20 / s.value,
                  fontFace: "微软雅黑",
                  color: "#000000",
                  paraSpaceBefore: 5 / s.value,
                  valign: B.text.align
                };
                B.rotate && (ue.rotate = B.rotate), B.text.defaultColor && (ue.color = f(B.text.defaultColor).color), B.text.defaultFontName && (ue.fontFace = B.text.defaultFontName), G.addText(ee, ue);
              }
            } else if (B.type === "line") {
              const ee = Av(B), ue = p(sh(ee)), { minX: X, maxX: Y, minY: U, maxY: K } = Rn(B), Z = f(B.color), ae = {
                x: B.left / i.value,
                y: B.top / i.value,
                w: (Y - X) / i.value,
                h: (K - U) / i.value,
                line: {
                  color: Z.color,
                  transparency: (1 - Z.alpha) * 100,
                  width: B.width / s.value,
                  dashType: m[B.style],
                  beginArrowType: B.points[0] ? "arrow" : "none",
                  endArrowType: B.points[1] ? "arrow" : "none"
                },
                points: ue
              };
              B.shadow && (ae.shadow = h(B.shadow)), G.addShape("custGeom", ae);
            } else if (B.type === "chart") {
              const ee = [];
              for (let Z = 0; Z < B.data.series.length; Z++) {
                const ae = B.data.series[Z];
                ee.push({
                  name: `系列${Z + 1}`,
                  labels: B.data.labels,
                  values: ae
                });
              }
              let ue = [];
              if (B.themeColors.length === 10) ue = B.themeColors.map((Z) => f(Z).color);
              else if (B.themeColors.length === 1) ue = He(B.themeColors[0]).analogous(10).map((Z) => f(Z.toHexString()).color);
              else {
                const Z = B.themeColors.length, ae = He(B.themeColors[Z - 1]).analogous(11 - Z).map((he) => he.toHexString());
                ue = [...B.themeColors.slice(0, Z - 1), ...ae].map((he) => f(he).color);
              }
              const X = {
                x: B.left / i.value,
                y: B.top / i.value,
                w: B.width / i.value,
                h: B.height / i.value,
                chartColors: B.chartType === "pie" || B.chartType === "ring" ? ue : ue.slice(0, B.data.series.length)
              }, Y = f(B.textColor || "#000000").color;
              X.catAxisLabelColor = Y, X.valAxisLabelColor = Y;
              const U = 14 / s.value;
              if (X.catAxisLabelFontSize = U, X.valAxisLabelFontSize = U, B.fill || B.outline) {
                const Z = {};
                B.fill && (Z.fill = { color: f(B.fill).color }), B.outline && (Z.border = {
                  pt: B.outline.width / s.value,
                  color: f(B.outline.color).color
                }), X.plotArea = Z;
              }
              (B.data.series.length > 1 && B.chartType !== "scatter" || B.chartType === "pie" || B.chartType === "ring") && (X.showLegend = !0, X.legendPos = "b", X.legendColor = Y, X.legendFontSize = U);
              let K = b.ChartType.bar;
              B.chartType === "bar" ? (K = b.ChartType.bar, X.barDir = "col", (O = B.options) != null && O.stack && (X.barGrouping = "stacked")) : B.chartType === "column" ? (K = b.ChartType.bar, X.barDir = "bar", (N = B.options) != null && N.stack && (X.barGrouping = "stacked")) : B.chartType === "line" ? (K = b.ChartType.line, (P = B.options) != null && P.lineSmooth && (X.lineSmooth = !0)) : B.chartType === "area" ? K = b.ChartType.area : B.chartType === "radar" ? K = b.ChartType.radar : B.chartType === "scatter" ? (K = b.ChartType.scatter, X.lineSize = 0) : B.chartType === "pie" ? K = b.ChartType.pie : B.chartType === "ring" && (K = b.ChartType.doughnut, X.holeSize = 60), G.addChart(K, ee, X);
            } else if (B.type === "table") {
              const ee = [];
              for (let Z = 0; Z < B.data.length; Z++) {
                const ae = B.data[Z];
                for (let he = 0; he < ae.length; he++) {
                  const Ce = ae[he];
                  if (Ce.colspan > 1 || Ce.rowspan > 1)
                    for (let ke = Z; ke < Z + Ce.rowspan; ke++)
                      for (let Se = ke === Z ? he + 1 : he; Se < he + Ce.colspan; Se++) ee.push(`${ke}_${Se}`);
                }
              }
              const ue = [], X = B.theme;
              let Y = null, U = [];
              X && (Y = f(X.color), U = mg(X.color).map((Z) => f(Z)));
              for (let Z = 0; Z < B.data.length; Z++) {
                const ae = B.data[Z], he = [];
                for (let Ce = 0; Ce < ae.length; Ce++) {
                  const ke = ae[Ce], Se = {
                    colspan: ke.colspan,
                    rowspan: ke.rowspan,
                    bold: (($ = ke.style) == null ? void 0 : $.bold) || !1,
                    italic: ((z = ke.style) == null ? void 0 : z.em) || !1,
                    underline: { style: (H = ke.style) != null && H.underline ? "sng" : "none" },
                    align: ((W = ke.style) == null ? void 0 : W.align) || "left",
                    valign: "middle",
                    fontFace: ((oe = ke.style) == null ? void 0 : oe.fontname) || "微软雅黑",
                    fontSize: ((te = ke.style) != null && te.fontsize ? parseInt((le = ke.style) == null ? void 0 : le.fontsize) : 14) / s.value
                  };
                  if (X && Y) {
                    let be;
                    Z % 2 === 0 ? be = U[1] : be = U[0], (X.rowHeader && Z === 0 || X.rowFooter && Z === B.data.length - 1 || X.colHeader && Ce === 0 || X.colFooter && Ce === ae.length - 1) && (be = Y), Se.fill = { color: be.color, transparency: (1 - be.alpha) * 100 };
                  }
                  if ((J = ke.style) != null && J.backcolor) {
                    const be = f(ke.style.backcolor);
                    Se.fill = { color: be.color, transparency: (1 - be.alpha) * 100 };
                  }
                  (Q = ke.style) != null && Q.color && (Se.color = f(ke.style.color).color), ee.includes(`${Z}_${Ce}`) || he.push({
                    text: ke.text,
                    options: Se
                  });
                }
                he.length && ue.push(he);
              }
              const K = {
                x: B.left / i.value,
                y: B.top / i.value,
                w: B.width / i.value,
                h: B.height / i.value,
                colW: B.colWidths.map((Z) => B.width * Z / i.value)
              };
              B.theme && (K.fill = { color: "#ffffff" }), B.outline.width && B.outline.color && (K.border = {
                type: B.outline.style === "solid" ? "solid" : "dash",
                pt: B.outline.width / s.value,
                color: f(B.outline.color).color
              }), G.addTable(ue, K);
            } else if (B.type === "latex") {
              const ee = document.querySelector(`.thumbnail-list .base-element-${B.id} svg`), X = {
                data: jm(ee),
                x: B.left / i.value,
                y: B.top / i.value,
                w: B.width / i.value,
                h: B.height / i.value
              };
              if (B.link) {
                const Y = y(B.link);
                Y && (X.hyperlink = Y);
              }
              G.addImage(X);
            } else if (!L && (B.type === "video" || B.type === "audio")) {
              const ee = {
                x: B.left / i.value,
                y: B.top / i.value,
                w: B.width / i.value,
                h: B.height / i.value,
                path: B.src,
                type: B.type
              };
              B.type === "video" && B.poster && (ee.cover = B.poster);
              const ue = B.src.match(/\.([a-zA-Z0-9]+)(?:[\?#]|$)/);
              ue && ue[1] ? ee.extn = ue[1] : B.ext && (ee.extn = B.ext);
              const X = ["avi", "mp4", "m4v", "mov", "wmv"], Y = ["mp3", "m4a", "mp4", "wav", "wma"];
              ee.extn && [...X, ...Y].includes(ee.extn) && G.addMedia(ee);
            }
        }
      }
      setTimeout(() => {
        b.writeFile({ fileName: `${a.value}.pptx` }).then(() => l.value = !1).catch(() => {
          l.value = !1, at.error("导出失败");
        });
      }, 200);
    }
  };
}, Mc = (t) => (Ze("data-v-d73cc1ac"), t = t(), qe(), t), iX = { class: "export-img-dialog" }, sX = { class: "thumbnails-view" }, lX = { class: "configs" }, uX = { class: "row" }, cX = /* @__PURE__ */ Mc(() => /* @__PURE__ */ C("div", { class: "title" }, "导出格式：", -1)), dX = { class: "row" }, fX = /* @__PURE__ */ Mc(() => /* @__PURE__ */ C("div", { class: "title" }, "导出范围：", -1)), vX = {
  key: 0,
  class: "row"
}, pX = ["data-range"], hX = { class: "row" }, mX = /* @__PURE__ */ Mc(() => /* @__PURE__ */ C("div", { class: "title" }, "图片质量：", -1)), gX = { class: "row" }, yX = /* @__PURE__ */ Mc(() => /* @__PURE__ */ C("div", { class: "title" }, "忽略在线字体：", -1)), _X = { class: "config-item" }, bX = { class: "btns" }, wX = /* @__PURE__ */ ce({
  __name: "ExportImage",
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = e, { slides: o, currentSlide: a } = de(Ie()), r = V(), i = V("all"), s = V([1, o.value.length]), l = V("jpeg"), u = V(1), c = V(!0), d = ne(() => i.value === "all" ? o.value : i.value === "current" ? [a.value] : o.value.filter((h, m) => {
      const [g, y] = s.value;
      return m >= g - 1 && m <= y - 1;
    })), { exportImage: f, exporting: v } = Ec(), p = () => {
      r.value && f(r.value, l.value, u.value, c.value);
    };
    return (h, m) => {
      const g = it("tooltip");
      return k(), R("div", iX, [
        C("div", sX, [
          C("div", {
            class: "thumbnails",
            ref_key: "imageThumbnailsRef",
            ref: r
          }, [
            (k(!0), R(pe, null, xe(d.value, (y) => (k(), ie(Qn, {
              class: "thumbnail",
              key: y.id,
              slide: y,
              size: 1600
            }, null, 8, ["slide"]))), 128))
          ], 512)
        ]),
        C("div", lX, [
          C("div", uX, [
            cX,
            T(bo, {
              class: "config-item",
              value: l.value,
              "onUpdate:value": m[0] || (m[0] = (y) => l.value = y)
            }, {
              default: F(() => [
                T(ct, {
                  style: { width: "50%" },
                  value: "jpeg"
                }, {
                  default: F(() => [
                    fe("JPEG")
                  ]),
                  _: 1
                }),
                T(ct, {
                  style: { width: "50%" },
                  value: "png"
                }, {
                  default: F(() => [
                    fe("PNG")
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["value"])
          ]),
          C("div", dX, [
            fX,
            T(bo, {
              class: "config-item",
              value: i.value,
              "onUpdate:value": m[1] || (m[1] = (y) => i.value = y)
            }, {
              default: F(() => [
                T(ct, {
                  style: { width: "33.33%" },
                  value: "all"
                }, {
                  default: F(() => [
                    fe("全部")
                  ]),
                  _: 1
                }),
                T(ct, {
                  style: { width: "33.33%" },
                  value: "current"
                }, {
                  default: F(() => [
                    fe("当前页")
                  ]),
                  _: 1
                }),
                T(ct, {
                  style: { width: "33.33%" },
                  value: "custom"
                }, {
                  default: F(() => [
                    fe("自定义")
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["value"])
          ]),
          i.value === "custom" ? (k(), R("div", vX, [
            C("div", {
              class: "title",
              "data-range": `（${s.value[0]} ~ ${s.value[1]}）`
            }, "自定义范围：", 8, pX),
            T(Jt, {
              class: "config-item",
              range: "",
              min: 1,
              max: A(o).length,
              step: 1,
              value: s.value,
              "onUpdate:value": m[2] || (m[2] = (y) => s.value = y)
            }, null, 8, ["max", "value"])
          ])) : me("", !0),
          C("div", hX, [
            mX,
            T(Jt, {
              class: "config-item",
              min: 0,
              max: 1,
              step: 0.1,
              value: u.value,
              "onUpdate:value": m[3] || (m[3] = (y) => u.value = y)
            }, null, 8, ["value"])
          ]),
          C("div", gX, [
            yX,
            C("div", _X, [
              ge(T(Hn, {
                value: c.value,
                "onUpdate:value": m[4] || (m[4] = (y) => c.value = y)
              }, null, 8, ["value"]), [
                [g, "导出时默认忽略在线字体，若您在幻灯片中使用了在线字体，且希望导出后保留相关样式，可选择关闭【忽略在线字体】选项，但要注意这将会增加导出用时。"]
              ])
            ])
          ])
        ]),
        C("div", bX, [
          T(_e, {
            class: "btn export",
            type: "primary",
            onClick: m[5] || (m[5] = (y) => p())
          }, {
            default: F(() => [
              fe("导出图片")
            ]),
            _: 1
          }),
          T(_e, {
            class: "btn close",
            onClick: m[6] || (m[6] = (y) => n("close"))
          }, {
            default: F(() => [
              fe("关闭")
            ]),
            _: 1
          })
        ]),
        T(Bv, {
          loading: A(v),
          tip: "正在导出..."
        }, null, 8, ["loading"])
      ]);
    };
  }
}), xX = /* @__PURE__ */ ve(wX, [["__scopeId", "data-v-d73cc1ac"]]), SX = { class: "export-json-dialog" }, IX = { class: "preview" }, CX = { class: "btns" }, TX = /* @__PURE__ */ ce({
  __name: "ExportJSON",
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = e, { slides: o, viewportRatio: a, title: r, viewportSize: i } = de(
      Ie()
    ), { exportJSON: s } = Ec(), l = ne(() => ({
      title: r.value,
      width: i.value,
      height: i.value * a.value,
      slides: o.value
    }));
    return (u, c) => (k(), R("div", SX, [
      C("div", IX, [
        C("pre", null, Ee(l.value), 1)
      ]),
      C("div", CX, [
        T(_e, {
          class: "btn export",
          type: "primary",
          onClick: c[0] || (c[0] = (d) => A(s)())
        }, {
          default: F(() => [
            fe("导出 JSON")
          ]),
          _: 1
        }),
        T(_e, {
          class: "btn close",
          onClick: c[1] || (c[1] = (d) => n("close"))
        }, {
          default: F(() => [
            fe("关闭")
          ]),
          _: 1
        })
      ])
    ]));
  }
}), LX = /* @__PURE__ */ ve(TX, [["__scopeId", "data-v-16e49f1f"]]), kX = () => {
  const t = document.createElement("iframe");
  return t.style.width = "0", t.style.height = "0", t.style.position = "absolute", t.style.right = "0", t.style.top = "0", t.style.border = "0", document.body.appendChild(t), t;
}, EX = (t, e, n) => {
  const o = "<!DOCTYPE html>";
  let a = "";
  const r = document.styleSheets;
  if (r) {
    for (const d of r)
      if (d.cssRules)
        for (const f of d.cssRules)
          a += f.cssText;
  }
  const { width: i, height: s, margin: l } = n, u = `
    <head>
      <style type="text/css">
        ${a} 
        html, body {
          height: auto;
          overflow: auto;
        }
        @media print {
          @page {
            size: ${i + 2 * l}px ${s + 2 * l}px;
            margin: ${l}px;
          }
        }
      </style>
    </head>
  `, c = "<body>" + e.innerHTML + "</body>";
  t.open(), t.write(`
    ${o}
    <html>
      ${u}
      ${c}
    </html>
  `), t.close();
}, MX = (t, e) => {
  const n = kX(), o = n.contentWindow;
  if (!n.contentDocument || !o) return;
  EX(n.contentDocument, t, e);
  const a = () => {
    o.focus(), o.print();
  }, r = () => {
    n.removeEventListener("load", a), o.removeEventListener("afterprint", r), document.body.removeChild(n);
  };
  n.addEventListener("load", a), o.addEventListener("afterprint", r);
}, Ac = (t) => (Ze("data-v-c9de3364"), t = t(), qe(), t), AX = { class: "export-pdf-dialog" }, DX = { class: "thumbnails-view" }, $X = { class: "configs" }, PX = { class: "row" }, RX = /* @__PURE__ */ Ac(() => /* @__PURE__ */ C("div", { class: "title" }, "导出范围：", -1)), OX = { class: "row" }, NX = /* @__PURE__ */ Ac(() => /* @__PURE__ */ C("div", { class: "title" }, "每页数量：", -1)), BX = { class: "row" }, FX = /* @__PURE__ */ Ac(() => /* @__PURE__ */ C("div", { class: "title" }, "边缘留白：", -1)), zX = { class: "config-item" }, VX = /* @__PURE__ */ Ac(() => /* @__PURE__ */ C("div", { class: "tip" }, " 提示：若打印预览与实际样式不一致，请在弹出的打印窗口中勾选【背景图形】选项。 ", -1)), HX = { class: "btns" }, GX = /* @__PURE__ */ ce({
  __name: "ExportPDF",
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = e, { slides: o, currentSlide: a, viewportRatio: r } = de(Ie()), i = V(), s = V("all"), l = V(1), u = V(!0), c = () => {
      if (!i.value) return;
      const d = {
        width: 1600,
        height: s.value === "all" ? 1600 * r.value * l.value : 1600 * r.value,
        margin: u.value ? 50 : 0
      };
      MX(i.value, d);
    };
    return (d, f) => (k(), R("div", AX, [
      C("div", DX, [
        C("div", {
          class: "thumbnails",
          ref_key: "pdfThumbnailsRef",
          ref: i
        }, [
          s.value === "current" ? (k(), ie(Qn, {
            key: 0,
            class: "thumbnail",
            slide: A(a),
            size: 1600
          }, null, 8, ["slide"])) : (k(!0), R(pe, { key: 1 }, xe(A(o), (v, p) => (k(), ie(Qn, {
            class: ye(["thumbnail", { "break-page": (p + 1) % l.value === 0 }]),
            key: v.id,
            slide: v,
            size: 1600
          }, null, 8, ["class", "slide"]))), 128))
        ], 512)
      ]),
      C("div", $X, [
        C("div", PX, [
          RX,
          T(bo, {
            class: "config-item",
            value: s.value,
            "onUpdate:value": f[0] || (f[0] = (v) => s.value = v)
          }, {
            default: F(() => [
              T(ct, {
                style: { width: "50%" },
                value: "all"
              }, {
                default: F(() => [
                  fe("全部")
                ]),
                _: 1
              }),
              T(ct, {
                style: { width: "50%" },
                value: "current"
              }, {
                default: F(() => [
                  fe("当前页")
                ]),
                _: 1
              })
            ]),
            _: 1
          }, 8, ["value"])
        ]),
        C("div", OX, [
          NX,
          T(xt, {
            class: "config-item",
            value: l.value,
            "onUpdate:value": f[1] || (f[1] = (v) => l.value = v),
            options: [
              { label: "1", value: 1 },
              { label: "2", value: 2 },
              { label: "3", value: 3 }
            ]
          }, null, 8, ["value"])
        ]),
        C("div", BX, [
          FX,
          C("div", zX, [
            T(Hn, {
              value: u.value,
              "onUpdate:value": f[2] || (f[2] = (v) => u.value = v)
            }, null, 8, ["value"])
          ])
        ]),
        VX
      ]),
      C("div", HX, [
        T(_e, {
          class: "btn export",
          type: "primary",
          onClick: f[3] || (f[3] = (v) => c())
        }, {
          default: F(() => [
            fe("打印 / 导出 PDF")
          ]),
          _: 1
        }),
        T(_e, {
          class: "btn close",
          onClick: f[4] || (f[4] = (v) => n("close"))
        }, {
          default: F(() => [
            fe("关闭")
          ]),
          _: 1
        })
      ])
    ]));
  }
}), UX = /* @__PURE__ */ ve(GX, [["__scopeId", "data-v-c9de3364"]]), Qp = (t) => (Ze("data-v-7895f959"), t = t(), qe(), t), WX = { class: "export-pptx-dialog" }, XX = { class: "configs" }, YX = { class: "row" }, ZX = /* @__PURE__ */ Qp(() => /* @__PURE__ */ C("div", { class: "title" }, "导出范围：", -1)), qX = {
  key: 0,
  class: "row"
}, JX = ["data-range"], KX = { class: "row" }, QX = /* @__PURE__ */ Qp(() => /* @__PURE__ */ C("div", { class: "title" }, "忽略音频/视频：", -1)), jX = { class: "config-item" }, eY = { class: "row" }, tY = /* @__PURE__ */ Qp(() => /* @__PURE__ */ C("div", { class: "title" }, "覆盖默认母版：", -1)), nY = { class: "config-item" }, oY = {
  key: 1,
  class: "tip"
}, aY = { class: "btns" }, rY = /* @__PURE__ */ ce({
  __name: "ExportPPTX",
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = e, { slides: o, currentSlide: a } = de(Ie()), { exportPPTX: r, exporting: i } = Ec(), s = V("all"), l = V([1, o.value.length]), u = V(!0), c = V(!0), d = ne(() => s.value === "all" ? o.value : s.value === "current" ? [a.value] : o.value.filter((f, v) => {
      const [p, h] = l.value;
      return v >= p - 1 && v <= h - 1;
    }));
    return (f, v) => {
      const p = it("tooltip");
      return k(), R("div", WX, [
        C("div", XX, [
          C("div", YX, [
            ZX,
            T(bo, {
              class: "config-item",
              value: s.value,
              "onUpdate:value": v[0] || (v[0] = (h) => s.value = h)
            }, {
              default: F(() => [
                T(ct, {
                  style: { width: "33.33%" },
                  value: "all"
                }, {
                  default: F(() => [
                    fe("全部")
                  ]),
                  _: 1
                }),
                T(ct, {
                  style: { width: "33.33%" },
                  value: "current"
                }, {
                  default: F(() => [
                    fe("当前页")
                  ]),
                  _: 1
                }),
                T(ct, {
                  style: { width: "33.33%" },
                  value: "custom"
                }, {
                  default: F(() => [
                    fe("自定义")
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["value"])
          ]),
          s.value === "custom" ? (k(), R("div", qX, [
            C("div", {
              class: "title",
              "data-range": `（${l.value[0]} ~ ${l.value[1]}）`
            }, "自定义范围：", 8, JX),
            T(Jt, {
              class: "config-item",
              range: "",
              min: 1,
              max: A(o).length,
              step: 1,
              value: l.value,
              "onUpdate:value": v[1] || (v[1] = (h) => l.value = h)
            }, null, 8, ["max", "value"])
          ])) : me("", !0),
          C("div", KX, [
            QX,
            C("div", jX, [
              ge(T(Hn, {
                value: c.value,
                "onUpdate:value": v[2] || (v[2] = (h) => c.value = h)
              }, null, 8, ["value"]), [
                [p, "导出时默认忽略音视频，若您的幻灯片中存在音视频元素，且希望将其导出到PPTX文件中，可选择关闭【忽略音视频】选项，但要注意这将会大幅增加导出用时。"]
              ])
            ])
          ]),
          C("div", eY, [
            tY,
            C("div", nY, [
              T(Hn, {
                value: u.value,
                "onUpdate:value": v[3] || (v[3] = (h) => u.value = h)
              }, null, 8, ["value"])
            ])
          ]),
          c.value ? me("", !0) : (k(), R("div", oY, " 提示：1. 支持导出格式：avi、mp4、mov、wmv、mp3、wav；2. 跨域资源无法导出。 "))
        ]),
        C("div", aY, [
          T(_e, {
            class: "btn export",
            type: "primary",
            onClick: v[4] || (v[4] = (h) => A(r)(d.value, u.value, c.value))
          }, {
            default: F(() => [
              fe("导出 PPTX")
            ]),
            _: 1
          }),
          T(_e, {
            class: "btn close",
            onClick: v[5] || (v[5] = (h) => n("close"))
          }, {
            default: F(() => [
              fe("关闭")
            ]),
            _: 1
          })
        ]),
        T(Bv, {
          loading: A(i),
          tip: "正在导出..."
        }, null, 8, ["loading"])
      ]);
    };
  }
}), iY = /* @__PURE__ */ ve(rY, [["__scopeId", "data-v-7895f959"]]), C4 = (t) => (Ze("data-v-5962edaa"), t = t(), qe(), t), sY = { class: "export-pptist-dialog" }, lY = { class: "configs" }, uY = { class: "row" }, cY = /* @__PURE__ */ C4(() => /* @__PURE__ */ C("div", { class: "title" }, "导出范围：", -1)), dY = {
  key: 0,
  class: "row"
}, fY = ["data-range"], vY = /* @__PURE__ */ C4(() => /* @__PURE__ */ C("div", { class: "tip" }, " 提示：.pptist 是本应用的特有文件后缀，支持将该类型的文件导入回应用中。 ", -1)), pY = { class: "btns" }, hY = /* @__PURE__ */ ce({
  __name: "ExportSpecificFile",
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = e, { slides: o, currentSlide: a } = de(Ie()), { exportSpecificFile: r } = Ec(), i = V("all"), s = V([1, o.value.length]), l = ne(() => i.value === "all" ? o.value : i.value === "current" ? [a.value] : o.value.filter((u, c) => {
      const [d, f] = s.value;
      return c >= d - 1 && c <= f - 1;
    }));
    return (u, c) => (k(), R("div", sY, [
      C("div", lY, [
        C("div", uY, [
          cY,
          T(bo, {
            class: "config-item",
            value: i.value,
            "onUpdate:value": c[0] || (c[0] = (d) => i.value = d)
          }, {
            default: F(() => [
              T(ct, {
                style: { width: "33.33%" },
                value: "all"
              }, {
                default: F(() => [
                  fe("全部")
                ]),
                _: 1
              }),
              T(ct, {
                style: { width: "33.33%" },
                value: "current"
              }, {
                default: F(() => [
                  fe("当前页")
                ]),
                _: 1
              }),
              T(ct, {
                style: { width: "33.33%" },
                value: "custom"
              }, {
                default: F(() => [
                  fe("自定义")
                ]),
                _: 1
              })
            ]),
            _: 1
          }, 8, ["value"])
        ]),
        i.value === "custom" ? (k(), R("div", dY, [
          C("div", {
            class: "title",
            "data-range": `（${s.value[0]} ~ ${s.value[1]}）`
          }, "自定义范围：", 8, fY),
          T(Jt, {
            class: "config-item",
            range: "",
            min: 1,
            max: A(o).length,
            step: 1,
            value: s.value,
            "onUpdate:value": c[1] || (c[1] = (d) => s.value = d)
          }, null, 8, ["max", "value"])
        ])) : me("", !0),
        vY
      ]),
      C("div", pY, [
        T(_e, {
          class: "btn export",
          type: "primary",
          onClick: c[2] || (c[2] = (d) => A(r)(l.value))
        }, {
          default: F(() => [
            fe("导出 .pptist 文件")
          ]),
          _: 1
        }),
        T(_e, {
          class: "btn close",
          onClick: c[3] || (c[3] = (d) => n("close"))
        }, {
          default: F(() => [
            fe("关闭")
          ]),
          _: 1
        })
      ])
    ]));
  }
}), mY = /* @__PURE__ */ ve(hY, [["__scopeId", "data-v-5962edaa"]]), gY = { class: "export-dialog" }, yY = { class: "content" }, _Y = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = Te(), { dialogForExport: n } = de(e), o = e.setDialogForExport, a = [
      { key: "pptist", label: "导出 pptist 文件" },
      { key: "pptx", label: "导出 PPTX" },
      { key: "image", label: "导出图片" },
      { key: "json", label: "导出 JSON" },
      { key: "pdf", label: "打印 / 导出 PDF" }
    ], r = ne(() => {
      const i = {
        image: xX,
        json: LX,
        pdf: UX,
        pptx: iY,
        pptist: mY
      };
      return n.value && i[n.value] || null;
    });
    return (i, s) => (k(), R("div", gY, [
      T(jn, {
        tabs: a,
        value: A(n),
        card: "",
        "onUpdate:value": s[0] || (s[0] = (l) => A(o)(l))
      }, null, 8, ["value"]),
      C("div", yY, [
        (k(), ie(Do(r.value), {
          onClose: s[1] || (s[1] = (l) => A(o)(""))
        }, null, 32))
      ])
    ]));
  }
}), bY = /* @__PURE__ */ ve(_Y, [["__scopeId", "data-v-1dce4001"]]), wY = () => {
  const t = Ie(), e = Te(), { currentSlide: n } = de(t), { activeElementIdList: o, hiddenElementIdList: a } = de(e);
  return {
    toggleHideElement: (l) => {
      a.value.includes(l) ? e.setHiddenElementIdList(a.value.filter((u) => u !== l)) : e.setHiddenElementIdList([...a.value, l]), o.value.includes(l) && e.setActiveElementIdList([]);
    },
    showAllElements: () => {
      const l = n.value.elements.map((c) => c.id), u = a.value.filter((c) => !l.includes(c));
      e.setHiddenElementIdList(u);
    },
    hideAllElements: () => {
      const l = n.value.elements.map((u) => u.id);
      e.setHiddenElementIdList([...a.value, ...l]), o.value.length && e.setActiveElementIdList([]);
    }
  };
}, xY = { class: "title" }, SY = { class: "content" }, IY = /* @__PURE__ */ ce({
  __name: "MoveablePanel",
  props: {
    width: {},
    height: {},
    minWidth: { default: 20 },
    minHeight: { default: 20 },
    maxWidth: { default: 500 },
    maxHeight: { default: 500 },
    left: { default: 10 },
    top: { default: 10 },
    title: { default: "" },
    moveable: { type: Boolean, default: !0 },
    resizeable: { type: Boolean, default: !1 }
  },
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = t, o = e, a = V(0), r = V(0), i = V(0), s = V(0), l = V(), u = ne(() => {
      var f;
      return s.value ? s.value : ((f = l.value) == null ? void 0 : f.clientHeight) || 0;
    });
    Qe(() => {
      n.left >= 0 ? a.value = n.left : a.value = document.body.clientWidth + n.left - n.width, n.top >= 0 ? r.value = n.top : r.value = document.body.clientHeight + n.top - u.value, i.value = n.width, s.value = n.height;
    });
    const c = (f) => {
      if (!n.moveable) return;
      let v = !0;
      const p = document.body.clientWidth, h = document.body.clientHeight, m = f.pageX, g = f.pageY, y = a.value, _ = r.value;
      document.onmousemove = (w) => {
        if (!v) return;
        const x = w.pageX - m, S = w.pageY - g;
        let L = y + x, b = _ + S;
        L < 0 && (L = 0), b < 0 && (b = 0), L + i.value > p && (L = p - i.value), b + u.value > h && (b = h - u.value), a.value = L, r.value = b;
      }, document.onmouseup = () => {
        v = !1, document.onmousemove = null, document.onmouseup = null;
      };
    }, d = (f) => {
      if (!n.resizeable) return;
      let v = !0;
      const p = f.pageX, h = f.pageY, m = i.value, g = s.value;
      document.onmousemove = (y) => {
        if (!v) return;
        const _ = y.pageX - p, w = y.pageY - h;
        let x = m + _, S = g + w;
        x < n.minWidth && (x = n.minWidth), S < n.minHeight && (S = n.minHeight), x > n.maxWidth && (x = n.maxWidth), S > n.maxHeight && (S = n.maxHeight), i.value = x, s.value = S;
      }, document.onmouseup = () => {
        v = !1, document.onmousemove = null, document.onmouseup = null;
      };
    };
    return (f, v) => {
      const p = j("IconClose");
      return k(), R("div", {
        class: "moveable-panel",
        ref_key: "moveablePanelRef",
        ref: l,
        style: re({
          width: i.value + "px",
          height: s.value ? s.value + "px" : "auto",
          left: a.value + "px",
          top: r.value + "px"
        })
      }, [
        f.title ? (k(), R(pe, { key: 0 }, [
          C("div", {
            class: "header",
            onMousedown: v[1] || (v[1] = (h) => c(h))
          }, [
            C("div", xY, Ee(f.title), 1),
            C("div", {
              class: "close-btn",
              onClick: v[0] || (v[0] = (h) => o("close"))
            }, [
              T(p)
            ])
          ], 32),
          C("div", SY, [
            Tt(f.$slots, "default", {}, void 0, !0)
          ])
        ], 64)) : (k(), R("div", {
          key: 1,
          class: "content",
          onMousedown: v[2] || (v[2] = (h) => c(h))
        }, [
          Tt(f.$slots, "default", {}, void 0, !0)
        ], 32)),
        f.resizeable ? (k(), R("div", {
          key: 2,
          class: "resizer",
          onMousedown: v[3] || (v[3] = (h) => d(h))
        }, null, 32)) : me("", !0)
      ], 4);
    };
  }
}), Ws = /* @__PURE__ */ ve(IY, [["__scopeId", "data-v-4a8c1601"]]), CY = (t) => (Ze("data-v-022f9cd0"), t = t(), qe(), t), TY = {
  key: 0,
  class: "handler"
}, LY = { class: "btns" }, kY = {
  key: 0,
  class: "icon-btns"
}, EY = { class: "element-list" }, MY = {
  key: 0,
  class: "group-els"
}, AY = /* @__PURE__ */ CY(() => /* @__PURE__ */ C("div", { class: "group-title" }, "组合", -1)), DY = ["onClick", "onDblclick"], $Y = ["id", "value", "onBlur", "onKeydown"], PY = {
  key: 1,
  class: "name"
}, RY = { class: "icons" }, OY = ["onClick", "onDblclick"], NY = ["id", "value", "onBlur", "onKeydown"], BY = {
  key: 1,
  class: "name"
}, FY = { class: "icons" }, zY = /* @__PURE__ */ ce({
  __name: "SelectPanel",
  setup(t) {
    const e = Ie(), n = Te(), { currentSlide: o } = de(e), { handleElement: a, handleElementId: r, activeElementIdList: i, activeGroupElementId: s, hiddenElementIdList: l } = de(n), { orderElement: u } = $s(), { selectElement: c } = Ru(), { toggleHideElement: d, showAllElements: f, hideAllElements: v } = wY(), p = ne(() => {
      const w = [];
      for (const x of o.value.elements)
        if (x.groupId) {
          const S = w[w.length - 1];
          S && S.type === "group" && S.id && S.id === x.groupId ? S.elements.push(x) : w.push({ type: "group", id: x.groupId, elements: [x] });
        } else w.push(x);
      return w;
    }), h = (w, x) => {
      if (r.value === x || l.value.includes(x)) return;
      const S = w.elements.map((L) => L.id);
      n.setActiveElementIdList(S), n.setHandleElementId(x), Kt(() => n.setActiveGroupElementId(x));
    }, m = V(""), g = (w, x) => {
      const S = w.target.value;
      e.updateElement({ id: x, props: { name: S } }), m.value = "";
    }, y = (w) => {
      m.value = w, Kt(() => {
        document.querySelector(`#select-panel-input-${w}`).focus();
      });
    }, _ = () => {
      n.setSelectPanelState(!1);
    };
    return (w, x) => {
      const S = j("IconDown"), L = j("IconUp"), b = j("IconPreviewClose"), I = j("IconPreviewOpen");
      return k(), ie(Ws, {
        class: "select-panel",
        width: 200,
        height: 360,
        title: `选择（${A(i).length}/${A(o).elements.length}）`,
        left: -270,
        top: 90,
        onClose: x[4] || (x[4] = (M) => _())
      }, {
        default: F(() => [
          p.value.length ? (k(), R("div", TY, [
            C("div", LY, [
              T(_e, {
                size: "small",
                style: { "margin-right": "5px" },
                onClick: x[0] || (x[0] = (M) => A(f)())
              }, {
                default: F(() => [
                  fe("全部显示")
                ]),
                _: 1
              }),
              T(_e, {
                size: "small",
                onClick: x[1] || (x[1] = (M) => A(v)())
              }, {
                default: F(() => [
                  fe("全部隐藏")
                ]),
                _: 1
              })
            ]),
            A(a) ? (k(), R("div", kY, [
              T(S, {
                class: "icon-btn",
                onClick: x[2] || (x[2] = (M) => A(u)(A(a), A(Ct).UP))
              }),
              T(L, {
                class: "icon-btn",
                onClick: x[3] || (x[3] = (M) => A(u)(A(a), A(Ct).DOWN))
              })
            ])) : me("", !0)
          ])) : me("", !0),
          C("div", EY, [
            (k(!0), R(pe, null, xe(p.value, (M) => (k(), R(pe, {
              key: M.id
            }, [
              M.type === "group" ? (k(), R("div", MY, [
                AY,
                (k(!0), R(pe, null, xe(M.elements, (E) => (k(), R("div", {
                  class: ye(["item", {
                    active: A(i).includes(E.id),
                    "group-active": A(s).includes(E.id)
                  }]),
                  key: E.id,
                  onClick: (D) => h(M, E.id),
                  onDblclick: (D) => y(E.id)
                }, [
                  m.value === E.id ? (k(), R("input", {
                    key: 0,
                    id: `select-panel-input-${E.id}`,
                    value: E.name || A(Bi)[E.type],
                    class: "input",
                    type: "text",
                    onBlur: (D) => g(D, E.id),
                    onKeydown: na((D) => g(D, E.id), ["enter"])
                  }, null, 40, $Y)) : (k(), R("div", PY, Ee(E.name || A(Bi)[E.type]), 1)),
                  C("div", RY, [
                    A(l).includes(E.id) ? (k(), ie(b, {
                      key: 0,
                      style: { "font-size": "17px" },
                      onClick: Fe((D) => A(d)(E.id), ["stop"])
                    }, null, 8, ["onClick"])) : (k(), ie(I, {
                      key: 1,
                      style: { "font-size": "17px" },
                      onClick: Fe((D) => A(d)(E.id), ["stop"])
                    }, null, 8, ["onClick"]))
                  ])
                ], 42, DY))), 128))
              ])) : (k(), R("div", {
                key: 1,
                class: ye(["item", { active: A(i).includes(M.id) }]),
                onClick: (E) => A(c)(M.id),
                onDblclick: (E) => y(M.id)
              }, [
                m.value === M.id ? (k(), R("input", {
                  key: 0,
                  id: `select-panel-input-${M.id}`,
                  value: M.name || A(Bi)[M.type],
                  class: "input",
                  type: "text",
                  onBlur: (E) => g(E, M.id),
                  onKeydown: na((E) => g(E, M.id), ["enter"])
                }, null, 40, NY)) : (k(), R("div", BY, Ee(M.name || A(Bi)[M.type]), 1)),
                C("div", FY, [
                  A(l).includes(M.id) ? (k(), ie(b, {
                    key: 0,
                    style: { "font-size": "17px" },
                    onClick: Fe((E) => A(d)(M.id), ["stop"])
                  }, null, 8, ["onClick"])) : (k(), ie(I, {
                    key: 1,
                    style: { "font-size": "17px" },
                    onClick: Fe((E) => A(d)(M.id), ["stop"])
                  }, null, 8, ["onClick"]))
                ])
              ], 42, OY))
            ], 64))), 128))
          ])
        ]),
        _: 1
      }, 8, ["title"]);
    };
  }
}), VY = /* @__PURE__ */ ve(zY, [["__scopeId", "data-v-022f9cd0"]]), HY = () => {
  const t = Te(), e = Ie(), { handleElement: n } = de(t), { slides: o, slideIndex: a, currentSlide: r } = de(e), i = V(""), s = V(""), l = V([]), u = V(-1), c = V("g"), d = () => {
    const E = [], D = new RegExp(i.value, c.value), O = /(<([^>]+)>)/g;
    for (const N of o.value)
      for (const P of N.elements)
        if (P.type === "text") {
          const z = P.content.replace(O, "").match(D);
          z && E.push(...new Array(z.length).fill({
            slideId: N.id,
            elId: P.id,
            elType: P.type
          }));
        } else if (P.type === "shape" && P.text && P.text.content) {
          const z = P.text.content.replace(O, "").match(D);
          z && E.push(...new Array(z.length).fill({
            slideId: N.id,
            elId: P.id,
            elType: P.type
          }));
        } else if (P.type === "table")
          for (let $ = 0; $ < P.data.length; $++) {
            const z = P.data[$];
            for (let H = 0; H < z.length; H++) {
              const W = z[H];
              if (!W.text) continue;
              const te = W.text.replace(O, "").match(D);
              te && E.push(...new Array(te.length).fill({
                slideId: N.id,
                elId: P.id,
                elType: P.type,
                cellIndex: [$, H]
              }));
            }
          }
    E.length ? (l.value = E, u.value = 0, y()) : (at.warning("未查找到匹配项"), g());
  }, f = (E) => {
    const D = [...E.childNodes], O = [];
    for (; D.length; ) {
      const N = D.shift();
      N.nodeType === N.TEXT_NODE ? N.wholeText && O.push(N) : D.unshift(...N.childNodes);
    }
    return O;
  }, v = (E) => {
    let D = 0;
    return E.map((N) => {
      const P = D, $ = D + N.wholeText.length;
      return D = $, {
        text: N.wholeText,
        startIdx: P,
        endIdx: $
      };
    });
  }, p = (E, D) => {
    const O = new RegExp(D, c.value), N = [];
    let P = O.exec(E);
    for (; P; )
      N.push(P), P = O.exec(E);
    return N;
  }, h = (E, D, O, N) => {
    for (let P = O.length - 1; P >= 0; P--) {
      const $ = O[P], z = $.index, H = z + $[0].length;
      for (let W = 0; W < D.length; W++) {
        const { text: oe, startIdx: te, endIdx: le } = D[W];
        if (le < z) continue;
        if (te >= H) break;
        let J = E[W];
        const Q = Math.max(0, z - te), q = Math.min(le, H) - te - Q;
        Q > 0 && (J = J.splitText(Q)), q < J.wholeText.length && J.splitText(q);
        const G = document.createElement("mark");
        G.dataset.index = N + P + "", G.innerText = oe.substring(Q, Q + q), J.parentNode.replaceChild(G, J);
      }
    }
  }, m = (E, D) => {
    for (const O of E)
      O.innerHTML = O.innerHTML.replace(new RegExp(i.value, c.value), () => `<mark data-index=${D++}>${i.value}</mark>`);
  }, g = () => {
    const E = document.querySelectorAll(".editable-element mark");
    for (const D of E)
      setTimeout(() => {
        const O = D.parentNode, N = D.textContent;
        O.replaceChild(document.createTextNode(N), D);
      }, 0);
  }, y = () => {
    g(), setTimeout(() => {
      for (let E = 0; E < l.value.length; E++) {
        const D = l.value[E - 1], O = l.value[E];
        if (O.slideId !== r.value.id || D && D.elId === O.elId) continue;
        const N = document.querySelector(`#editable-element-${O.elId}`);
        if (N)
          if (O.elType === "table") {
            const P = N.querySelectorAll(".cell-text");
            m(P, E);
          } else {
            const P = f(N), $ = v(P), z = $.map(({ text: W }) => W).join(""), H = p(z, i.value);
            h(P, $, H, E);
          }
      }
    }, 0);
  }, _ = () => {
    const E = document.querySelectorAll("mark[data-index]");
    for (const D of E)
      setTimeout(() => {
        const O = D.dataset.index;
        O !== void 0 && +O === u.value ? D.classList.add("active") : D.classList.remove("active");
      }, 0);
  }, w = () => {
    if (u.value === -1) return;
    const E = l.value[u.value];
    if (E.slideId === r.value.id) setTimeout(_, 0);
    else {
      const D = o.value.findIndex((O) => O.id === E.slideId);
      D !== -1 && e.updateSlideIndex(D);
    }
  }, x = () => {
    if (!i.value) return at.warning("请先输入查找内容");
    t.setActiveElementIdList([]), u.value === -1 ? d() : u.value < l.value.length - 1 ? u.value += 1 : u.value = 0, w();
  }, S = () => {
    if (!i.value) return at.warning("请先输入查找内容");
    t.setActiveElementIdList([]), u.value === -1 ? d() : u.value > 0 ? u.value -= 1 : u.value = l.value.length - 1, w();
  }, L = () => {
    if (!i.value) return;
    if (u.value === -1) {
      x();
      return;
    }
    const E = l.value[u.value];
    let D = null;
    if (E.elType === "table") {
      const [$, z] = E.cellIndex;
      D = document.querySelector(`#editable-element-${E.elId} .cell[data-cell-index="${$}_${z}"] .cell-text`);
    } else D = document.querySelector(`#editable-element-${E.elId} .ProseMirror`);
    if (!D) return;
    const O = document.createElement("div");
    O.innerHTML = D.innerHTML;
    let N = !1;
    const P = O.querySelectorAll("mark[data-index]");
    for (const $ of P) {
      const z = $.parentNode;
      if ($.classList.contains("active"))
        N ? z.removeChild($) : (z.replaceChild(document.createTextNode(s.value), $), N = !0);
      else {
        const H = $.textContent;
        z.replaceChild(document.createTextNode(H), $);
      }
    }
    if (E.elType === "text") {
      const $ = { content: O.innerHTML };
      e.updateElement({ id: E.elId, props: $ });
    } else if (E.elType === "shape") {
      const $ = r.value.elements.find((z) => z.id === E.elId);
      if ($ && $.type === "shape" && $.text) {
        const z = { text: { ...$.text, content: O.innerHTML } };
        e.updateElement({ id: E.elId, props: z });
      }
    } else if (E.elType === "table") {
      const $ = r.value.elements.find((z) => z.id === E.elId);
      if ($ && $.type === "table") {
        const H = { data: $.data.map((W, oe) => oe === E.cellIndex[0] ? W.map((te, le) => le === E.cellIndex[1] ? {
          ...te,
          text: O.innerHTML
        } : te) : W) };
        e.updateElement({ id: E.elId, props: H });
      }
    }
    l.value.splice(u.value, 1), l.value.length ? (u.value > l.value.length - 1 && (u.value = 0), Kt(() => {
      y(), w();
    })) : u.value = -1;
  }, b = () => {
    var E;
    if (i.value) {
      if (u.value === -1) {
        x();
        return;
      }
      for (let D = 0; D < l.value.length; D++) {
        const O = l.value[D - 1], N = l.value[D];
        if (O && O.elId === N.elId) continue;
        const P = o.value.find((H) => H.id === N.slideId);
        if (!P) continue;
        const $ = P.elements.find((H) => H.id === N.elId);
        if (!$) continue;
        const z = document.createElement("div");
        if ($.type === "text" ? z.innerHTML = $.content : $.type === "shape" && (z.innerHTML = ((E = $.text) == null ? void 0 : E.content) || ""), N.elType === "table") {
          const W = { data: $.data.map((oe) => oe.map((te) => te.text ? {
            ...te,
            text: te.text.replace(new RegExp(i.value, "g"), s.value)
          } : te)) };
          e.updateElement({ id: N.elId, slideId: N.slideId, props: W });
        } else {
          const H = f(z), W = v(H), oe = W.map(({ text: Q }) => Q).join(""), te = p(oe, i.value);
          h(H, W, te, D);
          const le = z.querySelectorAll("mark[data-index]");
          let J = -1;
          for (const Q of le) {
            const q = +Q.dataset.index, G = Q.parentNode;
            q === J ? G.removeChild(Q) : (G.replaceChild(document.createTextNode(s.value), Q), J = q);
          }
          if (N.elType === "text") {
            const Q = { content: z.innerHTML };
            e.updateElement({ id: N.elId, slideId: N.slideId, props: Q });
          } else if (N.elType === "shape") {
            const Q = r.value.elements.find((q) => q.id === N.elId);
            if (Q && Q.type === "shape" && Q.text) {
              const q = { text: { ...Q.text, content: z.innerHTML } };
              e.updateElement({ id: N.elId, slideId: N.slideId, props: q });
            }
          }
        }
      }
      l.value = [], u.value = -1;
    }
  }, I = () => {
    u.value = -1, l.value = [], i.value || g();
  };
  return Re(i, I), Re(a, () => {
    Kt(() => {
      y(), setTimeout(_, 0);
    });
  }), Re(n, () => {
    n.value && (u.value = -1, l.value = [], g());
  }), Iv(g), {
    searchWord: i,
    replaceWord: s,
    searchResults: l,
    searchIndex: u,
    modifiers: c,
    searchNext: x,
    searchPrev: S,
    replace: L,
    replaceAll: b,
    toggleModifiers: () => {
      c.value = c.value === "g" ? "gi" : "g", I();
    }
  };
}, GY = { class: "count" }, UY = {
  key: 1,
  class: "footer"
}, WY = /* @__PURE__ */ ce({
  __name: "SearchPanel",
  setup(t) {
    const e = Te(), {
      searchWord: n,
      replaceWord: o,
      searchResults: a,
      searchIndex: r,
      modifiers: i,
      searchNext: s,
      searchPrev: l,
      replace: u,
      replaceAll: c,
      toggleModifiers: d
    } = HY(), f = V("search"), v = [
      { key: "search", label: "查找" },
      { key: "replace", label: "替换" }
    ], p = () => {
      e.setSearchPanelState(!1);
    }, h = V();
    return Qe(() => {
      h.value.focus();
    }), Re(f, () => {
      Kt(() => {
        h.value.focus();
      });
    }), (m, g) => {
      const y = j("IconClose"), _ = j("IconLeft"), w = j("IconRight"), x = it("tooltip");
      return k(), ie(Ws, {
        class: "search-panel",
        width: 330,
        height: 0,
        left: -270,
        top: 90
      }, {
        default: F(() => [
          C("div", {
            class: "close-btn",
            onClick: g[0] || (g[0] = (S) => p()),
            onMousedown: g[1] || (g[1] = Fe(() => {
            }, ["stop"]))
          }, [
            T(y)
          ], 32),
          T(jn, {
            tabs: v,
            value: f.value,
            "onUpdate:value": g[2] || (g[2] = (S) => f.value = S)
          }, null, 8, ["value"]),
          C("div", {
            class: ye(["content", f.value]),
            onMousedown: g[12] || (g[12] = Fe(() => {
            }, ["stop"]))
          }, [
            T(oa, {
              class: "input",
              value: A(n),
              "onUpdate:value": g[6] || (g[6] = (S) => th(n) ? n.value = S : null),
              placeholder: "输入查找内容",
              onEnter: g[7] || (g[7] = (S) => A(s)()),
              ref_key: "searchInpRef",
              ref: h
            }, {
              suffix: F(() => [
                C("span", GY, Ee(A(r) + 1) + "/" + Ee(A(a).length), 1),
                T(Ve, { type: "vertical" }),
                ge((k(), R("span", {
                  class: ye(["ignore-case", { active: A(i) === "g" }]),
                  onClick: g[3] || (g[3] = (S) => A(d)())
                }, [
                  fe("Aa")
                ], 2)), [
                  [x, "忽略大小写"]
                ]),
                T(Ve, { type: "vertical" }),
                ge(T(_, {
                  class: "next-btn left",
                  onClick: g[4] || (g[4] = (S) => A(l)())
                }, null, 512), [
                  [x, "上一个"]
                ]),
                ge(T(w, {
                  class: "next-btn right",
                  onClick: g[5] || (g[5] = (S) => A(s)())
                }, null, 512), [
                  [x, "下一个"]
                ])
              ]),
              _: 1
            }, 8, ["value"]),
            f.value === "replace" ? (k(), ie(oa, {
              key: 0,
              class: "input",
              value: A(o),
              "onUpdate:value": g[8] || (g[8] = (S) => th(o) ? o.value = S : null),
              placeholder: "输入替换内容",
              onEnter: g[9] || (g[9] = (S) => A(u)())
            }, null, 8, ["value"])) : me("", !0),
            f.value === "replace" ? (k(), R("div", UY, [
              T(_e, {
                disabled: !A(n),
                style: { "margin-left": "5px" },
                onClick: g[10] || (g[10] = (S) => A(u)())
              }, {
                default: F(() => [
                  fe("替换")
                ]),
                _: 1
              }, 8, ["disabled"]),
              T(_e, {
                disabled: !A(n),
                type: "primary",
                style: { "margin-left": "5px" },
                onClick: g[11] || (g[11] = (S) => A(c)())
              }, {
                default: F(() => [
                  fe("全部替换")
                ]),
                _: 1
              }, 8, ["disabled"])
            ])) : me("", !0)
          ], 34)
        ]),
        _: 1
      });
    };
  }
}), XY = /* @__PURE__ */ ve(WY, [["__scopeId", "data-v-d3675e58"]]), YY = { class: "container" }, ZY = { class: "notes" }, qY = ["onClick"], JY = { class: "header note-header" }, KY = { class: "user" }, QY = { class: "avatar" }, jY = { class: "user-info" }, eZ = { class: "username" }, tZ = { class: "time" }, nZ = { class: "btns" }, oZ = ["onClick"], aZ = ["onClick"], rZ = { class: "content" }, iZ = {
  key: 0,
  class: "replies"
}, sZ = { class: "header reply-header" }, lZ = { class: "user" }, uZ = { class: "avatar" }, cZ = { class: "user-info" }, dZ = { class: "username" }, fZ = { class: "time" }, vZ = { class: "btns" }, pZ = ["onClick"], hZ = { class: "content" }, mZ = {
  key: 1,
  class: "note-reply"
}, gZ = { class: "reply-btns" }, yZ = {
  key: 0,
  class: "empty"
}, _Z = { class: "send" }, bZ = { class: "footer" }, wZ = /* @__PURE__ */ ce({
  __name: "NotesPanel",
  setup(t) {
    const e = Ie(), n = Te(), { slideIndex: o, currentSlide: a } = de(e), { handleElementId: r } = de(n), i = V(""), s = V(""), l = ne(() => {
      var _;
      return ((_ = a.value) == null ? void 0 : _.notes) || [];
    }), u = V(""), c = V(""), d = V();
    Re(o, () => {
      u.value = "", c.value = "";
    });
    const f = () => {
      if (!i.value) {
        d.value && d.value.focus();
        return;
      }
      const _ = {
        id: tt(),
        content: i.value,
        time: (/* @__PURE__ */ new Date()).getTime(),
        user: "测试用户"
      };
      r.value && (_.elId = r.value);
      const w = [
        ...l.value,
        _
      ];
      e.updateSlide({ notes: w }), i.value = "";
    }, v = (_) => {
      const w = l.value.filter((x) => x.id !== _);
      e.updateSlide({ notes: w });
    }, p = () => {
      if (!s.value) return;
      const _ = l.value.find((L) => L.id === c.value);
      if (!_) return;
      const w = [
        ..._.replies || [],
        {
          id: tt(),
          content: s.value,
          time: (/* @__PURE__ */ new Date()).getTime(),
          user: "测试用户"
        }
      ], x = {
        ..._,
        replies: w
      }, S = l.value.map((L) => L.id === c.value ? x : L);
      e.updateSlide({ notes: S }), s.value = "", c.value = "";
    }, h = (_, w) => {
      const x = l.value.find((I) => I.id === _);
      if (!x || !x.replies) return;
      const S = x.replies.filter((I) => I.id !== w), L = {
        ...x,
        replies: S
      }, b = l.value.map((I) => I.id === _ ? L : I);
      e.updateSlide({ notes: b });
    }, m = (_) => {
      u.value = _.id, _.elId ? a.value.elements.map((x) => x.id).includes(_.elId) ? n.setActiveElementIdList([_.elId]) : n.setActiveElementIdList([]) : n.setActiveElementIdList([]);
    }, g = () => {
      e.updateSlide({ notes: [] });
    }, y = () => {
      n.setNotesPanelState(!1);
    };
    return (_, w) => {
      const x = j("IconUser"), S = j("IconDelete"), L = it("tooltip");
      return k(), ie(Ws, {
        class: "notes-panel",
        width: 300,
        height: 560,
        title: `幻灯片${A(o) + 1}的批注`,
        left: -270,
        top: 90,
        minWidth: 300,
        minHeight: 400,
        maxWidth: 480,
        maxHeight: 780,
        resizeable: "",
        onClose: w[7] || (w[7] = (b) => y())
      }, {
        default: F(() => [
          C("div", YY, [
            C("div", ZY, [
              (k(!0), R(pe, null, xe(l.value, (b) => {
                var I;
                return k(), R("div", {
                  class: ye(["note", { active: u.value === b.id }]),
                  key: b.id,
                  onClick: (M) => m(b)
                }, [
                  C("div", JY, [
                    C("div", KY, [
                      C("div", QY, [
                        T(x)
                      ]),
                      C("div", jY, [
                        C("div", eZ, Ee(b.user), 1),
                        C("div", tZ, Ee(new Date(b.time).toLocaleString()), 1)
                      ])
                    ]),
                    C("div", nZ, [
                      C("div", {
                        class: "btn reply",
                        onClick: (M) => c.value = b.id
                      }, "回复", 8, oZ),
                      C("div", {
                        class: "btn delete",
                        onClick: Fe((M) => v(b.id), ["stop"])
                      }, "删除", 8, aZ)
                    ])
                  ]),
                  C("div", rZ, Ee(b.content), 1),
                  (I = b.replies) != null && I.length ? (k(), R("div", iZ, [
                    (k(!0), R(pe, null, xe(b.replies, (M) => (k(), R("div", {
                      class: "reply-item",
                      key: M.id
                    }, [
                      C("div", sZ, [
                        C("div", lZ, [
                          C("div", uZ, [
                            T(x)
                          ]),
                          C("div", cZ, [
                            C("div", dZ, Ee(M.user), 1),
                            C("div", fZ, Ee(new Date(M.time).toLocaleString()), 1)
                          ])
                        ]),
                        C("div", vZ, [
                          C("div", {
                            class: "btn delete",
                            onClick: Fe((E) => h(b.id, M.id), ["stop"])
                          }, "删除", 8, pZ)
                        ])
                      ]),
                      C("div", hZ, Ee(M.content), 1)
                    ]))), 128))
                  ])) : me("", !0),
                  c.value === b.id ? (k(), R("div", mZ, [
                    T(xv, {
                      padding: 6,
                      value: s.value,
                      "onUpdate:value": w[0] || (w[0] = (M) => s.value = M),
                      placeholder: "输入回复内容",
                      rows: 1
                    }, null, 8, ["value"]),
                    C("div", gZ, [
                      T(_e, {
                        class: "btn",
                        size: "small",
                        onClick: w[1] || (w[1] = (M) => c.value = "")
                      }, {
                        default: F(() => [
                          fe("取消")
                        ]),
                        _: 1
                      }),
                      T(_e, {
                        class: "btn",
                        size: "small",
                        type: "primary",
                        onClick: w[2] || (w[2] = (M) => p())
                      }, {
                        default: F(() => [
                          fe("回复")
                        ]),
                        _: 1
                      })
                    ])
                  ])) : me("", !0)
                ], 10, qY);
              }), 128)),
              l.value.length ? me("", !0) : (k(), R("div", yZ, "本页暂无批注"))
            ]),
            C("div", _Z, [
              T(xv, {
                ref_key: "textAreaRef",
                ref: d,
                value: i.value,
                "onUpdate:value": w[3] || (w[3] = (b) => i.value = b),
                padding: 6,
                placeholder: `输入批注（为${A(r) ? "选中元素" : "当前页幻灯片"}）`,
                rows: 2,
                onFocus: w[4] || (w[4] = (b) => {
                  c.value = "", u.value = "";
                })
              }, null, 8, ["value", "placeholder"]),
              C("div", bZ, [
                ge(T(S, {
                  class: "btn icon",
                  style: { flex: "1" },
                  onClick: w[5] || (w[5] = (b) => g())
                }, null, 512), [
                  [L, "清空本页批注"]
                ]),
                T(_e, {
                  type: "primary",
                  class: "btn",
                  style: { flex: "12" },
                  onClick: w[6] || (w[6] = (b) => f())
                }, {
                  default: F(() => [
                    fe("添加批注")
                  ]),
                  _: 1
                })
              ])
            ])
          ])
        ]),
        _: 1
      }, 8, ["title"]);
    };
  }
}), xZ = /* @__PURE__ */ ve(wZ, [["__scopeId", "data-v-71466d80"]]), SZ = { class: "pptist-editor" }, IZ = { class: "layout-content" }, CZ = { class: "layout-content-center" }, TZ = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = Te(), { dialogForExport: n, showSelectPanel: o, showSearchPanel: a, showNotesPanel: r } = de(e), i = () => e.setDialogForExport(""), s = V(40);
    return $b(), Pb(), (l, u) => (k(), R(pe, null, [
      C("div", SZ, [
        T(y7, { class: "layout-header" }),
        C("div", IZ, [
          T(tB, { class: "layout-content-left" }),
          C("div", CZ, [
            T(ON, { class: "center-top" }),
            T(nO, {
              class: "center-body",
              style: re({ height: `calc(100% - ${s.value + 40}px)` })
            }, null, 8, ["style"]),
            T(FW, {
              class: "center-bottom",
              height: s.value,
              "onUpdate:height": u[0] || (u[0] = (c) => s.value = c),
              style: re({ height: `${s.value}px` })
            }, null, 8, ["height", "style"])
          ]),
          T($W, { class: "layout-content-right" })
        ])
      ]),
      A(o) ? (k(), ie(VY, { key: 0 })) : me("", !0),
      A(a) ? (k(), ie(XY, { key: 1 })) : me("", !0),
      A(r) ? (k(), ie(xZ, { key: 2 })) : me("", !0),
      T(si, {
        visible: !!A(n),
        width: 680,
        onClosed: u[1] || (u[1] = (c) => i())
      }, {
        default: F(() => [
          T(bY)
        ]),
        _: 1
      }, 8, ["visible"])
    ], 64));
  }
}), LZ = /* @__PURE__ */ ve(TZ, [["__scopeId", "data-v-4edce948"]]), T4 = () => {
  const t = Ie(), { slides: e, slideIndex: n, formatedAnimations: o } = de(t), a = V(0), r = V(!1), i = V(n.value), s = () => {
    if (r.value) return;
    const { animations: D, autoNext: O } = o.value[a.value];
    a.value += 1, r.value = !0;
    let N = 0;
    for (const P of D) {
      const $ = document.querySelector(`#screen-element-${P.elId} [class^=base-element-]`);
      if (!$) {
        N += 1;
        continue;
      }
      const z = `${xn}${P.effect}`;
      $.style.removeProperty("--animate-duration");
      for (const W of $.classList)
        W.indexOf(xn) !== -1 && $.classList.remove(W, `${xn}animated`);
      $.style.setProperty("--animate-duration", `${P.duration}ms`), $.classList.add(z, `${xn}animated`);
      const H = () => {
        P.type !== "out" && ($.style.removeProperty("--animate-duration"), $.classList.remove(z, `${xn}animated`)), N += 1, N === D.length && (r.value = !1, O && s());
      };
      $.addEventListener("animationend", H, { once: !0 });
    }
  };
  Qe(() => {
    const D = o.value[0];
    D && D.animations.length && D.animations.every((N) => N.trigger === "auto" || N.trigger === "meantime") && s();
  });
  const l = () => {
    a.value -= 1;
    const { animations: D } = o.value[a.value];
    for (const O of D) {
      const N = document.querySelector(`#screen-element-${O.elId} [class^=base-element-]`);
      if (N) {
        N.style.removeProperty("--animate-duration");
        for (const P of N.classList)
          P.indexOf(xn) !== -1 && N.classList.remove(P, `${xn}animated`);
      }
    }
    D.every((O) => O.type === "attention") && p();
  }, u = V(0), c = () => {
    u.value && (clearInterval(u.value), u.value = 0);
  };
  ht(c);
  const d = V(!1), f = (D) => {
    d.value = D;
  }, v = ja(function(D) {
    at.success(D);
  }, 1e3, { leading: !0, trailing: !1 }), p = () => {
    o.value.length && a.value > 0 ? l() : n.value > 0 ? (t.updateSlideIndex(n.value - 1), n.value < i.value ? (a.value = 0, i.value = n.value) : a.value = o.value.length) : d.value ? M(e.value.length - 1) : v("已经是第一页了"), r.value = !1;
  }, h = () => {
    o.value.length && a.value < o.value.length ? s() : n.value < e.value.length - 1 ? (t.updateSlideIndex(n.value + 1), a.value = 0, r.value = !1) : (d.value ? M(0) : (v("已经是最后一页了"), c()), r.value = !1);
  }, m = V(2500), g = () => {
    c(), at.success("开始自动放映"), u.value = setInterval(h, m.value);
  }, y = (D) => {
    c(), m.value = D, g();
  }, _ = ja(function(D) {
    D.deltaY < 0 ? p() : D.deltaY > 0 && h();
  }, 500, { leading: !0, trailing: !1 }), w = V(null), x = (D) => {
    w.value = {
      x: D.changedTouches[0].pageX,
      y: D.changedTouches[0].pageY
    };
  }, S = (D) => {
    if (!w.value) return;
    const O = Math.abs(w.value.x - D.changedTouches[0].pageX), N = D.changedTouches[0].pageY - w.value.y;
    Math.abs(N) > O && Math.abs(N) > 50 && (w.value = null, N > 0 ? p() : h());
  }, L = (D) => {
    const O = D.key.toUpperCase();
    O === Me.UP || O === Me.LEFT || O === Me.PAGEUP ? p() : (O === Me.DOWN || O === Me.RIGHT || O === Me.SPACE || O === Me.ENTER || O === Me.PAGEDOWN) && h();
  };
  Qe(() => document.addEventListener("keydown", L)), ht(() => document.removeEventListener("keydown", L));
  const b = () => {
    t.updateSlideIndex(n.value - 1), a.value = 0;
  }, I = () => {
    t.updateSlideIndex(n.value + 1), a.value = 0;
  }, M = (D) => {
    t.updateSlideIndex(D), a.value = 0;
  };
  return {
    autoPlayTimer: u,
    autoPlayInterval: m,
    setAutoPlayInterval: y,
    autoPlay: g,
    closeAutoPlay: c,
    loopPlay: d,
    setLoopPlay: f,
    mousewheelListener: _,
    touchStartListener: x,
    touchEndListener: S,
    turnPrevSlide: b,
    turnNextSlide: I,
    turnSlideToIndex: M,
    turnSlideToId: (D) => {
      const O = e.value.findIndex((N) => N.id === D);
      O !== -1 && (t.updateSlideIndex(O), a.value = 0);
    },
    execPrev: p,
    execNext: h,
    animationIndex: a
  };
}, L4 = (t) => {
  const e = Ie(), { viewportRatio: n } = de(e), o = V(0), a = V(0), r = () => {
    const i = (t == null ? void 0 : t.value) || document.body, s = i.clientWidth, l = i.clientHeight;
    let u, c;
    l / s === n.value ? (u = s, c = l) : l / s > n.value ? (u = s, c = s * n.value) : (u = l / n.value, c = l), o.value = u, a.value = c;
  };
  return Qe(() => {
    r(), window.addEventListener("resize", r);
  }), ht(() => {
    window.removeEventListener("resize", r);
  }), {
    slideWidth: o,
    slideHeight: a
  };
}, k4 = () => {
  const t = V(!0), e = V(!0), { exitScreening: n } = pa(), o = () => {
    t.value = pf(), !t.value && e.value && n(), e.value = !0;
  };
  return Qe(() => {
    t.value = pf(), document.addEventListener("fullscreenchange", o), document.addEventListener("webkitfullscreenchange", o);
  }), ht(() => {
    document.removeEventListener("fullscreenchange", o), document.removeEventListener("webkitfullscreenchange", o);
  }), {
    fullscreenState: t,
    manualExitFullscreen: () => {
      t.value && (e.value = !1, yg());
    }
  };
}, kZ = { class: "element-content" }, EZ = /* @__PURE__ */ ce({
  __name: "ScreenVideoElement",
  props: {
    elementInfo: {}
  },
  setup(t) {
    const { currentSlide: e } = de(Ie()), n = us(Ps) || V(1), o = us(Fv) || V(""), a = ne(() => e.value.id === o.value);
    return (r, i) => (k(), R("div", {
      class: "base-element-video screen-element-video",
      style: re({
        top: r.elementInfo.top + "px",
        left: r.elementInfo.left + "px",
        width: r.elementInfo.width + "px",
        height: r.elementInfo.height + "px"
      })
    }, [
      C("div", {
        class: "rotate-wrapper",
        style: re({ transform: `rotate(${r.elementInfo.rotate}deg)` })
      }, [
        C("div", kZ, [
          a.value ? (k(), ie(U_, {
            key: 0,
            width: r.elementInfo.width,
            height: r.elementInfo.height,
            src: r.elementInfo.src,
            poster: r.elementInfo.poster,
            autoplay: r.elementInfo.autoplay,
            scale: A(n)
          }, null, 8, ["width", "height", "src", "poster", "autoplay", "scale"])) : me("", !0)
        ])
      ], 4)
    ], 4));
  }
}), MZ = /* @__PURE__ */ ve(EZ, [["__scopeId", "data-v-bef75a85"]]), AZ = { class: "element-content" }, DZ = /* @__PURE__ */ ce({
  __name: "ScreenAudioElement",
  props: {
    elementInfo: {}
  },
  setup(t) {
    const e = t, { viewportRatio: n, currentSlide: o, viewportSize: a } = de(Ie()), r = us(Ps) || V(1), i = us(Fv) || V(""), s = ne(() => o.value.id === i.value), l = ne(() => Math.min(e.elementInfo.width, e.elementInfo.height) + "px"), u = ne(() => {
      const f = a.value, v = a.value * n.value, p = 280 / r.value, h = 50 / r.value, m = e.elementInfo.width, g = e.elementInfo.height, y = e.elementInfo.left, _ = e.elementInfo.top;
      let w = 0, x = g;
      return y + p >= f && (w = m - p), _ + g + h >= v && (x = -h), {
        left: w + "px",
        top: x + "px"
      };
    }), c = V(), d = () => {
      c.value && c.value.toggle();
    };
    return (f, v) => {
      const p = j("IconVolumeNotice");
      return k(), R("div", {
        class: "base-element-audio screen-element-audio",
        style: re({
          top: f.elementInfo.top + "px",
          left: f.elementInfo.left + "px",
          width: f.elementInfo.width + "px",
          height: f.elementInfo.height + "px"
        })
      }, [
        C("div", {
          class: "rotate-wrapper",
          style: re({ transform: `rotate(${f.elementInfo.rotate}deg)` })
        }, [
          C("div", AZ, [
            T(p, {
              class: "audio-icon",
              style: re({
                fontSize: l.value,
                color: f.elementInfo.color
              }),
              onClick: v[0] || (v[0] = (h) => d())
            }, null, 8, ["style"]),
            s.value ? (k(), ie(Y_, {
              key: 0,
              class: "audio-player",
              ref_key: "audioPlayerRef",
              ref: c,
              style: re({ ...u.value }),
              src: f.elementInfo.src,
              loop: f.elementInfo.loop,
              autoplay: f.elementInfo.autoplay,
              scale: A(r)
            }, null, 8, ["style", "src", "loop", "autoplay", "scale"])) : me("", !0)
          ])
        ], 4)
      ], 4);
    };
  }
}), $Z = /* @__PURE__ */ ve(DZ, [["__scopeId", "data-v-a9b5fdd0"]]), PZ = ["id", "title"], RZ = /* @__PURE__ */ ce({
  __name: "ScreenElement",
  props: {
    elementInfo: {},
    elementIndex: {},
    animationIndex: {},
    turnSlideToId: { type: Function },
    manualExitFullscreen: { type: Function }
  },
  setup(t) {
    const e = t, n = ne(() => ({
      [Ne.IMAGE]: K_,
      [Ne.TEXT]: Q_,
      [Ne.SHAPE]: j_,
      [Ne.LINE]: e4,
      [Ne.CHART]: t4,
      [Ne.TABLE]: n4,
      [Ne.LATEX]: o4,
      [Ne.VIDEO]: MZ,
      [Ne.AUDIO]: $Z
    })[e.elementInfo.type] || null), { formatedAnimations: o, theme: a } = de(Ie()), r = ne(() => {
      const s = o.value.findIndex((u) => u.animations.map((d) => d.elId).includes(e.elementInfo.id));
      if (s === -1 || s < e.animationIndex) return !1;
      const l = o.value[s].animations.find((u) => u.elId === e.elementInfo.id);
      return (l == null ? void 0 : l.type) === "in";
    }), i = (s) => {
      if (s.target.tagName === "A") {
        e.manualExitFullscreen();
        return;
      }
      const l = e.elementInfo.link;
      l && (l.type === "web" ? (e.manualExitFullscreen(), window.open(l.target)) : l.type === "slide" && e.turnSlideToId(l.target));
    };
    return (s, l) => {
      var u;
      return k(), R("div", {
        class: ye(["screen-element", { link: s.elementInfo.link }]),
        id: `screen-element-${s.elementInfo.id}`,
        style: re({
          zIndex: s.elementIndex,
          color: A(a).fontColor,
          fontFamily: A(a).fontName,
          visibility: r.value ? "hidden" : "visible"
        }),
        title: ((u = s.elementInfo.link) == null ? void 0 : u.target) || "",
        onClick: l[0] || (l[0] = (c) => i(c))
      }, [
        (k(), ie(Do(n.value), { elementInfo: s.elementInfo }, null, 8, ["elementInfo"]))
      ], 14, PZ);
    };
  }
}), OZ = /* @__PURE__ */ ve(RZ, [["__scopeId", "data-v-038e634d"]]), NZ = /* @__PURE__ */ ce({
  __name: "ScreenSlide",
  props: {
    slide: {},
    scale: {},
    animationIndex: {},
    turnSlideToId: { type: Function },
    manualExitFullscreen: { type: Function }
  },
  setup(t) {
    const e = t, { viewportRatio: n, viewportSize: o } = de(Ie()), a = ne(() => e.slide.background), { backgroundStyle: r } = _c(a), i = ne(() => e.slide.id);
    return Es(Fv, i), (s, l) => (k(), R("div", {
      class: "screen-slide",
      style: re({
        width: A(o) + "px",
        height: A(o) * A(n) + "px",
        transform: `scale(${s.scale})`
      })
    }, [
      C("div", {
        class: "background",
        style: re({ ...A(r) })
      }, null, 4),
      (k(!0), R(pe, null, xe(s.slide.elements, (u, c) => (k(), ie(OZ, {
        key: u.id,
        elementInfo: u,
        elementIndex: c + 1,
        animationIndex: s.animationIndex,
        turnSlideToId: s.turnSlideToId,
        manualExitFullscreen: s.manualExitFullscreen
      }, null, 8, ["elementInfo", "elementIndex", "animationIndex", "turnSlideToId", "manualExitFullscreen"]))), 128))
    ], 4));
  }
}), BZ = /* @__PURE__ */ ve(NZ, [["__scopeId", "data-v-17d2a617"]]), FZ = { class: "screen-slide-list" }, zZ = /* @__PURE__ */ ce({
  __name: "ScreenSlideList",
  props: {
    slideWidth: {},
    slideHeight: {},
    animationIndex: {},
    turnSlideToId: { type: Function },
    manualExitFullscreen: { type: Function }
  },
  setup(t) {
    const e = t, { slides: n, slideIndex: o, viewportSize: a } = de(Ie()), r = ne(() => n.value.map((s) => {
      let l = s.turningMode;
      if (l || (l = "slideY"), l === "random") {
        const u = y4.filter((c) => !["random", "no"].includes(c.value)).map((c) => c.value);
        l = u[Math.floor(Math.random() * u.length)];
      }
      return {
        ...s,
        turningMode: l
      };
    })), i = ne(() => e.slideWidth / a.value);
    return Es(Ps, i), (s, l) => (k(), R("div", FZ, [
      (k(!0), R(pe, null, xe(r.value, (u, c) => {
        var d;
        return k(), R("div", {
          class: ye([
            "slide-item",
            `turning-mode-${u.turningMode}`,
            {
              current: c === A(o),
              before: c < A(o),
              after: c > A(o),
              hide: (c === A(o) - 1 || c === A(o) + 1) && u.turningMode !== r.value[A(o)].turningMode
            }
          ]),
          key: u.id
        }, [
          Math.abs(A(o) - c) < 2 || (d = u.animations) != null && d.length ? (k(), R("div", {
            key: 0,
            class: "slide-content",
            style: re({
              width: s.slideWidth + "px",
              height: s.slideHeight + "px"
            })
          }, [
            T(BZ, {
              slide: u,
              scale: i.value,
              animationIndex: s.animationIndex,
              turnSlideToId: s.turnSlideToId,
              manualExitFullscreen: s.manualExitFullscreen
            }, null, 8, ["slide", "scale", "animationIndex", "turnSlideToId", "manualExitFullscreen"])
          ], 4)) : me("", !0)
        ], 2);
      }), 128))
    ]));
  }
}), E4 = /* @__PURE__ */ ve(zZ, [["__scopeId", "data-v-9f9072dd"]]), VZ = { class: "slide-thumbnails" }, HZ = { class: "return-button" }, GZ = { class: "slide-thumbnails-content" }, UZ = ["onClick"], WZ = /* @__PURE__ */ ce({
  __name: "SlideThumbnails",
  props: {
    turnSlideToIndex: { type: Function }
  },
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = t, o = e, { slides: a, slideIndex: r } = de(Ie()), { slidesLoadLimit: i } = Vs(), s = (l) => {
      n.turnSlideToIndex(l), o("close");
    };
    return (l, u) => {
      const c = j("IconArrowCircleLeft");
      return k(), R("div", VZ, [
        C("div", HZ, [
          T(c, {
            class: "icon",
            onClick: u[0] || (u[0] = (d) => o("close"))
          })
        ]),
        C("div", GZ, [
          (k(!0), R(pe, null, xe(A(a), (d, f) => (k(), R("div", {
            class: ye(["thumbnail", { active: f === A(r) }]),
            key: d.id,
            onClick: (v) => s(f)
          }, [
            T(Qn, {
              slide: d,
              size: 150,
              visible: f < A(i)
            }, null, 8, ["slide", "visible"])
          ], 10, UZ))), 128))
        ])
      ]);
    };
  }
}), XZ = /* @__PURE__ */ ve(WZ, [["__scopeId", "data-v-bafa56c1"]]), YZ = {
  key: 0,
  class: "blackboard"
}, ZZ = /* @__PURE__ */ ce({
  __name: "WritingBoard",
  props: {
    color: { default: "#ffcc00" },
    model: { default: "pen" },
    blackboard: { type: Boolean, default: !1 },
    penSize: { default: 6 },
    markSize: { default: 24 },
    rubberSize: { default: 80 }
  },
  emits: ["end"],
  setup(t, { expose: e, emit: n }) {
    const o = t, a = n;
    let r = null;
    const i = V(), s = V();
    let l = {
      x: 0,
      y: 0
    }, u = !1, c = 0, d = -1;
    const f = V({
      x: 0,
      y: 0
    }), v = V(!1), p = V(0), h = V(0), m = ne(() => s.value ? p.value / s.value.width : 1), g = ne(() => s.value ? h.value / s.value.height : 1), y = () => {
      i.value && (p.value = i.value.clientWidth, h.value = i.value.clientHeight);
    }, _ = new ResizeObserver(y);
    Qe(() => {
      i.value && _.observe(i.value);
    }), ht(() => {
      i.value && _.unobserve(i.value);
    }), Qe(() => {
      !s.value || !i.value || (r = s.value.getContext("2d"), r && (s.value.width = i.value.clientWidth, s.value.height = i.value.clientHeight, r.lineCap = "round", r.lineJoin = "round"));
    });
    const x = () => {
      r && (o.model === "mark" ? (r.globalCompositeOperation = "xor", r.globalAlpha = 0.5) : o.model === "pen" && (r.globalCompositeOperation = "source-over", r.globalAlpha = 1));
    };
    Re(() => o.model, x);
    const S = (H, W, oe) => {
      if (!r) return;
      const te = l.x, le = l.y;
      r.lineWidth = oe, r.strokeStyle = o.color, r.beginPath(), r.moveTo(te, le), r.lineTo(H, W), r.stroke(), r.closePath();
    }, L = (H, W) => {
      if (!r || !s.value) return;
      const oe = l.x, te = l.y, le = o.rubberSize / 2, J = le * Math.sin(Math.atan((W - te) / (H - oe))), Q = le * Math.cos(Math.atan((W - te) / (H - oe))), q = [oe + J, te - Q], G = [oe - J, te + Q], B = [H + J, W - Q], ee = [H - J, W + Q];
      r.save(), r.beginPath(), r.arc(H, W, le, 0, Math.PI * 2), r.clip(), r.clearRect(0, 0, s.value.width, s.value.height), r.restore(), r.save(), r.beginPath(), r.moveTo(...q), r.lineTo(...B), r.lineTo(...ee), r.lineTo(...G), r.closePath(), r.clip(), r.clearRect(0, 0, s.value.width, s.value.height), r.restore();
    }, b = (H, W) => {
      const oe = l.x, te = l.y;
      return Math.sqrt((H - oe) * (H - oe) + (W - te) * (W - te));
    }, I = (H, W) => {
      const le = o.penSize, J = 3, Q = H / W;
      let q;
      return Q <= 0.1 ? q = le : Q >= 10 ? q = J : q = le - Q / 10 * le, d === -1 ? q : q * 1 / 3 + d * 2 / 3;
    }, M = (H, W) => {
      const oe = (/* @__PURE__ */ new Date()).getTime();
      if (o.model === "pen") {
        const te = b(H, W), le = oe - c, J = I(te, le);
        S(H, W, J), d = J;
      } else o.model === "mark" ? S(H, W, o.markSize) : L(H, W);
      l = { x: H, y: W }, c = (/* @__PURE__ */ new Date()).getTime();
    }, E = (H) => {
      if (!s.value) return [0, 0];
      const W = H instanceof MouseEvent ? H : H.changedTouches[0], oe = s.value.getBoundingClientRect(), te = W.pageX - oe.x, le = W.pageY - oe.y;
      return [te, le];
    }, D = (H) => {
      const [W, oe] = E(H), te = W / m.value, le = oe / g.value;
      u = !0, l = { x: te, y: le }, c = (/* @__PURE__ */ new Date()).getTime(), H instanceof MouseEvent || (f.value = { x: W, y: oe }, v.value = !0);
    }, O = (H) => {
      const [W, oe] = E(H), te = W / m.value, le = oe / g.value;
      f.value = { x: W, y: oe }, u && M(te, le);
    }, N = () => {
      u && (u = !1, a("end"));
    };
    return e({
      clearCanvas: () => {
        !r || !s.value || (r.clearRect(0, 0, s.value.width, s.value.height), a("end"));
      },
      getImageDataURL: () => {
        var H;
        return (H = s.value) == null ? void 0 : H.toDataURL();
      },
      setImageDataURL: (H) => {
        if (!(!r || !s.value) && (r.clearRect(0, 0, s.value.width, s.value.height), H)) {
          r.globalCompositeOperation = "source-over", r.globalAlpha = 1;
          const W = new Image();
          W.src = H, W.onload = () => {
            r.drawImage(W, 0, 0), x();
          };
        }
      }
    }), (H, W) => {
      const oe = j("IconWrite"), te = j("IconHighLight");
      return k(), R("div", {
        class: "writing-board",
        ref_key: "writingBoardRef",
        ref: i
      }, [
        H.blackboard ? (k(), R("div", YZ)) : me("", !0),
        C("canvas", {
          class: "canvas",
          ref_key: "canvasRef",
          ref: s,
          style: re({
            width: p.value + "px",
            height: h.value + "px"
          }),
          onMousedown: W[0] || (W[0] = (le) => D(le)),
          onMousemove: W[1] || (W[1] = (le) => O(le)),
          onMouseup: W[2] || (W[2] = (le) => N()),
          onTouchstart: W[3] || (W[3] = (le) => D(le)),
          onTouchmove: W[4] || (W[4] = (le) => O(le)),
          onTouchend: W[5] || (W[5] = (le) => {
            N(), v.value = !1;
          }),
          onMouseleave: W[6] || (W[6] = (le) => {
            N(), v.value = !1;
          }),
          onMouseenter: W[7] || (W[7] = (le) => v.value = !0)
        }, null, 36),
        v.value ? (k(), R(pe, { key: 1 }, [
          H.model === "eraser" ? (k(), R("div", {
            key: 0,
            class: "eraser",
            style: re({
              left: f.value.x - H.rubberSize / 2 + "px",
              top: f.value.y - H.rubberSize / 2 + "px",
              width: H.rubberSize + "px",
              height: H.rubberSize + "px"
            })
          }, null, 4)) : me("", !0),
          H.model === "pen" ? (k(), R("div", {
            key: 1,
            class: "pen",
            style: re({
              left: f.value.x - H.penSize / 2 + "px",
              top: f.value.y - H.penSize * 6 + H.penSize / 2 + "px",
              color: H.color
            })
          }, [
            H.model === "pen" ? (k(), ie(oe, {
              key: 0,
              class: "icon",
              size: H.penSize * 6
            }, null, 8, ["size"])) : me("", !0)
          ], 4)) : me("", !0),
          H.model === "mark" ? (k(), R("div", {
            key: 2,
            class: "pen",
            style: re({
              left: f.value.x - H.markSize / 2 + "px",
              top: f.value.y + "px",
              color: H.color
            })
          }, [
            H.model === "mark" ? (k(), ie(te, {
              key: 0,
              class: "icon",
              size: H.markSize * 1.5
            }, null, 8, ["size"])) : me("", !0)
          ], 4)) : me("", !0)
        ], 64)) : me("", !0)
      ], 512);
    };
  }
}), qZ = /* @__PURE__ */ ve(ZZ, [["__scopeId", "data-v-2e998f6c"]]), jp = (t) => (Ze("data-v-05ee2be6"), t = t(), qe(), t), JZ = { class: "writing-board-tool" }, KZ = { class: "tool-content" }, QZ = { class: "size" }, jZ = /* @__PURE__ */ jp(() => /* @__PURE__ */ C("div", { class: "label" }, "墨迹粗细：", -1)), eq = { class: "size" }, tq = /* @__PURE__ */ jp(() => /* @__PURE__ */ C("div", { class: "label" }, "墨迹粗细：", -1)), nq = { class: "size" }, oq = /* @__PURE__ */ jp(() => /* @__PURE__ */ C("div", { class: "label" }, "橡皮大小：", -1)), aq = { class: "colors" }, rq = ["onClick"], iq = /* @__PURE__ */ ce({
  __name: "WritingBoardTool",
  props: {
    slideWidth: {},
    slideHeight: {},
    left: { default: -5 },
    top: { default: -5 }
  },
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = ["#000000", "#ffffff", "#1e497b", "#4e81bb", "#e2534d", "#9aba60", "#8165a0", "#47acc5", "#f9974c", "#ffff3a"], o = e, { currentSlide: a } = de(Ie()), r = V(), i = V("#e2534d"), s = V("pen"), l = V(!1), u = V(""), c = V(6), d = V(24), f = V(80), v = (y) => {
      s.value === y ? u.value = u.value === y ? "" : y : (u.value && (u.value = ""), s.value = y);
    }, p = () => {
      r.value.clearCanvas();
    }, h = (y) => {
      s.value === "eraser" && (s.value = "pen"), i.value = y;
    }, m = () => {
      o("close");
    };
    Re(a, () => {
      Jn.writingBoardImgs.where("id").equals(a.value.id).toArray().then((y) => {
        const _ = y[0];
        r.value.setImageDataURL((_ == null ? void 0 : _.dataURL) || "");
      });
    }, { immediate: !0 });
    const g = () => {
      const y = r.value.getImageDataURL();
      y && Jn.writingBoardImgs.where("id").equals(a.value.id).toArray().then((_) => {
        const w = _[0];
        w ? Jn.writingBoardImgs.update(w, { dataURL: y }) : Jn.writingBoardImgs.add({ id: a.value.id, dataURL: y });
      });
    };
    return (y, _) => {
      const w = j("IconWrite"), x = j("IconHighLight"), S = j("IconErase"), L = j("IconClear"), b = j("IconFill"), I = j("IconClose"), M = it("tooltip");
      return k(), R("div", JZ, [
        C("div", {
          class: "writing-board-wrap",
          style: re({
            width: y.slideWidth + "px",
            height: y.slideHeight + "px"
          })
        }, [
          T(qZ, {
            ref_key: "writingBoardRef",
            ref: r,
            color: i.value,
            blackboard: l.value,
            model: s.value,
            penSize: c.value,
            markSize: d.value,
            rubberSize: f.value,
            onEnd: _[0] || (_[0] = (E) => g())
          }, null, 8, ["color", "blackboard", "model", "penSize", "markSize", "rubberSize"])
        ], 4),
        T(Ws, {
          class: "tools-panel",
          width: 520,
          height: 50,
          left: y.left,
          top: y.top,
          moveable: u.value === ""
        }, {
          default: F(() => [
            C("div", {
              class: "tools",
              onMousedown: _[10] || (_[10] = Fe(() => {
              }, ["stop"]))
            }, [
              C("div", KZ, [
                T(Be, {
                  trigger: "manual",
                  value: u.value === "pen"
                }, {
                  content: F(() => [
                    C("div", QZ, [
                      jZ,
                      T(Jt, {
                        class: "size-slider",
                        min: 4,
                        max: 10,
                        step: 2,
                        value: c.value,
                        "onUpdate:value": _[1] || (_[1] = (E) => c.value = E)
                      }, null, 8, ["value"])
                    ])
                  ]),
                  default: F(() => [
                    ge((k(), R("div", {
                      class: ye(["btn", { active: s.value === "pen" }]),
                      onClick: _[2] || (_[2] = (E) => v("pen"))
                    }, [
                      T(w, { class: "icon" })
                    ], 2)), [
                      [M, "画笔"]
                    ])
                  ]),
                  _: 1
                }, 8, ["value"]),
                T(Be, {
                  trigger: "manual",
                  value: u.value === "mark"
                }, {
                  content: F(() => [
                    C("div", eq, [
                      tq,
                      T(Jt, {
                        class: "size-slider",
                        min: 16,
                        max: 40,
                        step: 4,
                        value: d.value,
                        "onUpdate:value": _[3] || (_[3] = (E) => d.value = E)
                      }, null, 8, ["value"])
                    ])
                  ]),
                  default: F(() => [
                    ge((k(), R("div", {
                      class: ye(["btn", { active: s.value === "mark" }]),
                      onClick: _[4] || (_[4] = (E) => v("mark"))
                    }, [
                      T(x, { class: "icon" })
                    ], 2)), [
                      [M, "荧光笔"]
                    ])
                  ]),
                  _: 1
                }, 8, ["value"]),
                T(Be, {
                  trigger: "manual",
                  value: u.value === "eraser"
                }, {
                  content: F(() => [
                    C("div", nq, [
                      oq,
                      T(Jt, {
                        class: "size-slider",
                        min: 20,
                        max: 200,
                        step: 20,
                        value: f.value,
                        "onUpdate:value": _[5] || (_[5] = (E) => f.value = E)
                      }, null, 8, ["value"])
                    ])
                  ]),
                  default: F(() => [
                    ge((k(), R("div", {
                      class: ye(["btn", { active: s.value === "eraser" }]),
                      onClick: _[6] || (_[6] = (E) => v("eraser"))
                    }, [
                      T(S, { class: "icon" })
                    ], 2)), [
                      [M, "橡皮擦"]
                    ])
                  ]),
                  _: 1
                }, 8, ["value"]),
                ge((k(), R("div", {
                  class: "btn",
                  onClick: _[7] || (_[7] = (E) => p())
                }, [
                  T(L, { class: "icon" })
                ])), [
                  [M, "清除墨迹"]
                ]),
                ge((k(), R("div", {
                  class: ye(["btn", { active: l.value }]),
                  onClick: _[8] || (_[8] = (E) => l.value = !l.value)
                }, [
                  T(b, { class: "icon" })
                ], 2)), [
                  [M, "黑板"]
                ]),
                C("div", aq, [
                  (k(), R(pe, null, xe(n, (E) => C("div", {
                    class: ye(["color", { active: E === i.value }]),
                    key: E,
                    style: re({ backgroundColor: E }),
                    onClick: (D) => h(E)
                  }, null, 14, rq)), 64))
                ])
              ]),
              ge((k(), R("div", {
                class: "btn",
                onClick: _[9] || (_[9] = (E) => m())
              }, [
                T(I, { class: "icon" })
              ])), [
                [M, "关闭画笔"]
              ])
            ], 32)
          ]),
          _: 1
        }, 8, ["left", "top", "moveable"])
      ]);
    };
  }
}), M4 = /* @__PURE__ */ ve(iq, [["__scopeId", "data-v-05ee2be6"]]), sq = (t) => (Ze("data-v-52a17a32"), t = t(), qe(), t), lq = { class: "header" }, uq = { class: "content" }, cq = { class: "timer" }, dq = ["value", "disabled"], fq = /* @__PURE__ */ sq(() => /* @__PURE__ */ C("div", { class: "colon" }, ":", -1)), vq = { class: "timer" }, pq = ["value", "disabled"], hq = /* @__PURE__ */ ce({
  __name: "CountdownTimer",
  props: {
    left: { default: 5 },
    top: { default: 5 }
  },
  emits: ["close"],
  setup(t, { emit: e }) {
    const n = e, o = V(null), a = V(!1), r = V(!1), i = V(0), s = ne(() => Math.floor(i.value / 60)), l = ne(() => i.value % 60), u = ne(() => !r.value || a.value), c = () => {
      o.value && clearInterval(o.value);
    };
    ht(c);
    const d = () => {
      c(), a.value = !1;
    }, f = () => {
      c(), a.value = !1, r.value ? i.value = 600 : i.value = 0;
    }, v = () => {
      c(), r.value ? o.value = setInterval(() => {
        i.value = i.value - 1, i.value <= 0 && f();
      }, 1e3) : o.value = setInterval(() => {
        i.value = i.value + 1, i.value > 36e3 && d();
      }, 1e3), a.value = !0;
    }, p = () => {
      a.value ? d() : v();
    }, h = () => {
      r.value = !r.value, f();
    }, m = (g, y) => {
      const _ = g.target;
      let w = _.value;
      /^(\d)+$/.test(w) ? (y === "second" && +w >= 60 && (w = "59"), i.value = y === "minute" ? +w * 60 + l.value : +w + s.value * 60) : _.value = Oi(y === "minute" ? s.value : l.value, 2);
    };
    return (g, y) => {
      const _ = j("IconClose");
      return k(), ie(Ws, {
        class: "countdown-timer",
        width: 180,
        height: 110,
        left: g.left,
        top: g.top
      }, {
        default: F(() => [
          C("div", lq, [
            C("span", {
              class: "text-btn",
              onClick: y[0] || (y[0] = (w) => p())
            }, Ee(a.value ? "暂停" : "开始"), 1),
            C("span", {
              class: "text-btn",
              onClick: y[1] || (y[1] = (w) => f())
            }, "重置"),
            C("span", {
              class: ye(["text-btn", { active: r.value }]),
              onClick: y[2] || (y[2] = (w) => h())
            }, "倒计时", 2)
          ]),
          C("div", uq, [
            C("div", cq, [
              C("input", {
                type: "text",
                value: A(Oi)(s.value, 2),
                maxlength: 3,
                disabled: u.value,
                onMousedown: y[3] || (y[3] = Fe(() => {
                }, ["stop"])),
                onBlur: y[4] || (y[4] = (w) => m(w, "minute")),
                onKeydown: [
                  y[5] || (y[5] = Fe(() => {
                  }, ["stop"])),
                  y[6] || (y[6] = na(Fe((w) => m(w, "minute"), ["stop"]), ["enter"]))
                ]
              }, null, 40, dq)
            ]),
            fq,
            C("div", vq, [
              C("input", {
                type: "text",
                value: A(Oi)(l.value, 2),
                maxlength: 3,
                disabled: u.value,
                onMousedown: y[7] || (y[7] = Fe(() => {
                }, ["stop"])),
                onBlur: y[8] || (y[8] = (w) => m(w, "second")),
                onKeydown: [
                  y[9] || (y[9] = Fe(() => {
                  }, ["stop"])),
                  y[10] || (y[10] = na(Fe((w) => m(w, "second"), ["stop"]), ["enter"]))
                ]
              }, null, 40, pq)
            ])
          ]),
          C("div", {
            class: "close-btn",
            onClick: y[11] || (y[11] = (w) => n("close"))
          }, [
            T(_, { class: "icon" })
          ])
        ]),
        _: 1
      }, 8, ["left", "top"]);
    };
  }
}), A4 = /* @__PURE__ */ ve(hq, [["__scopeId", "data-v-52a17a32"]]), mq = { class: "tools-left" }, gq = { class: "content" }, yq = /* @__PURE__ */ ce({
  __name: "BaseView",
  props: {
    changeViewMode: { type: Function }
  },
  setup(t) {
    const e = t, { slides: n, slideIndex: o } = de(Ie()), {
      autoPlayTimer: a,
      autoPlay: r,
      closeAutoPlay: i,
      autoPlayInterval: s,
      setAutoPlayInterval: l,
      loopPlay: u,
      setLoopPlay: c,
      mousewheelListener: d,
      touchStartListener: f,
      touchEndListener: v,
      turnPrevSlide: p,
      turnNextSlide: h,
      turnSlideToIndex: m,
      turnSlideToId: g,
      execPrev: y,
      execNext: _,
      animationIndex: w
    } = T4(), { slideWidth: x, slideHeight: S } = L4(), { exitScreening: L } = pa(), { fullscreenState: b, manualExitFullscreen: I } = k4(), M = V(!1), E = V(!1), D = V(!1), O = V(!1), N = V(!1), P = () => [
      {
        text: "上一页",
        subText: "↑ ←",
        disable: o.value <= 0,
        handler: () => p()
      },
      {
        text: "下一页",
        subText: "↓ →",
        disable: o.value >= n.value.length - 1,
        handler: () => h()
      },
      {
        text: "第一页",
        disable: o.value === 0,
        handler: () => m(0)
      },
      {
        text: "最后一页",
        disable: o.value === n.value.length - 1,
        handler: () => m(n.value.length - 1)
      },
      { divider: !0 },
      {
        text: a.value ? "取消自动放映" : "自动放映",
        handler: a.value ? i : r,
        children: [
          {
            text: "2.5秒",
            subText: s.value === 2500 ? "√" : "",
            handler: () => l(2500)
          },
          {
            text: "5秒",
            subText: s.value === 5e3 ? "√" : "",
            handler: () => l(5e3)
          },
          {
            text: "7.5秒",
            subText: s.value === 7500 ? "√" : "",
            handler: () => l(7500)
          },
          {
            text: "10秒",
            subText: s.value === 1e4 ? "√" : "",
            handler: () => l(1e4)
          }
        ]
      },
      {
        text: "循环放映",
        subText: u.value ? "√" : "",
        handler: () => c(!u.value)
      },
      { divider: !0 },
      {
        text: "显示工具栏",
        handler: () => M.value = !0
      },
      {
        text: "查看所有幻灯片",
        handler: () => O.value = !0
      },
      {
        text: "画笔工具",
        handler: () => E.value = !0
      },
      {
        text: "演讲者视图",
        handler: () => e.changeViewMode("presenter")
      },
      { divider: !0 },
      {
        text: "结束放映",
        subText: "ESC",
        handler: L
      }
    ];
    return ($, z) => {
      const H = j("IconLeftTwo"), W = j("IconRightTwo"), oe = j("IconWrite"), te = j("IconMagic"), le = j("IconStopwatchStart"), J = j("IconListView"), Q = j("IconOffScreenOne"), q = j("IconFullScreenOne"), G = j("IconPower"), B = it("contextmenu"), ee = it("tooltip");
      return k(), R("div", {
        class: ye(["base-view", { "laser-pen": N.value }])
      }, [
        ge(T(E4, {
          slideWidth: A(x),
          slideHeight: A(S),
          animationIndex: A(w),
          turnSlideToId: A(g),
          manualExitFullscreen: A(I),
          onWheel: z[0] || (z[0] = (ue) => A(d)(ue)),
          onTouchstart: z[1] || (z[1] = (ue) => A(f)(ue)),
          onTouchend: z[2] || (z[2] = (ue) => A(v)(ue))
        }, null, 8, ["slideWidth", "slideHeight", "animationIndex", "turnSlideToId", "manualExitFullscreen"]), [
          [B, P]
        ]),
        O.value ? (k(), ie(XZ, {
          key: 0,
          turnSlideToIndex: A(m),
          onClose: z[3] || (z[3] = (ue) => O.value = !1)
        }, null, 8, ["turnSlideToIndex"])) : me("", !0),
        E.value ? (k(), ie(M4, {
          key: 1,
          slideWidth: A(x),
          slideHeight: A(S),
          onClose: z[4] || (z[4] = (ue) => E.value = !1)
        }, null, 8, ["slideWidth", "slideHeight"])) : me("", !0),
        D.value ? (k(), ie(A4, {
          key: 2,
          onClose: z[5] || (z[5] = (ue) => D.value = !1)
        })) : me("", !0),
        C("div", mq, [
          T(H, {
            class: "tool-btn",
            theme: "two-tone",
            fill: ["#111", "#fff"],
            onClick: z[6] || (z[6] = (ue) => A(y)())
          }),
          T(W, {
            class: "tool-btn",
            theme: "two-tone",
            fill: ["#111", "#fff"],
            onClick: z[7] || (z[7] = (ue) => A(_)())
          })
        ]),
        C("div", {
          class: ye(["tools-right", { visible: M.value }]),
          onMouseleave: z[16] || (z[16] = (ue) => M.value = !1),
          onMouseenter: z[17] || (z[17] = (ue) => M.value = !0)
        }, [
          C("div", gq, [
            C("div", {
              class: "tool-btn page-number",
              onClick: z[8] || (z[8] = (ue) => O.value = !0)
            }, "幻灯片 " + Ee(A(o) + 1) + " / " + Ee(A(n).length), 1),
            ge(T(oe, {
              class: "tool-btn",
              onClick: z[9] || (z[9] = (ue) => E.value = !0)
            }, null, 512), [
              [ee, "画笔工具"]
            ]),
            ge(T(te, {
              class: ye(["tool-btn", { active: N.value }]),
              onClick: z[10] || (z[10] = (ue) => N.value = !N.value)
            }, null, 8, ["class"]), [
              [ee, "激光笔"]
            ]),
            ge(T(le, {
              class: ye(["tool-btn", { active: D.value }]),
              onClick: z[11] || (z[11] = (ue) => D.value = !D.value)
            }, null, 8, ["class"]), [
              [ee, "计时器"]
            ]),
            ge(T(J, {
              class: "tool-btn",
              onClick: z[12] || (z[12] = (ue) => $.changeViewMode("presenter"))
            }, null, 512), [
              [ee, "演讲者视图"]
            ]),
            A(b) ? ge((k(), ie(Q, {
              key: 0,
              class: "tool-btn",
              onClick: z[13] || (z[13] = (ue) => A(I)())
            }, null, 512)), [
              [ee, "退出全屏"]
            ]) : ge((k(), ie(q, {
              key: 1,
              class: "tool-btn",
              onClick: z[14] || (z[14] = (ue) => A(Ov)())
            }, null, 512)), [
              [ee, "进入全屏"]
            ]),
            ge(T(G, {
              class: "tool-btn",
              onClick: z[15] || (z[15] = (ue) => A(L)())
            }, null, 512), [
              [ee, "结束放映"]
            ])
          ])
        ], 34)
      ], 2);
    };
  }
}), _q = /* @__PURE__ */ ve(yq, [["__scopeId", "data-v-83162a18"]]), li = (t) => (Ze("data-v-b2b14d64"), t = t(), qe(), t), bq = { class: "presenter-view" }, wq = { class: "toolbar" }, xq = /* @__PURE__ */ li(() => /* @__PURE__ */ C("span", null, "普通视图", -1)), Sq = /* @__PURE__ */ li(() => /* @__PURE__ */ C("span", null, "画笔", -1)), Iq = /* @__PURE__ */ li(() => /* @__PURE__ */ C("span", null, "激光笔", -1)), Cq = /* @__PURE__ */ li(() => /* @__PURE__ */ C("span", null, "计时器", -1)), Tq = /* @__PURE__ */ li(() => /* @__PURE__ */ C("span", null, "结束放映", -1)), Lq = { class: "content" }, kq = ["onClick"], Eq = { class: "remark" }, Mq = { class: "header" }, Aq = /* @__PURE__ */ li(() => /* @__PURE__ */ C("span", null, "演讲者备注", -1)), Dq = ["innerHTML"], $q = { class: "remark-scale" }, Pq = /* @__PURE__ */ ce({
  __name: "PresenterView",
  props: {
    changeViewMode: { type: Function }
  },
  setup(t) {
    const e = t, { slides: n, slideIndex: o, viewportRatio: a, currentSlide: r } = de(Ie()), i = V(), s = V(), l = V(!1), u = V(!1), c = V(!1), {
      mousewheelListener: d,
      touchStartListener: f,
      touchEndListener: v,
      turnPrevSlide: p,
      turnNextSlide: h,
      turnSlideToIndex: m,
      turnSlideToId: g,
      animationIndex: y
    } = T4(), { slideWidth: _, slideHeight: w } = L4(i), { exitScreening: x } = pa(), { slidesLoadLimit: S } = Vs(), { fullscreenState: L, manualExitFullscreen: b } = k4(), I = V(16), M = ne(() => eu(r.value.remark || "无备注")), E = (N) => {
      s.value && s.value.scrollBy(N.deltaY, 0);
    }, D = (N) => {
      N < 12 || N > 40 || (I.value = N);
    };
    Re(o, () => {
      Kt(() => {
        if (!s.value) return;
        const N = s.value.querySelector(".thumbnail.active");
        if (!N) return;
        const P = s.value.offsetWidth, $ = N.offsetLeft;
        s.value.scrollTo({ left: $ - P / 2, behavior: "smooth" });
      });
    });
    const O = () => [
      {
        text: "上一页",
        subText: "↑ ←",
        disable: o.value <= 0,
        handler: () => p()
      },
      {
        text: "下一页",
        subText: "↓ →",
        disable: o.value >= n.value.length - 1,
        handler: () => h()
      },
      {
        text: "第一页",
        disable: o.value === 0,
        handler: () => m(0)
      },
      {
        text: "最后一页",
        disable: o.value === n.value.length - 1,
        handler: () => m(n.value.length - 1)
      },
      { divider: !0 },
      {
        text: "画笔工具",
        handler: () => l.value = !0
      },
      {
        text: "普通视图",
        handler: () => e.changeViewMode("base")
      },
      { divider: !0 },
      {
        text: "结束放映",
        subText: "ESC",
        handler: x
      }
    ];
    return (N, P) => {
      const $ = j("IconListView"), z = j("IconWrite"), H = j("IconMagic"), W = j("IconStopwatchStart"), oe = j("IconOffScreenOne"), te = j("IconPower"), le = j("IconMinus"), J = j("IconPlus"), Q = it("contextmenu");
      return k(), R("div", bq, [
        C("div", wq, [
          C("div", {
            class: "tool-btn",
            onClick: P[0] || (P[0] = (q) => N.changeViewMode("base"))
          }, [
            T($, { class: "tool-icon" }),
            xq
          ]),
          C("div", {
            class: ye(["tool-btn", { active: l.value }]),
            onClick: P[1] || (P[1] = (q) => l.value = !l.value)
          }, [
            T(z, { class: "tool-icon" }),
            Sq
          ], 2),
          C("div", {
            class: ye(["tool-btn", { active: c.value }]),
            onClick: P[2] || (P[2] = (q) => c.value = !c.value)
          }, [
            T(H, { class: "tool-icon" }),
            Iq
          ], 2),
          C("div", {
            class: ye(["tool-btn", { active: u.value }]),
            onClick: P[3] || (P[3] = (q) => u.value = !u.value)
          }, [
            T(W, { class: "tool-icon" }),
            Cq
          ], 2),
          C("div", {
            class: "tool-btn",
            onClick: P[4] || (P[4] = () => A(L) ? A(b)() : A(Ov)())
          }, [
            A(L) ? (k(), ie(oe, {
              key: 0,
              class: "tool-icon"
            })) : (k(), ie(oe, {
              key: 1,
              class: "tool-icon"
            })),
            C("span", null, Ee(A(L) ? "退出全屏" : "全屏"), 1)
          ]),
          T(Ve, { class: "divider" }),
          C("div", {
            class: "tool-btn",
            onClick: P[5] || (P[5] = (q) => A(x)())
          }, [
            T(te, { class: "tool-icon" }),
            Tq
          ])
        ]),
        C("div", Lq, [
          C("div", {
            class: ye(["slide-list-wrap", { "laser-pen": c.value }]),
            ref_key: "slideListWrapRef",
            ref: i
          }, [
            ge(T(E4, {
              slideWidth: A(_),
              slideHeight: A(w),
              animationIndex: A(y),
              turnSlideToId: A(g),
              manualExitFullscreen: A(b),
              onWheel: P[6] || (P[6] = (q) => A(d)(q)),
              onTouchstart: P[7] || (P[7] = (q) => A(f)(q)),
              onTouchend: P[8] || (P[8] = (q) => A(v)(q))
            }, null, 8, ["slideWidth", "slideHeight", "animationIndex", "turnSlideToId", "manualExitFullscreen"]), [
              [Q, O]
            ]),
            l.value ? (k(), ie(M4, {
              key: 0,
              slideWidth: A(_),
              slideHeight: A(w),
              left: -365,
              top: -155,
              onClose: P[9] || (P[9] = (q) => l.value = !1)
            }, null, 8, ["slideWidth", "slideHeight"])) : me("", !0),
            u.value ? (k(), ie(A4, {
              key: 1,
              left: 75,
              onClose: P[10] || (P[10] = (q) => u.value = !1)
            })) : me("", !0)
          ], 2),
          C("div", {
            class: "thumbnails",
            ref_key: "thumbnailsRef",
            ref: s,
            onWheel: P[11] || (P[11] = Fe((q) => E(q), ["prevent"]))
          }, [
            (k(!0), R(pe, null, xe(A(n), (q, G) => (k(), R("div", {
              class: ye(["thumbnail", { active: G === A(o) }]),
              key: q.id,
              onClick: (B) => A(m)(G)
            }, [
              T(Qn, {
                slide: q,
                size: 120 / A(a),
                visible: G < A(S)
              }, null, 8, ["slide", "size", "visible"])
            ], 10, kq))), 128))
          ], 544)
        ]),
        C("div", Eq, [
          C("div", Mq, [
            Aq,
            C("span", null, "P " + Ee(A(o) + 1) + " / " + Ee(A(n).length), 1)
          ]),
          C("div", {
            class: "remark-content ProseMirror-static",
            style: re({ fontSize: I.value + "px" }),
            innerHTML: M.value
          }, null, 12, Dq),
          C("div", $q, [
            C("div", {
              class: ye(["scale-btn", { disable: I.value === 12 }]),
              onClick: P[12] || (P[12] = (q) => D(I.value - 2))
            }, [
              T(le)
            ], 2),
            C("div", {
              class: ye(["scale-btn", { disable: I.value === 40 }]),
              onClick: P[13] || (P[13] = (q) => D(I.value + 2))
            }, [
              T(J)
            ], 2)
          ])
        ])
      ]);
    };
  }
}), Rq = /* @__PURE__ */ ve(Pq, [["__scopeId", "data-v-b2b14d64"]]), Oq = { class: "pptist-screen" }, Nq = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = V("base"), n = (r) => {
      e.value = r;
    }, { exitScreening: o } = pa(), a = (r) => {
      r.key.toUpperCase() === Me.ESC && o();
    };
    return Qe(() => document.addEventListener("keydown", a)), ht(() => document.removeEventListener("keydown", a)), (r, i) => (k(), R("div", Oq, [
      e.value === "base" ? (k(), ie(_q, {
        key: 0,
        changeViewMode: n
      })) : e.value === "presenter" ? (k(), ie(Rq, {
        key: 1,
        changeViewMode: n
      })) : me("", !0)
    ]));
  }
}), Bq = /* @__PURE__ */ ve(Nq, [["__scopeId", "data-v-2925c9e7"]]), Fq = /* @__PURE__ */ ce({
  __name: "MobileEditableElement",
  props: {
    elementInfo: {},
    elementIndex: {},
    selectElement: { type: Function }
  },
  setup(t) {
    const e = t, n = ne(() => ({
      [Ne.IMAGE]: kg,
      [Ne.TEXT]: Pg,
      [Ne.SHAPE]: Og,
      [Ne.LINE]: Ng,
      [Ne.CHART]: N_,
      [Ne.TABLE]: H_,
      [Ne.LATEX]: G_,
      [Ne.VIDEO]: W_,
      [Ne.AUDIO]: Z_
    })[e.elementInfo.type] || null);
    return (o, a) => (k(), R("div", {
      class: "mobile-editable-element",
      style: re({
        zIndex: o.elementIndex
      })
    }, [
      (k(), ie(Do(n.value), {
        elementInfo: o.elementInfo,
        selectElement: o.selectElement,
        contextmenus: () => null
      }, null, 8, ["elementInfo", "selectElement"]))
    ], 4));
  }
}), zq = /* @__PURE__ */ ce({
  __name: "MobileOperate",
  props: {
    elementInfo: {},
    isSelected: { type: Boolean },
    canvasScale: {},
    scaleElement: { type: Function },
    rotateElement: { type: Function }
  },
  setup(t) {
    const e = t, n = ne(() => "rotate" in e.elementInfo ? e.elementInfo.rotate : 0), o = ne(() => e.elementInfo.width * e.canvasScale), a = ne(() => e.elementInfo.height * e.canvasScale), {
      borderLines: r,
      resizeHandlers: i,
      textElementResizeHandlers: s
    } = sr(o, a), l = e.elementInfo.type === "text" || e.elementInfo.type === "table" ? s : i, u = ne(() => ["chart", "video", "audio"].includes(e.elementInfo.type));
    return (c, d) => (k(), R("div", {
      class: "mobile-operate",
      style: re({
        top: c.elementInfo.top * c.canvasScale + "px",
        left: c.elementInfo.left * c.canvasScale + "px",
        transform: `rotate(${n.value}deg)`,
        transformOrigin: `${c.elementInfo.width * c.canvasScale / 2}px ${c.elementInfo.height * c.canvasScale / 2}px`
      })
    }, [
      c.isSelected ? (k(), R(pe, { key: 0 }, [
        (k(!0), R(pe, null, xe(A(r), (f) => (k(), ie(lr, {
          class: "operate-border-line",
          key: f.type,
          type: f.type,
          style: re(f.style)
        }, null, 8, ["type", "style"]))), 128)),
        (k(!0), R(pe, null, xe(A(l), (f) => (k(), ie(ga, {
          class: "operate-resize-handler",
          key: f.direction,
          type: f.direction,
          rotate: c.elementInfo.rotate,
          style: re(f.style),
          onTouchstart: Fe((v) => c.scaleElement(v, c.elementInfo, f.direction), ["stop"])
        }, null, 8, ["type", "rotate", "style", "onTouchstart"]))), 128)),
        u.value ? me("", !0) : (k(), ie(ii, {
          key: 0,
          class: "operate-rotate-handler",
          style: re({ left: o.value / 2 + "px" }),
          onTouchstart: d[0] || (d[0] = Fe((f) => c.rotateElement(f, c.elementInfo), ["stop"]))
        }, null, 8, ["style"]))
      ], 64)) : me("", !0)
    ], 4));
  }
}), Vq = /* @__PURE__ */ ve(zq, [["__scopeId", "data-v-15a5c4ca"]]), Hq = { class: "mobile-thumbnails" }, Gq = ["onClick"], Uq = { class: "label" }, Wq = /* @__PURE__ */ ce({
  __name: "MobileThumbnails",
  setup(t) {
    const e = Ie(), { slides: n, slideIndex: o } = de(e), { sortSlides: a } = va(), { slidesLoadLimit: r } = Vs(), i = (l) => {
      e.updateSlideIndex(l);
    }, s = (l) => {
      const { newIndex: u, oldIndex: c } = l;
      u === void 0 || c === void 0 || u === c || a(u, c);
    };
    return (l, u) => (k(), R("div", Hq, [
      T(A(kv), {
        class: "thumbnail-list",
        modelValue: A(n),
        animation: 200,
        scroll: !0,
        scrollSensitivity: 50,
        delayOnTouchOnly: !0,
        delay: 800,
        itemKey: "id",
        onEnd: s
      }, {
        item: F(({ element: c, index: d }) => [
          C("div", {
            class: ye(["thumbnail-item", { active: A(o) === d }]),
            onClick: (f) => i(d)
          }, [
            C("div", Uq, Ee(d + 1), 1),
            T(Qn, {
              class: "thumbnail",
              slide: c,
              size: 120,
              visible: d < A(r)
            }, null, 8, ["slide", "visible"])
          ], 10, Gq)
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), D4 = /* @__PURE__ */ ve(Wq, [["__scopeId", "data-v-530fb6fe"]]), Xq = { class: "slide-toolbar" }, Yq = { class: "remark" }, Zq = ["value"], qq = { class: "toolbar" }, Jq = /* @__PURE__ */ ce({
  __name: "SlideToolbar",
  setup(t) {
    const e = Ie(), { viewportRatio: n, currentSlide: o, viewportSize: a } = de(e), { createSlide: r, copyAndPasteSlide: i, deleteSlide: s } = va(), { createTextElement: l, createImageElement: u, createShapeElement: c } = ar(), d = () => {
      l({
        left: (a.value - 400) / 2,
        top: (a.value * n.value - 56) / 2,
        width: 400,
        height: 56
      }, { content: "<p>新添加文本</p>" });
    }, f = (m) => {
      !m || !m[0] || fa(m[0]).then((g) => u(g));
    }, v = (m) => {
      const _ = { square: {
        viewBox: [200, 200],
        path: "M 0 0 L 200 0 L 200 200 L 0 200 Z"
      }, round: {
        viewBox: [200, 200],
        path: "M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"
      } }, w = 200;
      c({
        left: (a.value - w) / 2,
        top: (a.value * n.value - w) / 2,
        width: w,
        height: w
      }, _[m]);
    }, p = ne(() => {
      var m;
      return ((m = o.value) == null ? void 0 : m.remark) || "";
    }), h = (m) => {
      const g = m.target.value;
      e.updateSlide({ remark: g });
    };
    return (m, g) => {
      const y = j("IconPlus"), _ = j("IconCopy"), w = j("IconDelete"), x = j("IconFontSize"), S = j("IconPicture"), L = j("IconSquare"), b = j("IconRound");
      return k(), R("div", Xq, [
        C("div", Yq, [
          C("textarea", {
            value: p.value,
            placeholder: "点击输入演讲者备注",
            onInput: g[0] || (g[0] = (I) => h(I))
          }, null, 40, Zq)
        ]),
        C("div", qq, [
          T(ut, { class: "row" }, {
            default: F(() => [
              T(_e, {
                style: { flex: "1" },
                onClick: g[1] || (g[1] = (I) => A(r)())
              }, {
                default: F(() => [
                  T(y, { class: "icon" }),
                  fe(" 新幻灯片")
                ]),
                _: 1
              }),
              T(_e, {
                style: { flex: "1" },
                onClick: g[2] || (g[2] = (I) => A(i)())
              }, {
                default: F(() => [
                  T(_, { class: "icon" }),
                  fe(" 复制")
                ]),
                _: 1
              }),
              T(_e, {
                style: { flex: "1" },
                onClick: g[3] || (g[3] = (I) => A(s)())
              }, {
                default: F(() => [
                  T(w, { class: "icon" }),
                  fe(" 删除")
                ]),
                _: 1
              })
            ]),
            _: 1
          }),
          T(ut, { class: "row" }, {
            default: F(() => [
              T(_e, {
                style: { flex: "1" },
                onClick: g[4] || (g[4] = (I) => d())
              }, {
                default: F(() => [
                  T(x, { class: "icon" }),
                  fe(" 文字")
                ]),
                _: 1
              }),
              T(_e, { style: { flex: "1" } }, {
                default: F(() => [
                  T(er, {
                    onChange: g[5] || (g[5] = (I) => f(I))
                  }, {
                    default: F(() => [
                      T(S, { class: "icon" }),
                      fe("图片 ")
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }),
              T(_e, {
                style: { flex: "1" },
                onClick: g[6] || (g[6] = (I) => v("square"))
              }, {
                default: F(() => [
                  T(L, { class: "icon" }),
                  fe(" 矩形")
                ]),
                _: 1
              }),
              T(_e, {
                style: { flex: "1" },
                onClick: g[7] || (g[7] = (I) => v("round"))
              }, {
                default: F(() => [
                  T(b, { class: "icon" }),
                  fe(" 圆形")
                ]),
                _: 1
              })
            ]),
            _: 1
          })
        ]),
        T(D4)
      ]);
    };
  }
}), Kq = /* @__PURE__ */ ve(Jq, [["__scopeId", "data-v-2788e044"]]), $4 = (t) => (Ze("data-v-16598a64"), t = t(), qe(), t), Qq = { class: "element-toolbar" }, jq = { class: "content" }, eJ = {
  key: 0,
  class: "style"
}, tJ = { class: "row-block" }, nJ = /* @__PURE__ */ $4(() => /* @__PURE__ */ C("div", { class: "label" }, "文字颜色：", -1)), oJ = { class: "colors" }, aJ = ["onClick"], rJ = { class: "row-block" }, iJ = /* @__PURE__ */ $4(() => /* @__PURE__ */ C("div", { class: "label" }, "填充色：", -1)), sJ = { class: "colors" }, lJ = ["onClick"], uJ = {
  key: 1,
  class: "common"
}, cJ = /* @__PURE__ */ ce({
  __name: "ElementToolbar",
  setup(t) {
    const e = ["#000000", "#ffffff", "#eeece1", "#1e497b", "#4e81bb", "#e2534d", "#9aba60", "#8165a0", "#47acc5", "#f9974c", "#c21401", "#ff1e02", "#ffc12a", "#ffff3a", "#90cf5b", "#00af57"], n = Te(), o = Ie(), { handleElement: a, handleElementId: r, richTextAttrs: i } = de(n), { addHistorySnapshot: s } = Xe(), l = (_, w) => {
      o.updateElement({ id: _, props: w }), s();
    }, u = [
      { key: "style", label: "样式" },
      { key: "common", label: "布局" }
    ], c = V("common"), { orderElement: d } = $s(), { alignElementToCanvas: f } = Ou(), { addElementsFromData: v } = Pu(), { deleteElement: p } = Ds(), h = () => {
      const _ = JSON.parse(JSON.stringify(a.value));
      v([_]);
    }, m = (_, w) => {
      qt.emit(Ht.RICH_TEXT_COMMAND, { action: { command: _, value: w } });
    }, g = (_) => {
      var w;
      if (a.value) {
        if ((a.value.type === "text" || a.value.type === "shape" && ((w = a.value.text) != null && w.content)) && qt.emit(Ht.RICH_TEXT_COMMAND, { action: { command: "color", value: _ } }), a.value.type === "table") {
          const x = JSON.parse(JSON.stringify(a.value.data));
          for (let S = 0; S < x.length; S++)
            for (let L = 0; L < x[S].length; L++) {
              const b = x[S][L].style || {};
              x[S][L].style = { ...b, color: _ };
            }
          l(r.value, { data: x });
        }
        a.value.type === "latex" && l(r.value, { color: _ });
      }
    }, y = (_) => {
      if (a.value) {
        if ((a.value.type === "text" || a.value.type === "shape" || a.value.type === "chart") && l(r.value, { fill: _ }), a.value.type === "table") {
          const w = JSON.parse(JSON.stringify(a.value.data));
          for (let x = 0; x < w.length; x++)
            for (let S = 0; S < w[x].length; S++) {
              const L = w[x][S].style || {};
              w[x][S].style = { ...L, backcolor: _ };
            }
          l(r.value, { data: w });
        }
        a.value.type === "audio" && l(r.value, { color: _ });
      }
    };
    return (_, w) => {
      const x = j("IconTextBold"), S = j("IconTextItalic"), L = j("IconTextUnderline"), b = j("IconStrikethrough"), I = j("IconFontSize"), M = j("IconAlignTextLeft"), E = j("IconAlignTextCenter"), D = j("IconAlignTextRight"), O = j("IconCopy"), N = j("IconDelete"), P = j("IconSendToBack"), $ = j("IconBringToFrontOne"), z = j("IconBringToFront"), H = j("IconSentToBack"), W = j("IconAlignLeft"), oe = j("IconAlignVertically"), te = j("IconAlignRight"), le = j("IconAlignTop"), J = j("IconAlignHorizontally"), Q = j("IconAlignBottom");
      return k(), R("div", Qq, [
        T(jn, {
          tabs: u,
          value: c.value,
          "onUpdate:value": w[0] || (w[0] = (q) => c.value = q),
          tabsStyle: { marginBottom: "8px" },
          tabStyle: {
            width: "30%",
            margin: "0 10%"
          }
        }, null, 8, ["value"]),
        C("div", jq, [
          c.value === "style" ? (k(), R("div", eJ, [
            T(ut, { class: "row" }, {
              default: F(() => [
                T(kt, {
                  style: { flex: "1" },
                  checked: A(i).bold,
                  onClick: w[1] || (w[1] = (q) => m("bold"))
                }, {
                  default: F(() => [
                    T(x)
                  ]),
                  _: 1
                }, 8, ["checked"]),
                T(kt, {
                  style: { flex: "1" },
                  checked: A(i).em,
                  onClick: w[2] || (w[2] = (q) => m("em"))
                }, {
                  default: F(() => [
                    T(S)
                  ]),
                  _: 1
                }, 8, ["checked"]),
                T(kt, {
                  style: { flex: "1" },
                  checked: A(i).underline,
                  onClick: w[3] || (w[3] = (q) => m("underline"))
                }, {
                  default: F(() => [
                    T(L)
                  ]),
                  _: 1
                }, 8, ["checked"]),
                T(kt, {
                  style: { flex: "1" },
                  checked: A(i).strikethrough,
                  onClick: w[4] || (w[4] = (q) => m("strikethrough"))
                }, {
                  default: F(() => [
                    T(b)
                  ]),
                  _: 1
                }, 8, ["checked"])
              ]),
              _: 1
            }),
            T(ut, { class: "row" }, {
              default: F(() => [
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[5] || (w[5] = (q) => m("fontsize-add"))
                }, {
                  default: F(() => [
                    T(I),
                    fe("+")
                  ]),
                  _: 1
                }),
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[6] || (w[6] = (q) => m("fontsize-reduce"))
                }, {
                  default: F(() => [
                    T(I),
                    fe("-")
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }),
            T(Ve, { margin: 20 }),
            T(bo, {
              class: "row",
              "button-style": "solid",
              value: A(i).align,
              "onUpdate:value": w[7] || (w[7] = (q) => m("align", q))
            }, {
              default: F(() => [
                T(ct, {
                  value: "left",
                  style: { flex: "1" }
                }, {
                  default: F(() => [
                    T(M)
                  ]),
                  _: 1
                }),
                T(ct, {
                  value: "center",
                  style: { flex: "1" }
                }, {
                  default: F(() => [
                    T(E)
                  ]),
                  _: 1
                }),
                T(ct, {
                  value: "right",
                  style: { flex: "1" }
                }, {
                  default: F(() => [
                    T(D)
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["value"]),
            T(Ve, { margin: 20 }),
            C("div", tJ, [
              nJ,
              C("div", oJ, [
                (k(), R(pe, null, xe(e, (q) => C("div", {
                  class: "color",
                  key: q,
                  onClick: (G) => g(q)
                }, [
                  C("div", {
                    class: "color-block",
                    style: re({ backgroundColor: q })
                  }, null, 4)
                ], 8, aJ)), 64))
              ])
            ]),
            C("div", rJ, [
              iJ,
              C("div", sJ, [
                (k(), R(pe, null, xe(e, (q) => C("div", {
                  class: "color",
                  key: q,
                  onClick: (G) => y(q)
                }, [
                  C("div", {
                    class: "color-block",
                    style: re({ backgroundColor: q })
                  }, null, 4)
                ], 8, lJ)), 64))
              ])
            ])
          ])) : me("", !0),
          c.value === "common" ? (k(), R("div", uJ, [
            T(ut, { class: "row" }, {
              default: F(() => [
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[8] || (w[8] = (q) => h())
                }, {
                  default: F(() => [
                    T(O, { class: "icon" }),
                    fe(" 复制")
                  ]),
                  _: 1
                }),
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[9] || (w[9] = (q) => A(p)())
                }, {
                  default: F(() => [
                    T(N, { class: "icon" }),
                    fe(" 删除")
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }),
            T(Ve, { margin: 20 }),
            T(ut, { class: "row" }, {
              default: F(() => [
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[10] || (w[10] = (q) => A(d)(A(a), A(Ct).TOP))
                }, {
                  default: F(() => [
                    T(P, { class: "icon" }),
                    fe(" 置顶")
                  ]),
                  _: 1
                }),
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[11] || (w[11] = (q) => A(d)(A(a), A(Ct).BOTTOM))
                }, {
                  default: F(() => [
                    T($, { class: "icon" }),
                    fe(" 置底")
                  ]),
                  _: 1
                }),
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[12] || (w[12] = (q) => A(d)(A(a), A(Ct).UP))
                }, {
                  default: F(() => [
                    T(z, { class: "icon" }),
                    fe(" 上移")
                  ]),
                  _: 1
                }),
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[13] || (w[13] = (q) => A(d)(A(a), A(Ct).DOWN))
                }, {
                  default: F(() => [
                    T(H, { class: "icon" }),
                    fe(" 下移")
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }),
            T(Ve, { margin: 20 }),
            T(ut, { class: "row" }, {
              default: F(() => [
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[14] || (w[14] = (q) => A(f)(A(Ke).LEFT))
                }, {
                  default: F(() => [
                    T(W, { class: "icon" }),
                    fe(" 左对齐")
                  ]),
                  _: 1
                }),
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[15] || (w[15] = (q) => A(f)(A(Ke).HORIZONTAL))
                }, {
                  default: F(() => [
                    T(oe, { class: "icon" }),
                    fe(" 水平居中")
                  ]),
                  _: 1
                }),
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[16] || (w[16] = (q) => A(f)(A(Ke).RIGHT))
                }, {
                  default: F(() => [
                    T(te, { class: "icon" }),
                    fe(" 右对齐")
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }),
            T(ut, { class: "row" }, {
              default: F(() => [
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[17] || (w[17] = (q) => A(f)(A(Ke).TOP))
                }, {
                  default: F(() => [
                    T(le, { class: "icon" }),
                    fe(" 上对齐")
                  ]),
                  _: 1
                }),
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[18] || (w[18] = (q) => A(f)(A(Ke).VERTICAL))
                }, {
                  default: F(() => [
                    T(J, { class: "icon" }),
                    fe(" 垂直居中")
                  ]),
                  _: 1
                }),
                T(_e, {
                  style: { flex: "1" },
                  onClick: w[19] || (w[19] = (q) => A(f)(A(Ke).BOTTOM))
                }, {
                  default: F(() => [
                    T(Q, { class: "icon" }),
                    fe(" 下对齐")
                  ]),
                  _: 1
                })
              ]),
              _: 1
            })
          ])) : me("", !0)
        ])
      ]);
    };
  }
}), dJ = /* @__PURE__ */ ve(cJ, [["__scopeId", "data-v-16598a64"]]), fJ = { class: "mobile-editor-header" }, vJ = { class: "history" }, pJ = /* @__PURE__ */ ce({
  __name: "Header",
  props: {
    changeMode: { type: Function }
  },
  setup(t) {
    const { canUndo: e, canRedo: n } = de($u()), { redo: o, undo: a } = Xe();
    return (r, i) => {
      const s = j("IconBack"), l = j("IconNext"), u = j("IconLogout");
      return k(), R("div", fJ, [
        C("div", vJ, [
          C("div", {
            class: ye(["history-item", { disable: !A(e) }]),
            onClick: i[0] || (i[0] = Fe((c) => A(a)(), ["stop"]))
          }, [
            T(s),
            fe(" 撤销")
          ], 2),
          C("div", {
            class: ye(["history-item", { disable: !A(n) }]),
            onClick: i[1] || (i[1] = Fe((c) => A(o)(), ["stop"]))
          }, [
            T(l),
            fe(" 重做")
          ], 2)
        ]),
        C("div", {
          class: "back",
          onClick: i[2] || (i[2] = (c) => r.changeMode("preview"))
        }, [
          T(u),
          fe(" 退出编辑")
        ])
      ]);
    };
  }
}), hJ = /* @__PURE__ */ ve(pJ, [["__scopeId", "data-v-cec4fbde"]]), mJ = { class: "mobile-editor" }, gJ = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    changeMode: { type: Function }
  },
  setup(t) {
    const e = Ie(), n = Te(), { slideIndex: o, currentSlide: a, viewportRatio: r, viewportSize: i } = de(e), { activeElementIdList: s, handleElement: l } = de(n), u = V(), c = V(), d = V([]), f = ne(() => a.value.background), { backgroundStyle: v } = _c(f), p = ne(() => {
      if (!u.value) return 1;
      const L = u.value.clientWidth, b = u.value.clientHeight;
      return b / L >= r.value ? (L - 20) / i.value : (b - 20) / r.value / i.value;
    });
    Qe(() => {
      s.value.length && n.setActiveElementIdList([]), o.value !== 0 && e.updateSlideIndex(0);
    });
    const h = ne(() => ({
      width: i.value * p.value + "px",
      height: i.value * r.value * p.value + "px"
    })), m = V([]);
    ks(() => {
      m.value = a.value ? JSON.parse(JSON.stringify(a.value.elements)) : [];
    });
    const { dragElement: y } = Sg(m, d, p), { scaleElement: _ } = xg(m, d, p), { rotateElement: w } = bg(m, c, p), x = (L, b, I = !0) => {
      s.value.includes(b.id) || (n.setActiveElementIdList([b.id]), n.setHandleElementId(b.id)), I && y(L, b);
    }, S = () => {
      n.setActiveElementIdList([]);
    };
    return (L, b) => (k(), R("div", mJ, [
      T(hJ, { changeMode: L.changeMode }, null, 8, ["changeMode"]),
      C("div", {
        class: "content",
        ref_key: "contentRef",
        ref: u,
        onTouchstart: b[0] || (b[0] = (I) => S())
      }, [
        C("div", {
          class: "viewport-wrapper",
          style: re(h.value)
        }, [
          C("div", {
            class: "background",
            style: re(A(v))
          }, null, 4),
          (k(!0), R(pe, null, xe(d.value, (I, M) => (k(), ie(q_, {
            key: M,
            type: I.type,
            axis: I.axis,
            length: I.length,
            canvasScale: p.value
          }, null, 8, ["type", "axis", "length", "canvasScale"]))), 128)),
          (k(!0), R(pe, null, xe(m.value, (I) => (k(), R(pe, {
            key: I.id
          }, [
            I.type !== "line" ? (k(), ie(Vq, {
              key: 0,
              elementInfo: I,
              isSelected: A(s).includes(I.id),
              canvasScale: p.value,
              scaleElement: A(_),
              rotateElement: A(w)
            }, null, 8, ["elementInfo", "isSelected", "canvasScale", "scaleElement", "rotateElement"])) : me("", !0)
          ], 64))), 128)),
          C("div", {
            class: "viewport",
            ref_key: "viewportRef",
            ref: c,
            style: re({ transform: `scale(${p.value})` })
          }, [
            (k(!0), R(pe, null, xe(m.value, (I, M) => (k(), ie(Fq, {
              key: I.id,
              elementInfo: I,
              elementIndex: M + 1,
              selectElement: x
            }, null, 8, ["elementInfo", "elementIndex"]))), 128))
          ], 4)
        ], 4)
      ], 544),
      T(Kq),
      A(l) ? (k(), ie(dJ, { key: 0 })) : me("", !0)
    ]));
  }
}), yJ = /* @__PURE__ */ ve(gJ, [["__scopeId", "data-v-60dd28c4"]]), _J = { class: "header" }, bJ = /* @__PURE__ */ ce({
  __name: "MobilePlayer",
  props: {
    changeMode: { type: Function }
  },
  setup(t) {
    const e = Ie(), { slides: n, slideIndex: o, currentSlide: a, viewportRatio: r } = de(e), i = V(!1), s = V({ width: 0, height: 0 });
    Qe(() => {
      o.value !== 0 && e.updateSlideIndex(0), s.value = {
        width: document.body.clientHeight,
        height: document.body.clientWidth
      };
    });
    const l = ne(() => {
      const f = s.value.height / s.value.width;
      let v = 0, p = 0;
      return f >= r.value ? (v = s.value.width, p = v * r.value) : (p = s.value.height, v = p / r.value), {
        width: v,
        height: p
      };
    }), u = V(null), c = (f) => {
      u.value = {
        x: f.changedTouches[0].pageX,
        y: f.changedTouches[0].pageY
      };
    }, d = (f) => {
      if (!u.value) return;
      const v = Math.abs(u.value.y - f.changedTouches[0].pageY), p = f.changedTouches[0].pageX - u.value.x;
      Math.abs(p) > v && Math.abs(p) > 50 && (u.value = null, p < 0 && o.value > 0 && e.updateSlideIndex(o.value - 1), p > 0 && o.value < n.value.length - 1 && e.updateSlideIndex(o.value + 1));
    };
    return (f, v) => {
      const p = j("IconLogout");
      return k(), R("div", {
        class: "mobile-player",
        style: re({
          width: s.value.width + "px",
          height: s.value.height + "px",
          transform: `rotate(90deg) translateY(-${s.value.height}px)`
        })
      }, [
        C("div", {
          class: "screen-slide-list",
          onClick: v[0] || (v[0] = (h) => i.value = !i.value),
          onTouchstart: v[1] || (v[1] = (h) => c(h)),
          onTouchend: v[2] || (v[2] = (h) => d(h))
        }, [
          (k(!0), R(pe, null, xe(A(n), (h, m) => (k(), R("div", {
            class: ye([
              "slide-item",
              `turning-mode-${h.turningMode || "slideY"}`,
              {
                current: m === A(o),
                before: m < A(o),
                after: m > A(o),
                hide: (m === A(o) - 1 || m === A(o) + 1) && h.turningMode !== A(a).turningMode
              }
            ]),
            key: h.id
          }, [
            Math.abs(A(o) - m) < 2 ? (k(), R("div", {
              key: 0,
              class: "slide-content",
              style: re({
                width: l.value.width + "px",
                height: l.value.height + "px"
              })
            }, [
              T(Qn, {
                slide: h,
                size: l.value.width
              }, null, 8, ["slide", "size"])
            ], 4)) : me("", !0)
          ], 2))), 128))
        ], 32),
        i.value ? (k(), R(pe, { key: 0 }, [
          C("div", _J, [
            C("div", {
              class: "back",
              onClick: v[3] || (v[3] = (h) => f.changeMode("preview"))
            }, [
              T(p),
              fe(" 退出播放")
            ])
          ]),
          T(D4, { class: "thumbnails" })
        ], 64)) : me("", !0)
      ], 4);
    };
  }
}), wJ = /* @__PURE__ */ ve(bJ, [["__scopeId", "data-v-6cf449cd"]]), xJ = { class: "thumbnail-list" }, SJ = { class: "menu" }, IJ = /* @__PURE__ */ ce({
  __name: "MobilePreview",
  props: {
    changeMode: { type: Function }
  },
  setup(t) {
    const { slides: e } = de(Ie()), { slidesLoadLimit: n } = Vs(), o = V(), a = V(0);
    return Qe(() => {
      o.value && (a.value = o.value.clientWidth);
    }), (r, i) => {
      const s = j("IconEdit"), l = j("IconFullScreenPlay");
      return k(), R("div", {
        class: "mobile-preview",
        ref_key: "mobileRef",
        ref: o
      }, [
        C("div", xJ, [
          (k(!0), R(pe, null, xe(A(e), (u, c) => (k(), R("div", {
            class: "thumbnail-item",
            key: u.id
          }, [
            T(Qn, {
              slide: u,
              size: a.value - 20,
              visible: c < A(n)
            }, null, 8, ["slide", "size", "visible"])
          ]))), 128))
        ]),
        C("div", SJ, [
          C("div", {
            class: "menu-item",
            onClick: i[0] || (i[0] = (u) => r.changeMode("editor"))
          }, [
            T(s, { class: "icon" }),
            fe(" 编辑")
          ]),
          T(Ve, {
            type: "vertical",
            style: { height: "30px" }
          }),
          C("div", {
            class: "menu-item",
            onClick: i[1] || (i[1] = (u) => r.changeMode("player"))
          }, [
            T(l, { class: "icon" }),
            fe(" 播放")
          ])
        ])
      ], 512);
    };
  }
}), CJ = /* @__PURE__ */ ve(IJ, [["__scopeId", "data-v-bc514321"]]), TJ = { class: "mobile" }, LJ = /* @__PURE__ */ ce({
  __name: "index",
  setup(t) {
    const e = V("preview"), n = (a) => e.value = a, o = ne(() => ({
      editor: yJ,
      player: wJ,
      preview: CJ
    })[e.value] || null);
    return (a, r) => (k(), R("div", TJ, [
      (k(), ie(Do(o.value), { changeMode: n }))
    ]));
  }
}), kJ = /* @__PURE__ */ ve(LJ, [["__scopeId", "data-v-34f10900"]]), EJ = /* @__PURE__ */ ce({
  name: "layout",
  __name: "index",
  setup(t) {
    const e = db(), n = Te(), o = $u(), { databaseId: a } = de(n), { screening: r } = de(cg());
    return window.onbeforeunload = () => !1, Qe(async () => {
      await ub(), o.initSnapshotDatabase(), n.setAvailableFonts();
    }), window.addEventListener("unload", () => {
      const i = localStorage.getItem(Ql), s = i ? JSON.parse(i) : [];
      s.push(a.value);
      const l = JSON.stringify(s);
      localStorage.setItem(Ql, l);
    }), (i, s) => A(r) ? (k(), ie(Bq, { key: 0 })) : A(e) ? (k(), ie(LZ, { key: 1 })) : (k(), ie(kJ, { key: 2 }));
  }
}), MJ = { class: "menu-content" }, AJ = ["onClick"], DJ = { class: "text" }, $J = {
  key: 0,
  class: "sub-text"
}, PJ = /* @__PURE__ */ ce({
  __name: "MenuContent",
  props: {
    menus: {},
    handleClickMenuItem: { type: Function }
  },
  setup(t) {
    return (e, n) => {
      const o = j("menu-content", !0);
      return k(), R("ul", MJ, [
        (k(!0), R(pe, null, xe(e.menus, (a, r) => (k(), R(pe, {
          key: a.text || r
        }, [
          a.hide ? me("", !0) : (k(), R("li", {
            key: 0,
            class: ye(["menu-item", { divider: a.divider, disable: a.disable }]),
            onClick: Fe((i) => e.handleClickMenuItem(a), ["stop"])
          }, [
            a.divider ? me("", !0) : (k(), R("div", {
              key: 0,
              class: ye(["menu-item-content", {
                "has-children": a.children,
                "has-handler": a.handler
              }])
            }, [
              C("span", DJ, Ee(a.text), 1),
              a.subText && !a.children ? (k(), R("span", $J, Ee(a.subText), 1)) : me("", !0),
              a.children && a.children.length ? (k(), ie(o, {
                key: 1,
                class: "sub-menu",
                menus: a.children,
                handleClickMenuItem: e.handleClickMenuItem
              }, null, 8, ["menus", "handleClickMenuItem"])) : me("", !0)
            ], 2))
          ], 10, AJ))
        ], 64))), 128))
      ]);
    };
  }
}), RJ = /* @__PURE__ */ ve(PJ, [["__scopeId", "data-v-85158e25"]]), OJ = /* @__PURE__ */ ce({
  __name: "index",
  props: {
    axis: {},
    el: {},
    menus: {},
    removeContextmenu: { type: Function }
  },
  setup(t) {
    const e = t, n = ne(() => {
      const { x: l, y: u } = e.axis, c = e.menus.filter((m) => !(m.divider || m.hide)).length, d = e.menus.filter((m) => m.divider).length, f = 180, v = c * 30 + d * 11 + 5 * 2, p = document.body.clientWidth, h = document.body.clientHeight;
      return {
        left: p <= l + f ? l - f : l,
        top: h <= u + v ? u - v : u
      };
    }), o = (a) => {
      a.disable || a.children && !a.handler || (a.handler && a.handler(e.el), e.removeContextmenu());
    };
    return (a, r) => (k(), R(pe, null, [
      C("div", {
        class: "mask",
        onContextmenu: r[0] || (r[0] = Fe((i) => a.removeContextmenu(), ["prevent"])),
        onMousedown: r[1] || (r[1] = Fe((i) => a.removeContextmenu(), ["left"]))
      }, null, 32),
      C("div", {
        class: "contextmenu",
        style: re({
          left: n.value.left + "px",
          top: n.value.top + "px"
        }),
        onContextmenu: r[2] || (r[2] = Fe(() => {
        }, ["prevent"]))
      }, [
        T(RJ, {
          menus: a.menus,
          handleClickMenuItem: o
        }, null, 8, ["menus"])
      ], 36)
    ], 64));
  }
}), $i = "CTX_CONTEXTMENU_HANDLER", NJ = (t, e, n) => {
  e.stopPropagation(), e.preventDefault();
  const o = n.value(t);
  if (!o) return;
  let a = null;
  const r = () => {
    a && (document.body.removeChild(a), a = null), t.classList.remove("contextmenu-active"), document.body.removeEventListener("scroll", r), window.removeEventListener("resize", r);
  }, i = {
    axis: { x: e.x, y: e.y },
    el: t,
    menus: o,
    removeContextmenu: r
  };
  a = document.createElement("div");
  const s = T(OJ, i, null);
  af(s, a), document.body.appendChild(a), t.classList.add("contextmenu-active"), document.body.addEventListener("scroll", r), window.addEventListener("resize", r);
}, BJ = {
  mounted(t, e) {
    t[$i] = (n) => NJ(t, n, e), t.addEventListener("contextmenu", t[$i]);
  },
  unmounted(t) {
    t && t[$i] && (t.removeEventListener("contextmenu", t[$i]), delete t[$i]);
  }
}, Pi = "CTX_CLICK_OUTSIDE_HANDLER", FJ = (t, e, n) => {
  const o = n.value, a = e.composedPath();
  (a ? a.indexOf(t) < 0 : !t.contains(e.target)) && o(e);
}, zJ = {
  mounted(t, e) {
    t[Pi] = (n) => FJ(t, n, e), setTimeout(() => {
      document.addEventListener("click", t[Pi]);
    }, 0);
  },
  unmounted(t) {
    t[Pi] && (document.removeEventListener("click", t[Pi]), delete t[Pi]);
  }
}, Ri = "TOOLTIP_INSTANCE", VJ = {
  mounted(t, e) {
    let n = "", o = "top", a = [300, 0];
    typeof e.value == "string" ? n = e.value : (n = e.value.content, e.value.placement !== void 0 && (o = e.value.placement), e.value.delay !== void 0 && (a = e.value.delay)), t[Ri] = Cv(t, {
      content: n,
      theme: "tooltip",
      duration: 100,
      animation: "scale",
      allowHTML: !0,
      placement: o,
      delay: a
    });
  },
  updated(t, e) {
    let n = "";
    typeof e.value == "string" ? n = e.value : n = e.value.content, t[Ri] && t[Ri].setContent(n);
  },
  unmounted(t) {
    t[Ri] && t[Ri].destroy();
  }
}, HJ = [J6, EJ], GJ = [
  { name: "contextmenu", directive: BJ },
  { name: "click-outside", directive: zJ },
  { name: "tooltip", directive: VJ }
], SK = (t) => {
  HJ.forEach((e) => {
    t.component(e.name, e);
  }), GJ.forEach((e) => {
    t.directive(e.name, e.directive);
  });
};
export {
  SK as default
};
